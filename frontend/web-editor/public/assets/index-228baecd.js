import require$$0$1 from"globalThis/document";import require$$1 from"globalThis/window";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function r(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=r(u);fetch(u.href,f)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){if(this instanceof o){var u=[null];u.push.apply(u,arguments);var f=Function.bind.apply(t,u);return new f}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var u=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:function(){return e[o]}})}),r}var events$3={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(t,r,o){return Function.prototype.apply.call(t,r,o)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function(t){return t!==t};function EventEmitter$5(){EventEmitter$5.init.call(this)}events$3.exports=EventEmitter$5;events$3.exports.once=once$2;EventEmitter$5.EventEmitter=EventEmitter$5;EventEmitter$5.prototype._events=void 0;EventEmitter$5.prototype._eventsCount=0;EventEmitter$5.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter$5,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}});EventEmitter$5.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$5.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter$5.defaultMaxListeners:e._maxListeners}EventEmitter$5.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$5.prototype.emit=function(t){for(var r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);var u=t==="error",f=this._events;if(f!==void 0)u=u&&f.error===void 0;else if(!u)return!1;if(u){var g;if(r.length>0&&(g=r[0]),g instanceof Error)throw g;var _=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw _.context=g,_}var w=f[t];if(w===void 0)return!1;if(typeof w=="function")ReflectApply(w,this,r);else for(var S=w.length,M=arrayClone(w,S),o=0;o<S;++o)ReflectApply(M[o],this,r);return!0};function _addListener(e,t,r,o){var u,f,g;if(checkListener(r),f=e._events,f===void 0?(f=e._events=Object.create(null),e._eventsCount=0):(f.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),f=e._events),g=f[t]),g===void 0)g=f[t]=r,++e._eventsCount;else if(typeof g=="function"?g=f[t]=o?[r,g]:[g,r]:o?g.unshift(r):g.push(r),u=_getMaxListeners(e),u>0&&g.length>u&&!g.warned){g.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+g.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=e,_.type=t,_.count=g.length,ProcessEmitWarning(_)}return e}EventEmitter$5.prototype.addListener=function(t,r){return _addListener(this,t,r,!1)};EventEmitter$5.prototype.on=EventEmitter$5.prototype.addListener;EventEmitter$5.prototype.prependListener=function(t,r){return _addListener(this,t,r,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},u=onceWrapper.bind(o);return u.listener=r,o.wrapFn=u,u}EventEmitter$5.prototype.once=function(t,r){return checkListener(r),this.on(t,_onceWrap(this,t,r)),this};EventEmitter$5.prototype.prependOnceListener=function(t,r){return checkListener(r),this.prependListener(t,_onceWrap(this,t,r)),this};EventEmitter$5.prototype.removeListener=function(t,r){var o,u,f,g,_;if(checkListener(r),u=this._events,u===void 0)return this;if(o=u[t],o===void 0)return this;if(o===r||o.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete u[t],u.removeListener&&this.emit("removeListener",t,o.listener||r));else if(typeof o!="function"){for(f=-1,g=o.length-1;g>=0;g--)if(o[g]===r||o[g].listener===r){_=o[g].listener,f=g;break}if(f<0)return this;f===0?o.shift():spliceOne(o,f),o.length===1&&(u[t]=o[0]),u.removeListener!==void 0&&this.emit("removeListener",t,_||r)}return this};EventEmitter$5.prototype.off=EventEmitter$5.prototype.removeListener;EventEmitter$5.prototype.removeAllListeners=function(t){var r,o,u;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[t]),this;if(arguments.length===0){var f=Object.keys(o),g;for(u=0;u<f.length;++u)g=f[u],g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=o[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(u=r.length-1;u>=0;u--)this.removeListener(t,r[u]);return this};function _listeners(e,t,r){var o=e._events;if(o===void 0)return[];var u=o[t];return u===void 0?[]:typeof u=="function"?r?[u.listener||u]:[u]:r?unwrapListeners(u):arrayClone(u,u.length)}EventEmitter$5.prototype.listeners=function(t){return _listeners(this,t,!0)};EventEmitter$5.prototype.rawListeners=function(t){return _listeners(this,t,!1)};EventEmitter$5.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)};EventEmitter$5.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}EventEmitter$5.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,t){for(var r=new Array(t),o=0;o<t;++o)r[o]=e[o];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once$2(e,t){return new Promise(function(r,o){function u(g){e.removeListener(t,f),o(g)}function f(){typeof e.removeListener=="function"&&e.removeListener("error",u),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,f,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(e,u,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,r){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,o){if(typeof e.on=="function")o.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function u(f){o.once&&e.removeEventListener(t,u),r(f)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var eventsExports=events$3.exports,prettierBytes_1=prettierBytes;function prettierBytes(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var o=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),r.length-1);e=Number(e/Math.pow(1e3,o));var u=r[o];return e>=10||e%1===0?(t?"-":"")+e.toFixed(0)+" "+u:(t?"-":"")+e.toFixed(1)+" "+u}var pretty=prettierBytes_1,storage_1=storage$1;function storage$1(){Object.defineProperty(window.choo,"storage",{get:e,set:noop$8});function e(){if(navigator.storage)return navigator.storage.estimate().then(function(r){var o=(r.usage/r.quota).toFixed();clr("Max storage:",fmt(r.quota)),clr("Storage used:",fmt(r.usage)+" ("+o+"%)"),navigator.storage.persisted().then(function(u){var f=u?"enabled":"disabled";clr("Persistent storage:",f)})}),"Calculating storage quota…";var t=window.location.protocol;return/https/.test(t)?"The Storage API is unavailable in this browser. We're sorry!":"The Storage API is unavailable. Serving this site over HTTPS might help enable it!"}}function clr(e,t){var r="#cc99cc";console.log("%c"+e,"color: "+r,t)}function fmt(e){return pretty(e).replace(" ","")}function noop$8(){}assert$m.notEqual=notEqual;assert$m.notOk=notOk;assert$m.equal=equal;assert$m.ok=assert$m;var nanoassert$1=assert$m;function equal(e,t,r){assert$m(e==t,r)}function notEqual(e,t,r){assert$m(e!=t,r)}function notOk(e,t){assert$m(!e,t)}function assert$m(e,t){if(!e)throw new Error(t||"AssertionError")}var assert$l=nanoassert$1,hasWindow=typeof window<"u";function createScheduler(){var e;return hasWindow?(window._nanoScheduler||(window._nanoScheduler=new NanoScheduler(!0)),e=window._nanoScheduler):e=new NanoScheduler,e}function NanoScheduler(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}NanoScheduler.prototype.push=function(e){assert$l.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()};NanoScheduler.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(var r;e.queue.length&&t.timeRemaining()>0;)r=e.queue.shift(),r(t);e.scheduled=!1,e.queue.length&&e.schedule()})}};NanoScheduler.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})};var nanoscheduler=createScheduler,assert$k={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var o=Object.getOwnPropertyNames(t).map(function(f){return t[f]});if(o.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(f){u[f]=f}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign$1=shouldUseNative()?Object.assign:function(e,t){for(var r,o=toObject(e),u,f=1;f<arguments.length;f++){r=Object(arguments[f]);for(var g in r)hasOwnProperty$1.call(r,g)&&(o[g]=r[g]);if(getOwnPropertySymbols){u=getOwnPropertySymbols(r);for(var _=0;_<u.length;_++)propIsEnumerable.call(r,u[_])&&(o[u[_]]=r[u[_]])}}return o},util$1={},isBufferBrowser=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser$1.exports=function(t,r){t.super_=r;var o=function(){};o.prototype=r.prototype,t.prototype=new o,t.prototype.constructor=t};var inherits_browserExports$1=inherits_browser$1.exports;(function(e){var t=/%[sdj%]/g;e.format=function(G){if(!le(G)){for(var q=[],Te=0;Te<arguments.length;Te++)q.push(u(arguments[Te]));return q.join(" ")}for(var Te=1,De=arguments,nt=De.length,ft=String(G).replace(t,function(Et){if(Et==="%%")return"%";if(Te>=nt)return Et;switch(Et){case"%s":return String(De[Te++]);case"%d":return Number(De[Te++]);case"%j":try{return JSON.stringify(De[Te++])}catch{return"[Circular]"}default:return Et}}),wt=De[Te];Te<nt;wt=De[++Te])I(wt)||!oe(wt)?ft+=" "+wt:ft+=" "+u(wt);return ft},e.deprecate=function(G,q){if(ae(globalThis.process))return function(){return e.deprecate(G,q).apply(this,arguments)};if(process.noDeprecation===!0)return G;var Te=!1;function De(){if(!Te){if(process.throwDeprecation)throw new Error(q);process.traceDeprecation?console.trace(q):console.error(q),Te=!0}return G.apply(this,arguments)}return De};var r={},o;e.debuglog=function(G){if(ae(o)&&(o={}.NODE_DEBUG||""),G=G.toUpperCase(),!r[G])if(new RegExp("\\b"+G+"\\b","i").test(o)){var q=process.pid;r[G]=function(){var Te=e.format.apply(e,arguments);console.error("%s %d: %s",G,q,Te)}}else r[G]=function(){};return r[G]};function u(G,q){var Te={seen:[],stylize:g};return arguments.length>=3&&(Te.depth=arguments[2]),arguments.length>=4&&(Te.colors=arguments[3]),$(q)?Te.showHidden=q:q&&e._extend(Te,q),ae(Te.showHidden)&&(Te.showHidden=!1),ae(Te.depth)&&(Te.depth=2),ae(Te.colors)&&(Te.colors=!1),ae(Te.customInspect)&&(Te.customInspect=!0),Te.colors&&(Te.stylize=f),w(Te,G,Te.depth)}e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(G,q){var Te=u.styles[q];return Te?"\x1B["+u.colors[Te][0]+"m"+G+"\x1B["+u.colors[Te][1]+"m":G}function g(G,q){return G}function _(G){var q={};return G.forEach(function(Te,De){q[Te]=!0}),q}function w(G,q,Te){if(G.customInspect&&q&&D(q.inspect)&&q.inspect!==e.inspect&&!(q.constructor&&q.constructor.prototype===q)){var De=q.inspect(Te,G);return le(De)||(De=w(G,De,Te)),De}var nt=S(G,q);if(nt)return nt;var ft=Object.keys(q),wt=_(ft);if(G.showHidden&&(ft=Object.getOwnPropertyNames(q)),Ee(q)&&(ft.indexOf("message")>=0||ft.indexOf("description")>=0))return M(q);if(ft.length===0){if(D(q)){var Et=q.name?": "+q.name:"";return G.stylize("[Function"+Et+"]","special")}if(te(q))return G.stylize(RegExp.prototype.toString.call(q),"regexp");if(ie(q))return G.stylize(Date.prototype.toString.call(q),"date");if(Ee(q))return M(q)}var kt="",$e=!1,Re=["{","}"];if(P(q)&&($e=!0,Re=["[","]"]),D(q)){var at=q.name?": "+q.name:"";kt=" [Function"+at+"]"}if(te(q)&&(kt=" "+RegExp.prototype.toString.call(q)),ie(q)&&(kt=" "+Date.prototype.toUTCString.call(q)),Ee(q)&&(kt=" "+M(q)),ft.length===0&&(!$e||q.length==0))return Re[0]+kt+Re[1];if(Te<0)return te(q)?G.stylize(RegExp.prototype.toString.call(q),"regexp"):G.stylize("[Object]","special");G.seen.push(q);var At;return $e?At=C(G,q,Te,wt,ft):At=ft.map(function(Ut){return T(G,q,Te,wt,Ut,$e)}),G.seen.pop(),k(At,kt,Re)}function S(G,q){if(ae(q))return G.stylize("undefined","undefined");if(le(q)){var Te="'"+JSON.stringify(q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(Te,"string")}if(F(q))return G.stylize(""+q,"number");if($(q))return G.stylize(""+q,"boolean");if(I(q))return G.stylize("null","null")}function M(G){return"["+Error.prototype.toString.call(G)+"]"}function C(G,q,Te,De,nt){for(var ft=[],wt=0,Et=q.length;wt<Et;++wt)Y(q,String(wt))?ft.push(T(G,q,Te,De,String(wt),!0)):ft.push("");return nt.forEach(function(kt){kt.match(/^\d+$/)||ft.push(T(G,q,Te,De,kt,!0))}),ft}function T(G,q,Te,De,nt,ft){var wt,Et,kt;if(kt=Object.getOwnPropertyDescriptor(q,nt)||{value:q[nt]},kt.get?kt.set?Et=G.stylize("[Getter/Setter]","special"):Et=G.stylize("[Getter]","special"):kt.set&&(Et=G.stylize("[Setter]","special")),Y(De,nt)||(wt="["+nt+"]"),Et||(G.seen.indexOf(kt.value)<0?(I(Te)?Et=w(G,kt.value,null):Et=w(G,kt.value,Te-1),Et.indexOf(`
`)>-1&&(ft?Et=Et.split(`
`).map(function($e){return"  "+$e}).join(`
`).substr(2):Et=`
`+Et.split(`
`).map(function($e){return"   "+$e}).join(`
`))):Et=G.stylize("[Circular]","special")),ae(wt)){if(ft&&nt.match(/^\d+$/))return Et;wt=JSON.stringify(""+nt),wt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(wt=wt.substr(1,wt.length-2),wt=G.stylize(wt,"name")):(wt=wt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),wt=G.stylize(wt,"string"))}return wt+": "+Et}function k(G,q,Te){var De=G.reduce(function(nt,ft){return ft.indexOf(`
`)>=0,nt+ft.replace(/\u001b\[\d\d?m/g,"").length+1},0);return De>60?Te[0]+(q===""?"":q+`
 `)+" "+G.join(`,
  `)+" "+Te[1]:Te[0]+q+" "+G.join(", ")+" "+Te[1]}function P(G){return Array.isArray(G)}e.isArray=P;function $(G){return typeof G=="boolean"}e.isBoolean=$;function I(G){return G===null}e.isNull=I;function E(G){return G==null}e.isNullOrUndefined=E;function F(G){return typeof G=="number"}e.isNumber=F;function le(G){return typeof G=="string"}e.isString=le;function W(G){return typeof G=="symbol"}e.isSymbol=W;function ae(G){return G===void 0}e.isUndefined=ae;function te(G){return oe(G)&&z(G)==="[object RegExp]"}e.isRegExp=te;function oe(G){return typeof G=="object"&&G!==null}e.isObject=oe;function ie(G){return oe(G)&&z(G)==="[object Date]"}e.isDate=ie;function Ee(G){return oe(G)&&(z(G)==="[object Error]"||G instanceof Error)}e.isError=Ee;function D(G){return typeof G=="function"}e.isFunction=D;function me(G){return G===null||typeof G=="boolean"||typeof G=="number"||typeof G=="string"||typeof G=="symbol"||typeof G>"u"}e.isPrimitive=me,e.isBuffer=isBufferBrowser;function z(G){return Object.prototype.toString.call(G)}function pe(G){return G<10?"0"+G.toString(10):G.toString(10)}var we=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Q(){var G=new Date,q=[pe(G.getHours()),pe(G.getMinutes()),pe(G.getSeconds())].join(":");return[G.getDate(),we[G.getMonth()],q].join(" ")}e.log=function(){console.log("%s - %s",Q(),e.format.apply(e,arguments))},e.inherits=inherits_browserExports$1,e._extend=function(G,q){if(!q||!oe(q))return G;for(var Te=Object.keys(q),De=Te.length;De--;)G[Te[De]]=q[Te[De]];return G};function Y(G,q){return Object.prototype.hasOwnProperty.call(G,q)}})(util$1);var objectAssign=objectAssign$1;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare(e,t){if(e===t)return 0;for(var r=e.length,o=t.length,u=0,f=Math.min(r,o);u<f;++u)if(e[u]!==t[u]){r=e[u],o=t[u];break}return r<o?-1:o<r?1:0}function isBuffer$2(e){return globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function"?globalThis.Buffer.isBuffer(e):!!(e!=null&&e._isBuffer)}var util=util$1,hasOwn$4=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return function(){}.name==="foo"}();function pToString(e){return Object.prototype.toString.call(e)}function isView$1(e){return isBuffer$2(e)||typeof globalThis.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e?!!(e instanceof DataView||e.buffer&&e.buffer instanceof ArrayBuffer):!1}var assert$j=assert$k.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;function getName(e){if(util.isFunction(e)){if(functionsHaveNames)return e.name;var t=e.toString(),r=t.match(regex);return r&&r[1]}}assert$j.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var r=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var o=new Error;if(o.stack){var u=o.stack,f=getName(r),g=u.indexOf(`
`+f);if(g>=0){var _=u.indexOf(`
`,g+1);u=u.substring(_+1)}this.stack=u}}};util.inherits(assert$j.AssertionError,Error);function truncate(e,t){return typeof e=="string"?e.length<t?e:e.slice(0,t):e}function inspect$1(e){if(functionsHaveNames||!util.isFunction(e))return util.inspect(e);var t=getName(e),r=t?": "+t:"";return"[Function"+r+"]"}function getMessage(e){return truncate(inspect$1(e.actual),128)+" "+e.operator+" "+truncate(inspect$1(e.expected),128)}function fail(e,t,r,o,u){throw new assert$j.AssertionError({message:r,actual:e,expected:t,operator:o,stackStartFunction:u})}assert$j.fail=fail;function ok(e,t){e||fail(e,!0,t,"==",assert$j.ok)}assert$j.ok=ok;assert$j.equal=function(t,r,o){t!=r&&fail(t,r,o,"==",assert$j.equal)};assert$j.notEqual=function(t,r,o){t==r&&fail(t,r,o,"!=",assert$j.notEqual)};assert$j.deepEqual=function(t,r,o){_deepEqual(t,r,!1)||fail(t,r,o,"deepEqual",assert$j.deepEqual)};assert$j.deepStrictEqual=function(t,r,o){_deepEqual(t,r,!0)||fail(t,r,o,"deepStrictEqual",assert$j.deepStrictEqual)};function _deepEqual(e,t,r,o){if(e===t)return!0;if(isBuffer$2(e)&&isBuffer$2(t))return compare(e,t)===0;if(util.isDate(e)&&util.isDate(t))return e.getTime()===t.getTime();if(util.isRegExp(e)&&util.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if((e===null||typeof e!="object")&&(t===null||typeof t!="object"))return r?e===t:e==t;if(isView$1(e)&&isView$1(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer))===0;if(isBuffer$2(e)!==isBuffer$2(t))return!1;o=o||{actual:[],expected:[]};var u=o.actual.indexOf(e);return u!==-1&&u===o.expected.indexOf(t)?!0:(o.actual.push(e),o.expected.push(t),objEquiv(e,t,r,o))}function isArguments(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function objEquiv(e,t,r,o){if(e==null||t===null||t===void 0)return!1;if(util.isPrimitive(e)||util.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var u=isArguments(e),f=isArguments(t);if(u&&!f||!u&&f)return!1;if(u)return e=pSlice.call(e),t=pSlice.call(t),_deepEqual(e,t,r);var g=objectKeys(e),_=objectKeys(t),w,S;if(g.length!==_.length)return!1;for(g.sort(),_.sort(),S=g.length-1;S>=0;S--)if(g[S]!==_[S])return!1;for(S=g.length-1;S>=0;S--)if(w=g[S],!_deepEqual(e[w],t[w],r,o))return!1;return!0}assert$j.notDeepEqual=function(t,r,o){_deepEqual(t,r,!1)&&fail(t,r,o,"notDeepEqual",assert$j.notDeepEqual)};assert$j.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(e,t,r){_deepEqual(e,t,!0)&&fail(e,t,r,"notDeepStrictEqual",notDeepStrictEqual)}assert$j.strictEqual=function(t,r,o){t!==r&&fail(t,r,o,"===",assert$j.strictEqual)};assert$j.notStrictEqual=function(t,r,o){t===r&&fail(t,r,o,"!==",assert$j.notStrictEqual)};function expectedException(e,t){if(!e||!t)return!1;if(Object.prototype.toString.call(t)=="[object RegExp]")return t.test(e);try{if(e instanceof t)return!0}catch{}return Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function _tryBlock(e){var t;try{e()}catch(r){t=r}return t}function _throws(e,t,r,o){var u;if(typeof t!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(o=r,r=null),u=_tryBlock(t),o=(r&&r.name?" ("+r.name+").":".")+(o?" "+o:"."),e&&!u&&fail(u,r,"Missing expected exception"+o);var f=typeof o=="string",g=!e&&util.isError(u),_=!e&&u&&!r;if((g&&f&&expectedException(u,r)||_)&&fail(u,r,"Got unwanted exception"+o),e&&u&&r&&!expectedException(u,r)||!e&&u)throw u}assert$j.throws=function(e,t,r){_throws(!0,e,t,r)};assert$j.doesNotThrow=function(e,t,r){_throws(!1,e,t,r)};assert$j.ifError=function(e){if(e)throw e};function strict(e,t){e||fail(e,!0,t,"==",strict)}assert$j.strict=objectAssign(strict,assert$j,{equal:assert$j.strictEqual,deepEqual:assert$j.deepStrictEqual,notEqual:assert$j.notStrictEqual,notDeepEqual:assert$j.notDeepStrictEqual});assert$j.strict.strict=assert$j.strict;var objectKeys=Object.keys||function(e){var t=[];for(var r in e)hasOwn$4.call(e,r)&&t.push(r);return t},assertExports=assert$k.exports,assert$i=assertExports,emojis={trace:"🔍",debug:"🐛",info:"✨",warn:"⚠️",error:"🚨",fatal:"💀"},levels={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},defaultColors={foreground:"#d3c0c8",background:"#2d2d2d",black:"#2d2d2d",red:"#f2777a",green:"#99cc99",yellow:"#ffcc66",blue:"#6699cc",magenta:"#cc99cc",cyan:"#66cccc",white:"#d3d0c8",brightBlack:"#747369"},nanologger$3=Nanologger;function Nanologger(e,t){if(t=t||{},!(this instanceof Nanologger))return new Nanologger(e,t);assert$i.equal(typeof t,"object","nanologger: opts should be type object"),this._name=e||"",this._colors=Object.assign({},defaultColors,t.colors||{});try{this.logLevel=window.localStorage.getItem("logLevel")||"info"}catch{this.logLevel="info"}this._logLevel=levels[this.logLevel]}Nanologger.prototype.trace=function(){for(var e=["trace"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.debug=function(){for(var e=["debug"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.info=function(){for(var e=["info"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.warn=function(){for(var e=["warn"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.error=function(){for(var e=["error"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.fatal=function(){for(var e=["fatal"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype._print=function(e){if(!(levels[e]<this._logLevel)){var t=getTimeStamp(),r=emojis[e],o=this._name||"unknown",u=e==="error"||e.fatal?this._colors.red:e==="warn"?this._colors.yellow:this._colors.green,f=[],g=[null],_="%c%s "+r+" %c%s";g.push(color(this._colors.brightBlack),t),g.push(color(this._colors.magenta),o);for(var w=1,S=arguments.length;w<S;w++){var M=arguments[w];typeof M=="string"?w===1?(_+=" %c%s",g.push(color(u)),g.push(M)):/ms$/.test(M)?(_+=" %c%s",g.push(color(this._colors.brightBlack)),g.push(M)):(_+=" %c%s",g.push(color(this._colors.white)),g.push(M)):typeof M=="number"?(_+=" %c%d",g.push(color(this._colors.magenta)),g.push(M)):f.push(M)}g[0]=_,f.forEach(function(C){g.push(C)}),Function.prototype.apply.apply(console.log,[console,g])}};function color(e){return"color: "+e+";"}function getTimeStamp(){var e=new Date,t=pad(e.getHours().toString()),r=pad(e.getMinutes().toString()),o=pad(e.getSeconds().toString());return t+":"+r+":"+o}function pad(e){return e.length!==2?0+e:e}var scheduler$4=nanoscheduler(),assert$h=nanoassert$1,entryTypes=["frame","measure","navigation","resource","longtask"],browser$b=onPerformance$2;function onPerformance$2(e){assert$h.equal(typeof e,"function","on-performance: cb should be type function");var t=typeof window<"u"&&window.PerformanceObserver;if(!t)return;if(window._onperformance)return window._onperformance.push(e),o;window._onperformance=[e];var r=new t(u);return setTimeout(function(){u(window.performance),r.observe({entryTypes})},0),o;function o(){window._onperformance.splice(window._onperformance.indexOf(e),1)}function u(g){g.getEntries().forEach(function(_){scheduler$4.push(function(){f(_),window._onperformance.forEach(function(w){w(_)})})})}function f(g){var _=g.entryType;_==="measure"?window.performance.clearMeasures(g.name):_==="resource"&&window.performance.clearResourceTimings()}}var onPerformance$1=browser$b,scheduler$3=nanoscheduler(),assert$g=assertExports,chooHooks=ChooHooks;function ChooHooks(e){if(!(this instanceof ChooHooks))return new ChooHooks(e);assert$g.equal(typeof e,"object"),this.hasWindow=typeof window<"u",this.hasIdleCallback=this.hasWindow&&window.requestIdleCallback,this.hasPerformance=this.hasWindow&&window.performance&&window.performance.getEntriesByName,this.emitter=e,this.listeners={},this.buffer={render:{},events:{}}}ChooHooks.prototype.on=function(e,t){this.listeners[e]=t};ChooHooks.prototype.start=function(){var e=this;this.hasPerformance&&(window.performance.onresourcetimingbufferfull=function(){var t=e.listeners["resource-timing-buffer-full"];t&&t()}),onPerformance$1(function(t){if(t&&t.entryType==="measure"){var r=t.name;if(/choo\.morph/.test(r))e.buffer.render.morph=t;else if(/choo\.route/.test(r))e.buffer.render.route=t;else if(/choo\.render/.test(r))e.buffer.render.render=t;else if(/choo\.emit/.test(r)&&!/log:/.test(r)){var o=e.listeners.event;if(o){var u=r.match(/choo\.emit\('(.*)'\)/)[1];if(u==="render"||u==="DOMContentLoaded")return;var f=r.match(/\[(\d+)\]/)[1],g=e.buffer.events[f];e.buffer.events[f]=null,o(u,g,t)}}var _=e.buffer.render;if(_.render&&_.route&&_.morph){var w=e.listeners.render;if(!w)return;for(var S={};e.buffer.render.length;){var M=e.buffer.render.pop(),C=M.name;/choo\.render/.test(C)?S.render=M:/choo\.morph/.test(C)?S.morph=M:S.route=M}_.render=_.route=_.morph=void 0,w(S)}}}),this.emitter.on("*",function(t,r,o){var u=/^log:(\w{4,5})/.exec(t);if(!e.hasPerformance&&t==="render"){var f=e.listeners.render;f&&f()}else if(t==="DOMContentLoaded")e._emitLoaded();else if(u){u=u[1];var g=e.listeners["log:"+u];g&&g.apply(null,Array.prototype.slice.call(arguments,0,arguments.length-1))}else if(e.emitter.listeners(t).length)t!=="render"&&e.hasPerformance&&(e.buffer.events[o]=r);else{var _=e.listeners.unhandled;_&&_(t,r)}})};ChooHooks.prototype._emitLoaded=function(){var e=this;scheduler$3.push(function(){var r=e.listeners.DOMContentLoaded,o=e.hasWindow&&window.performance&&window.performance.timing;r&&o&&r({interactive:o.domInteractive-o.navigationStart,loaded:o.domContentLoadedEventEnd-o.navigationStart})})};var scheduler$2=nanoscheduler(),nanologger$2=nanologger$3,Hooks=chooHooks,logger_1=logger$1;function logger$1(e,t,r){var o=!0,u=Hooks(t),f=nanologger$2("choo");u.on("log:debug",g("debug")),u.on("log:info",g("info")),u.on("log:warn",g("warn")),u.on("log:error",g("error")),u.on("log:fatal",g("fatal")),u.on("event",function(_,w,S){if(!(r.filter&&!r.filter(_,w,S)))if(S){var M=S.duration.toFixed(),C=M<50?"info":"warn";w!==void 0?g(C)(_,w,M+"ms"):g(C)(_,M+"ms")}else w!==void 0?g("info")(_,w):g("info")(_)}),u.on("unhandled",function(_,w){g("error")("No listeners for "+_)}),u.on("DOMContentLoaded",function(_){if(!_)return g("info")("DOMContentLoaded");var w=_.interactive<1e3?"info":"warn";g(w)("DOMContentLoaded",_.interactive+"ms to interactive")}),u.on("render",function(_){if(!_||!_.render)return g("info")("render");var w=_.render.duration.toFixed(),S="render";o&&(o=!1,S="initial "+S);var M=Math.min((600/w).toFixed(),60);if(M===60)g("info")(S,M+"fps",w+"ms");else{var C={render:_.render.duration.toFixed()+"ms"};_.morph&&(C.morph=_.morph.duration.toFixed()+"ms"),g("warn")(S,M+"fps",w+"ms",C)}}),u.on("resource-timing-buffer-full",function(){g("error")("The browser's Resource Resource timing buffer is full. Cannot store any more timing information")}),u.start();function g(_){return function(){for(var w=[],S=0,M=arguments.length;S<M;S++)w.push(arguments[S]);scheduler$2.push(function(){f[_].apply(f,w)})}}}var assert$f=assertExports,objectChangeCallsite_1=objectChangeCallsite;function objectChangeCallsite(e,t){return assert$f.equal(typeof e,"object","object-change-callsite: target should be type object"),assert$f.equal(typeof t,"function","object-change-callsite: callback should be type function"),new Proxy(e,{set:function(r,o,u){var f=new Error,g=strip(f.stack);return t(o,u,g),r[o]=u,!0},deleteProperty:function(r,o){var u=new Error,f=strip(u.stack);return t(o,void 0,f),o in r?(delete r[o],!0):!1}})}function strip(e){var t=e.split(`
`);return t=t.length>2?t.slice(2):t,t[0]=t[0].replace(/^ {4}at /,""),`
`+t.join(`
`)}var onChange=objectChangeCallsite_1,nanologger$1=nanologger$3,assert$e=assertExports,enabledMessage="Debugging enabled. To disable run: `choo.debug = false`",disabledMessage="Debugging disabled. We hope it was helpful! 🙌",debug_1=debug$b;function debug$b(e,t,r,o){var u=nanologger$1("choo-devtools"),f=window.localStorage.logLevel==="debug";f&&u.info(enabledMessage),e=onChange(e,function(g,_,w){f&&(w=w.split(`
`)[1].replace(/^ +/,""),u.info("state."+g,_,`
`+w))}),r.state=e,Object.defineProperty(window.choo,"debug",{get:function(){return window.localStorage.logLevel="debug",o.emit("debug",!0),f=!0,enabledMessage},set:function(g){assert$e.equal(typeof g,"boolean","choo-devtools.debug: bool should be type boolean"),window.localStorage.logLevel=g?"debug":"info",f=g,o.emit("debug",f),f?u.info(enabledMessage):u.info(disabledMessage)}})}var fastSafeStringify$1=stringify$3;stringify$3.default=stringify$3;stringify$3.stable=deterministicStringify;stringify$3.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr$1=[],replacerStack=[];function defaultOptions$1(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$3(e,t,r,o){typeof o>"u"&&(o=defaultOptions$1()),decirc(e,"",0,[],void 0,0,o);var u;try{replacerStack.length===0?u=JSON.stringify(e,t,r):u=JSON.stringify(e,replaceGetterValues(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr$1.length!==0;){var f=arr$1.pop();f.length===4?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return u}function setReplace(e,t,r,o){var u=Object.getOwnPropertyDescriptor(o,r);u.get!==void 0?u.configurable?(Object.defineProperty(o,r,{value:e}),arr$1.push([o,r,t,u])):replacerStack.push([t,r,e]):(o[r]=e,arr$1.push([o,r,t]))}function decirc(e,t,r,o,u,f,g){f+=1;var _;if(typeof e=="object"&&e!==null){for(_=0;_<o.length;_++)if(o[_]===e){setReplace(CIRCULAR_REPLACE_NODE,e,t,u);return}if(typeof g.depthLimit<"u"&&f>g.depthLimit){setReplace(LIMIT_REPLACE_NODE,e,t,u);return}if(typeof g.edgesLimit<"u"&&r+1>g.edgesLimit){setReplace(LIMIT_REPLACE_NODE,e,t,u);return}if(o.push(e),Array.isArray(e))for(_=0;_<e.length;_++)decirc(e[_],_,_,o,e,f,g);else{var w=Object.keys(e);for(_=0;_<w.length;_++){var S=w[_];decirc(e[S],S,_,o,e,f,g)}}o.pop()}}function compareFunction(e,t){return e<t?-1:e>t?1:0}function deterministicStringify(e,t,r,o){typeof o>"u"&&(o=defaultOptions$1());var u=deterministicDecirc(e,"",0,[],void 0,0,o)||e,f;try{replacerStack.length===0?f=JSON.stringify(u,t,r):f=JSON.stringify(u,replaceGetterValues(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr$1.length!==0;){var g=arr$1.pop();g.length===4?Object.defineProperty(g[0],g[1],g[3]):g[0][g[1]]=g[2]}}return f}function deterministicDecirc(e,t,r,o,u,f,g){f+=1;var _;if(typeof e=="object"&&e!==null){for(_=0;_<o.length;_++)if(o[_]===e){setReplace(CIRCULAR_REPLACE_NODE,e,t,u);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof g.depthLimit<"u"&&f>g.depthLimit){setReplace(LIMIT_REPLACE_NODE,e,t,u);return}if(typeof g.edgesLimit<"u"&&r+1>g.edgesLimit){setReplace(LIMIT_REPLACE_NODE,e,t,u);return}if(o.push(e),Array.isArray(e))for(_=0;_<e.length;_++)deterministicDecirc(e[_],_,_,o,e,f,g);else{var w={},S=Object.keys(e).sort(compareFunction);for(_=0;_<S.length;_++){var M=S[_];deterministicDecirc(e[M],M,_,o,e,f,g),w[M]=e[M]}if(typeof u<"u")arr$1.push([u,t,e]),u[t]=w;else return w}o.pop()}}function replaceGetterValues(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(replacerStack.length>0)for(var o=0;o<replacerStack.length;o++){var u=replacerStack[o];if(u[1]===t&&u[0]===r){r=u[2],replacerStack.splice(o,1);break}}return e.call(this,t,r)}}/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var clipboardCopy_1=clipboardCopy;function clipboardCopy(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch(function(f){throw f!==void 0?f:new DOMException("The request is not allowed","NotAllowedError")});var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);var r=window.getSelection(),o=window.document.createRange();r.removeAllRanges(),o.selectNode(t),r.addRange(o);var u=!1;try{u=window.document.execCommand("copy")}catch(f){console.log("error",f)}return r.removeAllRanges(),window.document.body.removeChild(t),u?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}var fastSafeStringify=fastSafeStringify$1,copy$3=clipboardCopy_1;function tryStringify(e){try{return JSON.stringify(e)}catch{}}function stateCopy$1(e){var t=tryStringify(e)||fastSafeStringify(e);copy$3(t)}var stateCopy_1=stateCopy$1,plucker_1=plucker;function plucker(e,t){return arguments.length>=2?pluck$1(e)(t):pluck$1(e)}function pluck$1(e){if(e=typeof e=="string"?String(e).trim().split("."):e,e.length<2)return e=e[0],r;var t=e.length;return o;function r(u){return u[e]}function o(u){for(var f=0;f<t&&!(typeof u>"u");f++)u=u[e[f]];return u}}var stateCopy=stateCopy_1,pluck=plucker_1,copy_1=copy$2;function copy$2(e){var t=e&&typeof e=="string",r=t&&arguments.length===1&&e.indexOf("state.")===0;(!e||typeof e=="function")&&(e=window.choo.state),r&&[].push.call(arguments,{state:window.choo.state}),stateCopy(t?pluck.apply(this,arguments):e)}var help_1=help$1;function help$1(){Object.defineProperty(window.choo,"help",{get:e,set:noop$7});function e(){return setTimeout(function(){print("copy","Serialize the current state to the clipboard."),print("debug","Enable Choo debug mode."),print("emit","Emit an event in the Choo emitter."),print("help","Print usage information."),print("log","Print the last 150 events emitted."),print("on","Listen for an event in the Choo emitter."),print("once","Listen for an event once in the Choo emitter."),print("perf","Print out performance metrics"),print("state","Print the Choo state object."),print("storage","Print browser storage information.")},0),"Choo command overview"}}function print(e,t){var r="#cc99cc";console.log("  %cchoo."+e,"color: "+r,"— "+t)}function noop$7(){}var onPerformance=browser$b,BAR="█",perf_1=perf$2;function perf$2(e,t,r,o){var u={};window.choo.perf={};var f=new Perf(u,"all");Object.defineProperty(window.choo.perf,"all",{get:f.get.bind(f),set:noop$6});var g=new Perf(u,"core",function(S){return/^choo/.test(S)});Object.defineProperty(window.choo.perf,"core",{get:g.get.bind(g),set:noop$6});var _=new Perf(u,"components",function(S){return!/^choo/.test(S)&&!/^bankai/.test(S)});Object.defineProperty(window.choo.perf,"components",{get:_.get.bind(_),set:noop$6});var w=new Perf(u,"events",function(S){return/^choo\.emit/.test(S)},function(S){return S.replace(/^choo\.emit\('/,"").replace(/'\)$/,"")});Object.defineProperty(window.choo.perf,"events",{get:w.get.bind(w),set:noop$6}),onPerformance(function(S){if(S.entryType==="measure"){var M=S.name.replace(/ .*$/,"");u[M]||(u[M]={name:M,count:0,entries:[]});var C=u[M];C.count+=1,C.entries.push(S.duration)}})}function Perf(e,t,r,o){this.stats=e,this.name=t,this.filter=r||function(){return!0},this.rename=o||function(u){return u}}Perf.prototype.get=function(){var e=Object.keys(this.stats).filter(this.filter),t=this,r=0,o=0,u=e.map(function(w){var S=t.stats[w],M=Number(S.entries.reduce(function(k,P){return k+P},0).toFixed(2));M>r&&(r=M);var C=getMedian(S.entries);C>o&&(o=C);var T=t.rename(S.name);return new PerfEntry(T,M,C,S.count)}),f=10;u.forEach(function(w){var S=w["Total Time (ms)"],M=w["Median (ms)"];w[" "]=g(S/r*100/f),w["  "]=g(M/o*100/f)});function g(w){for(var S="",M=0,C=Math.round(w);M<C;M++)S+=BAR;return S}var _=u.sort(function(w,S){return S["Total Time (ms)"]-w["Total Time (ms)"]});return console.table(_),"Showing performance events for '"+this.name+"'"};function PerfEntry(e,t,r,o){this.Name=e,this["Total Time (ms)"]=t,this[" "]=0,this["Median (ms)"]=r,this["  "]=0,this["Total Count"]=o}function getMedian(e){if(!e.length)return 0;var t=e.slice(0).sort(function(f,g){return f-g}),r=Math.floor(t.length/2),o=t.length%2===0,u=o?(t[r]+t[r-1])/2:t[r];return Number(u.toFixed(2))}function noop$6(){}function removeItems$1(e,t,r){var o,u=e.length;if(!(t>=u||r<=0||t<0)){r=t+r>u?u-t:r;var f=u-r;for(o=t;o<f;++o)e[o]=e[o+r];e.length=f}}const removeArrayItems_esm=Object.freeze(Object.defineProperty({__proto__:null,default:removeItems$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(removeArrayItems_esm);var clone$2={exports:{}},hasRequiredClone;function requireClone(){return hasRequiredClone||(hasRequiredClone=1,function(e){var t=function(){function r(T,k){return k!=null&&T instanceof k}var o;try{o=Map}catch{o=function(){}}var u;try{u=Set}catch{u=function(){}}var f;try{f=Promise}catch{f=function(){}}function g(T,k,P,$,I){typeof k=="object"&&(P=k.depth,$=k.prototype,I=k.includeNonEnumerable,k=k.circular);var E=[],F=[],le=typeof Buffer<"u";typeof k>"u"&&(k=!0),typeof P>"u"&&(P=1/0);function W(ae,te){if(ae===null)return null;if(te===0)return ae;var oe,ie;if(typeof ae!="object")return ae;if(r(ae,o))oe=new o;else if(r(ae,u))oe=new u;else if(r(ae,f))oe=new f(function(G,q){ae.then(function(Te){G(W(Te,te-1))},function(Te){q(W(Te,te-1))})});else if(g.__isArray(ae))oe=[];else if(g.__isRegExp(ae))oe=new RegExp(ae.source,C(ae)),ae.lastIndex&&(oe.lastIndex=ae.lastIndex);else if(g.__isDate(ae))oe=new Date(ae.getTime());else{if(le&&Buffer.isBuffer(ae))return Buffer.allocUnsafe?oe=Buffer.allocUnsafe(ae.length):oe=new Buffer(ae.length),ae.copy(oe),oe;r(ae,Error)?oe=Object.create(ae):typeof $>"u"?(ie=Object.getPrototypeOf(ae),oe=Object.create(ie)):(oe=Object.create($),ie=$)}if(k){var Ee=E.indexOf(ae);if(Ee!=-1)return F[Ee];E.push(ae),F.push(oe)}r(ae,o)&&ae.forEach(function(G,q){var Te=W(q,te-1),De=W(G,te-1);oe.set(Te,De)}),r(ae,u)&&ae.forEach(function(G){var q=W(G,te-1);oe.add(q)});for(var D in ae){var me;ie&&(me=Object.getOwnPropertyDescriptor(ie,D)),!(me&&me.set==null)&&(oe[D]=W(ae[D],te-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(ae),D=0;D<z.length;D++){var pe=z[D],we=Object.getOwnPropertyDescriptor(ae,pe);we&&!we.enumerable&&!I||(oe[pe]=W(ae[pe],te-1),we.enumerable||Object.defineProperty(oe,pe,{enumerable:!1}))}if(I)for(var Q=Object.getOwnPropertyNames(ae),D=0;D<Q.length;D++){var Y=Q[D],we=Object.getOwnPropertyDescriptor(ae,Y);we&&we.enumerable||(oe[Y]=W(ae[Y],te-1),Object.defineProperty(oe,Y,{enumerable:!1}))}return oe}return W(T,P)}g.clonePrototype=function(k){if(k===null)return null;var P=function(){};return P.prototype=k,new P};function _(T){return Object.prototype.toString.call(T)}g.__objToStr=_;function w(T){return typeof T=="object"&&_(T)==="[object Date]"}g.__isDate=w;function S(T){return typeof T=="object"&&_(T)==="[object Array]"}g.__isArray=S;function M(T){return typeof T=="object"&&_(T)==="[object RegExp]"}g.__isRegExp=M;function C(T){var k="";return T.global&&(k+="g"),T.ignoreCase&&(k+="i"),T.multiline&&(k+="m"),k}return g.__getRegExpFlags=C,g}();e.exports&&(e.exports=t)}(clone$2)),clone$2.exports}var removeItems=require$$0,scheduler$1=nanoscheduler(),nanologger=nanologger$3,_log=nanologger("choo"),clone$1=requireClone(),MAX_HISTORY_LENGTH=150,log_1=log$3;function log$3(e,t,r,o){var u=window.localStorage.logLevel==="debug",f=[],g=0,_=!0;o.on("debug",function(C){u=C}),window.choo._history=f,window.choo.history=w,Object.defineProperty(window.choo,"log",{get:w,set:noop$5}),Object.defineProperty(window.choo,"history",{get:w,set:noop$5}),t.on("*",function(C,T){g+=1;var k=new S(C,T,e);f.push(k),scheduler$1.push(function(){var P=f.length;P>MAX_HISTORY_LENGTH&&removeItems(f,0,P-MAX_HISTORY_LENGTH)})});function w(){setTimeout(function(){console.table(f)},0);var C=g===1?"event":"events",T=g+" "+C+" recorded, showing the last "+MAX_HISTORY_LENGTH+".";return u===!1?T+=" Enable state capture by calling `choo.debug`.":T+=" Disable state capture by calling `choo.debug = false`.",T}function S(C,T,k){this.name=C,this.data=T===void 0?"<no data>":T,this.state=u?M(k):"<disabled>"}function M(C){try{var T=clone$1(C);return _||(_=!0),T}catch{return _&&(_log.warn("Could not clone your app state. Make sure to have a serializable state so it can be cloned"),_=!1),"<unserializable>"}}}function noop$5(){}var assert$d=nanoassert$1,getAllRoutes_1=getAllRoutes$1,transform$1=function(e,t){var r=t||"/",o={},u=e.nodes;return Object.keys(u).forEach(function(f){var g=(r==="/"?r:r+"/")+(f==="$$"?":"+e.name:f),_=u[f].cb;if(_!==void 0&&(o[g]=_),Object.keys(u[f].nodes).length!==0){var w=transform$1(u[f],g);Object.keys(w).forEach(function(S){o[S]=w[S]})}}),o};function getAllRoutes$1(e){assert$d.equal(typeof e,"function","wayfarer.getAllRoutes: router should be an function");var t=e._trie;assert$d.equal(typeof t,"object","wayfarer.getAllRoutes: trie should be an object");var r=t.trie;return transform$1(r)}var EventEmitter$4=eventsExports.EventEmitter,storage=storage_1,logger=logger_1,debug$a=debug_1,copy$1=copy_1,help=help_1,perf$1=perf_1,log$2=log_1,getAllRoutes=getAllRoutes_1,chooDevtools=expose;function expose(e){return e=e||{},t.storeName="choo-devtools",t;function t(r,o,u){var f=new EventEmitter$4;typeof window<"u"&&logger(r,o,e),o.on("DOMContentLoaded",function(){typeof window>"u"||(window.choo={},window.choo.state=r,window.choo.emit=function(){o.emit.apply(o,arguments)},window.choo.on=function(g,_){o.on(g,_)},debug$a(r,o,u,f),log$2(r,o,u,f),perf$1(),window.choo.copy=copy$1,u.router&&u.router.router&&(window.choo.routes=Object.keys(getAllRoutes(u.router.router))),storage(),help())})}}const devtools=getDefaultExportFromCjs(chooDevtools);var scrollToAnchor_1=scrollToAnchor$1;function scrollToAnchor$1(e,t){if(e)try{var r=document.querySelector(e);r&&r.scrollIntoView(t)}catch{}}var documentReady$1=ready;function ready(e){if(typeof document>"u")throw new Error("document-ready only runs in the browser");var t=document.readyState;if(t==="complete"||t==="interactive")return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})}var scheduler=nanoscheduler(),assert$c=nanoassert$1,perf;nanotiming$3.disabled=!0;try{perf=window.performance,nanotiming$3.disabled=window.localStorage.DISABLE_NANOTIMING==="true"||!perf.mark}catch{}var browser$a=nanotiming$3;function nanotiming$3(e){if(assert$c.equal(typeof e,"string","nanotiming: name should be type string"),nanotiming$3.disabled)return noop$4;var t=(perf.now()*1e4).toFixed()%Number.MAX_SAFE_INTEGER,r="start-"+t+"-"+e;perf.mark(r);function o(u){var f="end-"+t+"-"+e;perf.mark(f),scheduler.push(function(){var g=null;try{var _=e+" ["+t+"]";perf.measure(_,r,f),perf.clearMarks(r),perf.clearMarks(f)}catch(w){g=w}u&&u(g,e)})}return o.uuid=t,o}function noop$4(e){e&&scheduler.push(function(){e(new Error("nanotiming: performance API unavailable"))})}var assert$b=nanoassert$1,trie$1=Trie;function Trie(){if(!(this instanceof Trie))return new Trie;this.trie={nodes:{}}}Trie.prototype.create=function(e){assert$b.equal(typeof e,"string","route should be a string");var t=e.replace(/^\//,"").split("/");function r(o,u){var f=has$5(t,o)&&t[o];if(f===!1)return u;var g=null;return/^:|^\*/.test(f)?(has$5(u.nodes,"$$")?g=u.nodes.$$:(g={nodes:{}},u.nodes.$$=g),f[0]==="*"&&(u.wildcard=!0),u.name=f.replace(/^:|^\*/,"")):has$5(u.nodes,f)?g=u.nodes[f]:(g={nodes:{}},u.nodes[f]=g),r(o+1,g)}return r(0,this.trie)};Trie.prototype.match=function(e){assert$b.equal(typeof e,"string","route should be a string");var t=e.replace(/^\//,"").split("/"),r={};function o(f,g){if(g!==void 0){var _=t[f];if(_===void 0)return g;if(has$5(g.nodes,_))return o(f+1,g.nodes[_]);if(g.name){try{r[g.name]=decodeURIComponent(_)}catch{return o(f,void 0)}return o(f+1,g.nodes.$$)}else if(g.wildcard){try{r.wildcard=decodeURIComponent(t.slice(f).join("/"))}catch{return o(f,void 0)}return g.nodes.$$}else return o(f+1)}}var u=o(0,this.trie);if(u)return u=Object.assign({},u),u.params=r,u};Trie.prototype.mount=function(e,t){assert$b.equal(typeof e,"string","route should be a string"),assert$b.equal(typeof t,"object","trie should be a object");var r=e.replace(/^\//,"").split("/"),o=null,u=null;if(r.length===1)u=r[0],o=this.create(u);else{var f=r.join("/");u=r[0],o=this.create(f)}Object.assign(o.nodes,t.nodes),t.name&&(o.name=t.name),o.nodes[""]&&(Object.keys(o.nodes[""]).forEach(function(g){g!=="nodes"&&(o[g]=o.nodes[""][g])}),Object.assign(o.nodes,o.nodes[""].nodes),delete o.nodes[""].nodes)};function has$5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var assert$a=nanoassert$1,trie=trie$1,wayfarer$1=Wayfarer;function Wayfarer(e){if(!(this instanceof Wayfarer))return new Wayfarer(e);var t=(e||"").replace(/^\//,""),r=trie();return u._trie=r,u.on=o,u.emit=u,u.match=f,u._wayfarer=!0,u;function o(_,w){if(assert$a.equal(typeof _,"string"),assert$a.equal(typeof w,"function"),_=_||"/",w._wayfarer&&w._trie)r.mount(_,w._trie.trie);else{var S=r.create(_);S.cb=w,S.route=_}return u}function u(_){var w=f(_),S=new Array(arguments.length);S[0]=w.params;for(var M=1;M<S.length;M++)S[M]=arguments[M];return w.cb.apply(w.cb,S)}function f(_){assert$a.notEqual(_,void 0,"'route' must be defined");var w=r.match(_);if(w&&w.cb)return new g(w);var S=r.match(t);if(S&&S.cb)return new g(S);throw new Error("route '"+_+"' did not match")}function g(_){this.cb=_.cb,this.route=_.route,this.params=_.params}}var assert$9=nanoassert$1,wayfarer=wayfarer$1,isLocalFile=/file:\/\//.test(typeof window=="object"&&window.location&&window.location.origin),electron="^(file://|/)(.*.html?/?)?",protocol="^(http(s)?(://))?(www.)?",domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?",qs$1="[?].*$",stripElectron=new RegExp(electron),prefix=new RegExp(protocol+domain),normalize=new RegExp("#"),suffix$1=new RegExp(qs$1),nanorouter$1=Nanorouter;function Nanorouter(e){if(!(this instanceof Nanorouter))return new Nanorouter(e);e=e||{},this.router=wayfarer(e.default||"/404")}Nanorouter.prototype.on=function(e,t){assert$9.equal(typeof e,"string"),e=e.replace(/^[#/]/,""),this.router.on(e,t)};Nanorouter.prototype.emit=function(e){return assert$9.equal(typeof e,"string"),e=pathname(e,isLocalFile),this.router.emit(e)};Nanorouter.prototype.match=function(e){return assert$9.equal(typeof e,"string"),e=pathname(e,isLocalFile),this.router.match(e)};function pathname(e,t){return t?e=e.replace(stripElectron,""):e=e.replace(prefix,""),decodeURI(e.replace(suffix$1,"").replace(normalize,"/"))}var events$2=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","onanimationend","onanimationiteration","onanimationstart","oncontextmenu","onfocusin","onfocusout"],events$1=events$2,eventsLength=events$1.length,ELEMENT_NODE=1,TEXT_NODE$1=3,COMMENT_NODE=8,morph_1=morph$2;function morph$2(e,t){var r=e.nodeType,o=e.nodeName;r===ELEMENT_NODE&&copyAttrs(e,t),(r===TEXT_NODE$1||r===COMMENT_NODE)&&t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),o==="INPUT"?updateInput(e,t):o==="OPTION"?updateOption(e,t):o==="TEXTAREA"&&updateTextarea(e,t),copyEvents(e,t)}function copyAttrs(e,t){for(var r=t.attributes,o=e.attributes,u=null,f=null,g=null,_=null,w=null,S=o.length-1;S>=0;--S)w=o[S],_=w.name,u=w.namespaceURI,f=w.value,u?(_=w.localName||_,g=t.getAttributeNS(u,_),g!==f&&t.setAttributeNS(u,_,f)):t.hasAttribute(_)?(g=t.getAttribute(_),g!==f&&(f==="null"||f==="undefined"?t.removeAttribute(_):t.setAttribute(_,f))):t.setAttribute(_,f);for(var M=r.length-1;M>=0;--M)w=r[M],w.specified!==!1&&(_=w.name,u=w.namespaceURI,u?(_=w.localName||_,e.hasAttributeNS(u,_)||t.removeAttributeNS(u,_)):e.hasAttributeNS(null,_)||t.removeAttribute(_))}function copyEvents(e,t){for(var r=0;r<eventsLength;r++){var o=events$1[r];e[o]?t[o]=e[o]:t[o]&&(t[o]=void 0)}}function updateOption(e,t){updateAttribute(e,t,"selected")}function updateInput(e,t){var r=e.value,o=t.value;updateAttribute(e,t,"checked"),updateAttribute(e,t,"disabled"),e.indeterminate!==t.indeterminate&&(t.indeterminate=e.indeterminate),t.type!=="file"&&(r!==o&&(t.setAttribute("value",r),t.value=r),r==="null"&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?t.type==="range"&&(t.value=r):t.removeAttribute("value"))}function updateTextarea(e,t){var r=e.value;if(r!==t.value&&(t.value=r),t.firstChild&&t.firstChild.nodeValue!==r){if(r===""&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=r}}function updateAttribute(e,t,r){e[r]!==t[r]&&(t[r]=e[r],e[r]?t.setAttribute(r,""):t.removeAttribute(r))}var assert$8=nanoassert$1,morph$1=morph_1,TEXT_NODE=3,nanomorph_1=nanomorph$1;function nanomorph$1(e,t,r){return assert$8.equal(typeof e,"object","nanomorph: oldTree should be an object"),assert$8.equal(typeof t,"object","nanomorph: newTree should be an object"),r&&r.childrenOnly?(updateChildren(t,e),e):(assert$8.notEqual(t.nodeType,11,"nanomorph: newTree should have one root node (which is not a DocumentFragment)"),walk(t,e))}function walk(e,t){return t?e?e.isSameNode&&e.isSameNode(t)?t:e.tagName!==t.tagName||getComponentId(e)!==getComponentId(t)?e:(morph$1(e,t),updateChildren(e,t),t):null:e}function getComponentId(e){return e.dataset?e.dataset.nanomorphComponentId:void 0}function updateChildren(e,t){for(var r,o,u,f,g=0,_=0;r=t.childNodes[_],o=e.childNodes[_-g],!(!r&&!o);_++)if(!o)t.removeChild(r),_--;else if(!r)t.appendChild(o),g++;else if(same(o,r))u=walk(o,r),u!==r&&(t.replaceChild(u,r),g++);else{f=null;for(var w=_;w<t.childNodes.length;w++)if(same(t.childNodes[w],o)){f=t.childNodes[w];break}f?(u=walk(o,f),u!==f&&g++,t.insertBefore(u,r)):!o.id&&!r.id?(u=walk(o,r),u!==r&&(t.replaceChild(u,r),g++)):(t.insertBefore(o,r),g++)}}function same(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName!==t.tagName?!1:e.type===TEXT_NODE?e.nodeValue===t.nodeValue:!1}var reg=/([^?=&]+)(=([^&]*))?/g,assert$7=nanoassert$1,browser$9=qs;function qs(e){assert$7.equal(typeof e,"string","nanoquery: url should be type string");var t={};return e.replace(/^.*\?/,"").replace(reg,function(r,o,u,f){var g=decodeURIComponent(f),_=decodeURIComponent(o);t.hasOwnProperty(_)?Array.isArray(t[_])?t[_].push(g):t[_]=[t[_],g]:t[_]=g}),t}var assert$6=nanoassert$1,safeExternalLink=/(noopener|noreferrer) (noopener|noreferrer)/,protocolLink=/^[\w-_]+:/,nanohref$1=href;function href(e,t){assert$6.notEqual(typeof window,"undefined","nanohref: expected window to exist"),t=t||window.document,assert$6.equal(typeof e,"function","nanohref: cb should be type function"),assert$6.equal(typeof t,"object","nanohref: root should be type object"),window.addEventListener("click",function(r){if(!(r.button&&r.button!==0||r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||r.defaultPrevented)){var o=function u(f){if(!(!f||f===t))return f.localName!=="a"||f.href===void 0?u(f.parentNode):f}(r.target);o&&(window.location.protocol!==o.protocol||window.location.hostname!==o.hostname||window.location.port!==o.port||o.hasAttribute("data-nanohref-ignore")||o.hasAttribute("download")||o.getAttribute("target")==="_blank"&&safeExternalLink.test(o.getAttribute("rel"))||protocolLink.test(o.getAttribute("href"))||(r.preventDefault(),e(o)))}})}var assert$5=nanoassert$1,nanoraf_1=nanoraf$1;function nanoraf$1(e,t){assert$5.equal(typeof e,"function","nanoraf: render should be a function"),assert$5.ok(typeof t=="function"||typeof t>"u","nanoraf: raf should be a function or undefined"),t||(t=window.requestAnimationFrame);var r=!1,o=null;return function(){o===null&&!r&&(r=!0,t(function(){r=!1;for(var g=o.length,_=new Array(g),w=0;w<g;w++)_[w]=o[w];e.apply(e,_),o=null})),o=arguments}}var removeArrayItems=function(t,r,o){var u,f=t.length;if(!(r>=f||o===0)){o=r+o>f?f-r:o;var g=f-o;for(u=r;u<g;++u)t[u]=t[u+o];t.length=g}},splice=removeArrayItems,nanotiming$2=browser$a,assert$4=nanoassert$1,nanobus$1=Nanobus;function Nanobus(e){if(!(this instanceof Nanobus))return new Nanobus(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}Nanobus.prototype.emit=function(e){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.emit: eventName should be type string or symbol");for(var t=[],r=1,o=arguments.length;r<o;r++)t.push(arguments[r]);var u=nanotiming$2(this._name+"('"+e.toString()+"')"),f=this._listeners[e];return f&&f.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,u.uuid),u(),this};Nanobus.prototype.on=Nanobus.prototype.addListener=function(e,t){return assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.on: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.on: listener should be type function"),e==="*"?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this};Nanobus.prototype.prependListener=function(e,t){return assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.prependListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),e==="*"?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this};Nanobus.prototype.once=function(e,t){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.once: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.once: listener should be type function");var r=this;this.on(e,o);function o(){t.apply(r,arguments),r.removeListener(e,o)}return this};Nanobus.prototype.prependOnceListener=function(e,t){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.prependOnceListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var r=this;this.prependListener(e,o);function o(){t.apply(r,arguments),r.removeListener(e,o)}return this};Nanobus.prototype.removeListener=function(e,t){if(assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.removeListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),e==="*")return this._starListeners=this._starListeners.slice(),r(this._starListeners,t);return typeof this._listeners[e]<"u"&&(this._listeners[e]=this._listeners[e].slice()),r(this._listeners[e],t);function r(o,u){if(o){var f=o.indexOf(u);if(f!==-1)return splice(o,f,1),!0}}};Nanobus.prototype.removeAllListeners=function(e){return e?e==="*"?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this};Nanobus.prototype.listeners=function(e){var t=e!=="*"?this._listeners[e]:this._starListeners,r=[];if(t)for(var o=t.length,u=0;u<o;u++)r.push(t[u]);return r};Nanobus.prototype._emit=function(e,t,r,o){if(!(typeof e>"u")&&e.length!==0){r===void 0&&(r=t,t=null),t&&(o!==void 0?r=[t].concat(r,o):r=[t].concat(r));for(var u=e.length,f=0;f<u;f++){var g=e[f];g.apply(g,r)}}};const EventEmitter$3=getDefaultExportFromCjs(nanobus$1);var nanolru=LRU$1;function LRU$1(e){if(!(this instanceof LRU$1))return new LRU$1(e);typeof e=="number"&&(e={max:e}),e||(e={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}Object.defineProperty(LRU$1.prototype,"keys",{get:function(){return Object.keys(this.cache)}});LRU$1.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0};LRU$1.prototype.remove=function(e){if(typeof e!="string"&&(e=""+e),!!this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}};LRU$1.prototype._unlink=function(e,t,r){this.length--,this.length===0?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=r,this.cache[this.tail].prev=null):(this.cache[t].next=r,this.cache[r].prev=t)};LRU$1.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}};LRU$1.prototype.set=function(e,t){typeof e!="string"&&(e=""+e);var r;if(this.cache.hasOwnProperty(e)){if(r=this.cache[e],r.value=t,this.maxAge&&(r.modified=Date.now()),e===this.head)return t;this._unlink(e,r.prev,r.next)}else r={value:t,modified:0,next:null,prev:null},this.maxAge&&(r.modified=Date.now()),this.cache[e]=r,this.length===this.max&&this.evict();return this.length++,r.next=null,r.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t};LRU$1.prototype._checkAge=function(e,t){return this.maxAge&&Date.now()-t.modified>this.maxAge?(this.remove(e),!1):!0};LRU$1.prototype.get=function(e){if(typeof e!="string"&&(e=""+e),!!this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}};LRU$1.prototype.evict=function(){this.tail&&this.remove(this.tail)};var assert$3=nanoassert$1,LRU=nanolru,cache=ChooComponentCache;function ChooComponentCache(e,t,r){assert$3.ok(this instanceof ChooComponentCache,"ChooComponentCache should be created with `new`"),assert$3.equal(typeof e,"object","ChooComponentCache: state should be type object"),assert$3.equal(typeof t,"function","ChooComponentCache: emit should be type function"),typeof r=="number"?this.cache=new LRU(r):this.cache=r||new LRU(100),this.state=e,this.emit=t}ChooComponentCache.prototype.render=function(e,t){assert$3.equal(typeof e,"function","ChooComponentCache.render: Component should be type function"),assert$3.ok(typeof t=="string"||typeof t=="number","ChooComponentCache.render: id should be type string or type number");var r=this.cache.get(t);if(!r){for(var o=[],u=2,f=arguments.length;u<f;u++)o.push(arguments[u]);o.unshift(e,t,this.state,this.emit),r=newCall.apply(newCall,o),this.cache.set(t,r)}return r};function newCall(e){return new(e.bind.apply(e,arguments))}var scrollToAnchor=scrollToAnchor_1,documentReady=documentReady$1,nanotiming$1=browser$a,nanorouter=nanorouter$1,nanomorph=nanomorph_1,nanoquery=browser$9,nanohref=nanohref$1,nanoraf=nanoraf_1,nanobus=nanobus$1,assert$2=nanoassert$1,Cache=cache,choo=Choo,HISTORY_OBJECT={};function Choo(e){var t=nanotiming$1("choo.constructor");if(!(this instanceof Choo))return new Choo(e);e=e||{},assert$2.equal(typeof e,"object","choo: opts should be type object");var r=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=e.history===void 0?!0:e.history,this._hrefEnabled=e.href===void 0?!0:e.href,this._hashEnabled=e.hash===void 0?!1:e.hash,this._hasWindow=typeof window<"u",this._cache=e.cache,this._loaded=!1,this._stores=[u],this._tree=null;var o={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?Object.assign({},window.initialState,o):o,delete window.initialState):this.state=o,this.router=nanorouter({curry:!0}),this.emitter=nanobus("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title);function u(f){r.emitter.prependListener(r._events.DOMTITLECHANGE,function(g){assert$2.equal(typeof g,"string","events.DOMTitleChange: title should be type string"),f.title=g,r._hasWindow&&(document.title=g)})}t()}Choo.prototype.route=function(e,t){var r=nanotiming$1("choo.route('"+e+"')");assert$2.equal(typeof e,"string","choo.route: route should be type string"),assert$2.equal(typeof t,"function","choo.handler: route should be type function"),this.router.on(e,t),r()};Choo.prototype.use=function(e){assert$2.equal(typeof e,"function","choo.use: cb should be type function");var t=this;this._stores.push(function(r){var o="choo.use";o=e.storeName?o+"("+e.storeName+")":o;var u=nanotiming$1(o);e(r,t.emitter,t),u()})};Choo.prototype.start=function(){assert$2.equal(typeof window,"object","choo.start: window was not found. .start() must be called in a browser, use .toString() if running in Node");var e=nanotiming$1("choo.start"),t=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){t._matchRoute(t.state),t._loaded&&(t.emitter.emit(t._events.RENDER),setTimeout(scrollToAnchor.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(r){assert$2.equal(typeof r,"string","events.pushState: href should be type string"),window.history.pushState(HISTORY_OBJECT,null,r),t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(r){assert$2.equal(typeof r,"string","events.replaceState: href should be type string"),window.history.replaceState(HISTORY_OBJECT,null,r),t.emitter.emit(t._events.NAVIGATE)}),window.onpopstate=function(){t.emitter.emit(t._events.POPSTATE)},t._hrefEnabled&&nanohref(function(r){var o=r.href,u=r.hash;if(o===window.location.href){!t._hashEnabled&&u&&scrollToAnchor(u);return}t.emitter.emit(t._events.PUSHSTATE,o)})),this._setCache(this.state),this._matchRoute(this.state),this._stores.forEach(function(r){r(t.state)}),this._tree=this._prerender(this.state),assert$2.ok(this._tree,"choo.start: no valid DOM node returned for location "+this.state.href),this.emitter.prependListener(t._events.RENDER,nanoraf(function(){var r=nanotiming$1("choo.render"),o=t._prerender(t.state);assert$2.ok(o,"choo.render: no valid DOM node returned for location "+t.state.href),assert$2.equal(t._tree.nodeName,o.nodeName,"choo.render: The target node <"+t._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+o.nodeName.toLowerCase()+">.");var u=nanotiming$1("choo.morph");nanomorph(t._tree,o),u(),r()})),documentReady(function(){t.emitter.emit(t._events.DOMCONTENTLOADED),t._loaded=!0}),e(),this._tree};Choo.prototype.mount=function(t){var r=nanotiming$1("choo.mount('"+t+"')");if(typeof window!="object")return assert$2.ok(typeof t=="string","choo.mount: selector should be type String"),this.selector=t,r(),this;assert$2.ok(typeof t=="string"||typeof t=="object","choo.mount: selector should be type String or HTMLElement");var o=this;documentReady(function(){var u=nanotiming$1("choo.render"),f=o.start();typeof t=="string"?o._tree=document.querySelector(t):o._tree=t,assert$2.ok(o._tree,"choo.mount: could not query selector: "+t),assert$2.equal(o._tree.nodeName,f.nodeName,"choo.mount: The target node <"+o._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+f.nodeName.toLowerCase()+">.");var g=nanotiming$1("choo.morph");nanomorph(o._tree,f),g(),u()}),r()};Choo.prototype.toString=function(e,t){t=t||{},t.components=t.components||{},t.events=Object.assign({},t.events,this._events),assert$2.notEqual(typeof window,"object","choo.mount: window was found. .toString() must be called in Node, use .start() or .mount() if running in the browser"),assert$2.equal(typeof e,"string","choo.toString: location should be type string"),assert$2.equal(typeof t,"object","choo.toString: state should be type object"),this._setCache(t),this._matchRoute(t,e),this.emitter.removeAllListeners(),this._stores.forEach(function(o){o(t)});var r=this._prerender(t);return assert$2.ok(r,"choo.toString: no valid value returned for the route "+e),assert$2(!Array.isArray(r),"choo.toString: return value was an array for the route "+e),typeof r.outerHTML=="string"?r.outerHTML:r.toString()};Choo.prototype._matchRoute=function(e,t){var r,o;t?(r=t.replace(/\?.+$/,"").replace(/\/$/,""),this._hashEnabled||(r=r.replace(/#.+$/,"")),o=t):(r=window.location.pathname.replace(/\/$/,""),this._hashEnabled&&(r+=window.location.hash.replace(/^#/,"/")),o=window.location.search);var u=this.router.match(r);this._handler=u.cb,e.href=r,e.query=nanoquery(o),e.route=u.route,e.params=u.params};Choo.prototype._prerender=function(e){var t=nanotiming$1("choo.prerender('"+e.route+"')"),r=this._handler(e,this.emit);return t(),r};Choo.prototype._setCache=function(e){var t=new Cache(e,this.emitter.emit.bind(this.emitter),this._cache);e.cache=r;function r(o,u){assert$2.equal(typeof o,"function","choo.state.cache: Component should be type function");for(var f=[],g=0,_=arguments.length;g<_;g++)f.push(arguments[g]);return t.render.apply(t,f)}r.toJSON=function(){return null}};const choo$1=getDefaultExportFromCjs(choo);var client={exports:{}},componentEmitter={exports:{}};(function(e){e.exports=t;function t(o){if(o)return r(o)}function r(o){for(var u in t.prototype)o[u]=t.prototype[u];return o}t.prototype.on=t.prototype.addEventListener=function(o,u){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(u),this},t.prototype.once=function(o,u){function f(){this.off(o,f),u.apply(this,arguments)}return f.fn=u,this.on(o,f),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(o,u){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var f=this._callbacks["$"+o];if(!f)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var g,_=0;_<f.length;_++)if(g=f[_],g===u||g.fn===u){f.splice(_,1);break}return f.length===0&&delete this._callbacks["$"+o],this},t.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var u=new Array(arguments.length-1),f=this._callbacks["$"+o],g=1;g<arguments.length;g++)u[g-1]=arguments[g];if(f){f=f.slice(0);for(var g=0,_=f.length;g<_;++g)f[g].apply(this,u)}return this},t.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},t.prototype.hasListeners=function(o){return!!this.listeners(o).length}})(componentEmitter);var componentEmitterExports=componentEmitter.exports,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var u=42;t[r]=u;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var f=Object.getOwnPropertySymbols(t);if(f.length!==1||f[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(t,r);if(g.value!==u||g.enumerable!==!0)return!1}return!0},origSymbol$1=typeof Symbol<"u"&&Symbol,hasSymbolSham$1=shams$1,hasSymbols$3=function(){return typeof origSymbol$1!="function"||typeof Symbol!="function"||typeof origSymbol$1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham$1()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$2=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(t){var r=this;if(typeof r!="function"||toStr$1.call(r)!==funcType)throw new TypeError(ERROR_MESSAGE+r);for(var o=slice$2.call(arguments,1),u,f=function(){if(this instanceof u){var M=r.apply(this,o.concat(slice$2.call(arguments)));return Object(M)===M?M:this}else return r.apply(t,o.concat(slice$2.call(arguments)))},g=Math.max(0,r.length-o.length),_=[],w=0;w<g;w++)_.push("$"+w);if(u=Function("binder","return function ("+_.join(",")+"){ return binder.apply(this,arguments); }")(f),r.prototype){var S=function(){};S.prototype=r.prototype,u.prototype=new S,S.prototype=null}return u},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$3=functionBind,src$1=bind$3.call(Function.call,Object.prototype.hasOwnProperty),undefined$2,$SyntaxError$1=SyntaxError,$Function$1=Function,$TypeError$2=TypeError,getEvalledConstructor$1=function(e){try{return $Function$1('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError$1=function(){throw new $TypeError$2},ThrowTypeError$1=$gOPD$1?function(){try{return arguments.callee,throwTypeError$1}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError$1}}}():throwTypeError$1,hasSymbols$2=hasSymbols$3(),getProto$1=Object.getPrototypeOf||function(e){return e.__proto__},needsEval$1={},TypedArray$1=typeof Uint8Array>"u"?undefined$2:getProto$1(Uint8Array),INTRINSICS$1={"%AggregateError%":typeof AggregateError>"u"?undefined$2:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$2:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$2?getProto$1([][Symbol.iterator]()):undefined$2,"%AsyncFromSyncIteratorPrototype%":undefined$2,"%AsyncFunction%":needsEval$1,"%AsyncGenerator%":needsEval$1,"%AsyncGeneratorFunction%":needsEval$1,"%AsyncIteratorPrototype%":needsEval$1,"%Atomics%":typeof Atomics>"u"?undefined$2:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$2:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$2:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$2:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$2:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$2:FinalizationRegistry,"%Function%":$Function$1,"%GeneratorFunction%":needsEval$1,"%Int8Array%":typeof Int8Array>"u"?undefined$2:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$2:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$2:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$2?getProto$1(getProto$1([][Symbol.iterator]())):undefined$2,"%JSON%":typeof JSON=="object"?JSON:undefined$2,"%Map%":typeof Map>"u"?undefined$2:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$2?undefined$2:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$2:Promise,"%Proxy%":typeof Proxy>"u"?undefined$2:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$2:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$2:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$2?undefined$2:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$2:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$2?getProto$1(""[Symbol.iterator]()):undefined$2,"%Symbol%":hasSymbols$2?Symbol:undefined$2,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError$1,"%TypedArray%":TypedArray$1,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$2:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$2:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$2:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$2:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$2:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$2:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$2:WeakSet},doEval$1=function e(t){var r;if(t==="%AsyncFunction%")r=getEvalledConstructor$1("async function () {}");else if(t==="%GeneratorFunction%")r=getEvalledConstructor$1("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=getEvalledConstructor$1("async function* () {}");else if(t==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var u=e("%AsyncGenerator%");u&&(r=getProto$1(u.prototype))}return INTRINSICS$1[t]=r,r},LEGACY_ALIASES$1={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$2=functionBind,hasOwn$3=src$1,$concat$2=bind$2.call(Function.call,Array.prototype.concat),$spliceApply$1=bind$2.call(Function.apply,Array.prototype.splice),$replace$2=bind$2.call(Function.call,String.prototype.replace),$strSlice$1=bind$2.call(Function.call,String.prototype.slice),rePropName$1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$1=function(t){var r=$strSlice$1(t,0,1),o=$strSlice$1(t,-1);if(r==="%"&&o!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var u=[];return $replace$2(t,rePropName$1,function(f,g,_,w){u[u.length]=_?$replace$2(w,reEscapeChar$1,"$1"):g||f}),u},getBaseIntrinsic$1=function(t,r){var o=t,u;if(hasOwn$3(LEGACY_ALIASES$1,o)&&(u=LEGACY_ALIASES$1[o],o="%"+u[0]+"%"),hasOwn$3(INTRINSICS$1,o)){var f=INTRINSICS$1[o];if(f===needsEval$1&&(f=doEval$1(o)),typeof f>"u"&&!r)throw new $TypeError$2("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:u,name:o,value:f}}throw new $SyntaxError$1("intrinsic "+t+" does not exist!")},getIntrinsic$1=function(t,r){if(typeof t!="string"||t.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');var o=stringToPath$1(t),u=o.length>0?o[0]:"",f=getBaseIntrinsic$1("%"+u+"%",r),g=f.name,_=f.value,w=!1,S=f.alias;S&&(u=S[0],$spliceApply$1(o,$concat$2([0,1],S)));for(var M=1,C=!0;M<o.length;M+=1){var T=o[M],k=$strSlice$1(T,0,1),P=$strSlice$1(T,-1);if((k==='"'||k==="'"||k==="`"||P==='"'||P==="'"||P==="`")&&k!==P)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((T==="constructor"||!C)&&(w=!0),u+="."+T,g="%"+u+"%",hasOwn$3(INTRINSICS$1,g))_=INTRINSICS$1[g];else if(_!=null){if(!(T in _)){if(!r)throw new $TypeError$2("base intrinsic for "+t+" exists, but the property is not available.");return}if($gOPD$1&&M+1>=o.length){var $=$gOPD$1(_,T);C=!!$,C&&"get"in $&&!("originalValue"in $.get)?_=$.get:_=_[T]}else C=hasOwn$3(_,T),_=_[T];C&&!w&&(INTRINSICS$1[g]=_)}}return _},shams=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var u=42;t[r]=u;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var f=Object.getOwnPropertySymbols(t);if(f.length!==1||f[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(t,r);if(g.value!==u||g.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch{$gOPD=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray=typeof Uint8Array>"u"?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet},doEval=function e(t){var r;if(t==="%AsyncFunction%")r=getEvalledConstructor("async function () {}");else if(t==="%GeneratorFunction%")r=getEvalledConstructor("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=getEvalledConstructor("async function* () {}");else if(t==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var u=e("%AsyncGenerator%");u&&(r=getProto(u.prototype))}return INTRINSICS[t]=r,r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$2=src$1,$concat$1=bind$1.call(Function.call,Array.prototype.concat),$spliceApply=bind$1.call(Function.apply,Array.prototype.splice),$replace$1=bind$1.call(Function.call,String.prototype.replace),$strSlice=bind$1.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(t){var r=$strSlice(t,0,1),o=$strSlice(t,-1);if(r==="%"&&o!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var u=[];return $replace$1(t,rePropName,function(f,g,_,w){u[u.length]=_?$replace$1(w,reEscapeChar,"$1"):g||f}),u},getBaseIntrinsic=function(t,r){var o=t,u;if(hasOwn$2(LEGACY_ALIASES,o)&&(u=LEGACY_ALIASES[o],o="%"+u[0]+"%"),hasOwn$2(INTRINSICS,o)){var f=INTRINSICS[o];if(f===needsEval&&(f=doEval(o)),typeof f>"u"&&!r)throw new $TypeError$1("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:u,name:o,value:f}}throw new $SyntaxError("intrinsic "+t+" does not exist!")},getIntrinsic=function(t,r){if(typeof t!="string"||t.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');var o=stringToPath(t),u=o.length>0?o[0]:"",f=getBaseIntrinsic("%"+u+"%",r),g=f.name,_=f.value,w=!1,S=f.alias;S&&(u=S[0],$spliceApply(o,$concat$1([0,1],S)));for(var M=1,C=!0;M<o.length;M+=1){var T=o[M],k=$strSlice(T,0,1),P=$strSlice(T,-1);if((k==='"'||k==="'"||k==="`"||P==='"'||P==="'"||P==="`")&&k!==P)throw new $SyntaxError("property names with quotes must have matching quotes");if((T==="constructor"||!C)&&(w=!0),u+="."+T,g="%"+u+"%",hasOwn$2(INTRINSICS,g))_=INTRINSICS[g];else if(_!=null){if(!(T in _)){if(!r)throw new $TypeError$1("base intrinsic for "+t+" exists, but the property is not available.");return}if($gOPD&&M+1>=o.length){var $=$gOPD(_,T);C=!!$,C&&"get"in $&&!("originalValue"in $.get)?_=$.get:_=_[T]}else C=hasOwn$2(_,T),_=_[T];C&&!w&&(INTRINSICS[g]=_)}}return _},callBind$1={exports:{}};(function(e){var t=functionBind,r=getIntrinsic,o=r("%Function.prototype.apply%"),u=r("%Function.prototype.call%"),f=r("%Reflect.apply%",!0)||t.call(u,o),g=r("%Object.getOwnPropertyDescriptor%",!0),_=r("%Object.defineProperty%",!0),w=r("%Math.max%");if(_)try{_({},"a",{value:1})}catch{_=null}e.exports=function(C){var T=f(t,u,arguments);if(g&&_){var k=g(T,"length");k.configurable&&_(T,"length",{value:1+w(0,C.length-(arguments.length-1))})}return T};var S=function(){return f(t,o,arguments)};_?_(e.exports,"apply",{value:S}):e.exports.apply=S})(callBind$1);var callBindExports=callBind$1.exports,GetIntrinsic$1=getIntrinsic,callBind=callBindExports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(t,r){var o=GetIntrinsic$1(t,!!r);return typeof o=="function"&&$indexOf(t,".prototype.")>-1?callBind(o):o};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1);var hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols||"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function addNumericSeparator(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||$test.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var o=e<0?-$floor(-e):$floor(e);if(o!==e){var u=String(o),f=$slice.call(t,u.length+1);return $replace.call(u,r,"$&_")+"."+$replace.call($replace.call(f,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(t,r,"$&_")}var inspectCustom=require$$3.custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function e(t,r,o,u){var f=r||{};if(has$4(f,"quoteStyle")&&f.quoteStyle!=="single"&&f.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$4(f,"maxStringLength")&&(typeof f.maxStringLength=="number"?f.maxStringLength<0&&f.maxStringLength!==1/0:f.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=has$4(f,"customInspect")?f.customInspect:!0;if(typeof g!="boolean"&&g!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$4(f,"indent")&&f.indent!==null&&f.indent!=="	"&&!(parseInt(f.indent,10)===f.indent&&f.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$4(f,"numericSeparator")&&typeof f.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=f.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return inspectString(t,f);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var w=String(t);return _?addNumericSeparator(t,w):w}if(typeof t=="bigint"){var S=String(t)+"n";return _?addNumericSeparator(t,S):S}var M=typeof f.depth>"u"?5:f.depth;if(typeof o>"u"&&(o=0),o>=M&&M>0&&typeof t=="object")return isArray$6(t)?"[Array]":"[Object]";var C=getIndent(f,o);if(typeof u>"u")u=[];else if(indexOf$2(u,t)>=0)return"[Circular]";function T(pe,we,Q){if(we&&(u=$arrSlice.call(u),u.push(we)),Q){var Y={depth:f.depth};return has$4(f,"quoteStyle")&&(Y.quoteStyle=f.quoteStyle),e(pe,Y,o+1,u)}return e(pe,f,o+1,u)}if(typeof t=="function"){var k=nameOf(t),P=arrObjKeys(t,T);return"[Function"+(k?": "+k:" (anonymous)")+"]"+(P.length>0?" { "+$join.call(P,", ")+" }":"")}if(isSymbol(t)){var $=hasShammedSymbols?$replace.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(t);return typeof t=="object"&&!hasShammedSymbols?markBoxed($):$}if(isElement(t)){for(var I="<"+$toLowerCase.call(String(t.nodeName)),E=t.attributes||[],F=0;F<E.length;F++)I+=" "+E[F].name+"="+wrapQuotes(quote(E[F].value),"double",f);return I+=">",t.childNodes&&t.childNodes.length&&(I+="..."),I+="</"+$toLowerCase.call(String(t.nodeName))+">",I}if(isArray$6(t)){if(t.length===0)return"[]";var le=arrObjKeys(t,T);return C&&!singleLineValues(le)?"["+indentedJoin(le,C)+"]":"[ "+$join.call(le,", ")+" ]"}if(isError(t)){var W=arrObjKeys(t,T);return"cause"in t&&!isEnumerable.call(t,"cause")?"{ ["+String(t)+"] "+$join.call($concat.call("[cause]: "+T(t.cause),W),", ")+" }":W.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+$join.call(W,", ")+" }"}if(typeof t=="object"&&g){if(inspectSymbol&&typeof t[inspectSymbol]=="function")return t[inspectSymbol]();if(g!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(isMap(t)){var ae=[];return mapForEach.call(t,function(pe,we){ae.push(T(we,t,!0)+" => "+T(pe,t))}),collectionOf("Map",mapSize.call(t),ae,C)}if(isSet(t)){var te=[];return setForEach.call(t,function(pe){te.push(T(pe,t))}),collectionOf("Set",setSize.call(t),te,C)}if(isWeakMap(t))return weakCollectionOf("WeakMap");if(isWeakSet(t))return weakCollectionOf("WeakSet");if(isWeakRef(t))return weakCollectionOf("WeakRef");if(isNumber$1(t))return markBoxed(T(Number(t)));if(isBigInt(t))return markBoxed(T(bigIntValueOf.call(t)));if(isBoolean(t))return markBoxed(booleanValueOf.call(t));if(isString(t))return markBoxed(T(String(t)));if(!isDate(t)&&!isRegExp$1(t)){var oe=arrObjKeys(t,T),ie=gPO?gPO(t)===Object.prototype:t instanceof Object||t.constructor===Object,Ee=t instanceof Object?"":"null prototype",D=!ie&&toStringTag&&Object(t)===t&&toStringTag in t?$slice.call(toStr(t),8,-1):Ee?"Object":"",me=ie||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",z=me+(D||Ee?"["+$join.call($concat.call([],D||[],Ee||[]),": ")+"] ":"");return oe.length===0?z+"{}":C?z+"{"+indentedJoin(oe,C)+"}":z+"{ "+$join.call(oe,", ")+" }"}return String(t)};function wrapQuotes(e,t,r){var o=(r.quoteStyle||t)==="double"?'"':"'";return o+e+o}function quote(e){return $replace.call(String(e),/"/g,"&quot;")}function isArray$6(e){return toStr(e)==="[object Array]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isDate(e){return toStr(e)==="[object Date]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isRegExp$1(e){return toStr(e)==="[object RegExp]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isError(e){return toStr(e)==="[object Error]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isString(e){return toStr(e)==="[object String]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isNumber$1(e){return toStr(e)==="[object Number]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isBoolean(e){return toStr(e)==="[object Boolean]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isSymbol(e){if(hasShammedSymbols)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!symToString)return!1;try{return symToString.call(e),!0}catch{}return!1}function isBigInt(e){if(!e||typeof e!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(e),!0}catch{}return!1}var hasOwn$1=Object.prototype.hasOwnProperty||function(e){return e in this};function has$4(e,t){return hasOwn$1.call(e,t)}function toStr(e){return objectToString.call(e)}function nameOf(e){if(e.name)return e.name;var t=$match.call(functionToString.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function indexOf$2(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1}function isMap(e){if(!mapSize||!e||typeof e!="object")return!1;try{mapSize.call(e);try{setSize.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function isWeakMap(e){if(!weakMapHas||!e||typeof e!="object")return!1;try{weakMapHas.call(e,weakMapHas);try{weakSetHas.call(e,weakSetHas)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function isWeakRef(e){if(!weakRefDeref||!e||typeof e!="object")return!1;try{return weakRefDeref.call(e),!0}catch{}return!1}function isSet(e){if(!setSize||!e||typeof e!="object")return!1;try{setSize.call(e);try{mapSize.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function isWeakSet(e){if(!weakSetHas||!e||typeof e!="object")return!1;try{weakSetHas.call(e,weakSetHas);try{weakMapHas.call(e,weakMapHas)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function isElement(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function inspectString(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return inspectString($slice.call(e,0,t.maxStringLength),t)+o}var u=$replace.call($replace.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(u,"single",t)}function lowbyte(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+$toUpperCase.call(t.toString(16))}function markBoxed(e){return"Object("+e+")"}function weakCollectionOf(e){return e+" { ? }"}function collectionOf(e,t,r,o){var u=o?indentedJoin(r,o):$join.call(r,", ");return e+" ("+t+") {"+u+"}"}function singleLineValues(e){for(var t=0;t<e.length;t++)if(indexOf$2(e[t],`
`)>=0)return!1;return!0}function getIndent(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=$join.call(Array(e.indent+1)," ");else return null;return{base:r,prev:$join.call(Array(t+1),r)}}function indentedJoin(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+$join.call(e,","+r)+`
`+t.prev}function arrObjKeys(e,t){var r=isArray$6(e),o=[];if(r){o.length=e.length;for(var u=0;u<e.length;u++)o[u]=has$4(e,u)?t(e[u],e):""}var f=typeof gOPS=="function"?gOPS(e):[],g;if(hasShammedSymbols){g={};for(var _=0;_<f.length;_++)g["$"+f[_]]=f[_]}for(var w in e)has$4(e,w)&&(r&&String(Number(w))===w&&w<e.length||hasShammedSymbols&&g["$"+w]instanceof Symbol||($test.call(/[^\w$]/,w)?o.push(t(w,e)+": "+t(e[w],e)):o.push(w+": "+t(e[w],e))));if(typeof gOPS=="function")for(var S=0;S<f.length;S++)isEnumerable.call(e,f[S])&&o.push("["+t(f[S])+"]: "+t(e[f[S]],e));return o}var GetIntrinsic=getIntrinsic$1,callBound=callBound$1,inspect=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(e,t){for(var r=e,o;(o=r.next)!==null;r=o)if(o.key===t)return r.next=o.next,o.next=e.next,e.next=o,o},listGet=function(e,t){var r=listGetNode(e,t);return r&&r.value},listSet=function(e,t,r){var o=listGetNode(e,t);o?o.value=r:e.next={key:t,next:e.next,value:r}},listHas=function(e,t){return!!listGetNode(e,t)},sideChannel=function(){var t,r,o,u={assert:function(f){if(!u.has(f))throw new $TypeError("Side channel does not contain "+inspect(f))},get:function(f){if($WeakMap&&f&&(typeof f=="object"||typeof f=="function")){if(t)return $weakMapGet(t,f)}else if($Map){if(r)return $mapGet(r,f)}else if(o)return listGet(o,f)},has:function(f){if($WeakMap&&f&&(typeof f=="object"||typeof f=="function")){if(t)return $weakMapHas(t,f)}else if($Map){if(r)return $mapHas(r,f)}else if(o)return listHas(o,f);return!1},set:function(f,g){$WeakMap&&f&&(typeof f=="object"||typeof f=="function")?(t||(t=new $WeakMap),$weakMapSet(t,f,g)):$Map?(r||(r=new $Map),$mapSet(r,f,g)):(o||(o={key:{},next:null}),listSet(o,f,g))}};return u},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return String(e)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$3=Object.prototype.hasOwnProperty,isArray$5=Array.isArray,hexTable=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(t){for(;t.length>1;){var r=t.pop(),o=r.obj[r.prop];if(isArray$5(o)){for(var u=[],f=0;f<o.length;++f)typeof o[f]<"u"&&u.push(o[f]);r.obj[r.prop]=u}}},arrayToObject=function(t,r){for(var o=r&&r.plainObjects?Object.create(null):{},u=0;u<t.length;++u)typeof t[u]<"u"&&(o[u]=t[u]);return o},merge=function e(t,r,o){if(!r)return t;if(typeof r!="object"){if(isArray$5(t))t.push(r);else if(t&&typeof t=="object")(o&&(o.plainObjects||o.allowPrototypes)||!has$3.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var u=t;return isArray$5(t)&&!isArray$5(r)&&(u=arrayToObject(t,o)),isArray$5(t)&&isArray$5(r)?(r.forEach(function(f,g){if(has$3.call(t,g)){var _=t[g];_&&typeof _=="object"&&f&&typeof f=="object"?t[g]=e(_,f,o):t.push(f)}else t[g]=f}),t):Object.keys(r).reduce(function(f,g){var _=r[g];return has$3.call(f,g)?f[g]=e(f[g],_,o):f[g]=_,f},u)},assign$1=function(t,r){return Object.keys(r).reduce(function(o,u){return o[u]=r[u],o},t)},decode$1=function(e,t,r){var o=e.replace(/\+/g," ");if(r==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},encode$1=function(t,r,o,u,f){if(t.length===0)return t;var g=t;if(typeof t=="symbol"?g=Symbol.prototype.toString.call(t):typeof t!="string"&&(g=String(t)),o==="iso-8859-1")return escape(g).replace(/%u[0-9a-f]{4}/gi,function(M){return"%26%23"+parseInt(M.slice(2),16)+"%3B"});for(var _="",w=0;w<g.length;++w){var S=g.charCodeAt(w);if(S===45||S===46||S===95||S===126||S>=48&&S<=57||S>=65&&S<=90||S>=97&&S<=122||f===formats$2.RFC1738&&(S===40||S===41)){_+=g.charAt(w);continue}if(S<128){_=_+hexTable[S];continue}if(S<2048){_=_+(hexTable[192|S>>6]+hexTable[128|S&63]);continue}if(S<55296||S>=57344){_=_+(hexTable[224|S>>12]+hexTable[128|S>>6&63]+hexTable[128|S&63]);continue}w+=1,S=65536+((S&1023)<<10|g.charCodeAt(w)&1023),_+=hexTable[240|S>>18]+hexTable[128|S>>12&63]+hexTable[128|S>>6&63]+hexTable[128|S&63]}return _},compact=function(t){for(var r=[{obj:{o:t},prop:"o"}],o=[],u=0;u<r.length;++u)for(var f=r[u],g=f.obj[f.prop],_=Object.keys(g),w=0;w<_.length;++w){var S=_[w],M=g[S];typeof M=="object"&&M!==null&&o.indexOf(M)===-1&&(r.push({obj:g,prop:S}),o.push(M))}return compactQueue(r),t},isRegExp=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},isBuffer$1=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},combine=function(t,r){return[].concat(t,r)},maybeMap=function(t,r){if(isArray$5(t)){for(var o=[],u=0;u<t.length;u+=1)o.push(r(t[u]));return o}return r(t)},utils$4={arrayToObject,assign:assign$1,combine,compact,decode:decode$1,encode:encode$1,isBuffer:isBuffer$1,isRegExp,maybeMap,merge},getSideChannel=sideChannel,utils$3=utils$4,formats$1=formats$3,has$2=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},isArray$4=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$4(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$2={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$3.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function(t){return toISO.call(t)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},sentinel={},stringify$2=function e(t,r,o,u,f,g,_,w,S,M,C,T,k,P,$){for(var I=t,E=$,F=0,le=!1;(E=E.get(sentinel))!==void 0&&!le;){var W=E.get(t);if(F+=1,typeof W<"u"){if(W===F)throw new RangeError("Cyclic object value");le=!0}typeof E.get(sentinel)>"u"&&(F=0)}if(typeof _=="function"?I=_(r,I):I instanceof Date?I=M(I):o==="comma"&&isArray$4(I)&&(I=utils$3.maybeMap(I,function(G){return G instanceof Date?M(G):G})),I===null){if(u)return g&&!k?g(r,defaults$2.encoder,P,"key",C):r;I=""}if(isNonNullishPrimitive(I)||utils$3.isBuffer(I)){if(g){var ae=k?r:g(r,defaults$2.encoder,P,"key",C);if(o==="comma"&&k){for(var te=split.call(String(I),","),oe="",ie=0;ie<te.length;++ie)oe+=(ie===0?"":",")+T(g(te[ie],defaults$2.encoder,P,"value",C));return[T(ae)+"="+oe]}return[T(ae)+"="+T(g(I,defaults$2.encoder,P,"value",C))]}return[T(r)+"="+T(String(I))]}var Ee=[];if(typeof I>"u")return Ee;var D;if(o==="comma"&&isArray$4(I))D=[{value:I.length>0?I.join(",")||null:void 0}];else if(isArray$4(_))D=_;else{var me=Object.keys(I);D=w?me.sort(w):me}for(var z=0;z<D.length;++z){var pe=D[z],we=typeof pe=="object"&&pe.value!==void 0?pe.value:I[pe];if(!(f&&we===null)){var Q=isArray$4(I)?typeof o=="function"?o(r,pe):r:r+(S?"."+pe:"["+pe+"]");$.set(t,F);var Y=getSideChannel();Y.set(sentinel,$),pushToArray(Ee,e(we,Q,o,u,f,g,_,w,S,M,C,T,k,P,Y))}}return Ee},normalizeStringifyOptions=function(t){if(!t)return defaults$2;if(t.encoder!==null&&t.encoder!==void 0&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||defaults$2.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=formats$1.default;if(typeof t.format<"u"){if(!has$2.call(formats$1.formatters,t.format))throw new TypeError("Unknown format option provided.");o=t.format}var u=formats$1.formatters[o],f=defaults$2.filter;return(typeof t.filter=="function"||isArray$4(t.filter))&&(f=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:defaults$2.addQueryPrefix,allowDots:typeof t.allowDots>"u"?defaults$2.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:defaults$2.charsetSentinel,delimiter:typeof t.delimiter>"u"?defaults$2.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:defaults$2.encode,encoder:typeof t.encoder=="function"?t.encoder:defaults$2.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:defaults$2.encodeValuesOnly,filter:f,format:o,formatter:u,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:defaults$2.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:defaults$2.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:defaults$2.strictNullHandling}},stringify_1=function(e,t){var r=e,o=normalizeStringifyOptions(t),u,f;typeof o.filter=="function"?(f=o.filter,r=f("",r)):isArray$4(o.filter)&&(f=o.filter,u=f);var g=[];if(typeof r!="object"||r===null)return"";var _;t&&t.arrayFormat in arrayPrefixGenerators?_=t.arrayFormat:t&&"indices"in t?_=t.indices?"indices":"repeat":_="indices";var w=arrayPrefixGenerators[_];u||(u=Object.keys(r)),o.sort&&u.sort(o.sort);for(var S=getSideChannel(),M=0;M<u.length;++M){var C=u[M];o.skipNulls&&r[C]===null||pushToArray(g,stringify$2(r[C],C,w,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,S))}var T=g.join(o.delimiter),k=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?k+="utf8=%26%2310003%3B&":k+="utf8=%E2%9C%93&"),T.length>0?k+T:""},utils$2=utils$4,has$1=Object.prototype.hasOwnProperty,isArray$3=Array.isArray,defaults$1={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$2.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},parseArrayValue=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(t,r){var o={},u=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=r.parameterLimit===1/0?void 0:r.parameterLimit,g=u.split(r.delimiter,f),_=-1,w,S=r.charset;if(r.charsetSentinel)for(w=0;w<g.length;++w)g[w].indexOf("utf8=")===0&&(g[w]===charsetSentinel?S="utf-8":g[w]===isoSentinel&&(S="iso-8859-1"),_=w,w=g.length);for(w=0;w<g.length;++w)if(w!==_){var M=g[w],C=M.indexOf("]="),T=C===-1?M.indexOf("="):C+1,k,P;T===-1?(k=r.decoder(M,defaults$1.decoder,S,"key"),P=r.strictNullHandling?null:""):(k=r.decoder(M.slice(0,T),defaults$1.decoder,S,"key"),P=utils$2.maybeMap(parseArrayValue(M.slice(T+1),r),function($){return r.decoder($,defaults$1.decoder,S,"value")})),P&&r.interpretNumericEntities&&S==="iso-8859-1"&&(P=interpretNumericEntities(P)),M.indexOf("[]=")>-1&&(P=isArray$3(P)?[P]:P),has$1.call(o,k)?o[k]=utils$2.combine(o[k],P):o[k]=P}return o},parseObject=function(e,t,r,o){for(var u=o?t:parseArrayValue(t,r),f=e.length-1;f>=0;--f){var g,_=e[f];if(_==="[]"&&r.parseArrays)g=[].concat(u);else{g=r.plainObjects?Object.create(null):{};var w=_.charAt(0)==="["&&_.charAt(_.length-1)==="]"?_.slice(1,-1):_,S=parseInt(w,10);!r.parseArrays&&w===""?g={0:u}:!isNaN(S)&&_!==w&&String(S)===w&&S>=0&&r.parseArrays&&S<=r.arrayLimit?(g=[],g[S]=u):g[w]=u}u=g}return u},parseKeys=function(t,r,o,u){if(t){var f=o.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,g=/(\[[^[\]]*])/,_=/(\[[^[\]]*])/g,w=o.depth>0&&g.exec(f),S=w?f.slice(0,w.index):f,M=[];if(S){if(!o.plainObjects&&has$1.call(Object.prototype,S)&&!o.allowPrototypes)return;M.push(S)}for(var C=0;o.depth>0&&(w=_.exec(f))!==null&&C<o.depth;){if(C+=1,!o.plainObjects&&has$1.call(Object.prototype,w[1].slice(1,-1))&&!o.allowPrototypes)return;M.push(w[1])}return w&&M.push("["+f.slice(w.index)+"]"),parseObject(M,r,o,u)}},normalizeParseOptions=function(t){if(!t)return defaults$1;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?defaults$1.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?defaults$1.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:defaults$1.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:defaults$1.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:defaults$1.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:defaults$1.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:defaults$1.comma,decoder:typeof t.decoder=="function"?t.decoder:defaults$1.decoder,delimiter:typeof t.delimiter=="string"||utils$2.isRegExp(t.delimiter)?t.delimiter:defaults$1.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:defaults$1.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:defaults$1.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:defaults$1.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:defaults$1.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:defaults$1.strictNullHandling}},parse$4=function(e,t){var r=normalizeParseOptions(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var o=typeof e=="string"?parseValues(e,r):e,u=r.plainObjects?Object.create(null):{},f=Object.keys(o),g=0;g<f.length;++g){var _=f[g],w=parseKeys(_,o[_],r,typeof e=="string");u=utils$2.merge(u,w,r)}return r.allowSparse===!0?u:utils$2.compact(u)},stringify$1=stringify_1,parse$3=parse$4,formats=formats$3,lib$3={formats,parse:parse$3,stringify:stringify$1};function _typeof$2(e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(e)}function isObject$2(e){return e!==null&&_typeof$2(e)==="object"}var isObject_1=isObject$2;function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}var semver=require$$3,isObject$1=isObject_1,requestBase=RequestBase;function RequestBase(e){if(e)return mixin$1(e)}function mixin$1(e){for(var t in RequestBase.prototype)Object.prototype.hasOwnProperty.call(RequestBase.prototype,t)&&(e[t]=RequestBase.prototype[t]);return e}RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};RequestBase.prototype.parse=function(e){return this._parser=e,this};RequestBase.prototype.responseType=function(e){return this._responseType=e,this};RequestBase.prototype.serialize=function(e){return this._serializer=e,this};RequestBase.prototype.timeout=function(e){if(!e||_typeof$1(e)!=="object")return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this};RequestBase.prototype.retry=function(e,t){return(arguments.length===0||e===!0)&&(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var ERROR_CODES=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),STATUS_CODES=new Set([408,413,429,500,502,503,504,521,522,524]);RequestBase.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(r===!0)return!0;if(r===!1)return!1}catch(o){console.error(o)}return!!(t&&t.status&&STATUS_CODES.has(t.status)||e&&(e.code&&ERROR_CODES.has(e.code)||e.timeout&&e.code==="ECONNABORTED"||e.crossDomain))};RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};RequestBase.prototype.then=function(e,t){var r=this;if(!this._fullfilledPromise){var o=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(u,f){o.on("abort",function(){if(!(r._maxRetries&&r._maxRetries>r._retries)){if(r.timedout&&r.timedoutError){f(r.timedoutError);return}var g=new Error("Aborted");g.code="ABORTED",g.status=r.status,g.method=r.method,g.url=r.url,f(g)}}),o.end(function(g,_){g?f(g):u(_)})})}return this._fullfilledPromise.then(e,t)};RequestBase.prototype.catch=function(e){return this.then(void 0,e)};RequestBase.prototype.use=function(e){return e(this),this};RequestBase.prototype.ok=function(e){if(typeof e!="function")throw new Error("Callback required");return this._okCallback=e,this};RequestBase.prototype._isResponseOK=function(e){return e?this._okCallback?this._okCallback(e):e.status>=200&&e.status<300:!1};RequestBase.prototype.get=function(e){return this._header[e.toLowerCase()]};RequestBase.prototype.getHeader=RequestBase.prototype.get;RequestBase.prototype.set=function(e,t){if(isObject$1(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this};RequestBase.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this};RequestBase.prototype.field=function(e,t){if(e==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(isObject$1(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(r,e[r]);return this}if(Array.isArray(t)){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&this.field(e,t[o]);return this}if(t==null)throw new Error(".field(name, val) val can not be empty");return typeof t=="boolean"&&(t=String(t)),this._getFormData().append(e,t),this};RequestBase.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(semver.gte(process.version,"v13.0.0")&&semver.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");semver.gte(process.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this};RequestBase.prototype._auth=function(e,t,r,o){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(o("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e));break}return this};RequestBase.prototype.withCredentials=function(e){return e===void 0&&(e=!0),this._withCredentials=e,this};RequestBase.prototype.redirects=function(e){return this._maxRedirects=e,this};RequestBase.prototype.maxResponseSize=function(e){if(typeof e!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=e,this};RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};RequestBase.prototype.send=function(e){var t=isObject$1(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&isObject$1(this._data))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this._data[o]=e[o]);else typeof e=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(e):e:this._data=(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)};RequestBase.prototype.sortQuery=function(e){return this._sort=typeof e>"u"?!0:e,this};RequestBase.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.slice(t+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,t)+"?"+r.join("&")}}};RequestBase.prototype._appendQueryString=function(){console.warn("Unsupported")};RequestBase.prototype._timeoutError=function(e,t,r){if(!this._aborted){var o=new Error("".concat(e+t,"ms exceeded"));o.timeout=t,o.code="ECONNABORTED",o.errno=r,this.timedout=!0,this.timedoutError=o,this.abort(),this.callback(o)}};RequestBase.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var utils$1={};function _createForOfIteratorHelper$1(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$2(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var o=0,u=function(){};return{s:u,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(S){throw S},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,g=!1,_;return{s:function(){r=r.call(e)},n:function(){var S=r.next();return f=S.done,S},e:function(S){g=!0,_=S},f:function(){try{!f&&r.return!=null&&r.return()}finally{if(g)throw _}}}}function _unsupportedIterableToArray$2(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$2(e,t)}}function _arrayLikeToArray$2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}utils$1.type=function(e){return e.split(/ *; */).shift()};utils$1.params=function(e){var t={},r=_createForOfIteratorHelper$1(e.split(/ *; */)),o;try{for(r.s();!(o=r.n()).done;){var u=o.value,f=u.split(/ *= */),g=f.shift(),_=f.shift();g&&_&&(t[g]=_)}}catch(w){r.e(w)}finally{r.f()}return t};utils$1.parseLinks=function(e){var t={},r=_createForOfIteratorHelper$1(e.split(/ *, */)),o;try{for(r.s();!(o=r.n()).done;){var u=o.value,f=u.split(/ *; */),g=f[0].slice(1,-1),_=f[1].split(/ *= */)[1].slice(1,-1);t[_]=g}}catch(w){r.e(w)}finally{r.f()}return t};utils$1.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e};var utils=utils$1,responseBase=ResponseBase;function ResponseBase(e){if(e)return mixin(e)}function mixin(e){for(var t in ResponseBase.prototype)Object.prototype.hasOwnProperty.call(ResponseBase.prototype,t)&&(e[t]=ResponseBase.prototype[t]);return e}ResponseBase.prototype.get=function(e){return this.header[e.toLowerCase()]};ResponseBase.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=utils.type(t);var r=utils.params(t);for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(this[o]=r[o]);this.links={};try{e.link&&(this.links=utils.parseLinks(e.link))}catch{}};ResponseBase.prototype._setStatusProperties=function(e){var t=Math.trunc(e/100);this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=t===1,this.ok=t===2,this.redirect=t===3,this.clientError=t===4,this.serverError=t===5,this.error=t===4||t===5?this.toError():!1,this.created=e===201,this.accepted=e===202,this.noContent=e===204,this.badRequest=e===400,this.unauthorized=e===401,this.notAcceptable=e===406,this.forbidden=e===403,this.notFound=e===404,this.unprocessableEntity=e===422};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray$1(e)||_unsupportedIterableToArray$1(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray$1(e)}function _createForOfIteratorHelper(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$1(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var o=0,u=function(){};return{s:u,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(S){throw S},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,g=!1,_;return{s:function(){r=r.call(e)},n:function(){var S=r.next();return f=S.done,S},e:function(S){g=!0,_=S},f:function(){try{!f&&r.return!=null&&r.return()}finally{if(g)throw _}}}}function _unsupportedIterableToArray$1(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(e,t)}}function _arrayLikeToArray$1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Agent(){this._defaults=[]}var _loop=function(){var t=_arr[_i];Agent.prototype[t]=function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this._defaults.push({fn:t,args:o}),this}};for(var _i=0,_arr=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];_i<_arr.length;_i++)_loop();Agent.prototype._setDefaults=function(e){var t=_createForOfIteratorHelper(this._defaults),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;e[o.fn].apply(e,_toConsumableArray(o.args))}}catch(u){t.e(u)}finally{t.f()}};var agentBase=Agent;(function(e,t){function r(z){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},r(z)}function o(z,pe){var we=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!we){if(Array.isArray(z)||(we=u(z))||pe&&z&&typeof z.length=="number"){we&&(z=we);var Q=0,Y=function(){};return{s:Y,n:function(){return Q>=z.length?{done:!0}:{done:!1,value:z[Q++]}},e:function(nt){throw nt},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G=!0,q=!1,Te;return{s:function(){we=we.call(z)},n:function(){var nt=we.next();return G=nt.done,nt},e:function(nt){q=!0,Te=nt},f:function(){try{!G&&we.return!=null&&we.return()}finally{if(q)throw Te}}}}function u(z,pe){if(z){if(typeof z=="string")return f(z,pe);var we=Object.prototype.toString.call(z).slice(8,-1);if(we==="Object"&&z.constructor&&(we=z.constructor.name),we==="Map"||we==="Set")return Array.from(z);if(we==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we))return f(z,pe)}}function f(z,pe){(pe==null||pe>z.length)&&(pe=z.length);for(var we=0,Q=new Array(pe);we<pe;we++)Q[we]=z[we];return Q}var g;typeof window<"u"?g=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),g=void 0):g=self;var _=componentEmitterExports,w=fastSafeStringify$1,S=lib$3,M=requestBase,C=isObject_1,T=responseBase,k=agentBase;function P(){}e.exports=function(z,pe){return typeof pe=="function"?new t.Request("GET",z).end(pe):arguments.length===1?new t.Request("GET",z):new t.Request(z,pe)},t=e.exports;var $=t;t.Request=oe,$.getXHR=function(){if(g.XMLHttpRequest&&(!g.location||g.location.protocol!=="file:"||!g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var I="".trim?function(z){return z.trim()}:function(z){return z.replace(/(^\s*|\s*$)/g,"")};function E(z){if(!C(z))return z;var pe=[];for(var we in z)Object.prototype.hasOwnProperty.call(z,we)&&F(pe,we,z[we]);return pe.join("&")}function F(z,pe,we){if(we!==void 0){if(we===null){z.push(encodeURI(pe));return}if(Array.isArray(we)){var Q=o(we),Y;try{for(Q.s();!(Y=Q.n()).done;){var G=Y.value;F(z,pe,G)}}catch(Te){Q.e(Te)}finally{Q.f()}}else if(C(we))for(var q in we)Object.prototype.hasOwnProperty.call(we,q)&&F(z,"".concat(pe,"[").concat(q,"]"),we[q]);else z.push(encodeURI(pe)+"="+encodeURIComponent(we))}}$.serializeObject=E;function le(z){for(var pe={},we=z.split("&"),Q,Y,G=0,q=we.length;G<q;++G)Q=we[G],Y=Q.indexOf("="),Y===-1?pe[decodeURIComponent(Q)]="":pe[decodeURIComponent(Q.slice(0,Y))]=decodeURIComponent(Q.slice(Y+1));return pe}$.parseString=le,$.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},$.serialize={"application/x-www-form-urlencoded":S.stringify,"application/json":w},$.parse={"application/x-www-form-urlencoded":le,"application/json":JSON.parse};function W(z){for(var pe=z.split(/\r?\n/),we={},Q,Y,G,q,Te=0,De=pe.length;Te<De;++Te)Y=pe[Te],Q=Y.indexOf(":"),Q!==-1&&(G=Y.slice(0,Q).toLowerCase(),q=I(Y.slice(Q+1)),we[G]=q);return we}function ae(z){return/[/+]json($|[^-\w])/i.test(z)}function te(z){this.req=z,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var pe=this.xhr.status;pe===1223&&(pe=204),this._setStatusProperties(pe),this.headers=W(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&z._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}T(te.prototype),te.prototype._parseBody=function(z){var pe=$.parse[this.type];return this.req._parser?this.req._parser(this,z):(!pe&&ae(this.type)&&(pe=$.parse["application/json"]),pe&&z&&(z.length>0||z instanceof Object)?pe(z):null)},te.prototype.toError=function(){var z=this.req,pe=z.method,we=z.url,Q="cannot ".concat(pe," ").concat(we," (").concat(this.status,")"),Y=new Error(Q);return Y.status=this.status,Y.method=pe,Y.url=we,Y},$.Response=te;function oe(z,pe){var we=this;this._query=this._query||[],this.method=z,this.url=pe,this.header={},this._header={},this.on("end",function(){var Q=null,Y=null;try{Y=new te(we)}catch(q){return Q=new Error("Parser is unable to parse the response"),Q.parse=!0,Q.original=q,we.xhr?(Q.rawResponse=typeof we.xhr.responseType>"u"?we.xhr.responseText:we.xhr.response,Q.status=we.xhr.status?we.xhr.status:null,Q.statusCode=Q.status):(Q.rawResponse=null,Q.status=null),we.callback(Q)}we.emit("response",Y);var G;try{we._isResponseOK(Y)||(G=new Error(Y.statusText||Y.text||"Unsuccessful HTTP response"))}catch(q){G=q}G?(G.original=Q,G.response=Y,G.status=Y.status,we.callback(G,Y)):we.callback(null,Y)})}_(oe.prototype),M(oe.prototype),oe.prototype.type=function(z){return this.set("Content-Type",$.types[z]||z),this},oe.prototype.accept=function(z){return this.set("Accept",$.types[z]||z),this},oe.prototype.auth=function(z,pe,we){arguments.length===1&&(pe=""),r(pe)==="object"&&pe!==null&&(we=pe,pe=""),we||(we={type:typeof btoa=="function"?"basic":"auto"});var Q=function(G){if(typeof btoa=="function")return btoa(G);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(z,pe,we,Q)},oe.prototype.query=function(z){return typeof z!="string"&&(z=E(z)),z&&this._query.push(z),this},oe.prototype.attach=function(z,pe,we){if(pe){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(z,pe,we||pe.name)}return this},oe.prototype._getFormData=function(){return this._formData||(this._formData=new g.FormData),this._formData},oe.prototype.callback=function(z,pe){if(this._shouldRetry(z,pe))return this._retry();var we=this._callback;this.clearTimeout(),z&&(this._maxRetries&&(z.retries=this._retries-1),this.emit("error",z)),we(z,pe)},oe.prototype.crossDomainError=function(){var z=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);z.crossDomain=!0,z.status=this.status,z.method=this.method,z.url=this.url,this.callback(z)},oe.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},oe.prototype.ca=oe.prototype.agent,oe.prototype.buffer=oe.prototype.ca,oe.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},oe.prototype.pipe=oe.prototype.write,oe.prototype._isHost=function(z){return z&&r(z)==="object"&&!Array.isArray(z)&&Object.prototype.toString.call(z)!=="[object Object]"},oe.prototype.end=function(z){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=z||P,this._finalizeQueryString(),this._end()},oe.prototype._setUploadTimeout=function(){var z=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){z._timeoutError("Upload timeout of ",z._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},oe.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var z=this;this.xhr=$.getXHR();var pe=this.xhr,we=this._formData||this._data;this._setTimeouts(),pe.addEventListener("readystatechange",function(){var Te=pe.readyState;if(Te>=2&&z._responseTimeoutTimer&&clearTimeout(z._responseTimeoutTimer),Te===4){var De;try{De=pe.status}catch{De=0}if(!De)return z.timedout||z._aborted?void 0:z.crossDomainError();z.emit("end")}});var Q=function(De,nt){nt.total>0&&(nt.percent=nt.loaded/nt.total*100,nt.percent===100&&clearTimeout(z._uploadTimeoutTimer)),nt.direction=De,z.emit("progress",nt)};if(this.hasListeners("progress"))try{pe.addEventListener("progress",Q.bind(null,"download")),pe.upload&&pe.upload.addEventListener("progress",Q.bind(null,"upload"))}catch{}pe.upload&&this._setUploadTimeout();try{this.username&&this.password?pe.open(this.method,this.url,!0,this.username,this.password):pe.open(this.method,this.url,!0)}catch(Te){return this.callback(Te)}if(this._withCredentials&&(pe.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof we!="string"&&!this._isHost(we)){var Y=this._header["content-type"],G=this._serializer||$.serialize[Y?Y.split(";")[0]:""];!G&&ae(Y)&&(G=$.serialize["application/json"]),G&&(we=G(we))}for(var q in this.header)this.header[q]!==null&&Object.prototype.hasOwnProperty.call(this.header,q)&&pe.setRequestHeader(q,this.header[q]);this._responseType&&(pe.responseType=this._responseType),this.emit("request",this),pe.send(typeof we>"u"?null:we)},$.agent=function(){return new k};for(var ie=function(){var pe=D[Ee];k.prototype[pe.toLowerCase()]=function(we,Q){var Y=new $.Request(pe,we);return this._setDefaults(Y),Q&&Y.end(Q),Y}},Ee=0,D=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];Ee<D.length;Ee++)ie();k.prototype.del=k.prototype.delete,$.get=function(z,pe,we){var Q=$("GET",z);return typeof pe=="function"&&(we=pe,pe=null),pe&&Q.query(pe),we&&Q.end(we),Q},$.head=function(z,pe,we){var Q=$("HEAD",z);return typeof pe=="function"&&(we=pe,pe=null),pe&&Q.query(pe),we&&Q.end(we),Q},$.options=function(z,pe,we){var Q=$("OPTIONS",z);return typeof pe=="function"&&(we=pe,pe=null),pe&&Q.send(pe),we&&Q.end(we),Q};function me(z,pe,we){var Q=$("DELETE",z);return typeof pe=="function"&&(we=pe,pe=null),pe&&Q.send(pe),we&&Q.end(we),Q}$.del=me,$.delete=me,$.patch=function(z,pe,we){var Q=$("PATCH",z);return typeof pe=="function"&&(we=pe,pe=null),pe&&Q.send(pe),we&&Q.end(we),Q},$.post=function(z,pe,we){var Q=$("POST",z);return typeof pe=="function"&&(we=pe,pe=null),pe&&Q.send(pe),we&&Q.end(we),Q},$.put=function(z,pe,we){var Q=$("PUT",z);return typeof pe=="function"&&(we=pe,pe=null),pe&&Q.send(pe),we&&Q.end(we),Q}})(client,client.exports);var clientExports=client.exports;const request=getDefaultExportFromCjs(clientExports),examples=[{sketch_id:"example_0",code:"JTJGJTJGRmxvciUyMGRlJTIwRnVlZ28lMEElMEFzaGFwZSgyMDAlMkMwLjUlMkMxLjUpJTBBLnNjYWxlKDAuNSUyQzAuNSklMEEuY29sb3IoJTVCMC41JTJDMiU1RC5zbW9vdGgoMSklMkMwLjMlMkMwKSUwQS5yZXBlYXQoMiUyQzIpJTBBLm1vZHVsYXRlU2NhbGUob3NjKDMlMkMwLjUpJTJDLTAuNiklMEEuYWRkKG8wJTJDMC41KSUwQS5zY2FsZSgwLjkpJTBBLm91dCgp"},{sketch_id:"example_3",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTBBb3NjKDIwJTJDJTIwMC4wMyUyQyUyMDEuNykua2FsZWlkKCkubXVsdChvc2MoMjAlMkMlMjAwLjAwMSUyQyUyMDApLnJvdGF0ZSgxLjU4KSkuYmxlbmQobzAlMkMlMjAwLjk0KS5tb2R1bGF0ZVNjYWxlKG9zYygxMCUyQyUyMDApJTJDLTAuMDMpLnNjYWxlKDAuOCUyQyUyMCgpJTIwJTNEJTNFJTIwKDEuMDUlMjAlMkIlMjAwLjElMjAqJTIwTWF0aC5zaW4oMC4wNSp0aW1lKSkpLm91dChvMCk="},{sketch_id:"example_4",code:"JTJGJTJGJTIwYnklMjBOZWxzb24lMjBWZXJhJTBBJTJGJTJGJTIwdHdpdHRlciUzQSUyMCU0MG5lbF9zb25vbG9naWElMEElMEFvc2MoOCUyQy0wLjUlMkMlMjAxKS5jb2xvcigtMS41JTJDJTIwLTEuNSUyQyUyMC0xLjUpLmJsZW5kKG8wKS5yb3RhdGUoLTAuNSUyQyUyMC0wLjUpLm1vZHVsYXRlKHNoYXBlKDQpLnJvdGF0ZSgwLjUlMkMlMjAwLjUpLnNjYWxlKDIpLnJlcGVhdFgoMiUyQyUyMDIpLm1vZHVsYXRlKG8wJTJDJTIwKCklMjAlM0QlM0UlMjBtb3VzZS54JTIwKiUyMDAuMDAwNSkucmVwZWF0WSgyJTJDJTIwMikpLm91dChvMCklMEElMEElMEElMEElMEElMEE="},{sketch_id:"example_6",code:"JTJGJTJGJTIwYnklMjBEJUMzJUE5Ym9yYSUyMEZhbGxlaXJvcyUyMEdvbnphbGVzJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZ3d3cuZ29uemFsZXNkZWJvcmEuY29tJTJGJTBBJTBBb3NjKDUpLmFkZChub2lzZSg1JTJDJTIwMikpLmNvbG9yKDAlMkMlMjAwJTJDJTIwMykuY29sb3JhbWEoMC40KS5vdXQoKSUwQSUwQSUwQSUwQQ=="},{sketch_id:"example_8",code:"JTJGJTJGJTIwYnklMjBSb2RyaWdvJTIwVmVsYXNjbyUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGeWVjdG8uZ2l0aHViLmlvJTJGJTBBJTBBb3NjKDEwNyUyQyUyMDAlMkMlMjAwLjcpLmNvbG9yKDElMkMlMjAwJTJDJTIwMSkucm90YXRlKDAlMkMlMjAtMC4wOCkubW9kdWxhdGVSb3RhdGUobzElMkMlMjAwLjQpLm91dChvMCklMEFvc2MoMzMpLnJvdGF0ZSgyJTJDJTIwMC44KS5tb2R1bGF0ZVJvdGF0ZShvMCUyQyUyMCgpJTIwJTNEJTNFJTIwKGEuZmZ0JTVCMCU1RCoyKSkub3V0KG8xKSUwQQ=="},{sketch_id:"example_9",code:"JTJGJTJGJTIwYnklMjBSb2RyaWdvJTIwVmVsYXNjbyUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGeWVjdG8uZ2l0aHViLmlvJTJGJTBBJTBBb3NjKDE4JTJDJTIwMC4xJTJDJTIwMCkuY29sb3IoMiUyQyUyMDAuMSUyQyUyMDIpJTBBLm11bHQob3NjKDIwJTJDJTIwMC4wMSUyQyUyMDApKS5yZXBlYXQoMiUyQyUyMDIwKS5yb3RhdGUoMC41KS5tb2R1bGF0ZShvMSklMEEuc2NhbGUoMSUyQyUyMCgpJTIwJTNEJTNFJTIwJTIwKGEuZmZ0JTVCMCU1RCowLjklMjAlMkIlMjAyKSkuZGlmZihvMSkub3V0KG8wKSUwQW9zYygyMCUyQyUyMDAuMiUyQyUyMDApLmNvbG9yKDIlMkMlMjAwLjclMkMlMjAwLjEpLm11bHQob3NjKDQwKSkubW9kdWxhdGVSb3RhdGUobzAlMkMlMjAwLjIpJTBBLnJvdGF0ZSgwLjIpLm91dChvMSk="},{sketch_id:"example_10",code:"JTJGJTJGJTIwYnklMjBaYWNoJTIwS3JhbGwlMEElMkYlMkYlMjBodHRwJTNBJTJGJTJGemFjaGtyYWxsLm9ubGluZSUyRiUwQSUwQW9zYyglMjAyMTUlMkMlMjAwLjElMkMlMjAyJTIwKSUwQS5tb2R1bGF0ZSglMEElMjAlMjBvc2MoJTIwMiUyQyUyMC0wLjMlMkMlMjAxMDAlMjApJTBBJTIwJTIwLnJvdGF0ZSgxNSklMEEpJTBBLm11bHQoJTBBJTIwJTIwb3NjKCUyMDIxNSUyQyUyMC0wLjElMkMlMjAyKSUwQSUyMCUyMC5waXhlbGF0ZSglMjA1MCUyQyUyMDUwJTIwKSUwQSklMEEuY29sb3IoJTIwMC45JTJDJTIwMC4wJTJDJTIwMC45JTIwKSUwQS5tb2R1bGF0ZSglMEElMjAlMjBvc2MoJTIwNiUyQyUyMC0wLjElMjApJTBBJTIwJTIwLnJvdGF0ZSglMjA5JTIwKSUwQSklMEEuYWRkKCUwQSUyMCUyMG9zYyglMjAxMCUyQyUyMC0wLjklMkMlMjA5MDAlMjApJTBBJTIwJTIwLmNvbG9yKDElMkMwJTJDMSklMEEpJTBBLm11bHQoJTBBJTIwJTIwc2hhcGUoOTAwJTJDJTIwMC4yJTJDJTIwMSklMEElMjAlMjAubHVtYSgpJTBBJTIwJTIwLnJlcGVhdFgoMiklMEElMjAlMjAucmVwZWF0WSgyKSUwQSUyMCUyMC5jb2xvcmFtYSgxMCklMEEpJTBBLm1vZHVsYXRlKCUwQSUyMCUyMG9zYyglMjA5JTJDJTIwLTAuMyUyQyUyMDkwMCUyMCklMEElMjAlMjAucm90YXRlKCUyMDYlMjApJTBBKSUwQS5hZGQoJTBBJTIwJTIwb3NjKDQlMkMlMjAxJTJDJTIwOTApJTBBJTIwJTIwLmNvbG9yKDAuMiUyQzAlMkMxKSUwQSklMEEub3V0KCklMEE="},{sketch_id:"example_11",code:"JTJGJTJGJTIwYnklMjBaYWNoJTIwS3JhbGwlMEElMkYlMkYlMjBodHRwJTNBJTJGJTJGemFjaGtyYWxsLm9ubGluZSUyRiUwQSUwQW9zYygxMCUyQyUyMDAuOSUyQyUyMDMwMCklMEEuY29sb3IoMC45JTJDJTIwMC43JTJDJTIwMC44KSUwQS5kaWZmKCUwQSUyMCUyMG9zYyg0NSUyQyUyMDAuMyUyQyUyMDEwMCklMEElMjAlMjAuY29sb3IoMC45JTJDJTIwMC45JTJDJTIwMC45KSUwQSUyMCUyMC5yb3RhdGUoMC4xOCklMEElMjAlMjAucGl4ZWxhdGUoMTIpJTBBJTIwJTIwLmthbGVpZCgpJTBBKSUwQS5zY3JvbGxYKDEwKSUwQS5jb2xvcmFtYSgpJTBBLmx1bWEoKSUwQS5yZXBlYXRYKDQpJTBBLnJlcGVhdFkoNCklMEEubW9kdWxhdGUoJTBBJTIwJTIwb3NjKDElMkMlMjAtMC45JTJDJTIwMzAwKSUwQSklMEEuc2NhbGUoMiklMEEub3V0KCklMEE="},{sketch_id:"example_13",code:"JTJGJTJGJTIwYWNpZCUyMGJ1cyUyMHNlYXQlMEElMkYlMkYlMjBieSUyMFdpbGwlMjBIdW1waHJleXMlMEElMkYlMkYlMjBodHRwcyUzQSUyRiUyRmdpdGh1Yi5jb20lMkZUaGVXaXNweSUwQSUwQW9zYygxMDUpLmNvbG9yKDAuNSUyQzAuMSUyQzAuOCkucm90YXRlKDAuMTElMkMlMjAwLjEpLm1vZHVsYXRlKG9zYygxMCkucm90YXRlKDAuMykuYWRkKG8wJTJDJTIwMC4xKSkuYWRkKG9zYygyMCUyQzAuMDElMkMxKS5jb2xvcigwJTJDMC44JTJDMSkpLm91dChvMCklMEFvc2MoNTAlMkMwLjA1JTJDJTIwMC43KS5jb2xvcigxJTJDMC43JTJDMC41KS5kaWZmKG8wKS5tb2R1bGF0ZShvMSUyQzAuMDUpLm91dChvMSklMEFyZW5kZXIobzEp"},{sketch_id:"example_14",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTJGJTJGJTIwJTQwX29qYWNrXyUwQSUwQW9zYygyMCUyQyUyMDAuMDElMkMlMjAxLjEpJTBBJTA5LmthbGVpZCg1KSUwQSUwOS5jb2xvcigyLjgzJTJDMC45MSUyQzAuMzkpJTBBJTA5LnJvdGF0ZSgwJTJDJTIwMC4xKSUwQSUwOS5tb2R1bGF0ZShvMCUyQyUyMCgpJTIwJTNEJTNFJTIwbW91c2UueCUyMColMjAwLjAwMDMpJTBBJTA5LnNjYWxlKDEuMDEpJTBBJTIwJTIwJTA5Lm91dChvMCk="},{sketch_id:"example_15",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZvamFjay5naXRodWIuaW8lMEElMEFvc2MoMTAwJTJDJTIwMC4wMSUyQyUyMDEuNCklMEElMDkucm90YXRlKDAlMkMlMjAwLjEpJTBBJTA5Lm11bHQob3NjKDEwJTJDJTIwMC4xKS5tb2R1bGF0ZShvc2MoMTApLnJvdGF0ZSgwJTJDJTIwLTAuMSklMkMlMjAxKSklMEElMDkuY29sb3IoMi44MyUyQzAuOTElMkMwLjM5KSUwQSUyMCUyMC5vdXQobzAp"},{sketch_id:"example_16",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZvamFjay5naXRodWIuaW8lMEElMEFvc2MoNCUyQyUyMDAuMSUyQyUyMDAuOCkuY29sb3IoMS4wNCUyQzAlMkMlMjAtMS4xKS5yb3RhdGUoMC4zMCUyQyUyMDAuMSkucGl4ZWxhdGUoMiUyQyUyMDIwKS5tb2R1bGF0ZShub2lzZSgyLjUpJTJDJTIwKCklMjAlM0QlM0UlMjAxLjUlMjAqJTIwTWF0aC5zaW4oMC4wOCUyMColMjB0aW1lKSkub3V0KG8wKQ=="},{sketch_id:"example_17",code:"JTJGJTJGJTIwbW9pcmUlMEElMkYlMkYlMjBieSUyME9saXZpYSUyMEphY2slMEElMkYlMkYlMjB0d2l0dGVyJTNBJTIwJTQwX29qYWNrXyUwQSUwQXBhdHRlcm4lMjAlM0QlMjAoKSUyMCUzRCUzRSUyMG9zYygyMDAlMkMlMjAwKS5rYWxlaWQoMjAwKS5zY2FsZSgxJTJDJTIwMC40KSUwQSUyRiUyRiUwQXBhdHRlcm4oKSUwQSUyMCUyMC5zY3JvbGxYKDAuMSUyQyUyMDAuMDEpJTBBJTIwJTIwLm11bHQocGF0dGVybigpKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"example_18",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZvamFjay5naXRodWIuaW8lMEElMEFvc2MoNiUyQyUyMDAlMkMlMjAwLjgpJTBBJTIwJTIwLmNvbG9yKDEuMTQlMkMlMjAwLjYlMkMuODApJTBBJTIwJTIwLnJvdGF0ZSgwLjkyJTJDJTIwMC4zKSUwQSUyMCUyMC5waXhlbGF0ZSgyMCUyQyUyMDEwKSUwQSUyMCUyMC5tdWx0KG9zYyg0MCUyQyUyMDAuMDMpLnRocmVzaCgwLjQpLnJvdGF0ZSgwJTJDJTIwLTAuMDIpKSUwQSUyMCUyMC5tb2R1bGF0ZVJvdGF0ZShvc2MoMjAlMkMlMjAwKS50aHJlc2goMC4zJTJDJTIwMC42KSUyQyUyMCgpJTIwJTNEJTNFJTIwMC4xJTIwJTJCJTIwbW91c2UueCUyMColMjAwLjAwMiklMEElMjAlMjAub3V0KG8wKQ=="},{sketch_id:"rangga_0",code:"JTJGJTJGJTIwRHJlYW15JTIwRGlhbW9uZCUwQSUyRiUyRiUyMGJ5JTIwUmFuZ2dhJTIwUHVybmFtYSUyMEFqaSUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGcmFuZ2dhcHVybmFtYWFqaTEud2l4c2l0ZS5jb20lMkZwb3J0Zm9saW8lMEElMEFvc2MoNyUyQy0wLjEyNSkubW9kdWxhdGUodm9yb25vaSgxKSkuZGlmZih2b3Jvbm9pKDEpLm11bHQoZ3JhZGllbnQoLTEpLmx1bWEoMC4xMjUpKSklMEElMjAlMjAubHVtYSgwLjEyNSklMEElMjAlMjAuYWRkKHNoYXBlKDclMkMlMjAwLjUpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwLm11bHQodm9yb25vaSgxMCUyQzIpLmJsZW5kKG8wKS5kaWZmKGdyYWRpZW50KDEpKS5tb2R1bGF0ZSh2b3Jvbm9pKCkpKSklMEElMjAlMjAuc2Nyb2xsWSgtMC4xKSUwQSUyMCUyMC5zY3JvbGxYKDAuMTI1KSUwQSUyMCUyMC5ibGVuZChvMCklMEElMjAlMjAuYmxlbmQobzApJTBBJTIwJTIwLm91dCgpJTBB"},{sketch_id:"rangga_1",code:"JTJGJTJGJTIwVGFnJTIwJTI2JTIwU3dlZXAlMEElMkYlMkYlMjBieSUyMFJhbmdnYSUyMFB1cm5hbWElMjBBamklMEElMkYlMkYlMjBodHRwcyUzQSUyRiUyRnJhbmdnYXB1cm5hbWFhamkxLndpeHNpdGUuY29tJTJGcG9ydGZvbGlvJTBBJTBBb3NjKDUlMkMwLjEyNSkuY29sb3JhbWEoMSklMEElMjAlMjAubHVtYSgwLjEyNSkuYWRkKHNoYXBlKDElMkMwLjUpLmx1bWEoMikuZGlmZihncmFkaWVudCgxKSkpJTBBJTIwJTIwLmRpZmYob3NjKC0xJTJDLTAuMjUpKS5ibGVuZChvMCkuY29sb3IoMCUyQzIuNSUyQzEuNzUpJTBBJTIwJTIwLm91dCgp"},{sketch_id:"rangga_2",code:"JTJGJTJGJTIwTW9ub2Nocm9tZSUyME1lbW9hciUwQSUyRiUyRiUyMGJ5JTIwUmFuZ2dhJTIwUHVybmFtYSUyMEFqaSUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGcmFuZ2dhcHVybmFtYWFqaTEud2l4c2l0ZS5jb20lMkZwb3J0Zm9saW8lMEElMEF2b3Jvbm9pKDUwJTJDMSklMEElMjAlMjAubHVtYSgwLjUpLmFkZChzaGFwZSgxJTJDMSkubHVtYSgxKSklMEElMjAlMjAubW9kdWxhdGUob3NjKC0xMDAwJTJDLTEpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLm1vZHVsYXRlKG9zYygpLmx1bWEoKSkpJTBBJTIwJTIwLmJsZW5kKG8wKSUwQSUyMCUyMC5ibGVuZChvMCklMEElMjAlMjAuYmxlbmQobzApJTBBJTIwJTIwLmJsZW5kKG8wKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"rangga_3",code:"JTJGJTJGJTIwR2FsYXh5JTIwVHJpcCUwQSUyRiUyRiUyMGJ5JTIwUmFuZ2dhJTIwUHVybmFtYSUyMEFqaSUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGcmFuZ2dhcHVybmFtYWFqaTEud2l4c2l0ZS5jb20lMkZwb3J0Zm9saW8lMEElMEFzaGFwZSgxJTJDMSklMEElMjAlMjAubXVsdCh2b3Jvbm9pKDEwMDAlMkMyKSUwQSUyMCUyMC5ibGVuZChvMCkubHVtYSgpKSUwQSUyMCUyMC5hZGQoc2hhcGUoMyUyQzAuMTI1KSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMC5yb3RhdGUoMSUyQzEpLm11bHQodm9yb25vaSgxMDAwJTJDMSkubHVtYSgpKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMC5yb3RhdGUoMS41KSkuc2Nyb2xsWCglNUIwLjElMkMtMC4wNjI1JTJDMC4wMDUlMkMwLjAwMDAxJTVEJTJDMCklMEElMjAlMjAuc2Nyb2xsWSglNUIwLjElMkMtMC4wNjI1JTJDMC4wMDUlMkMwLjAwMDAxJTVEJTJDMCklMEElMjAlMjAub3V0KCk="},{sketch_id:"rangga_4",code:"JTJGJTJGJTIwU3VtZXQlMEElMkYlMkYlMjBieSUyMFJhbmdnYSUyMFB1cm5hbWElMjBBamklMEElMkYlMkYlMjBodHRwcyUzQSUyRiUyRnJhbmdnYXB1cm5hbWFhamkxLndpeHNpdGUuY29tJTJGcG9ydGZvbGlvJTBBJTBBb3NjKDAuNSUyQzEuMjUpLm11bHQoc2hhcGUoMSUyQzAuMDkpLnJvdGF0ZSgxLjUpKSUwQSUyMCUyMC5kaWZmKGdyYWRpZW50KCkpJTBBJTIwJTIwLmFkZChzaGFwZSgyJTJDMikuYmxlbmQoZ3JhZGllbnQoMSkpKSUwQSUyMCUyMC5tb2R1bGF0ZShub2lzZSgpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLm1vZHVsYXRlKG5vaXNlKCkuc2Nyb2xsWSgxJTJDMC4wNjI1KSkpJTBBJTIwJTIwLmJsZW5kKG8wKSUwQSUyMCUyMC5jb2xvcigxJTJDLTAuNSUyQy0wLjc1KSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"marianne_0",code:"JTJGJTJGcG9ydCUwQSUyRiUyRmJ5JTIwTWFyaWFubmUlMjBUZWl4aWRvJTBBJTJGJTJGaHR0cHMlM0ElMkYlMkZtYXJpYW5uZXRlaXhpZG8uZ2l0aHViLmlvJTJGJTBBJTBBb3NjKDUlMkMlMjAwLjklMkMlMjAwLjAwMSklMEElMjAlMjAlMjAlMjAua2FsZWlkKCU1QjMlMkM0JTJDNSUyQzclMkM4JTJDOSUyQzEwJTVELmZhc3QoMC4xKSklMEElMjAlMjAlMjAlMjAuY29sb3IoMC41JTJDJTIwMC4zKSUwQSUyMCUyMCUyMCUyMC5jb2xvcmFtYSgwLjQpJTBBJTIwJTIwJTIwJTIwLnJvdGF0ZSgwLjAwOSUyQygpJTNEJTNFTWF0aC5zaW4odGltZSkqJTIwLTAuMDAxJTIwKSUwQSUyMCUyMCUyMCUyMC5tb2R1bGF0ZVJvdGF0ZShvMCUyQygpJTNEJTNFTWF0aC5zaW4odGltZSklMjAqJTIwMC4wMDMpJTBBJTIwJTIwJTIwJTIwLm1vZHVsYXRlKG8wJTJDJTIwMC45KSUwQSUyMCUyMCUyMCUyMC5zY2FsZSgwLjkpJTBBJTIwJTIwJTIwJTIwLm91dChvMCklMEElMEE="},{sketch_id:"marianne_1",code:"JTJGJTJGUGl4ZWxzY2FwZSUwQSUyRiUyRk1hcmlhbm5lJTIwVGVpeGlkbyUwQSUyRiUyRmh0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRk1hcmlhbm5lVGVpeGlkbyUwQSUwQXNyYyhvMCklMEElMjAuc2F0dXJhdGUoMS4wMSklMEElMjAuc2NhbGUoLjk5OSklMEElMjAuY29sb3IoMS4wMSUyQzEuMDElMkMxLjAxKSUwQSUyMC5odWUoLjAxKSUwQSUyMC5tb2R1bGF0ZUh1ZShzcmMobzEpLmh1ZSguMykucG9zdGVyaXplKC0xKS5jb250cmFzdCguNyklMkMyKSUwQSUyMCUyMC5sYXllcihzcmMobzEpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLmx1bWEoKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMC5tdWx0KGdyYWRpZW50KDEpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLnNhdHVyYXRlKC45KSkpJTBBJTIwJTIwLm91dChvMCklMEElMEFub2lzZSgxJTJDJTIwLjIpJTBBJTIwJTIwLnJvdGF0ZSgyJTJDLjUpJTBBJTIwJTIwLmxheWVyKHNyYyhvMCklMEElMjAlMjAuc2Nyb2xsWCguMikpJTBBJTIwJTIwLm91dChvMSklMEElMEFyZW5kZXIobzAp"},{sketch_id:"naoto_0",code:"JTJGJTJGJTIwJTQwbmFvdG9faGllZGElMEFvc2MoMjAlMkMlMjAwLjElMkMlMjAwKS5jb2xvcigwJTJDJTIwMSUyQyUyMDIpLnJvdGF0ZSgxLjU3JTJGMikub3V0KG8xKSUwQW9zYygzMCUyQyUyMDAuMDElMkMlMjAwKS5jb2xvcigyJTJDJTIwMC43JTJDJTIwMSkubW9kdWxhdGUobzElMkMlMjAwKS5hZGQobzElMkMxKS5tb2R1bGF0ZVBpeGVsYXRlKG8xJTJDMSUyQzEwKS5vdXQobzAp"},{sketch_id:"naoto_1",code:"JTJGJTJGJTIwJTQwbmFvdG9faGllZGElMEFzb2xpZCgwLjIlMkMwLjYlMkMwLjkpLmxheWVyKG9zYygzMS40JTJDMCkudGhyZXNoKDAuNykubHVtYSgpLm1vZHVsYXRlKG9zYyg0JTJDMSkucm90YXRlKDEpJTJDMC4wNSkuY29sb3IoMCUyQzAlMkMwKSkubGF5ZXIob3NjKDMxLjQlMkMwKS50aHJlc2goMC43KS5sdW1hKCkubW9kdWxhdGUob3NjKDQlMkMxKS5yb3RhdGUoMSklMkMwLjEpKS5vdXQoKQ=="},{sketch_id:"ritchse_0",code:"JTJGJTJGcmFuZG9tJTIwdHJ5cG9waG9iaWElMjAtJTIwY2hhbmdlcyUyMGV2ZXJ5dGltZSUyMHlvdSUyMGxvYWQlMjBpdCElMEElMkYlMkZieSUyMFJpdGNoc2UlMEElMkYlMkZpbnN0YWdyYW0uY29tJTJGcml0Y2hzZSUwQSUyMCUwQWZ1bmN0aW9uJTIwcihtaW4lM0QwJTJDbWF4JTNEMSklMjAlN0IlMjByZXR1cm4lMjBNYXRoLnJhbmRvbSgpKihtYXgtbWluKSUyQm1pbiUzQiUyMCU3RCUwQSUyMCUwQXNvbGlkKDElMkMxJTJDMSklMEElMjAlMjAlMDkuZGlmZihzaGFwZSglNUI0JTJDNCUyQzQlMkMyNCU1RC5zbW9vdGgoKS5mYXN0KC41KSUyQ3IoMC42JTJDMC45MyklMkMuMDkpLnJlcGVhdCgyMCUyQzEwKSklMEElMDkubW9kdWxhdGVTY2FsZShvc2MoOCkucm90YXRlKHIoLS41JTJDLjUpKSUyQy41MiklMEElMDkuYWRkKCUwQSUyMCUyMCUwOSUwOXNyYyhvMCkuc2NhbGUoMC45NjUpLnJvdGF0ZSguMDEyKihNYXRoLnJvdW5kKHIoLTIlMkMxKSkpKSUwQSUyMCUyMCUwOSUwOS5jb2xvcihyKCklMkNyKCklMkNyKCkpJTBBJTIwJTIwJTIwJTIwJTA5Lm1vZHVsYXRlUm90YXRlKG8wJTJDcigwJTJDMC41KSklMEElMjAlMjAlMDklMDkuYnJpZ2h0bmVzcyguMTUpJTBBJTIwJTIwJTA5JTA5JTJDLjcpJTBBJTA5Lm91dCgp"},{sketch_id:"ritchse_1",code:"JTJGJTJGY29ycnVwdGVkJTIwc2NyZWVuc2F2ZXIlMEElMkYlMkZieSUyMFJpdGNoc2UlMEElMkYlMkZpbnN0YWdyYW0uY29tJTJGcml0Y2hzZSUwQSUyMCUwQXZvcm9ub2koMzUwJTJDMC4xNSklMEElMjAlMjAlMDkubW9kdWxhdGVTY2FsZShvc2MoOCkucm90YXRlKE1hdGguc2luKHRpbWUpKSUyQy41KSUwQSUyMCUyMCUwOS50aHJlc2goLjgpJTBBJTA5Lm1vZHVsYXRlUm90YXRlKG9zYyg3KSUyQy40KSUwQSUwOS50aHJlc2goLjcpJTBBJTIwJTIwJTA5LmRpZmYoc3JjKG8wKS5zY2FsZSgxLjgpKSUwQSUwOS5tb2R1bGF0ZVNjYWxlKG9zYygyKS5tb2R1bGF0ZVJvdGF0ZShvMCUyQy43NCkpJTBBJTA5LmRpZmYoc3JjKG8wKS5yb3RhdGUoJTVCLS4wMTIlMkMuMDElMkMtLjAwMiUyQzAlNUQpLnNjcm9sbFkoMCUyQyU1Qi0xJTJGMTk5ODAwJTJDMCU1RC5mYXN0KDAuNykpKSUwQSUwOS5icmlnaHRuZXNzKCU1Qi0uMDIlMkMtLjE3JTVELnNtb290aCgpLmZhc3QoLjUpKSUwQSUwOS5vdXQoKQ=="},{sketch_id:"ritchse_2",code:"JTJGJTJGdHJvcGljYWwlMjBqdWljZSUwQSUyRiUyRmJ5JTIwUml0Y2hzZSUwQSUyRiUyRmluc3RhZ3JhbS5jb20lMkZyaXRjaHNlJTBBJTIwJTBBdm9yb25vaSgyJTJDMC4zJTJDMC4yKS5zaGlmdCgwLjUpJTBBLm1vZHVsYXRlUGl4ZWxhdGUodm9yb25vaSg0JTJDMC4yKSUyQzMyJTJDMiklMEEuc2NhbGUoKCklM0QlM0UxJTJCKE1hdGguc2luKHRpbWUqMi41KSowLjA1KSklMEEuZGlmZih2b3Jvbm9pKDMpLnNoaWZ0KDAuNikpJTBBLmRpZmYob3NjKDIlMkMwLjE1JTJDMS4xKS5yb3RhdGUoKSklMEEuYnJpZ2h0bmVzcygwLjEpLmNvbnRyYXN0KDEuMikuc2F0dXJhdGUoMS4yKSUwQSUwOS5vdXQoKSUwQXNwZWVkJTIwJTNEJTIwMC44"},{sketch_id:"ritchse_3",code:"JTJGJTJGdHJ5aW5nJTIwdG8lMjBnZXQlMjBjbG9zZXIlMEElMkYlMkZieSUyMFJpdGNoc2UlMEElMkYlMkZpbnN0YWdyYW0uY29tJTJGcml0Y2hzZSUwQSUyMCUwQW9zYyg2MCUyQy0wLjAxNSUyQzAuMykuZGlmZihvc2MoNjAlMkMwLjA4KS5yb3RhdGUoTWF0aC5QSSUyRjIpKSUwQSUwOS5tb2R1bGF0ZVNjYWxlKG5vaXNlKDMuNSUyQzAuMjUpLm1vZHVsYXRlU2NhbGUob3NjKDE1KS5yb3RhdGUoKCklM0QlM0VNYXRoLnNpbih0aW1lJTJGMikpKSUyQzAuNiklMEElMDkuY29sb3IoMSUyQzAuNSUyQzAuNCkuY29udHJhc3QoMS40KSUwQSUwOS5hZGQoc3JjKG8wKS5tb2R1bGF0ZShvMCUyQy4wNCklMkMuNiklMEElMDkuaW52ZXJ0KCkuYnJpZ2h0bmVzcygwLjEpLmNvbnRyYXN0KDEuMiklMEElMDkubW9kdWxhdGVTY2FsZShvc2MoMiklMkMtMC4yKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"ritchse_4",code:"JTJGJTJGJTIwZGlzaW50ZWdyYXRpb24lMEElMkYlMkYlMjBieSUyMFJpdGNoc2UlMEElMkYlMkYlMjBpbnN0YWdyYW0uY29tJTJGcml0Y2hzZSUwQSUyMCUwQW9zYyg1JTJDLjEpLm1vZHVsYXRlKG5vaXNlKDYpJTJDLjIyKS5kaWZmKG8wKSUwQSUyMCUyMCUwOS5tb2R1bGF0ZVNjcm9sbFkob3NjKDIpLm1vZHVsYXRlKG9zYygpLnJvdGF0ZSgpJTJDLjExKSklMEElMDkuc2NhbGUoLjcyKS5jb2xvcigwLjk5JTJDMS4wMTQlMkMxKSUwQSUyMCUyMCUwOS5vdXQoKQ==  "},{sketch_id:"flor_0",code:"JTJGJTJGRmxvciUyMGRlJTIwRnVlZ28lMEElMkYlMkZodHRwcyUzQSUyRiUyRmZsb3JkZWZ1ZWdvLmdpdGh1Yi5pbyUyRiUwQW9zYygzMCUyQzAuMDElMkMxKSUwQS5tdWx0KG9zYygyMCUyQy0wLjElMkMxKS5tb2R1bGF0ZShub2lzZSgzJTJDMSkpLnJvdGF0ZSgwLjcpKSUwQS5wb3N0ZXJpemUoJTVCMyUyQzEwJTJDMiU1RC5mYXN0KDAuNSkuc21vb3RoKDEpKSUwQS5tb2R1bGF0ZVJvdGF0ZShvMCUyQygpJTNEJTNFbW91c2UueCowLjAwMyklMEEub3V0KCk= "},{sketch_id:"mahalia_0",code:"JTJGJTJGJTIwTWFoYWxpYSUyMEgtUiUwQSUyRiUyRiUyMElHJTNBJTIwJTQwbW1faHJfJTBBJTBBc2hhcGUoMjAlMkMwLjElMkMwLjAxKSUwQSUyMCUyMC5zY2FsZSgoKSUyMCUzRCUzRSUyME1hdGguc2luKHRpbWUpKjMpJTBBJTIwJTIwLnJlcGVhdCgoKSUyMCUzRCUzRSUyME1hdGguc2luKHRpbWUpKjEwKSUwQSUyMCUyMC5tb2R1bGF0ZVJvdGF0ZShvMCklMEElMjAlMjAuc2NhbGUoKCklMjAlM0QlM0UlMjBNYXRoLnNpbih0aW1lKSoyKSUwQSUyMCUyMC5tb2R1bGF0ZShub2lzZSgyJTJDMCkpJTBBJTIwJTIwLnJvdGF0ZSgwLjElMkMlMjAwLjkpJTBBLm91dChvMCklMEElMEFzcmMobzApJTBBLm1vZHVsYXRlKG9zYyg1MDAlMkMwJTJDMCkpJTBBLm91dChvMSklMEElMEFzcmMobzEpJTBBLm1vZHVsYXRlS2FsZWlkKHZvcm9ub2koKCklMjAlM0QlM0UlMjBNYXRoLnNpbih0aW1lKSozJTJDMC4xJTJDMC4wMSklMkMoKSUyMCUzRCUzRSUyME1hdGguc2luKHRpbWUpKjMpJTBBLnNjYWxlKCgpJTIwJTNEJTNFJTIwTWF0aC5zaW4odGltZSkqMyklMEEub3V0KG8yKSUwQSUwQXJlbmRlcihvMik="},{sketch_id:"mahalia_1",code:"JTJGJTJGJTIwTWFoYWxpYSUyMEgtUiUwQSUyRiUyRiUyMElHJTNBJTIwJTQwbW1faHJfJTBBJTBBc2hhcGUoKCklMjAlM0QlM0UlMjBNYXRoLnNpbih0aW1lKSUyQjEqMiklMEEucm90YXRlKCgpJTIwJTNEJTNFJTIwTWF0aC5QSSUyMColMjBtb3VzZS54JTIwJTJGMTgwKSUwQS5yZXBlYXRYKDMpJTBBLnJlcGVhdFkoKCklM0QlM0VNYXRoLnNpbih0aW1lKSo1KSUwQS5zY2FsZSgoKSUyMCUzRCUzRSUyME1hdGguUEklMkY0KSUwQS5ibGVuZChzcmMobzApLmNvbG9yKDElMkMwJTJDMCkpJTBBLm1vZHVsYXRlKG9zYygyMCUyQyUyMDAlMkMuNCkpJTBBLmthbGVpZCgyKSUwQSUyMC5vdXQobzApJTBBJTBBcmVuZGVyKG8wKQ=="},{sketch_id:"mahalia_2",code:"JTJGJTJGJTIwVmVsdmV0JTIwUG9vbCUwQSUyRiUyRiUyMGJ5JTIwTWFoYWxpYSUyMEgtUiUwQSUyRiUyRiUyMElHJTNBJTIwbW1faHJfJTBBJTBBJTBBbm9pc2UoKSUwQS5jb2xvcigoKSUyMCUzRCUzRSUyMGEuZmZ0JTVCMiU1RCoyJTJDMCUyQy42KSUwQS5tb2R1bGF0ZShub2lzZSgoKSUyMCUzRCUzRSUyMGEuZmZ0JTVCMCU1RCoxMCkpJTBBLnNjYWxlKCgpJTNEJTNFJTIwYS5mZnQlNUIyJTVEKjUpJTBBLmxheWVyKCUwQSUyMCUyMHNyYyhvMCklMEElMjAlMjAubWFzayhvc2MoMTApLm1vZHVsYXRlUm90YXRlKG9zYygpJTJDOTAlMkMwKSklMEElMjAlMjAuc2NhbGUoKCklMjAlM0QlM0UlMjBhLmZmdCU1QjAlNUQqMiklMEElMjAlMjAubHVtYSgwLjIlMkMwLjMpJTBBKSUwQS5ibGVuZChvMCklMEEub3V0KG8wKSUwQSUwQW9zYygpJTBBLm1vZHVsYXRlKG5vaXNlKCgpJTIwJTNEJTNFJTIwYS5mZnQlNUIxJTVEJTJCNSkpJTBBLmNvbG9yKDElMkMwJTJDMCklMEEub3V0KG8xKSUwQSUwQXNyYyhvMCklMEEubW9kdWxhdGUobzEpJTBBLmxheWVyKCUwQSUyMCUyMHNyYyhvMSklMEElMjAlMjAubWFzayhvMSklMEElMjAlMjAuc2F0dXJhdGUoNyklMEEpJTBBLm1vZHVsYXRlUm90YXRlKG8xKSUwQS5yb3RhdGUoKCU3QnRpbWUlN0QpJTIwJTNEJTNFJTIwdGltZSUyNTM2MCowLjA1KSUwQS5vdXQobzIpJTBBJTBBcmVuZGVyKG8yKQ=="},{sketch_id:"mahalia_3",code:"JTJGJTJGJTIwYnklMjBNYWhhbGlhJTIwSC1SJTBBJTJGJTJGJTIwSUclM0ElMjBtbV9ocl8lMEElMEFzaGFwZSgoKSUzRCUzRU1hdGguc2luKHRpbWUpJTJCMSozJTJDJTIwLjUlMkMuMDEpJTBBLnJlcGVhdCg1JTJDMyUyQyUyMCgpJTNEJTNFYS5mZnQlNUIwJTVEKjIlMkMlMjAoKSUzRCUzRWEuZmZ0JTVCMSU1RCoyKSUwQS5zY3JvbGxZKC41JTJDMC4xKSUwQS5sYXllciglMEElMjAlMjBzcmMobzEpJTBBJTIwJTIwLm1hc2sobzApJTBBJTIwJTIwLmx1bWEoLjAxJTJDJTIwLjEpJTBBJTIwJTIwLmludmVydCguMiklMEEpJTBBLm1vZHVsYXRlKG8xJTJDLjAyKSUwQS5vdXQobzApJTBBJTBBb3NjKDQwJTJDJTIwMC4wOSUyQyUyMDAuOSklMEEuY29sb3IoLjklMkMwJTJDNSklMEEubW9kdWxhdGUob3NjKDEwKS5yb3RhdGUoMSUyQyUyMDAuNSkpJTBBLnJvdGF0ZSgxJTJDJTIwMC4yKSUwQS5vdXQobzEpJTBBJTBBcmVuZGVyKG8wKSUwQSUwQQ=="},{sketch_id:"mahalia_4",code:"JTJGJTJGJTIwQ2VsbHVsYXIlMjAlMjYlMjBCbG9idWxhciUwQSUyRiUyRiUyMGJ5JTIwTWFoYWxpYSUyMEgtUiUwQSUyRiUyRiUyMElHJTNBJTIwbW1faHJfJTBBJTBBc3BlZWQlMjAlM0QlMjAwLjMlMEElMEFzaGFwZSgyMCUyQzAuMiUyQzAuMyklMEEuY29sb3IoMC41JTJDMC44JTJDNTApJTBBJTIwJTIwLnNjYWxlKCgpJTIwJTNEJTNFJTIwTWF0aC5zaW4odGltZSklMkIxKjIpJTBBJTIwJTIwLnJlcGVhdCgoKSUyMCUzRCUzRSUyME1hdGguc2luKHRpbWUpKjEwKSUwQSUyMCUyMC5tb2R1bGF0ZVJvdGF0ZShvMCklMEElMjAlMjAuc2NhbGUoKCklMjAlM0QlM0UlMjBNYXRoLnNpbih0aW1lKSUyQjElMjAqMS41KSUwQSUyMCUyMC5tb2R1bGF0ZShub2lzZSgyJTJDMikpJTBBJTIwJTIwLnJvdGF0ZSgxJTJDJTIwLjIpJTBBJTIwJTIwJTJGJTJGJTIwLmludmVydCgyLjQpJTBBLm91dChvMCklMEE="},{sketch_id:"andromeda_0",code:"JTJGJTJGJTIwMy4wJTBBJTJGJTJGJTIwYnklMjAlQ0UlOTRORFIwTTNEJUNFJTk0JTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZ3d3cuaW5zdGFncmFtLmNvbSUyRmFuZHJvbTNfZGElMkYlMEElMEElMEFub2lzZSgzJTJDMC4zJTJDMykudGhyZXNoKDAuMyUyQzAuMDMpLmRpZmYobzMlMkMwLjMpLm91dChvMSklMEFncmFkaWVudCglNUIwLjMlMkMwLjMlMkMzJTVEKS5kaWZmKG8wKS5ibGVuZChvMSkub3V0KG8zKSUwQXZvcm9ub2koMzMlMkMzJTJDMzApLnJvdGF0ZSgzJTJDMC4zJTJDMCkubW9kdWxhdGVTY2FsZShvMiUyQzAuMykuY29sb3IoLTMlMkMzJTJDMCkuYnJpZ2h0bmVzcygzKS5vdXQobzApJTBBc2hhcGUoMzAlMkMwLjMlMkMxKS5pbnZlcnQoKCU3QnRpbWUlN0QpJTNEJTNFTWF0aC5zaW4odGltZSkqMykub3V0KG8yKSUwQSUwQXJlbmRlcihvMyklMEE="},{sketch_id:"andromeda_1",code:"JTJGJTJGJTIwMy4zJTBBJTJGJTJGJTIwYnklMjAlQ0UlOTRORFIwTTNEJUNFJTk0JTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZ3d3cuaW5zdGFncmFtLmNvbSUyRmFuZHJvbTNfZGElMkYlMEElMEFvc2MoKS5tb2R1bGF0ZVJvdGF0ZShvMCUyQzAuMykub3V0KCklMEFvc2MoMzMlMkMwLjMlMkMwLjMpLmRpZmYobzMlMkMzKS5vdXQobzEpJTBBb3NjKDMlMkMwLjMlMkMzMykubW9kdWxhdGVLYWxlaWQobzMlMkMzKS5kaWZmKG8wKS5vdXQobzIpJTBBc3JjKG8wJTJDMykubXVsdChvMSUyQzMpLmthbGVpZCgzKS5vdXQobzMpJTBBcmVuZGVyKG8yKQ=="},{sketch_id:"asdrubal_0",code:"JTJGJTJGQXNkciVDMyVCQWJhbCUyMEdvbWV6JTBBJTBBbm9pc2UoMyUyQzAuMSUyQzcpJTBBLnJvdGF0ZSgxJTJDLTElMkMtMikubWFzayhzaGFwZSgyMCkpJTBBLmNvbG9yYW1hKDAuNSklMEEubW9kdWxhdGVTY2FsZShvMCklMEEubW9kdWxhdGVTY2FsZShvMCUyQzElMkMpJTBBLmJsZW5kKG8wKSUwQS5ibGVuZChvMCklMEEuYmxlbmQobzApJTBBLmJsZW5kKG8wKSUwQS5vdXQobzApJTBB"},{sketch_id:"flor_1",code:"JTJGJTJGSHlkcmElMjBHbGl0Y2h5JTIwU2xpdCUyMFNjYW4lMEElMkYlMkZGbG9yJTIwZGUlMjBGdWVnbyUwQSUyRiUyRmh0dHBzJTNBJTJGJTJGZmxvcmRlZnVlZ28uZ2l0aHViLmlvJTJGJTIwJTBBczAuaW5pdENhbSgpJTBBc3JjKHMwKS5zYXR1cmF0ZSgyKS5jb250cmFzdCgxLjMpLmxheWVyKHNyYyhvMCkubWFzayhzaGFwZSg0JTJDMikuc2NhbGUoMC41JTJDMC43KS5zY3JvbGxYKDAuMjUpKS5zY3JvbGxYKDAuMDAxKSkubW9kdWxhdGUobzAlMkMwLjAwMSkub3V0KG8wKSUwQSUwQQ=="},{sketch_id:"flor_2",code:"JTJGJTJGR2xpdGNoJTIwUml2ZXIlMEElMkYlMkZGbG9yJTIwZGUlMjBGdWVnbyUwQSUyRiUyRmh0dHBzJTNBJTJGJTJGZmxvcmRlZnVlZ28uZ2l0aHViLmlvJTJGJTBBdm9yb25vaSg4JTJDMSklMEEubXVsdChvc2MoMTAlMkMwLjElMkMoKSUzRCUzRU1hdGguc2luKHRpbWUpKjMpLnNhdHVyYXRlKDMpLmthbGVpZCgyMDApKSUwQS5tb2R1bGF0ZShvMCUyQzAuNSklMEEuYWRkKG8wJTJDMC44KSUwQS5zY3JvbGxZKC0wLjAxKSUwQS5zY2FsZSgwLjk5KSUwQS5tb2R1bGF0ZSh2b3Jvbm9pKDglMkMxKSUyQzAuMDA4KSUwQS5sdW1hKDAuMyklMEEub3V0KCklMEElMEElMEFzcGVlZCUyMCUzRCUyMDAuMSUwQSUwQSUwQSUwQQ=="},{sketch_id:"nesso_0",code:"JTBBJTJGJTJGY2xvdWRzJTIwb2YlMjBwYXNzYWdlJTBBJTJGJTJGYnklMjBOZXNzbyUwQSUyRiUyRnd3dy5uZXNzby54eXolMEElMEFzaGFwZSglNUI0JTJDNSUyQzYlNUQuZmFzdCgwLjEpLnNtb290aCgxKSUyQzAuMDAwMDAxJTJDJTVCMC4yJTJDMC43JTVELnNtb290aCgxKSklMEEuY29sb3IoMC4yJTJDMC40JTJDMC4zKSUwQS5zY3JvbGxYKCgpJTNEJTNFTWF0aC5zaW4odGltZSowLjI3KSklMEEuYWRkKCUwQSUyMCUyMHNoYXBlKCU1QjQlMkM1JTJDNiU1RC5mYXN0KDAuMSkuc21vb3RoKDEpJTJDMC4wMDAwMDElMkMlNUIwLjIlMkMwLjclMkMwLjUlMkMwLjMlNUQuc21vb3RoKDEpKSUwQSUyMCUyMC5jb2xvcigwLjYlMkMwLjIlMkMwLjUpJTBBJTIwJTIwLnNjcm9sbFkoMC4zNSklMEElMjAlMjAuc2Nyb2xsWCgoKSUzRCUzRU1hdGguc2luKHRpbWUqMC4zMykpKSUwQS5hZGQoJTBBJTIwJTIwc2hhcGUoJTVCNCUyQzUlMkM2JTVELmZhc3QoMC4xKS5zbW9vdGgoMSklMkMwLjAwMDAwMSUyQyU1QjAuMiUyQzAuNyUyQzAuMyU1RC5zbW9vdGgoMSkpJTBBJTIwJTIwLmNvbG9yKDAuMiUyQzAuNCUyQzAuNiklMEElMjAlMjAuc2Nyb2xsWSgtMC4zNSklMEElMjAlMjAuc2Nyb2xsWCgoKSUzRCUzRU1hdGguc2luKHRpbWUqMC40MSkqLTEpKSUwQS5hZGQoJTBBJTIwJTIwJTIwJTIwJTIwJTIwc3JjKG8wKS5zaGlmdCgwLjAwMSUyQzAuMDElMkMwLjAwMSklMEElMjAlMjAlMjAlMjAlMjAlMjAuc2Nyb2xsWCglNUIwLjA1JTJDLTAuMDUlNUQuZmFzdCgwLjEpLnNtb290aCgxKSklMEElMjAlMjAlMjAlMjAlMjAlMjAuc2NhbGUoJTVCMS4wNSUyQzAuOSU1RC5mYXN0KDAuMykuc21vb3RoKDEpJTJDJTVCMS4wNSUyQzAuOSUyQzElNUQuZmFzdCgwLjI5KS5zbW9vdGgoMSkpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTJDMC44NSklMEEubW9kdWxhdGUodm9yb25vaSgxMCUyQzIlMkMyKSklMEEub3V0KCk="},{sketch_id:"malitzin_0",code:"JTJGJTJGQ05EU0QlMEElMkYlMkZodHRwJTNBJTJGJTJGbWFsaXR6aW5jb3J0ZXMubmV0JTJGJTBBJTJGJTJGJTIwc2FuZCUyMHNwaXJhbHMlMEElMEFvc2MoMyUyQyUyMDAuMDElMkMlMjAwLjQpJTBBLmNvbG9yKDEuMiUyQzEuMiUyQzEuMyklMEEuc2F0dXJhdGUoMC40KSUwQS5tb2R1bGF0ZVJlcGVhdChvc2MoMiklMkMxJTJDJTIwMiUyQyUyMDQlMkMlMjAzKSUwQS5tb2R1bGF0ZUthbGVpZChvc2MoMTIlMkMwLjA1JTJDMCklMkMxKSUwQS5sdW1hJTIwKDAuNCklMEEucm90YXRlKDQlMkMlMjAwLjElMkMwKSUwQS5tb2R1bGF0ZShvMCUyQyUyMCgpJTIwJTNEJTNFJTIwbW91c2UueSUyMCowLjAwMDIlMjApJTBBLnNjYWxlKDEpLmRpZmYobzEpJTBBLm91dChvMCk="},{sketch_id:"malitzin_1",code:"JTJGJTJGQ05EU0QlMEElMkYlMkZodHRwJTNBJTJGJTJGbWFsaXR6aW5jb3J0ZXMubmV0JTJGJTBBJTJGJTJGYW1lYmElMEElMEFvc2MoMTUlMkMlMjAwLjAxJTJDJTIwMC4xKS5tdWx0KG9zYygxJTJDJTIwLTAuMSkubW9kdWxhdGUob3NjKDIpLnJvdGF0ZSg0JTJDMSklMkMlMjAyMCkpJTBBLmNvbG9yKDAlMkMyLjQlMkM1KSUwQS5zYXR1cmF0ZSgwLjQpJTBBLmx1bWEoMSUyQzAuMSUyQyUyMCg2JTJDJTIwKCklM0QlM0UlMjAxJTIwJTJCJTIwYS5mZnQlNUIzJTVEKSklMEEuc2NhbGUoMC43JTJDJTIwKCklM0QlM0UlMjAwLjclMjAlMkIlMjBhLmZmdCU1QjMlNUQpJTBBLmRpZmYobzApJTJGJTJGJTIwbzAlMEEub3V0KG8wKSUyRiUyRiUyMG8x"},{sketch_id:"malitzin_2",code:"JTJGJTJGQ05EU0QlMEElMkYlMkZodHRwJTNBJTJGJTJGbWFsaXR6aW5jb3J0ZXMubmV0JTJGJTBBJTJGJTJGY3JhenklMjBzcXVhcmVzJTBBJTBBc2hhcGUoNCUyQyUyMCgwLjAxJTJDJTIwKCklM0QlM0UlMjAwLjIlMjAlMkIlMjBhLmZmdCU1QjIlNUQpJTJDMSklMEEubXVsdChvc2MoMSUyQyUyMDEpLm1vZHVsYXRlKG9zYyg1KS5yb3RhdGUoMS40JTJDMSklMkMzKSklMEEuY29sb3IoMSUyQzIlMkM0KSUwQS5zYXR1cmF0ZSgwLjIpJTBBLmx1bWEoMS4yJTJDMC4wNSUyQyUyMCg1JTJDJTIwKCklM0QlM0UlMjAyJTIwJTJCJTIwYS5mZnQlNUIzJTVEKSklMEEuc2NhbGUoMC42JTJDJTIwKCklM0QlM0UlMjAwLjklMjAlMkIlMjBhLmZmdCU1QjMlNUQpJTBBLmRpZmYobzApJTJGJTJGJTIwbzAlMEEub3V0KG8wKSUyRiUyRiUyMG8x"},{sketch_id:"khoparzi_0",code:"JTJGJTJGJTIwSGFwcHklMjBNYW5kYWxhJTBBJTJGJTJGJTIwQnklMjBBYmhpbmF5JTIwS2hvcGFyemklMEElMkYlMkYlMjB0d2l0dGVyJTJGZ2l0aHViJTJGaW5zdGFncmFtJTNBJTIwJTQwa2hvcGFyemklMEF2b3Jvbm9pKDUlMkMtMC4xJTJDNSklMEEuYWRkKG9zYygxJTJDMCUyQzEpKS5rYWxlaWQoMjEpJTBBLnNjYWxlKDElMkMxJTJDMikuY29sb3JhbWEoKS5vdXQobzEpJTBBc3JjKG8xKS5tdWx0KHNyYyhzMCkubW9kdWxhdGVSb3RhdGUobzElMkMxMDApJTJDJTIwLTAuNSklMEElMjAlMjAub3V0KG8wKSUwQSUwQQ=="},{sketch_id:"khoparzi_1",code:"JTJGJTJGJTIwUGVycGV0dWFsJTIwZWxldmF0b3IlMjBidXR0b25zJTBBJTJGJTJGJTIwQnklMjBLaG9wYXJ6aSUwQSUyRiUyRiUyMGh0dHAlM0ElMkYlMkZraG9wYXJ6aS5jb20lMEElMEFzaGFwZSgzKS5hZGQob3NjKDElMkMwLjUlMkMxKSUyQyUyMDEpJTBBJTA5LmFkZChvMSUyQyUyMCgpJTIwJTNEJTNFJTIwKE1hdGguc2luKHRpbWUlMkY0KSUyMColMjAwLjclMjAlMkIlMjAwLjEpKSUwQSUwOSUyRiUyRi5yZXBlYXQoNSklMEElMjAlMjAlMDkuc2NhbGUoKCklM0QlM0VNYXRoLnNpbih0aW1lJTIwJTJGJTIwMTYpKS5yb3RhdGUoMCUyQyUyMC0wLjEpJTBBJTA5Lm91dChvMSklMEElMEFzcmMobzEpJTBBJTIwJTIwLnJvdGF0ZSgwJTJDMC4xKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"khoparzi_2",code:"JTJGJTJGJTIwUmVhbGx5JTIwTG92ZSUwQSUyRiUyRiUyMGJ5JTIwQWJoaW5heSUyMEtob3BhcnppJTBBJTJGJTJGJTIwaHR0cCUzQSUyRiUyRmtob3BhcnppLmNvbSUwQW9zYygxMDAlMkMtMC4wMTI0NSUyQzEpLnBpeGVsYXRlKDUwKS5rYWxlaWQoKCklM0QlM0UoTWF0aC5zaW4odGltZSUyRjgpKjklMkIzKSkucm90YXRlKDAlMkMwLjEyNSklMEEubW9kdWxhdGVSb3RhdGUoc2hhcGUoMykuc2NhbGUoKCklM0QlM0UoTWF0aC5jb3ModGltZSkqMikpLnJvdGF0ZSgwJTJDLTAuMjUpKS5kaWZmKHNyYyhvMCkuYnJpZ2h0bmVzcygwLjMpKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"khoparzi_3",code:"JTJGJTJGJTIwQXFhdXRpYyUyMGJsdWJzJTBBJTJGJTJGJTIwQnklMjBLaG9wYXJ6aSUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGa2hvcGFyemkuY29tJTBBJTBBZ3JhZGllbnQoMC4yNSklMEEuYWRkKG5vaXNlKCklMkMlMjAoKSUzRCUzRU1hdGguY29zKHRpbWUpKSUwQS5tb2R1bGF0ZVJvdGF0ZShzcmMobzApLnJvdGF0ZSgwJTJDJTIwLTAuNTIpJTJDJTIwMC4yKS5tdWx0KHNoYXBlKDM2MCklMkMlMjAwLjgpJTBBLnJlcGVhdCgxMCUyQzUpLm11bHQoc2hhcGUoMzYwKS5zY2FsZSgoKSUzRCUzRU1hdGguc2luKHRpbWUpKSUyQyUyMDAuOCkucm90YXRlKDAlMkMlMjAwLjIpJTBBLmRpZmYoc3JjKG8wKS5yb3RhdGUoMCUyQyUyMC0wLjIpJTJDJTIwMC4yKSUwQS5vdXQoKQ=="},{sketch_id:"celeste_0",code:"JTBBJTIwJTJGJTJGJTIwUHVlcnRhcyUyMElJJTBBJTJGJTJGJTIwcG9yJTIwQ2VsZXN0ZSUyMEJldGFuY3VyJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGZXNzdGViYW4lMEElMEFvc2MoMTMlMkMwJTJDMSklMEElMjAlMjAua2FsZWlkKCklMEElMjAlMjAubWFzayhzaGFwZSg0JTJDMC4zJTJDMSkpJTBBJTIwJTIwLm1vZHVsYXRlUm90YXRlKHNoYXBlKDQlMkMwLjElMkMxKSklMEElMjAlMjAubW9kdWxhdGVSb3RhdGUoc2hhcGUoNCUyQzAuMSUyQzAuOSkpJTBBJTIwJTIwLm1vZHVsYXRlUm90YXRlKHNoYXBlKDQlMkMwLjElMkMwLjgpKSUwQSUyMCUyMC5zY2FsZSgwLjMpJTBBJTIwJTIwLmFkZChzaGFwZSg0JTJDMC4yJTJDMSkuY29sb3IoMC4zJTJDMSUyQzElMkMwLjUpKSUwQSUyMCUyMC5yb3RhdGUoKCklM0QlM0V0aW1lKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"celeste_1",code:"JTJGJTJGJTIwUHVlcnRhcyUyMElJSSUwQSUyRiUyRiUyMHBvciUyMENlbGVzdGUlMjBCZXRhbmN1ciUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmVzc3RlYmFuJTBBJTIwJTBBb3NjKDQwJTJDMC4yJTJDMSklMEElMjAlMjAubW9kdWxhdGVTY2FsZShvc2MoNDAlMkMwJTJDMSkua2FsZWlkKDgpKSUwQSUyMCUyMC5yZXBlYXQoMiUyQzQpJTBBJTIwJTIwLm1vZHVsYXRlKG8wJTJDMC4wNSklMEElMjAlMjAubW9kdWxhdGVLYWxlaWQoc2hhcGUoNCUyQzAuMSUyQzEpKSUwQSUyMCUyMC5vdXQobzAp"},{sketch_id:"celeste_2",code:"JTBBJTIwJTJGJTJGJTIwUHVlcnRhcyUwQSUyRiUyRiUyMHBvciUyMENlbGVzdGUlMjBCZXRhbmN1ciUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmVzc3RlYmFuJTBBJTBBb3NjKDEzJTJDMCUyQzEpJTBBJTIwJTIwLm1vZHVsYXRlKG9zYygyMSUyQzAuMjUlMkMwKSklMEElMjAlMjAubW9kdWxhdGVTY2FsZShvc2MoMzQpKSUwQSUyMCUyMC5tb2R1bGF0ZUthbGVpZChvc2MoNTUpJTJDMC4xJTJDMSklMEElMjAlMjAub3V0KCk="},{sketch_id:"alexandre_0",code:"JTJGJTJGJTIwJTIydGhlLXdhbGwlMjIlMEElMkYlMkYlMjBBbGV4YW5kcmUlMjBSYW5nZWwlMEElMkYlMkYlMjB3d3cuYWxleGFuZHJlcmFuZ2VsLmFydC5iciUyRmh5ZHJhLmh0bWwlMEElMEFzcGVlZCUzRC4wMjIyJTBBb3NjKDQ4JTJDLS4xJTJDMCkudGhyZXNoKCU1Qi4zJTJDLjclNUQuZmFzdCguNzUpJTJDMCkuY29sb3IoMCUyQzAlMkMxKSUwQSUwQS5hZGQoJTBBJTIwJTIwJTIwJTIwb3NjKDI4JTJDLjElMkMwKS50aHJlc2goJTVCLjMlMkMuNyU1RC5mYXN0KC43NSklMkMwKS5yb3RhdGUoMy4xNCUyRjQpJTBBJTIwJTIwJTIwJTIwLmNvbG9yKDElMkMwJTJDMCklMEElMjAlMjAlMjAlMjAubW9kdWxhdGVTY2FsZSglMjBvc2MoNjQlMkMtLjAxJTJDMCkudGhyZXNoKCU1Qi4zJTJDLjclNUQuZmFzdCguNzUpJTJDMCklMjApJTBBKSUwQS5kaWZmKCUwQSUyMCUyMCUyMCUyMG9zYygyOCUyQy4xJTJDMCkudGhyZXNoKCU1Qi4zJTJDLjclNUQuZmFzdCguNSklMkMwKS5yb3RhdGUoMy4xNCUyRjIpJTBBJTIwJTIwJTIwJTIwLmNvbG9yKDElMkMwJTJDMSklMEElMjAlMjAlMjAlMjAubW9kdWxhdGVTY2FsZSglMjBvc2MoNjQlMkMtLjAxNSUyQzApLnRocmVzaCglNUIuMyUyQy43JTVELmZhc3QoLjUpJTJDMCklMjApJTBBKSUwQS5tb2R1bGF0ZVJvdGF0ZSglMjBvc2MoNTQlMkMtLjAwNSUyQzApLnRocmVzaCglNUIuMyUyQy43JTVELmZhc3QoLjI1KSUyQzApJTIwKSUwQS5tb2R1bGF0ZVNjYWxlKCUyMG9zYyg0NCUyQy0uMDIwJTJDMCkudGhyZXNoKCU1Qi4zJTJDLjclNUQuZmFzdCguMjUpJTJDMCklMjApJTBBLmNvbG9yYW1hKCUyMCgpJTNEJTNFTWF0aC5zaW4odGltZSUyRjI3KSouMDEyMjIlMkI5Ljg5KSUwQS5zY2FsZSgyLjEyMiklMEElMEEub3V0KCk="},{sketch_id:"alexandre_1",code:"JTBBJTIwJTJGJTJGJTIwJTIyZXllJTIwb2YlMjB0aGUlMjBiZWhvbGRlciUyMiUwQSUyRiUyRiUyMEFsZXhhbmRyZSUyMFJhbmdlbCUwQSUyRiUyRiUyMHd3dy5hbGV4YW5kcmVyYW5nZWwuYXJ0LmJyJTJGaHlkcmEuaHRtbCUwQSUwQW5vaXNlKDYlMkMuMDUpJTBBLm11bHQoJTIwb3NjKDklMkMwJTJDJTIwKCklM0QlM0VNYXRoLnNpbih0aW1lJTJGMS41KSUyQjIlMjApJTIwKSUwQS5tdWx0KCUwQSUyMCUyMCUyMCUyMG5vaXNlKDklMkMuMDMpLmJyaWdodG5lc3MoMS4yKS5jb250cmFzdCgyKSUwQSUyMCUyMCUyMCUyMC5tdWx0KCUyMG9zYyg5JTJDMCUyQyUyMCgpJTNEJTNFTWF0aC5zaW4odGltZSUyRjMpJTJCMTMlMjApJTIwKSUwQSklMEEuZGlmZiglMEElMjAlMjAlMjAlMjBub2lzZSgxNSUyQy4wNCkuYnJpZ2h0bmVzcyguMikuY29udHJhc3QoMS4zKSUwQSUyMCUyMCUyMCUyMC5tdWx0KCUyMG9zYyg5JTJDMCUyQyUyMCgpJTNEJTNFTWF0aC5zaW4odGltZSUyRjUpJTJCMTMlMjApJTIwKSUwQSUyMCUyMCUyMCUyMC5yb3RhdGUoJTIwKCklM0QlM0V0aW1lJTJGMzMlMjApJTBBKSUwQS5zY2FsZSglMjAoKSUzRCUzRU1hdGguc2luKHRpbWUlMkY2LjIpKi4xMiUyQi4xNSUyMCklMEEubW9kdWxhdGVTY2FsZSglMEElMjAlMjAlMjAlMjBvc2MoMyUyQzAlMkMwKS5tdWx0KCUyMG9zYygzJTJDMCUyQzApLnJvdGF0ZSgzLjE0JTJGMiklMjApJTBBJTIwJTIwJTIwJTIwLnJvdGF0ZSglMjAoKSUzRCUzRXRpbWUlMkYyNSUyMCkuc2NhbGUoLjM5KS5zY2FsZSgxJTJDLjYlMkMxKS5pbnZlcnQoKSUwQSUyMCUyMCUyMCUyMCUyQyUyMCgpJTNEJTNFTWF0aC5zaW4odGltZSUyRjUuMykqMS41JTJCMyUyMCUyMCklMEEucm90YXRlKCUyMCgpJTNEJTNFdGltZSUyRjIyJTIwKSUwQS5tdWx0KCUyMHNoYXBlKDEwMCUyQy45JTJDLjAxKS5zY2FsZSgxJTJDLjYlMkMxKSUyMCklMEEub3V0KCk="},{sketch_id:"alexandre_2",code:"JTJGJTJGJTIwJTIyZWdnJTIwb2YlMjB0aGUlMjBwaG9lbml4JTIyJTBBJTJGJTJGJTIwQWxleGFuZHJlJTIwUmFuZ2VsJTBBJTJGJTJGJTIwd3d3LmFsZXhhbmRyZXJhbmdlbC5hcnQuYnIlMkZoeWRyYS5odG1sJTBBJTBBc3BlZWQlM0QxLjIlMEFzaGFwZSg5OSUyQy4xNSUyQy41KS5jb2xvcigwJTJDMSUyQzIpJTBBJTBBLmRpZmYoJTIwc2hhcGUoMjQwJTJDLjUlMkMwKS5zY3JvbGxYKC4wNSkucm90YXRlKCUyMCgpJTNEJTNFdGltZSUyRjEwJTIwKS5jb2xvcigxJTJDMCUyQy43NSklMjApJTBBLmRpZmYoJTIwc2hhcGUoOTklMkMuNCUyQy4wMDIpLnNjcm9sbFgoLjEwKS5yb3RhdGUoJTIwKCklM0QlM0V0aW1lJTJGMjAlMjApLmNvbG9yKDElMkMwJTJDLjc1KSUyMCklMEEuZGlmZiglMjBzaGFwZSg5OSUyQy4zJTJDLjAwMikuc2Nyb2xsWCguMTUpLnJvdGF0ZSglMjAoKSUzRCUzRXRpbWUlMkYzMCUyMCkuY29sb3IoMSUyQzAlMkMuNzUpJTIwKSUwQS5kaWZmKCUyMHNoYXBlKDk5JTJDLjIlMkMuMDAyKS5zY3JvbGxYKC4yMCkucm90YXRlKCUyMCgpJTNEJTNFdGltZSUyRjQwJTIwKS5jb2xvcigxJTJDMCUyQy43NSklMjApJTBBLmRpZmYoJTIwc2hhcGUoOTklMkMuMSUyQy4wMDIpLnNjcm9sbFgoLjI1KS5yb3RhdGUoJTIwKCklM0QlM0V0aW1lJTJGNTAlMjApLmNvbG9yKDElMkMwJTJDLjc1KSUyMCklMEElMEEubW9kdWxhdGVTY2FsZSglMEElMjAlMjBzaGFwZSgyNDAlMkMuNSUyQzApLnNjcm9sbFgoLjA1KS5yb3RhdGUoJTIwKCklM0QlM0V0aW1lJTJGMTAlMjApJTBBJTIwJTIwJTJDJTIwKCklM0QlM0UoTWF0aC5zaW4odGltZSUyRjMpKi4yKSUyQi4yJTIwKSUwQSUwQS5zY2FsZSgxLjYlMkMuNiUyQzEpJTBBLm91dCgp"},{sketch_id:"afalfl_0",code:"JTJGJTJGZmlsZXQlMjBtaWdub24lMEElMkYlMkYlMjBBRkFMRkwlMEElMkYlMkYlMjBpbnN0YWdyYW0lMkZhX2ZfYWxmbCUyMCUwQSUwQW9zYygxMDAlMkMtMC4wMDE4JTJDMC4xNykuZGlmZihvc2MoMjAlMkMwLjAwMDA4KS5yb3RhdGUoTWF0aC5QSSUyRjAuMDAwMDMpKSUwQS5tb2R1bGF0ZVNjYWxlKG5vaXNlKDEuNSUyQzAuMTgpLm1vZHVsYXRlU2NhbGUob3NjKDEzKS5yb3RhdGUoKCklM0QlM0VNYXRoLnNpbih0aW1lJTJGMjIpKSklMkMzKSUwQS5jb2xvcigxMSUyQzAuNSUyQzAuNCUyQyUyMDAuOSUyQyUyMDAuMiUyQyUyMDAuMDExJTJDJTIwNSUyQyUyMDIyJTJDJTIwJTIwMC41JTJDJTIwLTEpLmNvbnRyYXN0KDEuNCklMEEuYWRkKHNyYyhvMCkubW9kdWxhdGUobzAlMkMuMDQpJTJDLjYlMkMlMjAuOSklMEElMjAlMjAlMkYlMkYucGl4ZWxhdGUoMC40JTJDJTIwMC4yJTJDJTIwMC4xKSUwQS5pbnZlcnQoKS5icmlnaHRuZXNzKDAuMDAwMyUyQyUyMDIpLmNvbnRyYXN0KCUyMDAuNSUyQyUyMDIlMkMlMjAwLjElMkMlMjAyKS5jb2xvcig0JTJDJTIwLTIlMkMlMjAwLjEpJTBBLm1vZHVsYXRlU2NhbGUob3NjKDIpJTJDLTAuMiUyQyUyMDIlMkMlMjAxJTJDJTIwMC4zKSUwQSUyMC5wb3N0ZXJpemUoMjAwKSUyMC5yb3RhdGUoMSUyQyUyMDAuMiUyQyUyMDAuMDElMkMlMjAwLjAwMSklMEElMjAuY29sb3IoMjIlMkMlMjAtMiUyQyUyMDAuNSUyQyUyMDAuNSUyQyUyMDAuMDAwMSUyQyUyMCUyMDAuMSUyQyUyMDAuMiUyQyUyMDgpLmNvbnRyYXN0KDAuMTglMkMlMjAwLjMlMkMlMjAwLjElMkMlMjAwLjIlMkMlMjAwLjAzJTJDJTIwMSklMjAuJTIwYnJpZ2h0bmVzcygwLjAwMDElMkMlMjAtMSUyQyUyMDEwKSUwQSUwOS5vdXQoKQ=="},{sketch_id:"eerie_ear_0",code:"JTJGJTJGJTIwZWVfMiUyMC4lMjBNVUxUSVZFUlNFJTIwLiUyMHRpbWUlMjBhbmQlMjBmZWVkYmFjayUwQSUyRiUyRiUyMGVfZSUyMCUyRiUyRiUyMCU0MGVlcmllX2VhciUwQXBhdCUyMCUzRCUyMCgpJTNEJTNFJTBBc29saWQoKSUwQS5sYXllcihzb2xpZCgpLmRpZmYoJTBBJTIwJTIwb3NjKCh0aW1lJTJGMTYpJTIwKiUyMDElMkMlMjAodGltZSUyRjEwMDApJTIwKiUyMDAuMiUyMCUyMCklMEElMjAlMjAlMjAlMjAubXVsdChvc2MoKHRpbWUlMkY4KSUyMColMjAxJTJDJTIwKHRpbWUlMkYxMDA2KSUyMColMjAwLjIlMjAlMjApLnJvdGF0ZSgxLjU3KSklMEElMjAlMjAlMjAlMjAubW9kdWxhdGUoKHNoYXBlKDEwNiUyQzElMkMwLjA1KSkpJTBBJTIwJTIwJTIwJTIwLm11bHQoc2hhcGUoMTA2JTJDMSUyQzAuMDUpKSUwQSUyMCUyMCkpJTBBJTIwJTIwLm1vZHVsYXRlU2NhbGUob3NjKDIlMkMwLjEyNSklMkMwLjEyNSklMEElMkYlMkYlMEFzb2xpZCgpJTBBLmxheWVyKHNvbGlkKDElMkMxJTJDMSklMEElMjAlMjAubXVsdChwYXQoKSUwQSUyMCUyMC5kaWZmKHNyYyhvMCkuc2NhbGUoMC4yKS5tdWx0KHNvbGlkKCklMkMlNUIwLjclMkMwLjYlMkMwLjQlMkMwLjYlNUQpLmthbGVpZCgxLjAxKS5zYXR1cmF0ZSgwLjMpKSUwQSklMEEubGF5ZXIoc29saWQoMSUyQzElMkMxKSUwQSUyMCUyMCUyMCUyMC5tYXNrKCUwQSUyMCUyMCUyMCUyMCUyMCUyMG5vaXNlKDIlMkMwLjA1KSUwQSUyMCUyMCUyMCUyMCUyMCUyMC5pbnZlcnQoKS5jb2xvcmFtYSgyKS5wb3N0ZXJpemUoOCUyQzQpLmx1bWEoMC4yNSkudGhyZXNoKDAuNSklMEElMjAlMjAlMjAlMjAlMjAlMjAubW9kdWxhdGVSb3RhdGUob3NjKDElMkMwLjUpKSUwQSUyMCUyMCUyMCUyMCklMEElMjAlMjAlMjAlMjAubXVsdChncmFkaWVudCgwLjUpLmthbGVpZCgxKS5jb2xvcmFtYSgyKS5zYXR1cmF0ZSgxLjEpLmNvbnRyYXN0KDEuNikubXVsdChzb2xpZCgpJTJDMC40NSkpJTBBJTIwJTIwKSklMEElMjAlMjAub3V0KCklMEElMkYlMkYlMEFzcGVlZCUzRCUyMDAuNSUwQQ=="},{sketch_id:"eerie_ear_1",code:"JTJGJTJGJTIwZWVfMyUyMCUyRiUyRkxJTkVTJTBBJTJGJTJGJTIwZV9lJTIwJTJGJTJGJTIwJTQwZWVyaWVfZWFyJTBBJTJGJTJGJTBBJTJGJTJGYmFzZWQlMjBvbiUwQSUyRiUyRiU0MG5hb3RvX2hpZWRhJTBBJTJGJTJGaHR0cHMlM0ElMkYlMkZuYW90b2hpZWRhLmNvbSUyRmJsb2clMkZoeWRyYS1ib29rJTJGJTBBJTJGJTJGJTBBbiUyMCUzRCUyMDglMEFhJTIwJTNEJTIwKCklMjAlM0QlM0UlMjBzaGFwZSg0JTJDMC4yNSUyQzAuMDA5KS5yb3RhdGUoKCklM0QlM0V0aW1lJTJGLTQwKS5yZXBlYXQobiUyQ24pJTBBYSgpLmFkZChhKCkuc2Nyb2xsWCgwLjUlMkZuKS5zY3JvbGxZKDAuNSUyRm4pJTJDMSkubW9kdWxhdGUobzElMkMwLjEpLm1vZHVsYXRlKHNyYyhvMSkuY29sb3IoMTAlMkMxMCkuYWRkKHNvbGlkKC0xNCUyQy0xNCkpLnJvdGF0ZSgoKSUzRCUzRXRpbWUlMkY0MCklMkMwLjAwNSkuYWRkKHNyYyhvMSkuc2Nyb2xsWSgwLjAxMiUyQzAuMDIpJTJDMC41KS5vdXQobzEpJTBBc3JjKG8xKS5jb2xvcmFtYSgxLjIpLnBvc3Rlcml6ZSg0KS5zYXR1cmF0ZSgwLjcpLmNvbnRyYXN0KDYpLm11bHQoc29saWQoKSUyQzAuMTUpLm91dChvMCklMEElMEElMEE="},{sketch_id:"eerie_ear_2",code:"JTJGJTJGZWVfNSUyMC4lMjBGVUdJVElWRSUyMEdFT01FVFJZJTIwVkhTJTIwLiUyMGF1ZGlvcmVhY3RpdmUlMjBzaGFwZXMlMjBhbmQlMjBncmFkaWVudHMlMEElMkYlMkYlMjBlX2UlMjAlMkYlMkYlMjAlNDBlZXJpZV9lYXIlMEElMkYlMkYlMEFzJTNEJTIwKCklM0QlM0UlMEElMjAlMjBzaGFwZSg0KSUwQS5zY3JvbGxYKCU1Qi0wLjUlMkMtMC4yJTJDMC4zJTJDLTAuMSUyQy0wLjElNUQuc21vb3RoKDAuMSkuZmFzdCgwLjMpKSUwQS5zY3JvbGxZKCU1QjAuMjUlMkMtMC4yJTJDMC4zJTJDLTAuMSUyQzAuMiU1RC5zbW9vdGgoMC45KS5mYXN0KDAuMTUpKSUwQSUyRiUyRiUwQXNvbGlkKCklMEEuYWRkKGdyYWRpZW50KDMlMkMwLjA1KS5yb3RhdGUoMC4wNSUyQy0wLjIpLnBvc3Rlcml6ZSgyKS5jb250cmFzdCgwLjYpJTJDJTVCMSUyQzAlMkMxJTJDMC41JTJDMCUyQzAuNiU1RC5zbW9vdGgoMC45KSklMEEuYWRkKHMoKSklMEEubXVsdChzKCkuc2NhbGUoMC44KS5zY3JvbGxYKDAuMDEpLnNjcm9sbFkoLTAuMDEpLnJvdGF0ZSgwLjIlMkMwLjA2KS5hZGQoZ3JhZGllbnQoMykuY29udHJhc3QoMC42KSUyQyU1QjElMkMwJTJDMSUyQzAuNSU1RC5zbW9vdGgoMC45KSUyQzAuNSkubXVsdChzcmMobzApLnNjYWxlKDAuOTgpJTJDKCklM0QlM0VhLmZmdCU1QjAlNUQqOSklMEElMjAlMjAlMjAlMjAlMjApJTBBLmRpZmYocygpLm1vZHVsYXRlKHNoYXBlKDUwMCkpLnNjYWxlKCU1QjEuNyUyQzEuMiU1RC5zbW9vdGgoMC45KS5mYXN0KDAuMDUpKSklMEEuYWRkKGdyYWRpZW50KDIpLmludmVydCgpJTJDKCklM0QlM0VhLmZmdCU1QjIlNUQpJTBBLm11bHQoZ3JhZGllbnQoKCklM0QlM0VhLmZmdCU1QjMlNUQqOCkpJTBBLmJsZW5kKHNyYygobzApJTJDKCklM0QlM0VhLmZmdCU1QjElNUQqNDApKSUwQS5hZGQodm9yb25vaSgoKSUzRCUzRWEuZmZ0JTVCMSU1RCUyQygpJTNEJTNFYS5mZnQlNUIzJTVEJTJDKCklM0QlM0VhLmZmdCU1QjAlNUQpLnRocmVzaCgwLjcpLnBvc3Rlcml6ZSgyJTJDNCkubHVtYSgwLjkpLnNjcm9sbFkoMSUyQygpJTNEJTNFYS5mZnQlNUIwJTVEJTJGMzApLmNvbG9yYW1hKDMpLnRocmVzaCgoKSUzRCUzRWEuZmZ0JTVCMSU1RCkuc2NhbGUoKCklM0QlM0VhLmZmdCU1QjMlNUQqMiklMkMoKSUzRCUzRWEuZmZ0JTVCMCU1RCUyRjIpJTBBJTIwJTIwLm91dCgpJTBBJTJGJTJGJTBBc3BlZWQlM0QlMjAxJTBBJTBBYS5zZXRTbW9vdGgoMC45Nik="},{sketch_id:"eerie_ear_3",code:"JTJGJTJGJTIwZWVfMSUyMC4lMjBFWUUlMjBJTiUyMFRIRSUyMFNLWSUwQSUyRiUyRmV4YW1wbGUlMjBvZiUyMG1hc2slMjBhbmQlMjBmdW5jdGlvbiUyMG1vZHVsYXRpb24lMEElMkYlMkYlMjBlX2UlMjAlMkYlMkYlMjAlNDBlZXJpZV9lYXIlMEFub2lzZSgxOCklMEElMjAlMjAuY29sb3JhbWEoMSklMEElMjAlMjAucG9zdGVyaXplKDIpJTBBJTIwJTIwLmthbGVpZCg1MCklMEElMjAlMjAubWFzayglMEElMjAlMjAlMjAlMjBzaGFwZSgyNSUyQyUyMDAuMjUpLm1vZHVsYXRlU2NhbGUoJTBBJTIwJTIwJTIwJTIwJTIwJTIwbm9pc2UoNDAwLjUlMkMlMjAwLjUpJTBBJTIwJTIwJTIwJTIwKSUwQSUyMCUyMCklMEElMjAlMjAubWFzayhzaGFwZSg0MDAlMkMlMjAxJTJDJTIwMi4xMjUpKSUwQSUyMCUyMC5tb2R1bGF0ZVNjYWxlKG9zYyg2JTJDJTIwMC4xMjUlMkMlMjAwLjA1KS5rYWxlaWQoNTApKSUwQSUyMCUyMC5tdWx0KG9zYygyMCUyQyUyMDAuMDUlMkMlMjAyLjQpLmthbGVpZCg1MCklMkMlMjAwLjI1KSUwQSUyMCUyMC5zY2FsZSgxLjc1JTJDJTIwMC42NSUyQyUyMDAuNSklMEElMjAlMjAubW9kdWxhdGUobm9pc2UoMC41KSklMEElMjAlMjAuc2F0dXJhdGUoNiklMEElMjAlMjAucG9zdGVyaXplKDQlMkMlMjAwLjIpJTBBJTIwJTIwLnNjYWxlKDEuNSklMEElMjAlMjAub3V0KCklM0IlMEE="}],license="// licensed with CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/";class Gallery{constructor(t){this.sketches=[],this.examples=[],this.current=null,this.code=null,this.exampleIndex=null,this.examples=examples,this.setSketchFromURL(t),window.addEventListener("popstate",r=>{this.setSketchFromURL(t)}),this.setRandomSketch=this.setRandomSketch.bind(this)}clear(){this.current=null,this.code=null;let t=window.location.protocol+"//"+window.location.host+window.location.pathname;window.history.pushState({path:t},"",t),this.url=t}setSketchFromURL(t){hush(),render(o0);let r=new URLSearchParams(window.location.search);this.searchParams=r;let o=r.get("code"),u=r.get("sketch_id");if(this.foundSketch=!1,u){var f=this.getExampleById(u);f?(this.setSketch(f),t(this.code,!1)):request.get("/sketchById").query({sketch_id:u}).end((g,_)=>{g?(console.log("err getting sketches",g),this.setSketchFromCode(o,t)):(this.sketches=JSON.parse(_.text),this.sketches.length>0?(this.setSketch(this.sketches[0]),this.foundSketch=!0,t(this.code,this.foundSketch)):this.setSketchFromCode(o,t))})}else this.setSketchFromCode(o,t)}setSketchFromCode(t,r){t?(this.code=this.decodeBase64(t),this.foundSketch=!0):this.setRandomSketch(),r(this.code,this.foundSketch)}saveImage(){}setToURL(t){this.searchParams.delete("sketch_id"),this.searchParams.delete("code"),t.sketch_id?(`${t.sketch_id}`,this.searchParams.append("sketch_id",t.sketch_id)):(`${t.sketch_id}${t.code}`,this.searchParams.append("sketch_id",t.sketch_id),this.searchParams.append("code",t.code));let r=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+this.searchParams.toString();window.history.replaceState({path:r},"",r),this.url=r}encodeBase64(t){return btoa(encodeURIComponent(t))}decodeBase64(t){return decodeURIComponent(atob(t))}setSketch(t){let r=this.decodeBase64(t.code);r.indexOf(license)<0&&(r=`${license}
${r}
`),this.code=r,this.current=t,this.setToURL(t)}setRandomSketch(){if(this.examples.length>0){let r;for(r=Math.floor(Math.random()*this.examples.length);r===this.exampleIndex;)r=Math.floor(Math.random()*this.examples.length);this.exampleIndex=r,this.setSketch(this.examples[r])}else{var t="osc(2"+Math.floor(Math.pow(10,Math.random()*2))+")";t+=".color("+Math.random().toFixed(2)+","+Math.random().toFixed(2)+","+Math.random().toFixed(2)+")",t+=".rotate("+Math.random().toFixed(2)+")",t+=".out(o0)",this.code=t}}shareSketch(t,r,o){this.saveSketch(t,()=>{console.log("URL is",this.url,"sketch is",this.current),r.getScreenImage(u=>{request.post("/image").attach("previewImage",u).query({url:this.url,sketch_id:this.current.sketch_id,name:o}).end((f,g)=>{f?console.log("error postingimage",f):console.log("image response",g.text)})})})}saveSketch(t,r){let o=this,u=this.encodeBase64(t),f={code:u,parent:this.current?this.current.sketch_id:null};console.log("saving in gallery",f),request.post("/sketch").query(f).end((g,_)=>{g?(console.log("error posting sketch",g),r&&r(g)):(console.log("response",_.text),o.setSketch({sketch_id:_.text,code:u}),r&&r(null))})}saveLocally(t){let r=this.encodeBase64(t);this.searchParams.delete("sketch_id"),this.searchParams.delete("code"),this.searchParams.append("code",r);var o=this.searchParams.toString();let u=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+o;window.history.pushState({path:u},"",u),this.url=u}getExampleById(t){var r=this.examples.filter(o=>o.sketch_id===t);return r.length<=0&&(r=this.sketches.filter(o=>o.sketch_id===t)),r[0]}}var logElement;const log$1={init:e=>{logElement=e},log:(e,t="")=>{console.log("logging",e,t),logElement&&(logElement.innerHTML=` >> <span class=${t}> ${e} </span> `)},hide:()=>{logElement&&(logElement.style.display="none")},show:()=>{logElement&&(logElement.style.display="block")},toggle:()=>{logElement.style.display=="none"?logElement.style.display="block":logElement.style.display="none"}},log=log$1.log,repl={eval:(arg,callback)=>{var jsString=`(async() => {
    ${arg}
})().catch(${e=>log(e.message,"log-error")})`,isError=!1;try{eval(jsString),log("")}catch(e){isError=!0,console.log("logging",e),log(e.message,"log-error")}callback&&callback(jsString,isError)}};function store$1(e,t){e.showInfo=!0,e.showUI=!0;let r;t.on("DOMContentLoaded",function(){const u=e.editor.editor;r=new Gallery((f,g)=>{u.setValue(f),repl.eval(f),g?e.showInfo=!1:e.showInfo=!0,t.emit("render")})}),t.on("screencap",()=>{screencap();const f=e.editor.editor.getValue(),g=new Blob([f],{type:"text/plain"}),_=document.createElement("a");_.style.display="none";let w=new Date;_.download=`hydra-${w.getFullYear()}-${w.getMonth()+1}-${w.getDate()}-${w.getHours()}.${w.getMinutes()}.${w.getSeconds()}.js`,_.href=URL.createObjectURL(g),_.click(),setTimeout(()=>{window.URL.revokeObjectURL(_.href)},300)}),t.on("editor:randomize",function(u){const f=e.editor.editor;u.shiftKey?f.mutator.doUndo():(f.mutator.mutate({reroll:!1,changeTransform:u.metaKey}),f.formatCode(),r.saveLocally(f.getValue()))});function o(){const u=e.editor.editor;hush(),speed=1,r.clear(),u.clear()}t.on("editor:clearAll",function(){o()}),t.on("editor:evalAll",function(){const u=e.editor.editor,f=u.getValue();repl.eval(f,(g,_)=>{u.flashCode(),_||r.saveLocally(f)})}),t.on("editor:evalLine",u=>{repl.eval(u)}),t.on("editor:evalBlock",u=>{repl.eval(u)}),t.on("gallery:saveToURL",function(){const f=e.editor.editor.getValue();r.saveLocally(f)}),t.on("gallery:shareSketch",function(){let u=e.editor.editor;const f=u.getValue();repl.eval(u.getValue(),(g,_)=>{_?console.warn(_):showConfirmation(w=>{r.shareSketch(f,e.hydra.hydra,w)},()=>{})})}),t.on("gallery:showExample",()=>{const u=e.editor.editor;o(),r.setRandomSketch(),u.setValue(r.code),repl.eval(u.getValue())}),t.on("show confirmation",function(u){}),t.on("clear all",function(u){}),t.on("hideAll",function(){e.showUI=!e.showUI,t.emit("render")}),t.on("toggle info",function(u){e.showInfo=!e.showInfo,t.emit("render")}),t.on("mutate sketch",function(){})}function showConfirmation(e,t){var r=prompt(`Pressing OK will share this sketch to 
https://twitter.com/hydra_patterns.

Include your name or twitter handle (optional):`);r!==null?e(r):t()}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass$1(e,t,r){return t&&_defineProperties$1(e.prototype,t),r&&_defineProperties$1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(o,u){return o.__proto__=u,o},_setPrototypeOf(e,t)}function _inherits(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _possibleConstructorReturn(e,t){if(t&&(_typeof(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var consoleLogger={type:"logger",log:function e(t){this.output("log",t)},warn:function e(t){this.output("warn",t)},error:function e(t){this.output("error",t)},output:function e(t,r){console&&console[t]&&console[t].apply(console,r)}},Logger=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$1(this,e),this.init(t,r)}return _createClass$1(e,[{key:"init",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=o.prefix||"i18next:",this.logger=r||consoleLogger,this.options=o,this.debug=o.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this.forward(o,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this.forward(o,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this.forward(o,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this.forward(o,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,o,u,f){return f&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(u).concat(this.prefix," ").concat(r[0])),this.logger[o](r))}},{key:"create",value:function(r){return new e(this.logger,_objectSpread(_objectSpread({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}}]),e}(),baseLogger=new Logger,EventEmitter$2=function(){function e(){_classCallCheck$1(this,e),this.observers={}}return _createClass$1(e,[{key:"on",value:function(r,o){var u=this;return r.split(" ").forEach(function(f){u.observers[f]=u.observers[f]||[],u.observers[f].push(o)}),this}},{key:"off",value:function(r,o){if(this.observers[r]){if(!o){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(u){return u!==o})}}},{key:"emit",value:function(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),f=1;f<o;f++)u[f-1]=arguments[f];if(this.observers[r]){var g=[].concat(this.observers[r]);g.forEach(function(w){w.apply(void 0,u)})}if(this.observers["*"]){var _=[].concat(this.observers["*"]);_.forEach(function(w){w.apply(w,[r].concat(u))})}}}]),e}();function defer(){var e,t,r=new Promise(function(o,u){e=o,t=u});return r.resolve=e,r.reject=t,r}function makeString(e){return e==null?"":""+e}function copy(e,t,r){e.forEach(function(o){t[o]&&(r[o]=t[o])})}function getLastOfPath(e,t,r){function o(_){return _&&_.indexOf("###")>-1?_.replace(/###/g,"."):_}function u(){return!e||typeof e=="string"}for(var f=typeof t!="string"?[].concat(t):t.split(".");f.length>1;){if(u())return{};var g=o(f.shift());!e[g]&&r&&(e[g]=new r),Object.prototype.hasOwnProperty.call(e,g)?e=e[g]:e={}}return u()?{}:{obj:e,k:o(f.shift())}}function setPath(e,t,r){var o=getLastOfPath(e,t,Object),u=o.obj,f=o.k;u[f]=r}function pushPath(e,t,r,o){var u=getLastOfPath(e,t,Object),f=u.obj,g=u.k;f[g]=f[g]||[],o&&(f[g]=f[g].concat(r)),o||f[g].push(r)}function getPath(e,t){var r=getLastOfPath(e,t),o=r.obj,u=r.k;if(o)return o[u]}function getPathWithDefaults(e,t,r){var o=getPath(e,r);return o!==void 0?o:getPath(t,r)}function deepExtend(e,t,r){for(var o in t)o!=="__proto__"&&o!=="constructor"&&(o in e?typeof e[o]=="string"||e[o]instanceof String||typeof t[o]=="string"||t[o]instanceof String?r&&(e[o]=t[o]):deepExtend(e[o],t[o],r):e[o]=t[o]);return e}function regexEscape(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return _entityMap[t]}):e}var isIE10=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,chars=[" ",",","?","!",";"];function looksLikeObjectPath(e,t,r){t=t||"",r=r||"";var o=chars.filter(function(_){return t.indexOf(_)<0&&r.indexOf(_)<0});if(o.length===0)return!0;var u=new RegExp("(".concat(o.map(function(_){return _==="?"?"\\?":_}).join("|"),")")),f=!u.test(e);if(!f){var g=e.indexOf(r);g>0&&!u.test(e.substring(0,g))&&(f=!0)}return f}function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var o=_getPrototypeOf(e),u;if(t){var f=_getPrototypeOf(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function deepFind(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var o=t.split(r),u=e,f=0;f<o.length;++f){if(!u||typeof u[o[f]]=="string"&&f+1<o.length)return;if(u[o[f]]===void 0){for(var g=2,_=o.slice(f,f+g).join(r),w=u[_];w===void 0&&o.length>f+g;)g++,_=o.slice(f,f+g).join(r),w=u[_];if(w===void 0)return;if(t.endsWith(_)){if(typeof w=="string")return w;if(_&&typeof w[_]=="string")return w[_]}var S=o.slice(f+g).join(r);return S?deepFind(w,S,r):void 0}u=u[o[f]]}return u}}var ResourceStore=function(e){_inherits(r,e);var t=_createSuper(r);function r(o){var u,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck$1(this,r),u=t.call(this),isIE10&&EventEmitter$2.call(_assertThisInitialized(u)),u.data=o||{},u.options=f,u.options.keySeparator===void 0&&(u.options.keySeparator="."),u.options.ignoreJSONStructure===void 0&&(u.options.ignoreJSONStructure=!0),u}return _createClass$1(r,[{key:"addNamespaces",value:function(u){this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}},{key:"removeNamespaces",value:function(u){var f=this.options.ns.indexOf(u);f>-1&&this.options.ns.splice(f,1)}},{key:"getResource",value:function(u,f,g){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},w=_.keySeparator!==void 0?_.keySeparator:this.options.keySeparator,S=_.ignoreJSONStructure!==void 0?_.ignoreJSONStructure:this.options.ignoreJSONStructure,M=[u,f];g&&typeof g!="string"&&(M=M.concat(g)),g&&typeof g=="string"&&(M=M.concat(w?g.split(w):g)),u.indexOf(".")>-1&&(M=u.split("."));var C=getPath(this.data,M);return C||!S||typeof g!="string"?C:deepFind(this.data&&this.data[u]&&this.data[u][f],g,w)}},{key:"addResource",value:function(u,f,g,_){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},S=this.options.keySeparator;S===void 0&&(S=".");var M=[u,f];g&&(M=M.concat(S?g.split(S):g)),u.indexOf(".")>-1&&(M=u.split("."),_=f,f=M[1]),this.addNamespaces(f),setPath(this.data,M,_),w.silent||this.emit("added",u,f,g,_)}},{key:"addResources",value:function(u,f,g){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var w in g)(typeof g[w]=="string"||Object.prototype.toString.apply(g[w])==="[object Array]")&&this.addResource(u,f,w,g[w],{silent:!0});_.silent||this.emit("added",u,f,g)}},{key:"addResourceBundle",value:function(u,f,g,_,w){var S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},M=[u,f];u.indexOf(".")>-1&&(M=u.split("."),_=g,g=f,f=M[1]),this.addNamespaces(f);var C=getPath(this.data,M)||{};_?deepExtend(C,g,w):C=_objectSpread$1(_objectSpread$1({},C),g),setPath(this.data,M,C),S.silent||this.emit("added",u,f,g)}},{key:"removeResourceBundle",value:function(u,f){this.hasResourceBundle(u,f)&&delete this.data[u][f],this.removeNamespaces(f),this.emit("removed",u,f)}},{key:"hasResourceBundle",value:function(u,f){return this.getResource(u,f)!==void 0}},{key:"getResourceBundle",value:function(u,f){return f||(f=this.options.defaultNS),this.options.compatibilityAPI==="v1"?_objectSpread$1(_objectSpread$1({},{}),this.getResource(u,f)):this.getResource(u,f)}},{key:"getDataByLanguage",value:function(u){return this.data[u]}},{key:"hasLanguageSomeTranslations",value:function(u){var f=this.getDataByLanguage(u),g=f&&Object.keys(f)||[];return!!g.find(function(_){return f[_]&&Object.keys(f[_]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(EventEmitter$2),postProcessor={processors:{},addPostProcessor:function e(t){this.processors[t.name]=t},handle:function e(t,r,o,u,f){var g=this;return t.forEach(function(_){g.processors[_]&&(r=g.processors[_].process(r,o,u,f))}),r}};function ownKeys$2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$2(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function(){var o=_getPrototypeOf(e),u;if(t){var f=_getPrototypeOf(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var checkedLoadedFor={},Translator=function(e){_inherits(r,e);var t=_createSuper$1(r);function r(o){var u,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _classCallCheck$1(this,r),u=t.call(this),isIE10&&EventEmitter$2.call(_assertThisInitialized(u)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o,_assertThisInitialized(u)),u.options=f,u.options.keySeparator===void 0&&(u.options.keySeparator="."),u.logger=baseLogger.create("translator"),u}return _createClass$1(r,[{key:"changeLanguage",value:function(u){u&&(this.language=u)}},{key:"exists",value:function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(u==null)return!1;var g=this.resolve(u,f);return g&&g.res!==void 0}},{key:"extractFromKey",value:function(u,f){var g=f.nsSeparator!==void 0?f.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");var _=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,w=f.ns||this.options.defaultNS||[],S=g&&u.indexOf(g)>-1,M=!this.options.userDefinedKeySeparator&&!f.keySeparator&&!this.options.userDefinedNsSeparator&&!f.nsSeparator&&!looksLikeObjectPath(u,g,_);if(S&&!M){var C=u.match(this.interpolator.nestingRegexp);if(C&&C.length>0)return{key:u,namespaces:w};var T=u.split(g);(g!==_||g===_&&this.options.ns.indexOf(T[0])>-1)&&(w=T.shift()),u=T.join(_)}return typeof w=="string"&&(w=[w]),{key:u,namespaces:w}}},{key:"translate",value:function(u,f,g){var _=this;if(_typeof(f)!=="object"&&this.options.overloadTranslationOptionHandler&&(f=this.options.overloadTranslationOptionHandler(arguments)),f||(f={}),u==null)return"";Array.isArray(u)||(u=[String(u)]);var w=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,S=this.extractFromKey(u[u.length-1],f),M=S.key,C=S.namespaces,T=C[C.length-1],k=f.lng||this.language,P=f.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(k&&k.toLowerCase()==="cimode"){if(P){var $=f.nsSeparator||this.options.nsSeparator;return T+$+M}return M}var I=this.resolve(u,f),E=I&&I.res,F=I&&I.usedKey||M,le=I&&I.exactUsedKey||M,W=Object.prototype.toString.apply(E),ae=["[object Number]","[object Function]","[object RegExp]"],te=f.joinArrays!==void 0?f.joinArrays:this.options.joinArrays,oe=!this.i18nFormat||this.i18nFormat.handleAsObject,ie=typeof E!="string"&&typeof E!="boolean"&&typeof E!="number";if(oe&&E&&ie&&ae.indexOf(W)<0&&!(typeof te=="string"&&W==="[object Array]")){if(!f.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(F,E,_objectSpread$2(_objectSpread$2({},f),{},{ns:C})):"key '".concat(M," (").concat(this.language,")' returned an object instead of string.");if(w){var Ee=W==="[object Array]",D=Ee?[]:{},me=Ee?le:F;for(var z in E)if(Object.prototype.hasOwnProperty.call(E,z)){var pe="".concat(me).concat(w).concat(z);D[z]=this.translate(pe,_objectSpread$2(_objectSpread$2({},f),{joinArrays:!1,ns:C})),D[z]===pe&&(D[z]=E[z])}E=D}}else if(oe&&typeof te=="string"&&W==="[object Array]")E=E.join(te),E&&(E=this.extendTranslation(E,u,f,g));else{var we=!1,Q=!1,Y=f.count!==void 0&&typeof f.count!="string",G=r.hasDefaultValue(f),q=Y?this.pluralResolver.getSuffix(k,f.count,f):"",Te=f["defaultValue".concat(q)]||f.defaultValue;!this.isValidLookup(E)&&G&&(we=!0,E=Te),this.isValidLookup(E)||(Q=!0,E=M);var De=f.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,nt=De&&Q?void 0:E,ft=G&&Te!==E&&this.options.updateMissing;if(Q||we||ft){if(this.logger.log(ft?"updateKey":"missingKey",k,T,M,ft?Te:E),w){var wt=this.resolve(M,_objectSpread$2(_objectSpread$2({},f),{},{keySeparator:!1}));wt&&wt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Et=[],kt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,f.lng||this.language);if(this.options.saveMissingTo==="fallback"&&kt&&kt[0])for(var $e=0;$e<kt.length;$e++)Et.push(kt[$e]);else this.options.saveMissingTo==="all"?Et=this.languageUtils.toResolveHierarchy(f.lng||this.language):Et.push(f.lng||this.language);var Re=function(At,Ut,he){var ue=G&&he!==E?he:nt;_.options.missingKeyHandler?_.options.missingKeyHandler(At,T,Ut,ue,ft,f):_.backendConnector&&_.backendConnector.saveMissing&&_.backendConnector.saveMissing(At,T,Ut,ue,ft,f),_.emit("missingKey",At,T,Ut,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Y?Et.forEach(function(at){_.pluralResolver.getSuffixes(at,f).forEach(function(At){Re([at],M+At,f["defaultValue".concat(At)]||Te)})}):Re(Et,M,Te))}E=this.extendTranslation(E,u,f,I,g),Q&&E===M&&this.options.appendNamespaceToMissingKey&&(E="".concat(T,":").concat(M)),(Q||we)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?E=this.options.parseMissingKeyHandler(M,we?E:void 0):E=this.options.parseMissingKeyHandler(E))}return E}},{key:"extendTranslation",value:function(u,f,g,_,w){var S=this;if(this.i18nFormat&&this.i18nFormat.parse)u=this.i18nFormat.parse(u,g,_.usedLng,_.usedNS,_.usedKey,{resolved:_});else if(!g.skipInterpolation){g.interpolation&&this.interpolator.init(_objectSpread$2(_objectSpread$2({},g),{interpolation:_objectSpread$2(_objectSpread$2({},this.options.interpolation),g.interpolation)}));var M=typeof u=="string"&&(g&&g.interpolation&&g.interpolation.skipOnVariables!==void 0?g.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),C;if(M){var T=u.match(this.interpolator.nestingRegexp);C=T&&T.length}var k=g.replace&&typeof g.replace!="string"?g.replace:g;if(this.options.interpolation.defaultVariables&&(k=_objectSpread$2(_objectSpread$2({},this.options.interpolation.defaultVariables),k)),u=this.interpolator.interpolate(u,k,g.lng||this.language,g),M){var P=u.match(this.interpolator.nestingRegexp),$=P&&P.length;C<$&&(g.nest=!1)}g.nest!==!1&&(u=this.interpolator.nest(u,function(){for(var F=arguments.length,le=new Array(F),W=0;W<F;W++)le[W]=arguments[W];return w&&w[0]===le[0]&&!g.context?(S.logger.warn("It seems you are nesting recursively key: ".concat(le[0]," in key: ").concat(f[0])),null):S.translate.apply(S,le.concat([f]))},g)),g.interpolation&&this.interpolator.reset()}var I=g.postProcess||this.options.postProcess,E=typeof I=="string"?[I]:I;return u!=null&&E&&E.length&&g.applyPostProcessor!==!1&&(u=postProcessor.handle(E,u,f,this.options&&this.options.postProcessPassResolved?_objectSpread$2({i18nResolved:_},g):g,this)),u}},{key:"resolve",value:function(u){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_,w,S,M,C;return typeof u=="string"&&(u=[u]),u.forEach(function(T){if(!f.isValidLookup(_)){var k=f.extractFromKey(T,g),P=k.key;w=P;var $=k.namespaces;f.options.fallbackNS&&($=$.concat(f.options.fallbackNS));var I=g.count!==void 0&&typeof g.count!="string",E=I&&!g.ordinal&&g.count===0&&f.pluralResolver.shouldUseIntlApi(),F=g.context!==void 0&&(typeof g.context=="string"||typeof g.context=="number")&&g.context!=="",le=g.lngs?g.lngs:f.languageUtils.toResolveHierarchy(g.lng||f.language,g.fallbackLng);$.forEach(function(W){f.isValidLookup(_)||(C=W,!checkedLoadedFor["".concat(le[0],"-").concat(W)]&&f.utils&&f.utils.hasLoadedNamespace&&!f.utils.hasLoadedNamespace(C)&&(checkedLoadedFor["".concat(le[0],"-").concat(W)]=!0,f.logger.warn('key "'.concat(w,'" for languages "').concat(le.join(", "),`" won't get resolved as namespace "`).concat(C,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),le.forEach(function(ae){if(!f.isValidLookup(_)){M=ae;var te=[P];if(f.i18nFormat&&f.i18nFormat.addLookupKeys)f.i18nFormat.addLookupKeys(te,P,ae,W,g);else{var oe;I&&(oe=f.pluralResolver.getSuffix(ae,g.count,g));var ie="_zero";if(I&&(te.push(P+oe),E&&te.push(P+ie)),F){var Ee="".concat(P).concat(f.options.contextSeparator).concat(g.context);te.push(Ee),I&&(te.push(Ee+oe),E&&te.push(Ee+ie))}}for(var D;D=te.pop();)f.isValidLookup(_)||(S=D,_=f.getResource(ae,W,D,g))}}))})}}),{res:_,usedKey:w,exactUsedKey:S,usedLng:M,usedNS:C}}},{key:"isValidLookup",value:function(u){return u!==void 0&&!(!this.options.returnNull&&u===null)&&!(!this.options.returnEmptyString&&u==="")}},{key:"getResource",value:function(u,f,g){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(u,f,g,_):this.resourceStore.getResource(u,f,g,_)}}],[{key:"hasDefaultValue",value:function(u){var f="defaultValue";for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&f===g.substring(0,f.length)&&u[g]!==void 0)return!0;return!1}}]),r}(EventEmitter$2);function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}var LanguageUtil=function(){function e(t){_classCallCheck$1(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}return _createClass$1(e,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var o=r.split("-");return o.length===2||(o.pop(),o[o.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(o.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var o=r.split("-");return this.formatLanguageCode(o[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var o=["hans","hant","latn","cyrl","cans","mong","arab"],u=r.split("-");return this.options.lowerCaseLng?u=u.map(function(f){return f.toLowerCase()}):u.length===2?(u[0]=u[0].toLowerCase(),u[1]=u[1].toUpperCase(),o.indexOf(u[1].toLowerCase())>-1&&(u[1]=capitalize(u[1].toLowerCase()))):u.length===3&&(u[0]=u[0].toLowerCase(),u[1].length===2&&(u[1]=u[1].toUpperCase()),u[0]!=="sgn"&&u[2].length===2&&(u[2]=u[2].toUpperCase()),o.indexOf(u[1].toLowerCase())>-1&&(u[1]=capitalize(u[1].toLowerCase())),o.indexOf(u[2].toLowerCase())>-1&&(u[2]=capitalize(u[2].toLowerCase()))),u.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var o=this;if(!r)return null;var u;return r.forEach(function(f){if(!u){var g=o.formatLanguageCode(f);(!o.options.supportedLngs||o.isSupportedCode(g))&&(u=g)}}),!u&&this.options.supportedLngs&&r.forEach(function(f){if(!u){var g=o.getLanguagePartFromCode(f);if(o.isSupportedCode(g))return u=g;u=o.options.supportedLngs.find(function(_){if(_.indexOf(g)===0)return _})}}),u||(u=this.getFallbackCodes(this.options.fallbackLng)[0]),u}},{key:"getFallbackCodes",value:function(r,o){if(!r)return[];if(typeof r=="function"&&(r=r(o)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!o)return r.default||[];var u=r[o];return u||(u=r[this.getScriptPartFromCode(o)]),u||(u=r[this.formatLanguageCode(o)]),u||(u=r[this.getLanguagePartFromCode(o)]),u||(u=r.default),u||[]}},{key:"toResolveHierarchy",value:function(r,o){var u=this,f=this.getFallbackCodes(o||this.options.fallbackLng||[],r),g=[],_=function(S){S&&(u.isSupportedCode(S)?g.push(S):u.logger.warn("rejecting language code not found in supportedLngs: ".concat(S)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&_(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&_(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&_(this.getLanguagePartFromCode(r))):typeof r=="string"&&_(this.formatLanguageCode(r)),f.forEach(function(w){g.indexOf(w)<0&&_(u.formatLanguageCode(w))}),g}}]),e}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function e(t){return+(t>1)},2:function e(t){return+(t!=1)},3:function e(t){return 0},4:function e(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function e(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function e(t){return t==1?0:t>=2&&t<=4?1:2},7:function e(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function e(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function e(t){return+(t>=2)},10:function e(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function e(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function e(t){return+(t%10!=1||t%100==11)},13:function e(t){return+(t!==0)},14:function e(t){return t==1?0:t==2?1:t==3?2:3},15:function e(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function e(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function e(t){return t==1||t%10==1&&t%100!=11?0:1},18:function e(t){return t==0?0:t==1?1:2},19:function e(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function e(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function e(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function e(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},deprecatedJsonVersions=["v1","v2","v3"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){var e={};return sets.forEach(function(t){t.lngs.forEach(function(r){e[r]={numbers:t.nr,plurals:_rulesPluralsTypes[t.fc]}})}),e}var PluralResolver=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$1(this,e),this.languageUtils=t,this.options=r,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}return _createClass$1(e,[{key:"addRule",value:function(r,o){this.rules[r]=o}},{key:"getRule",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:o.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.getRule(r,o);return this.shouldUseIntlApi()?u&&u.resolvedOptions().pluralCategories.length>1:u&&u.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,u).map(function(f){return"".concat(o).concat(f)})}},{key:"getSuffixes",value:function(r){var o=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=this.getRule(r,u);return f?this.shouldUseIntlApi()?f.resolvedOptions().pluralCategories.sort(function(g,_){return suffixesOrder[g]-suffixesOrder[_]}).map(function(g){return"".concat(o.options.prepend).concat(g)}):f.numbers.map(function(g){return o.getSuffix(r,g,u)}):[]}},{key:"getSuffix",value:function(r,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=this.getRule(r,u);return f?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(f.select(o)):this.getSuffixRetroCompatible(f,o):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,o){var u=this,f=r.noAbs?r.plurals(o):r.plurals(Math.abs(o)),g=r.numbers[f];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(g===2?g="plural":g===1&&(g=""));var _=function(){return u.options.prepend&&g.toString()?u.options.prepend+g.toString():g.toString()};return this.options.compatibilityJSON==="v1"?g===1?"":typeof g=="number"?"_plural_".concat(g.toString()):_():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?_():this.options.prepend&&f.toString()?this.options.prepend+f.toString():f.toString()}},{key:"shouldUseIntlApi",value:function(){return!deprecatedJsonVersions.includes(this.options.compatibilityJSON)}}]),e}();function ownKeys$3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$3(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var Interpolator=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$1(this,e),this.logger=baseLogger.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return _createClass$1(e,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var o=r.interpolation;this.escape=o.escape!==void 0?o.escape:escape$1,this.escapeValue=o.escapeValue!==void 0?o.escapeValue:!0,this.useRawValueToEscape=o.useRawValueToEscape!==void 0?o.useRawValueToEscape:!1,this.prefix=o.prefix?regexEscape(o.prefix):o.prefixEscaped||"{{",this.suffix=o.suffix?regexEscape(o.suffix):o.suffixEscaped||"}}",this.formatSeparator=o.formatSeparator?o.formatSeparator:o.formatSeparator||",",this.unescapePrefix=o.unescapeSuffix?"":o.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":o.unescapeSuffix||"",this.nestingPrefix=o.nestingPrefix?regexEscape(o.nestingPrefix):o.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=o.nestingSuffix?regexEscape(o.nestingSuffix):o.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=o.nestingOptionsSeparator?o.nestingOptionsSeparator:o.nestingOptionsSeparator||",",this.maxReplaces=o.maxReplaces?o.maxReplaces:1e3,this.alwaysFormat=o.alwaysFormat!==void 0?o.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var o="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(o,"g");var u="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(u,"g")}},{key:"interpolate",value:function(r,o,u,f){var g=this,_,w,S,M=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function C(I){return I.replace(/\$/g,"$$$$")}var T=function(E){if(E.indexOf(g.formatSeparator)<0){var F=getPathWithDefaults(o,M,E);return g.alwaysFormat?g.format(F,void 0,u,_objectSpread$3(_objectSpread$3(_objectSpread$3({},f),o),{},{interpolationkey:E})):F}var le=E.split(g.formatSeparator),W=le.shift().trim(),ae=le.join(g.formatSeparator).trim();return g.format(getPathWithDefaults(o,M,W),ae,u,_objectSpread$3(_objectSpread$3(_objectSpread$3({},f),o),{},{interpolationkey:W}))};this.resetRegExp();var k=f&&f.missingInterpolationHandler||this.options.missingInterpolationHandler,P=f&&f.interpolation&&f.interpolation.skipOnVariables!==void 0?f.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,$=[{regex:this.regexpUnescape,safeValue:function(E){return C(E)}},{regex:this.regexp,safeValue:function(E){return g.escapeValue?C(g.escape(E)):C(E)}}];return $.forEach(function(I){for(S=0;_=I.regex.exec(r);){var E=_[1].trim();if(w=T(E),w===void 0)if(typeof k=="function"){var F=k(r,_,f);w=typeof F=="string"?F:""}else if(f&&f.hasOwnProperty(E))w="";else if(P){w=_[0];continue}else g.logger.warn("missed to pass in variable ".concat(E," for interpolating ").concat(r)),w="";else typeof w!="string"&&!g.useRawValueToEscape&&(w=makeString(w));var le=I.safeValue(w);if(r=r.replace(_[0],le),P?(I.regex.lastIndex+=le.length,I.regex.lastIndex-=_[0].length):I.regex.lastIndex=0,S++,S>=g.maxReplaces)break}}),r}},{key:"nest",value:function(r,o){var u=this,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g,_,w=_objectSpread$3({},f);w.applyPostProcessor=!1,delete w.defaultValue;function S(k,P){var $=this.nestingOptionsSeparator;if(k.indexOf($)<0)return k;var I=k.split(new RegExp("".concat($,"[ ]*{"))),E="{".concat(I[1]);k=I[0],E=this.interpolate(E,w),E=E.replace(/'/g,'"');try{w=JSON.parse(E),P&&(w=_objectSpread$3(_objectSpread$3({},P),w))}catch(F){return this.logger.warn("failed parsing options string in nesting for key ".concat(k),F),"".concat(k).concat($).concat(E)}return delete w.defaultValue,k}for(;g=this.nestingRegexp.exec(r);){var M=[],C=!1;if(g[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(g[1])){var T=g[1].split(this.formatSeparator).map(function(k){return k.trim()});g[1]=T.shift(),M=T,C=!0}if(_=o(S.call(this,g[1].trim(),w),w),_&&g[0]===r&&typeof _!="string")return _;typeof _!="string"&&(_=makeString(_)),_||(this.logger.warn("missed to resolve ".concat(g[1]," for nesting ").concat(r)),_=""),C&&(_=M.reduce(function(k,P){return u.format(k,P,f.lng,_objectSpread$3(_objectSpread$3({},f),{},{interpolationkey:g[1].trim()}))},_.trim())),r=r.replace(g[0],_),this.regexp.lastIndex=0}return r}}]),e}();function ownKeys$4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$4(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$4(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function parseFormatStr(e){var t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var o=e.split("(");t=o[0].toLowerCase().trim();var u=o[1].substring(0,o[1].length-1);if(t==="currency"&&u.indexOf(":")<0)r.currency||(r.currency=u.trim());else if(t==="relativetime"&&u.indexOf(":")<0)r.range||(r.range=u.trim());else{var f=u.split(";");f.forEach(function(g){if(g){var _=g.split(":"),w=_toArray(_),S=w[0],M=w.slice(1),C=M.join(":");r[S.trim()]||(r[S.trim()]=C.trim()),C.trim()==="false"&&(r[S.trim()]=!1),C.trim()==="true"&&(r[S.trim()]=!0),isNaN(C.trim())||(r[S.trim()]=parseInt(C.trim(),10))}})}}return{formatName:t,formatOptions:r}}var Formatter=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$1(this,e),this.logger=baseLogger.create("formatter"),this.options=t,this.formats={number:function(o,u,f){return new Intl.NumberFormat(u,f).format(o)},currency:function(o,u,f){return new Intl.NumberFormat(u,_objectSpread$4(_objectSpread$4({},f),{},{style:"currency"})).format(o)},datetime:function(o,u,f){return new Intl.DateTimeFormat(u,_objectSpread$4({},f)).format(o)},relativetime:function(o,u,f){return new Intl.RelativeTimeFormat(u,_objectSpread$4({},f)).format(o,f.range||"day")},list:function(o,u,f){return new Intl.ListFormat(u,_objectSpread$4({},f)).format(o)}},this.init(t)}return _createClass$1(e,[{key:"init",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},u=o.interpolation;this.formatSeparator=u.formatSeparator?u.formatSeparator:u.formatSeparator||","}},{key:"add",value:function(r,o){this.formats[r.toLowerCase().trim()]=o}},{key:"format",value:function(r,o,u,f){var g=this,_=o.split(this.formatSeparator),w=_.reduce(function(S,M){var C=parseFormatStr(M),T=C.formatName,k=C.formatOptions;if(g.formats[T]){var P=S;try{var $=f&&f.formatParams&&f.formatParams[f.interpolationkey]||{},I=$.locale||$.lng||f.locale||f.lng||u;P=g.formats[T](S,I,_objectSpread$4(_objectSpread$4(_objectSpread$4({},k),f),$))}catch(E){g.logger.warn(E)}return P}else g.logger.warn("there was no format function for ".concat(T));return S},r);return w}}]),e}();function ownKeys$5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$5(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$5(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _createSuper$2(e){var t=_isNativeReflectConstruct$2();return function(){var o=_getPrototypeOf(e),u;if(t){var f=_getPrototypeOf(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function remove(e,t){for(var r=e.indexOf(t);r!==-1;)e.splice(r,1),r=e.indexOf(t)}var Connector=function(e){_inherits(r,e);var t=_createSuper$2(r);function r(o,u,f){var g,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return _classCallCheck$1(this,r),g=t.call(this),isIE10&&EventEmitter$2.call(_assertThisInitialized(g)),g.backend=o,g.store=u,g.services=f,g.languageUtils=f.languageUtils,g.options=_,g.logger=baseLogger.create("backendConnector"),g.state={},g.queue=[],g.backend&&g.backend.init&&g.backend.init(f,_.backend,_),g}return _createClass$1(r,[{key:"queueLoad",value:function(u,f,g,_){var w=this,S=[],M=[],C=[],T=[];return u.forEach(function(k){var P=!0;f.forEach(function($){var I="".concat(k,"|").concat($);!g.reload&&w.store.hasResourceBundle(k,$)?w.state[I]=2:w.state[I]<0||(w.state[I]===1?M.indexOf(I)<0&&M.push(I):(w.state[I]=1,P=!1,M.indexOf(I)<0&&M.push(I),S.indexOf(I)<0&&S.push(I),T.indexOf($)<0&&T.push($)))}),P||C.push(k)}),(S.length||M.length)&&this.queue.push({pending:M,loaded:{},errors:[],callback:_}),{toLoad:S,pending:M,toLoadLanguages:C,toLoadNamespaces:T}}},{key:"loaded",value:function(u,f,g){var _=u.split("|"),w=_[0],S=_[1];f&&this.emit("failedLoading",w,S,f),g&&this.store.addResourceBundle(w,S,g),this.state[u]=f?-1:2;var M={};this.queue.forEach(function(C){pushPath(C.loaded,[w],S),remove(C.pending,u),f&&C.errors.push(f),C.pending.length===0&&!C.done&&(Object.keys(C.loaded).forEach(function(T){M[T]||(M[T]=[]),C.loaded[T].length&&C.loaded[T].forEach(function(k){M[T].indexOf(k)<0&&M[T].push(k)})}),C.done=!0,C.errors.length?C.callback(C.errors):C.callback())}),this.emit("loaded",M),this.queue=this.queue.filter(function(C){return!C.done})}},{key:"read",value:function(u,f,g){var _=this,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,M=arguments.length>5?arguments[5]:void 0;return u.length?this.backend[g](u,f,function(C,T){if(C&&T&&w<5){setTimeout(function(){_.read.call(_,u,f,g,w+1,S*2,M)},S);return}M(C,T)}):M(null,{})}},{key:"prepareLoading",value:function(u,f){var g=this,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},w=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),w&&w();typeof u=="string"&&(u=this.languageUtils.toResolveHierarchy(u)),typeof f=="string"&&(f=[f]);var S=this.queueLoad(u,f,_,w);if(!S.toLoad.length)return S.pending.length||w(),null;S.toLoad.forEach(function(M){g.loadOne(M)})}},{key:"load",value:function(u,f,g){this.prepareLoading(u,f,{},g)}},{key:"reload",value:function(u,f,g){this.prepareLoading(u,f,{reload:!0},g)}},{key:"loadOne",value:function(u){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",_=u.split("|"),w=_[0],S=_[1];this.read(w,S,"read",void 0,void 0,function(M,C){M&&f.logger.warn("".concat(g,"loading namespace ").concat(S," for language ").concat(w," failed"),M),!M&&C&&f.logger.log("".concat(g,"loaded namespace ").concat(S," for language ").concat(w),C),f.loaded(u,M,C)})}},{key:"saveMissing",value:function(u,f,g,_,w){var S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(f)){this.logger.warn('did not save key "'.concat(g,'" as the namespace "').concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}g==null||g===""||(this.backend&&this.backend.create&&this.backend.create(u,f,g,_,null,_objectSpread$5(_objectSpread$5({},S),{},{isUpdate:w})),!(!u||!u[0])&&this.store.addResource(u[0],f,g,_))}}]),r}(EventEmitter$2);function get$1(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(_typeof(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),_typeof(t[2])==="object"||_typeof(t[3])==="object"){var o=t[3]||t[2];Object.keys(o).forEach(function(u){r[u]=o[u]})}return r},interpolation:{escapeValue:!0,format:function(t,r,o,u){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ownKeys$6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$6(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$6(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _createSuper$3(e){var t=_isNativeReflectConstruct$3();return function(){var o=_getPrototypeOf(e),u;if(t){var f=_getPrototypeOf(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function noop$3(){}function bindMemberFunctions(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(r){typeof e[r]=="function"&&(e[r]=e[r].bind(e))})}var I18n=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(){var o,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;if(_classCallCheck$1(this,r),o=t.call(this),isIE10&&EventEmitter$2.call(_assertThisInitialized(o)),o.options=transformOptions(u),o.services={},o.logger=baseLogger,o.modules={external:[]},bindMemberFunctions(_assertThisInitialized(o)),f&&!o.isInitialized&&!u.isClone){if(!o.options.initImmediate)return o.init(u,f),_possibleConstructorReturn(o,_assertThisInitialized(o));setTimeout(function(){o.init(u,f)},0)}return o}return _createClass$1(r,[{key:"init",value:function(){var u=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1?arguments[1]:void 0;typeof f=="function"&&(g=f,f={}),!f.defaultNS&&f.ns&&(typeof f.ns=="string"?f.defaultNS=f.ns:f.ns.indexOf("translation")<0&&(f.defaultNS=f.ns[0]));var _=get$1();this.options=_objectSpread$6(_objectSpread$6(_objectSpread$6({},_),this.options),transformOptions(f)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_objectSpread$6(_objectSpread$6({},_.interpolation),this.options.interpolation)),f.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=f.keySeparator),f.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=f.nsSeparator);function w(E){return E?typeof E=="function"?new E:E:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(w(this.modules.logger),this.options):baseLogger.init(null,this.options);var S;this.modules.formatter?S=this.modules.formatter:typeof Intl<"u"&&(S=Formatter);var M=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var C=this.services;C.logger=baseLogger,C.resourceStore=this.store,C.languageUtils=M,C.pluralResolver=new PluralResolver(M,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),S&&(!this.options.interpolation.format||this.options.interpolation.format===_.interpolation.format)&&(C.formatter=w(S),C.formatter.init(C,this.options),this.options.interpolation.format=C.formatter.format.bind(C.formatter)),C.interpolator=new Interpolator(this.options),C.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},C.backendConnector=new Connector(w(this.modules.backend),C.resourceStore,C,this.options),C.backendConnector.on("*",function(E){for(var F=arguments.length,le=new Array(F>1?F-1:0),W=1;W<F;W++)le[W-1]=arguments[W];u.emit.apply(u,[E].concat(le))}),this.modules.languageDetector&&(C.languageDetector=w(this.modules.languageDetector),C.languageDetector.init(C,this.options.detection,this.options)),this.modules.i18nFormat&&(C.i18nFormat=w(this.modules.i18nFormat),C.i18nFormat.init&&C.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(E){for(var F=arguments.length,le=new Array(F>1?F-1:0),W=1;W<F;W++)le[W-1]=arguments[W];u.emit.apply(u,[E].concat(le))}),this.modules.external.forEach(function(E){E.init&&E.init(u)})}if(this.format=this.options.interpolation.format,g||(g=noop$3),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var T=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);T.length>0&&T[0]!=="dev"&&(this.options.lng=T[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var k=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];k.forEach(function(E){u[E]=function(){var F;return(F=u.store)[E].apply(F,arguments)}});var P=["addResource","addResources","addResourceBundle","removeResourceBundle"];P.forEach(function(E){u[E]=function(){var F;return(F=u.store)[E].apply(F,arguments),u}});var $=defer(),I=function(){var F=function(W,ae){u.isInitialized&&!u.initializedStoreOnce&&u.logger.warn("init: i18next is already initialized. You should call init just once!"),u.isInitialized=!0,u.options.isClone||u.logger.log("initialized",u.options),u.emit("initialized",u.options),$.resolve(ae),g(W,ae)};if(u.languages&&u.options.compatibilityAPI!=="v1"&&!u.isInitialized)return F(null,u.t.bind(u));u.changeLanguage(u.options.lng,F)};return this.options.resources||!this.options.initImmediate?I():setTimeout(I,0),$}},{key:"loadResources",value:function(u){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$3,_=g,w=typeof u=="string"?u:this.language;if(typeof u=="function"&&(_=u),!this.options.resources||this.options.partialBundledLanguages){if(w&&w.toLowerCase()==="cimode")return _();var S=[],M=function(k){if(k){var P=f.services.languageUtils.toResolveHierarchy(k);P.forEach(function($){S.indexOf($)<0&&S.push($)})}};if(w)M(w);else{var C=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);C.forEach(function(T){return M(T)})}this.options.preload&&this.options.preload.forEach(function(T){return M(T)}),this.services.backendConnector.load(S,this.options.ns,function(T){!T&&!f.resolvedLanguage&&f.language&&f.setResolvedLanguage(f.language),_(T)})}else _(null)}},{key:"reloadResources",value:function(u,f,g){var _=defer();return u||(u=this.languages),f||(f=this.options.ns),g||(g=noop$3),this.services.backendConnector.reload(u,f,function(w){_.resolve(),g(w)}),_}},{key:"use",value:function(u){if(!u)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!u.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return u.type==="backend"&&(this.modules.backend=u),(u.type==="logger"||u.log&&u.warn&&u.error)&&(this.modules.logger=u),u.type==="languageDetector"&&(this.modules.languageDetector=u),u.type==="i18nFormat"&&(this.modules.i18nFormat=u),u.type==="postProcessor"&&postProcessor.addPostProcessor(u),u.type==="formatter"&&(this.modules.formatter=u),u.type==="3rdParty"&&this.modules.external.push(u),this}},{key:"setResolvedLanguage",value:function(u){if(!(!u||!this.languages)&&!(["cimode","dev"].indexOf(u)>-1))for(var f=0;f<this.languages.length;f++){var g=this.languages[f];if(!(["cimode","dev"].indexOf(g)>-1)&&this.store.hasLanguageSomeTranslations(g)){this.resolvedLanguage=g;break}}}},{key:"changeLanguage",value:function(u,f){var g=this;this.isLanguageChangingTo=u;var _=defer();this.emit("languageChanging",u);var w=function(T){g.language=T,g.languages=g.services.languageUtils.toResolveHierarchy(T),g.resolvedLanguage=void 0,g.setResolvedLanguage(T)},S=function(T,k){k?(w(k),g.translator.changeLanguage(k),g.isLanguageChangingTo=void 0,g.emit("languageChanged",k),g.logger.log("languageChanged",k)):g.isLanguageChangingTo=void 0,_.resolve(function(){return g.t.apply(g,arguments)}),f&&f(T,function(){return g.t.apply(g,arguments)})},M=function(T){!u&&!T&&g.services.languageDetector&&(T=[]);var k=typeof T=="string"?T:g.services.languageUtils.getBestMatchFromCodes(T);k&&(g.language||w(k),g.translator.language||g.translator.changeLanguage(k),g.services.languageDetector&&g.services.languageDetector.cacheUserLanguage(k)),g.loadResources(k,function(P){S(P,k)})};return!u&&this.services.languageDetector&&!this.services.languageDetector.async?M(this.services.languageDetector.detect()):!u&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(M):M(u),_}},{key:"getFixedT",value:function(u,f,g){var _=this,w=function S(M,C){var T;if(_typeof(C)!=="object"){for(var k=arguments.length,P=new Array(k>2?k-2:0),$=2;$<k;$++)P[$-2]=arguments[$];T=_.options.overloadTranslationOptionHandler([M,C].concat(P))}else T=_objectSpread$6({},C);T.lng=T.lng||S.lng,T.lngs=T.lngs||S.lngs,T.ns=T.ns||S.ns;var I=_.options.keySeparator||".",E=g?"".concat(g).concat(I).concat(M):M;return _.t(E,T)};return typeof u=="string"?w.lng=u:w.lngs=u,w.ns=f,w.keyPrefix=g,w}},{key:"t",value:function(){var u;return this.translator&&(u=this.translator).translate.apply(u,arguments)}},{key:"exists",value:function(){var u;return this.translator&&(u=this.translator).exists.apply(u,arguments)}},{key:"setDefaultNamespace",value:function(u){this.options.defaultNS=u}},{key:"hasLoadedNamespace",value:function(u){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var _=this.resolvedLanguage||this.languages[0],w=this.options?this.options.fallbackLng:!1,S=this.languages[this.languages.length-1];if(_.toLowerCase()==="cimode")return!0;var M=function(k,P){var $=f.services.backendConnector.state["".concat(k,"|").concat(P)];return $===-1||$===2};if(g.precheck){var C=g.precheck(this,M);if(C!==void 0)return C}return!!(this.hasResourceBundle(_,u)||!this.services.backendConnector.backend||M(_,u)&&(!w||M(S,u)))}},{key:"loadNamespaces",value:function(u,f){var g=this,_=defer();return this.options.ns?(typeof u=="string"&&(u=[u]),u.forEach(function(w){g.options.ns.indexOf(w)<0&&g.options.ns.push(w)}),this.loadResources(function(w){_.resolve(),f&&f(w)}),_):(f&&f(),Promise.resolve())}},{key:"loadLanguages",value:function(u,f){var g=defer();typeof u=="string"&&(u=[u]);var _=this.options.preload||[],w=u.filter(function(S){return _.indexOf(S)<0});return w.length?(this.options.preload=_.concat(w),this.loadResources(function(S){g.resolve(),f&&f(S)}),g):(f&&f(),Promise.resolve())}},{key:"dir",value:function(u){if(u||(u=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!u)return"rtl";var f=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return f.indexOf(this.services.languageUtils.getLanguagePartFromCode(u))>-1||u.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var u=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$3,_=_objectSpread$6(_objectSpread$6(_objectSpread$6({},this.options),f),{isClone:!0}),w=new r(_),S=["store","services","language"];return S.forEach(function(M){w[M]=u[M]}),w.services=_objectSpread$6({},this.services),w.services.utils={hasLoadedNamespace:w.hasLoadedNamespace.bind(w)},w.translator=new Translator(w.services,w.options),w.translator.on("*",function(M){for(var C=arguments.length,T=new Array(C>1?C-1:0),k=1;k<C;k++)T[k-1]=arguments[k];w.emit.apply(w,[M].concat(T))}),w.init(_,g),w.translator.options=w.options,w.translator.backendConnector.services.utils={hasLoadedNamespace:w.hasLoadedNamespace.bind(w)},w}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(EventEmitter$2);_defineProperty(I18n,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new I18n(e,t)});var instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var arr=[],each=arr.forEach,slice$1=arr.slice;function defaults(e){return each.call(slice$1.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function e(t,r,o){var u=o||{};u.path=u.path||"/";var f=encodeURIComponent(r),g=t+"="+f;if(u.maxAge>0){var _=u.maxAge-0;if(isNaN(_))throw new Error("maxAge should be a Number");g+="; Max-Age="+Math.floor(_)}if(u.domain){if(!fieldContentRegExp.test(u.domain))throw new TypeError("option domain is invalid");g+="; Domain="+u.domain}if(u.path){if(!fieldContentRegExp.test(u.path))throw new TypeError("option path is invalid");g+="; Path="+u.path}if(u.expires){if(typeof u.expires.toUTCString!="function")throw new TypeError("option expires is invalid");g+="; Expires="+u.expires.toUTCString()}if(u.httpOnly&&(g+="; HttpOnly"),u.secure&&(g+="; Secure"),u.sameSite){var w=typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite;switch(w){case!0:g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"strict":g+="; SameSite=Strict";break;case"none":g+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return g},cookie={create:function e(t,r,o,u){var f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};o&&(f.expires=new Date,f.expires.setTime(f.expires.getTime()+o*60*1e3)),u&&(f.domain=u),document.cookie=serializeCookie(t,encodeURIComponent(r),f)},read:function e(t){for(var r=t+"=",o=document.cookie.split(";"),u=0;u<o.length;u++){for(var f=o[u];f.charAt(0)===" ";)f=f.substring(1,f.length);if(f.indexOf(r)===0)return f.substring(r.length,f.length)}return null},remove:function e(t){this.create(t,"",-1)}},cookie$1={name:"cookie",lookup:function e(t){var r;if(t.lookupCookie&&typeof document<"u"){var o=cookie.read(t.lookupCookie);o&&(r=o)}return r},cacheUserLanguage:function e(t,r){r.lookupCookie&&typeof document<"u"&&cookie.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},querystring={name:"querystring",lookup:function e(t){var r;if(typeof window<"u"){var o=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));for(var u=o.substring(1),f=u.split("&"),g=0;g<f.length;g++){var _=f[g].indexOf("=");if(_>0){var w=f[g].substring(0,_);w===t.lookupQuerystring&&(r=f[g].substring(_+1))}}}return r}},hasLocalStorageSupport=null,localStorageAvailable=function e(){if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport},localStorage$1={name:"localStorage",lookup:function e(t){var r;if(t.lookupLocalStorage&&localStorageAvailable()){var o=window.localStorage.getItem(t.lookupLocalStorage);o&&(r=o)}return r},cacheUserLanguage:function e(t,r){r.lookupLocalStorage&&localStorageAvailable()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},hasSessionStorageSupport=null,sessionStorageAvailable=function e(){if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport},sessionStorage$1={name:"sessionStorage",lookup:function e(t){var r;if(t.lookupSessionStorage&&sessionStorageAvailable()){var o=window.sessionStorage.getItem(t.lookupSessionStorage);o&&(r=o)}return r},cacheUserLanguage:function e(t,r){r.lookupSessionStorage&&sessionStorageAvailable()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},navigator$1={name:"navigator",lookup:function e(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var o=0;o<navigator.languages.length;o++)r.push(navigator.languages[o]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},htmlTag={name:"htmlTag",lookup:function e(t){var r,o=t.htmlTag||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(r=o.getAttribute("lang")),r}},path={name:"path",lookup:function e(t){var r;if(typeof window<"u"){var o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(o instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof o[t.lookupFromPathIndex]!="string")return;r=o[t.lookupFromPathIndex].replace("/","")}else r=o[0].replace("/","")}return r}},subdomain={name:"subdomain",lookup:function e(t){var r;if(typeof window<"u"){var o=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);o instanceof Array&&(typeof t.lookupFromSubdomainIndex=="number"?r=o[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):r=o[0].replace("http://","").replace("https://","").replace(".",""))}return r}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Browser=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return _createClass(e,[{key:"init",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=defaults(o,this.options||{},getDefaults()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=u,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage$1),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var o=this;r||(r=this.options.order);var u=[];return r.forEach(function(f){if(o.detectors[f]){var g=o.detectors[f].lookup(o.options);g&&typeof g=="string"&&(g=[g]),g&&(u=u.concat(g))}}),this.services.languageUtils.getBestMatchFromCodes?u:u.length>0?u[0]:null}},{key:"cacheUserLanguage",value:function(r,o){var u=this;o||(o=this.options.caches),o&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||o.forEach(function(f){u.detectors[f]&&u.detectors[f].cacheUserLanguage(r,u.options)}))}}]),e}();Browser.type="languageDetector";const languageResources={en:{translation:{"language-name":"english",toolbar:{run:"Run all code (ctrl+shift+enter)",upload:"upload to gallery",clear:"clear all",shuffle:"show random sketch",random:"make random change","show-info":"show info window","hide-info":"hide info window"},info:{title:"hydra",subtitle:"live coding video synth",description:"Hydra is live code-able video synth and coding environment that runs directly in the browser. It is free and open-source and made for beginners and experts alike.","get-started-title":"To get started:","get-started-list":["Close this window","Change some numbers","Type Ctrl + Shift + Enter"],"description-detailed":"Hydra is written in JavaScript and compiles to WebGL under the hood. The syntax is inspired by analog modular synthesis, in which chaining or patching a set of transformations together generates a visual result.",uses:"Hydra can be used:","uses-list":["to mix and add effects to camera feeds, screenshares, live streams, and videos","to create generative and audio-reactive visuals, and share them online with others","in combination with other javascript libraries such as P5.js, Tone.js, THREE.js, or gibber","to add interactive video effects to a website","to experiment with and learn about video feedback, fractals, and pixel operations","to stream video between browsers and live-jam with others online"],author:"Created by <a {{author}}>olivia.</a>","more-info":"For more information and instructions, see: <a {{docs}}>the interactive documentation</a>, <a {{functions}}>a list of hydra functions</a>, <a {{garden}}>the community database of projects and tutorials</a>, <a {{gallery}}>a gallery of user-generated sketches</a>, and <a {{repo}}>the source code on github</a>,","more-info-forums":"There is also an active <a {{discord}}>Discord server</a> and <a {{facebook}}>facebook group</a> for hydra users+contributors.",support:"If you enjoy using Hydra, please consider  <a {{open-collective}} >supporting continued development <3 </a>."}}}},availableLanguages=["ja","es","ar","id","pt-br"],languagePath=e=>`https://raw.githubusercontent.com/hydra-synth/l10n/main/${e}/editor.json`;instance.use(Browser).init({debug:!0,fallbackLng:"en",partialBundledLanguages:!0,resources:languageResources});function store(e,t){const r={};let o=new URLSearchParams(window.location.search),u=o.get("l10n-lang"),f=o.get("l10n-url");availableLanguages.forEach(w=>{_(w,languagePath(w))}),u!==null&&f!==null&&_(u,f),g(),t.on("set language",w=>{instance.changeLanguage(w,(S,M)=>{e.translation.selectedLanguage=w,t.emit("render")})});function g(){Object.keys(languageResources).forEach(w=>{const S=w.split("-")[0];r[S]=instance.getFixedT(S)("language-name")}),e.translation={t:instance.t,languages:r,selectedLanguage:instance.language}}function _(w="es",S){const M="color: purple; background: orange; font-size: 14px;padding:10px";console.log(`%cloading translation for ${w} from ${S}`,M),fetch(S).then(C=>C.ok?C.json():C.text().then(T=>{throw new Error(T)})).then(C=>{window.i18n=instance,console.log("adding language",w,C);const T=w.split("-")[0];instance.addResourceBundle(T,"translation",C),g(),t.emit("render")})}}var hyperscriptAttributeToProperty=attributeToProperty,transform={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};function attributeToProperty(e){return function(t,r,o){for(var u in r)u in transform&&(r[transform[u]]=r[u],delete r[u]);return e(t,r,o)}}var attrToProp=hyperscriptAttributeToProperty,VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12,COMMENT=13,hyperx$1=function(e,t){t||(t={});var r=t.concat||function(u,f){return String(u)+String(f)};return t.attrToProp!==!1&&(e=attrToProp(e)),function(u){for(var f=TEXT,g="",_=arguments.length,w=[],S=0;S<u.length;S++)if(S<_-1){var M=arguments[S+1],C=te(u[S]),T=f;T===ATTR_VALUE_DQ&&(T=ATTR_VALUE),T===ATTR_VALUE_SQ&&(T=ATTR_VALUE),T===ATTR_VALUE_W&&(T=ATTR_VALUE),T===ATTR&&(T=ATTR_KEY),T===OPEN?g==="/"?(C.push([OPEN,"/",M]),g=""):C.push([OPEN,M]):T===COMMENT&&t.comments?g+=String(M):T!==COMMENT&&C.push([VAR,T,M]),w.push.apply(w,C)}else w.push.apply(w,te(u[S]));for(var k=[null,{},[]],P=[[k,-1]],S=0;S<w.length;S++){var $=P[P.length-1][0],C=w[S],I=C[0];if(I===OPEN&&/^\//.test(C[1])){var E=P[P.length-1][1];P.length>1&&(P.pop(),P[P.length-1][0][2][E]=e($[0],$[1],$[2].length?$[2]:void 0))}else if(I===OPEN){var F=[C[1],{},[]];$[2].push(F),P.push([F,$[2].length-1])}else if(I===ATTR_KEY||I===VAR&&C[1]===ATTR_KEY){for(var le="",W;S<w.length;S++)if(w[S][0]===ATTR_KEY)le=r(le,w[S][1]);else if(w[S][0]===VAR&&w[S][1]===ATTR_KEY)if(typeof w[S][2]=="object"&&!le)for(W in w[S][2])w[S][2].hasOwnProperty(W)&&!$[1][W]&&($[1][W]=w[S][2][W]);else le=r(le,w[S][2]);else break;w[S][0]===ATTR_EQ&&S++;for(var ae=S;S<w.length;S++)if(w[S][0]===ATTR_VALUE||w[S][0]===ATTR_KEY)$[1][le]?w[S][1]===""||($[1][le]=r($[1][le],w[S][1])):$[1][le]=o(w[S][1]);else if(w[S][0]===VAR&&(w[S][1]===ATTR_VALUE||w[S][1]===ATTR_KEY))$[1][le]?w[S][2]===""||($[1][le]=r($[1][le],w[S][2])):$[1][le]=o(w[S][2]);else{le.length&&!$[1][le]&&S===ae&&(w[S][0]===CLOSE||w[S][0]===ATTR_BREAK)&&($[1][le]=le.toLowerCase()),w[S][0]===CLOSE&&S--;break}}else if(I===ATTR_KEY)$[1][C[1]]=!0;else if(I===VAR&&C[1]===ATTR_KEY)$[1][C[2]]=!0;else if(I===CLOSE){if(selfClosing($[0])&&P.length){var E=P[P.length-1][1];P.pop(),P[P.length-1][0][2][E]=e($[0],$[1],$[2].length?$[2]:void 0)}}else if(I===VAR&&C[1]===TEXT)C[2]===void 0||C[2]===null?C[2]="":C[2]||(C[2]=r("",C[2])),Array.isArray(C[2][0])?$[2].push.apply($[2],C[2]):$[2].push(C[2]);else if(I===TEXT)$[2].push(C[1]);else if(!(I===ATTR_EQ||I===ATTR_BREAK))throw new Error("unhandled: "+I)}if(k[2].length>1&&/^\s*$/.test(k[2][0])&&k[2].shift(),k[2].length>2||k[2].length===2&&/\S/.test(k[2][1])){if(t.createFragment)return t.createFragment(k[2]);throw new Error("multiple root elements must be wrapped in an enclosing tag")}return Array.isArray(k[2][0])&&typeof k[2][0][0]=="string"&&Array.isArray(k[2][0][2])&&(k[2][0]=e(k[2][0][0],k[2][0][1],k[2][0][2])),k[2][0];function te(oe){var ie=[];f===ATTR_VALUE_W&&(f=ATTR);for(var Ee=0;Ee<oe.length;Ee++){var D=oe.charAt(Ee);f===TEXT&&D==="<"?(g.length&&ie.push([TEXT,g]),g="",f=OPEN):D===">"&&!quot(f)&&f!==COMMENT?(f===OPEN&&g.length?ie.push([OPEN,g]):f===ATTR_KEY?ie.push([ATTR_KEY,g]):f===ATTR_VALUE&&g.length&&ie.push([ATTR_VALUE,g]),ie.push([CLOSE]),g="",f=TEXT):f===COMMENT&&/-$/.test(g)&&D==="-"?(t.comments&&ie.push([ATTR_VALUE,g.substr(0,g.length-1)]),g="",f=TEXT):f===OPEN&&/^!--$/.test(g)?(t.comments&&ie.push([OPEN,g],[ATTR_KEY,"comment"],[ATTR_EQ]),g=D,f=COMMENT):f===TEXT||f===COMMENT?g+=D:f===OPEN&&D==="/"&&g.length||(f===OPEN&&/\s/.test(D)?(g.length&&ie.push([OPEN,g]),g="",f=ATTR):f===OPEN?g+=D:f===ATTR&&/[^\s"'=/]/.test(D)?(f=ATTR_KEY,g=D):f===ATTR&&/\s/.test(D)?(g.length&&ie.push([ATTR_KEY,g]),ie.push([ATTR_BREAK])):f===ATTR_KEY&&/\s/.test(D)?(ie.push([ATTR_KEY,g]),g="",f=ATTR_KEY_W):f===ATTR_KEY&&D==="="?(ie.push([ATTR_KEY,g],[ATTR_EQ]),g="",f=ATTR_VALUE_W):f===ATTR_KEY?g+=D:(f===ATTR_KEY_W||f===ATTR)&&D==="="?(ie.push([ATTR_EQ]),f=ATTR_VALUE_W):(f===ATTR_KEY_W||f===ATTR)&&!/\s/.test(D)?(ie.push([ATTR_BREAK]),/[\w-]/.test(D)?(g+=D,f=ATTR_KEY):f=ATTR):f===ATTR_VALUE_W&&D==='"'?f=ATTR_VALUE_DQ:f===ATTR_VALUE_W&&D==="'"?f=ATTR_VALUE_SQ:f===ATTR_VALUE_DQ&&D==='"'?(ie.push([ATTR_VALUE,g],[ATTR_BREAK]),g="",f=ATTR):f===ATTR_VALUE_SQ&&D==="'"?(ie.push([ATTR_VALUE,g],[ATTR_BREAK]),g="",f=ATTR):f===ATTR_VALUE_W&&!/\s/.test(D)?(f=ATTR_VALUE,Ee--):f===ATTR_VALUE&&/\s/.test(D)?(ie.push([ATTR_VALUE,g],[ATTR_BREAK]),g="",f=ATTR):(f===ATTR_VALUE||f===ATTR_VALUE_SQ||f===ATTR_VALUE_DQ)&&(g+=D))}return f===TEXT&&g.length?(ie.push([TEXT,g]),g=""):f===ATTR_VALUE&&g.length?(ie.push([ATTR_VALUE,g]),g=""):f===ATTR_VALUE_DQ&&g.length?(ie.push([ATTR_VALUE,g]),g=""):f===ATTR_VALUE_SQ&&g.length?(ie.push([ATTR_VALUE,g]),g=""):f===ATTR_KEY&&(ie.push([ATTR_KEY,g]),g=""),ie}};function o(u){return typeof u=="function"||typeof u=="string"||u&&typeof u=="object"||u==null?u:r("",u)}};function quot(e){return e===ATTR_VALUE_SQ||e===ATTR_VALUE_DQ}var closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");function selfClosing(e){return closeRE.test(e)}var trailingNewlineRegex=/\n[\s]+$/,leadingNewlineRegex=/^\n[\s]+/,trailingSpaceRegex=/[\s]+$/,leadingSpaceRegex=/^[\s]+/,multiSpaceRegex=/[\n\s]+/g,TEXT_TAGS=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],VERBATIM_TAGS=["code","pre","textarea"],appendChild$1=function e(t,r){if(Array.isArray(r))for(var o=t.nodeName.toLowerCase(),u=!1,f,g,_=0,w=r.length;_<w;_++){var S=r[_];if(Array.isArray(S)){e(t,S);continue}(typeof S=="number"||typeof S=="boolean"||typeof S=="function"||S instanceof Date||S instanceof RegExp)&&(S=S.toString());var M=t.childNodes[t.childNodes.length-1];if(typeof S=="string")u=!0,M&&M.nodeName==="#text"?M.nodeValue+=S:(S=t.ownerDocument.createTextNode(S),t.appendChild(S),M=S),_===w-1&&(u=!1,TEXT_TAGS.indexOf(o)===-1&&VERBATIM_TAGS.indexOf(o)===-1?(f=M.nodeValue.replace(leadingNewlineRegex,"").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," "),f===""?t.removeChild(M):M.nodeValue=f):VERBATIM_TAGS.indexOf(o)===-1&&(g=_===0?"":" ",f=M.nodeValue.replace(leadingNewlineRegex,g).replace(leadingSpaceRegex," ").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," "),M.nodeValue=f));else if(S&&S.nodeType){u&&(u=!1,TEXT_TAGS.indexOf(o)===-1&&VERBATIM_TAGS.indexOf(o)===-1?(f=M.nodeValue.replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," "),f===""?t.removeChild(M):M.nodeValue=f):VERBATIM_TAGS.indexOf(o)===-1&&(f=M.nodeValue.replace(leadingSpaceRegex," ").replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," "),M.nodeValue=f));var C=S.nodeName;C&&(o=C.toLowerCase()),t.appendChild(S)}}},svgTags=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],boolProps=["async","autofocus","autoplay","checked","controls","default","defaultchecked","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","selected"],directProps=["indeterminate"],hyperx=hyperx$1,appendChild=appendChild$1,SVG_TAGS=svgTags,BOOL_PROPS=boolProps,DIRECT_PROPS=directProps,SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",COMMENT_TAG="!--",dom=function(e){function t(u,f,g){var _;SVG_TAGS.indexOf(u)!==-1&&(f.namespace=SVGNS);var w=!1;f.namespace&&(w=f.namespace,delete f.namespace);var S=!1;if(f.is&&(S=f.is,delete f.is),w)S?_=e.createElementNS(w,u,{is:S}):_=e.createElementNS(w,u);else{if(u===COMMENT_TAG)return e.createComment(f.comment);S?_=e.createElement(u,{is:S}):_=e.createElement(u)}for(var M in f)if(f.hasOwnProperty(M)){var C=M.toLowerCase(),T=f[M];if(C==="classname"&&(C="class",M="class"),M==="htmlFor"&&(M="for"),BOOL_PROPS.indexOf(C)!==-1){if(String(T)==="true")T=C;else if(String(T)==="false")continue}C.slice(0,2)==="on"||DIRECT_PROPS.indexOf(C)!==-1?_[M]=T:w?M==="xlink:href"?_.setAttributeNS(XLINKNS,M,T):/^xmlns($|:)/i.test(M)||_.setAttributeNS(null,M,T):_.setAttribute(M,T)}return appendChild(_,g),_}function r(u){for(var f=e.createDocumentFragment(),g=0;g<u.length;g++)u[g]!=null&&(Array.isArray(u[g])?f.appendChild(r(u[g])):(typeof u[g]=="string"&&(u[g]=e.createTextNode(u[g])),f.appendChild(u[g])));return f}var o=hyperx(t,{comments:!0,createFragment:r});return o.default=o,o.createComment=t,o},browser$8=dom(document),html$1=browser$8;const html$2=getDefaultExportFromCjs(html$1);function nanohtmlRawBrowser(e){var t=document.createElement("div");return t.innerHTML=e,toArray$1(t.childNodes)}function toArray$1(e){return Array.isArray(e)?e:[].slice.call(e)}var rawBrowser=nanohtmlRawBrowser,raw=rawBrowser;const raw$1=getDefaultExportFromCjs(raw);function toolbar(e,t){const r=e.showInfo?"hidden":"",{t:o}=e.translation,u=_=>w=>t(_,w),f=(_,w,S,M)=>html$2`
        <i id="${_}-icon" class="fas icon ${w}" title="${S}" onclick=${u(M)} aria-hidden="true"></i>`,g=e.showInfo?f("close","fa-times",o("toolbar.hide-info"),"toggle info"):f("close","fa-question-circle",o("toolbar.show-info"),"toggle info");return html$2`<div>
        ${f("run",`fa-play-circle ${r}`,o("toolbar.run"),"editor:evalAll")}
        ${f("share",`fa-upload ${r}`,o("toolbar.upload"),"gallery:shareSketch")}
        ${f("clear",`fa fa-trash ${r}`,o("toolbar.clear"),"editor:clearAll")}
        ${f("shuffle","fa-random",o("toolbar.shuffle"),"gallery:showExample")}
        ${f("mutator",`fa-dice ${r}`,o("toolbar.random"),"editor:randomize")}
        ${g}
    </div>`}const link=e=>`href=${e} target=_blank`;function mainView$1(e,t){const{t:r,languages:o}=e.translation,u=e.translation.selectedLanguage==="ar"&&e.showInfo===!0?"rtl":"ltr",f=Object.entries(o);return html$2`
<div id="info-container" class="${e.showInfo?"":"hidden"}" style="direction:${u}">
  <div id="modal">
    <div id="modal-header" style="opacity:${e.showUI===!0?1:0}">
      ${e.showInfo&&f.length>1?html$2`<div style="display:flex;flex-wrap:wrap">${f.map(([g,_])=>html$2`
        <div class="language-select" onclick=${()=>t("set language",g)}>${_}</div>
      `)}</div>`:html$2`<div></div>`}
      ${toolbar(e,t)}
    </div>
    <div id="modal-body">
      <div id="modal-content">
        <h1>${r("info.title")}</h1>
        <h3>${r("info.subtitle")}</h3>
          <br> ///////////////////////////////////////////////////////////<br>
          <h4>${r("info.description")}</h4>
        <h4>${r("info.get-started-title")}<ol>
            <li>${r("info.get-started-list.0")}</li>
            <li>${r("info.get-started-list.1")}</li>
            <li>${r("info.get-started-list.2")}</li>
          </ol>
        </h4>

        <p> ///////////////////////////////////////////////////////////<br><br><br>
          ${r("info.description-detailed")}
        </p>
        <p>${r("info.uses")}<ul>
        ${r("info.uses-list",{returnObjects:!0}).map(g=>html$2`<li>${g}</li>`)}
        </ul></p>
       
           <p class="align-right">${raw$1(r("info.author",{author:"href=https://ojack.xyz class=olivia target=_blank"}))}</p>
           <p>${raw$1(r("info.more-info",{docs:link("https://hydra.ojack.xyz/docs"),functions:link("https://hydra.ojack.xyz/api"),gallery:link("https://twitter.com/hydra_patterns"),repo:link("https://github.com/hydra-synth/hydra"),pixeljam:link("http://pixeljam.glitch.me/"),garden:link("https://hydra.ojack.xyz/garden"),"hydra-book":link("https://hydra-book.glitch.me/"),tutorials:link("https://github.com/ojack/hydra/blob/master/examples/README.md")}))}</p>
          <p>${raw$1(r("info.more-info-forums",{discord:link("https://discord.gg/ZQjfHkNHXC"),facebook:link("https://www.facebook.com/groups/1084288351771117/")}))}</p>

        <p>${raw$1(r("info.support",{"open-collective":link("https://opencollective.com/hydra-synth")}))}</p>
      </div>
    </div>
  </div>
</div>
`}var onLoad={exports:{}},document$2=require$$0$1,window$1=require$$1,watch=Object.create(null),KEY_ID="onloadid"+Math.random().toString(36).slice(2),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window$1&&window$1.MutationObserver){var observer=new MutationObserver(function(e){if(!(Object.keys(watch).length<1))for(var t=0;t<e.length;t++){if(e[t].attributeName===KEY_ATTR){eachAttr(e[t],turnon,turnoff);continue}eachMutation(e[t].removedNodes,function(r,o){document$2.documentElement.contains(o)||turnoff(r,o)}),eachMutation(e[t].addedNodes,function(r,o){document$2.documentElement.contains(o)&&turnon(r,o)})}});observer.observe(document$2.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}onLoad.exports=function e(t,r,o,u){return r=r||function(){},o=o||function(){},t.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[r,o,0,u||e.caller],INDEX+=1,t};onLoad.exports.KEY_ATTR=KEY_ATTR;onLoad.exports.KEY_ID=KEY_ID;function turnon(e,t){watch[e][0]&&watch[e][2]===0&&(watch[e][0](t),watch[e][2]=1)}function turnoff(e,t){watch[e][1]&&watch[e][2]===1&&(watch[e][1](t),watch[e][2]=0)}function eachAttr(e,t,r){var o=e.target.getAttribute(KEY_ATTR);if(sameOrigin(e.oldValue,o)){watch[o]=watch[e.oldValue];return}watch[e.oldValue]&&r(e.oldValue,e.target),watch[o]&&t(o,e.target)}function sameOrigin(e,t){return!e||!t?!1:watch[e][3]===watch[t][3]}function eachMutation(e,t){for(var r=Object.keys(watch),o=0;o<e.length;o++){if(e[o]&&e[o].getAttribute&&e[o].getAttribute(KEY_ATTR)){var u=e[o].getAttribute(KEY_ATTR);r.forEach(function(f){u===f&&t(f,e[o])})}e[o]&&e[o].childNodes.length>0&&eachMutation(e[o].childNodes,t)}}var onLoadExports=onLoad.exports,nanoassert=assert$1;class AssertionError extends Error{}AssertionError.prototype.name="AssertionError";function assert$1(e,t){if(!e){var r=new AssertionError(t);throw Error.captureStackTrace&&Error.captureStackTrace(r,assert$1),r}}const document$1=require$$0$1,nanotiming=browser$a,morph=nanomorph_1,onload=onLoadExports,assert=nanoassert,OL_KEY_ID=onload.KEY_ID,OL_ATTR_ID=onload.KEY_ATTR;var nanocomponent=Nanocomponent;function makeID(){return"ncid-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)}Nanocomponent.makeID=makeID;function Nanocomponent(e){this._hasWindow=typeof window<"u",this._id=null,this._ncID=null,this._olID=null,this._proxy=null,this._loaded=!1,this._rootNodeName=null,this._name=e||"nanocomponent",this._rerender=!1,this._handleLoad=this._handleLoad.bind(this),this._handleUnload=this._handleUnload.bind(this),this._arguments=[];const t=this;Object.defineProperty(this,"element",{get:function(){const r=document$1.getElementById(t._id);if(r)return r.dataset.nanocomponent===t._ncID?r:void 0}})}Nanocomponent.prototype.render=function(){const e=nanotiming(this._name+".render"),t=this,r=new Array(arguments.length);let o;for(let u=0;u<arguments.length;u++)r[u]=arguments[u];if(this._hasWindow)if(this.element){o=this.element;const u=nanotiming(this._name+".update"),f=this._rerender||this.update.apply(this,r);if(u(),this._rerender&&(this._rerender=!1),f){const g=this._handleRender(r),_=nanotiming(this._name+".morph");morph(o,g),_(),this.afterupdate&&this.afterupdate(o)}return this._proxy||(this._proxy=this._createProxy()),e(),this._proxy}else return this._reset(),o=this._handleRender(r),this.beforerender&&this.beforerender(o),(this.load||this.unload||this.afterreorder)&&(onload(o,t._handleLoad,t._handleUnload,t._ncID),this._olID=o.dataset[OL_KEY_ID]),e(),o;else{const u=nanotiming(this._name+".create");return o=this.createElement.apply(this,r),u(),e(),o}};Nanocomponent.prototype.rerender=function(){assert(this.element,"nanocomponent: cant rerender on an unmounted dom node"),this._rerender=!0,this.render.apply(this,this._arguments)};Nanocomponent.prototype._handleRender=function(e){const t=nanotiming(this._name+".createElement"),r=this.createElement.apply(this,e);return t(),this._rootNodeName||(this._rootNodeName=r.nodeName),assert(r instanceof window.Element,"nanocomponent: createElement should return a single DOM node"),assert(this._rootNodeName===r.nodeName,"nanocomponent: root node types cannot differ between re-renders"),this._arguments=e,this._brandNode(this._ensureID(r))};Nanocomponent.prototype._createProxy=function(){const e=document$1.createElement(this._rootNodeName),t=this;return this._brandNode(e),e.id=this._id,e.setAttribute("data-proxy",""),e.isSameNode=function(r){return r&&r.dataset.nanocomponent===t._ncID},e};Nanocomponent.prototype._reset=function(){this._ncID=Nanocomponent.makeID(),this._olID=null,this._id=null,this._proxy=null,this._rootNodeName=null};Nanocomponent.prototype._brandNode=function(e){return e.setAttribute("data-nanocomponent",this._ncID),this._olID&&e.setAttribute(OL_ATTR_ID,this._olID),e};Nanocomponent.prototype._ensureID=function(e){return e.id?this._id=e.id:e.id=this._id=this._ncID,this._proxy&&this._proxy.id!==this._id&&(this._proxy.id=this._id),e};Nanocomponent.prototype._handleLoad=function(e){if(this._loaded){this.afterreorder&&this.afterreorder(e);return}this._loaded=!0,this.load&&this.load(e)};Nanocomponent.prototype._handleUnload=function(e){this.element||(this._loaded=!1,this.unload&&this.unload(e))};Nanocomponent.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")};Nanocomponent.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")};var component=nanocomponent;const Component=getDefaultExportFromCjs(component);var Output=function({regl:e,precision:t,label:r="",width:o,height:u}){this.regl=e,this.precision=t,this.label=r,this.positionBuffer=this.regl.buffer([[-2,0],[0,-2],[2,2]]),this.draw=()=>{},this.init(),this.pingPongIndex=0,this.fbos=Array(2).fill().map(()=>this.regl.framebuffer({color:this.regl.texture({mag:"nearest",width:o,height:u,format:"rgba"}),depthStencil:!1}))};Output.prototype.resize=function(e,t){this.fbos.forEach(r=>{r.resize(e,t)})};Output.prototype.getCurrent=function(){return this.fbos[this.pingPongIndex]};Output.prototype.getTexture=function(){var e=this.pingPongIndex?0:1;return this.fbos[e]};Output.prototype.init=function(){return this.transformIndex=0,this.fragHeader=`
  precision ${this.precision} float;

  uniform float time;
  varying vec2 uv;
  `,this.fragBody="",this.vert=`
  precision ${this.precision} float;
  attribute vec2 position;
  varying vec2 uv;

  void main () {
    uv = position;
    gl_Position = vec4(2.0 * position - 1.0, 0, 1);
  }`,this.attributes={position:this.positionBuffer},this.uniforms={time:this.regl.prop("time"),resolution:this.regl.prop("resolution")},this.frag=`
       ${this.fragHeader}

      void main () {
        vec4 c = vec4(0, 0, 0, 0);
        vec2 st = uv;
        ${this.fragBody}
        gl_FragColor = c;
      }
  `,this};Output.prototype.render=function(e){let t=e[0];var r=this,o=Object.assign(t.uniforms,{prevBuffer:()=>r.fbos[r.pingPongIndex]});r.draw=r.regl({frag:t.frag,vert:r.vert,attributes:r.attributes,uniforms:o,count:3,framebuffer:()=>(r.pingPongIndex=r.pingPongIndex?0:1,r.fbos[r.pingPongIndex])})};Output.prototype.tick=function(e){this.draw(e)};var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,r){if(r){t.super_=r;var o=function(){};o.prototype=r.prototype,t.prototype=new o,t.prototype.constructor=t}};var inherits_browserExports=inherits_browser.exports;const inherits$1=getDefaultExportFromCjs(inherits_browserExports);function EventEmitter$1(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var events=EventEmitter$1;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._maxListeners=void 0;EventEmitter$1.defaultMaxListeners=10;EventEmitter$1.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};EventEmitter$1.prototype.emit=function(e){var t,r,o,u,f,g;if(this._events||(this._events={}),e==="error"&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var _=new Error('Uncaught, unspecified "error" event. ('+t+")");throw _.context=t,_}if(r=this._events[e],isUndefined(r))return!1;if(isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),r.apply(this,u)}else if(isObject(r))for(u=Array.prototype.slice.call(arguments,1),g=r.slice(),o=g.length,f=0;f<o;f++)g[f].apply(this,u);return!0};EventEmitter$1.prototype.addListener=function(e,t){var r;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(isUndefined(this._maxListeners)?r=EventEmitter$1.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.once=function(e,t){if(!isFunction(t))throw TypeError("listener must be a function");var r=!1;function o(){this.removeListener(e,o),r||(r=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this};EventEmitter$1.prototype.removeListener=function(e,t){var r,o,u,f;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],u=r.length,o=-1,r===t||isFunction(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(r)){for(f=u;f-- >0;)if(r[f]===t||r[f].listener&&r[f].listener===t){o=f;break}if(o<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};EventEmitter$1.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],isFunction(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};EventEmitter$1.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:isFunction(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};EventEmitter$1.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0};EventEmitter$1.listenerCount=function(e,t){return e.listenerCount(t)};function isFunction(e){return typeof e=="function"}function isNumber(e){return typeof e=="number"}function isObject(e){return typeof e=="object"&&e!==null}function isUndefined(e){return e===void 0}var browser$7=globalThis.performance&&globalThis.performance.now?function e(){return performance.now()}:Date.now||function e(){return+new Date},raf$2={exports:{}},performanceNow={exports:{}};(function(){var e,t,r,o,u,f;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(e()-u)/1e6},t=process.hrtime,e=function(){var g;return g=t(),g[0]*1e9+g[1]},o=e(),f=process.uptime()*1e9,u=o-f):Date.now?(performanceNow.exports=function(){return Date.now()-r},r=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(commonjsGlobal);var performanceNowExports=performanceNow.exports,now$1=performanceNowExports,root=typeof window>"u"?globalThis:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf$1=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i$3=0;!raf$1&&i$3<vendors.length;i$3++)raf$1=root[vendors[i$3]+"Request"+suffix],caf=root[vendors[i$3]+"Cancel"+suffix]||root[vendors[i$3]+"CancelRequest"+suffix];if(!raf$1||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf$1=function(e){if(queue.length===0){var t=now$1(),r=Math.max(0,frameDuration-(t-last));last=r+t,setTimeout(function(){var o=queue.slice(0);queue.length=0;for(var u=0;u<o.length;u++)if(!o[u].cancelled)try{o[u].callback(last)}catch(f){setTimeout(function(){throw f},0)}},Math.round(r))}return queue.push({handle:++id,callback:e,cancelled:!1}),id},caf=function(e){for(var t=0;t<queue.length;t++)queue[t].handle===e&&(queue[t].cancelled=!0)}}raf$2.exports=function(e){return raf$1.call(root,e)};raf$2.exports.cancel=function(){caf.apply(root,arguments)};raf$2.exports.polyfill=function(e){e||(e=root),e.requestAnimationFrame=raf$1,e.cancelAnimationFrame=caf};var rafExports=raf$2.exports,inherits=inherits_browserExports,EventEmitter=events.EventEmitter,now=browser$7,raf=rafExports,rafLoop=Engine;function Engine(e){if(!(this instanceof Engine))return new Engine(e);this.running=!1,this.last=now(),this._frame=0,this._tick=this.tick.bind(this),e&&this.on("tick",e)}inherits(Engine,EventEmitter);Engine.prototype.start=function(){if(!this.running)return this.running=!0,this.last=now(),this._frame=raf(this._tick),this};Engine.prototype.stop=function(){return this.running=!1,this._frame!==0&&raf.cancel(this._frame),this._frame=0,this};Engine.prototype.tick=function(){this._frame=raf(this._tick);var e=now(),t=e-this.last;this.emit("tick",t),this.last=e};const loop=getDefaultExportFromCjs(rafLoop);function Webcam(e){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(r=>r.kind==="videoinput")).then(t=>{let r={audio:!1,video:!0};return t[e]&&(r.video={deviceId:{exact:t[e].deviceId}}),window.navigator.mediaDevices.getUserMedia(r)}).then(t=>{const r=document.createElement("video");return r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.setAttribute("playsinline",""),r.srcObject=t,new Promise((o,u)=>{r.addEventListener("loadedmetadata",()=>{r.play().then(()=>o({video:r}))})})}).catch(console.log.bind(console))}function Screen(e){return new Promise(function(t,r){navigator.mediaDevices.getDisplayMedia(e).then(o=>{const u=document.createElement("video");u.srcObject=o,u.addEventListener("loadedmetadata",()=>{u.play(),t({video:u})})}).catch(o=>r(o))})}class HydraSource{constructor({regl:t,width:r,height:o,pb:u,label:f=""}){this.label=f,this.regl=t,this.src=null,this.dynamic=!0,this.width=r,this.height=o,this.tex=this.regl.texture({shape:[1,1]}),this.pb=u}init(t,r){"src"in t&&(this.src=t.src,this.tex=this.regl.texture({data:this.src,...r})),"dynamic"in t&&(this.dynamic=t.dynamic)}initCam(t,r){const o=this;Webcam(t).then(u=>{o.src=u.video,o.dynamic=!0,o.tex=o.regl.texture({data:o.src,...r})}).catch(u=>console.log("could not get camera",u))}initVideo(t="",r){const o=document.createElement("video");o.crossOrigin="anonymous",o.autoplay=!0,o.loop=!0,o.muted=!0,o.addEventListener("loadeddata",()=>{this.src=o,o.play(),this.tex=this.regl.texture({data:this.src,...r}),this.dynamic=!0}),o.src=t}initImage(t="",r){const o=document.createElement("img");o.crossOrigin="anonymous",o.src=t,o.onload=()=>{this.src=o,this.dynamic=!1,this.tex=this.regl.texture({data:this.src,...r})}}initStream(t,r){let o=this;t&&this.pb&&(this.pb.initSource(t),this.pb.on("got video",function(u,f){u===t&&(o.src=f,o.dynamic=!0,o.tex=o.regl.texture({data:o.src,...r}))}))}initScreen(t=0,r){const o=this;Screen().then(function(u){o.src=u.video,o.tex=o.regl.texture({data:o.src,...r}),o.dynamic=!0}).catch(u=>console.log("could not get screen",u))}resize(t,r){this.width=t,this.height=r}clear(){this.src&&this.src.srcObject&&this.src.srcObject.getTracks&&this.src.srcObject.getTracks().forEach(t=>t.stop()),this.src=null,this.tex=this.regl.texture({shape:[1,1]})}tick(t){this.src!==null&&this.dynamic===!0&&(this.src.videoWidth&&this.src.videoWidth!==this.tex.width&&(console.log(this.src.videoWidth,this.src.videoHeight,this.tex.width,this.tex.height),this.tex.resize(this.src.videoWidth,this.src.videoHeight)),this.src.width&&this.src.width!==this.tex.width&&this.tex.resize(this.src.width,this.src.height),this.tex.subimage(this.src))}getTexture(){return this.tex}}const mouse={};function mouseButtons(e){if(typeof e=="object"){if("buttons"in e)return e.buttons;if("which"in e){var t=e.which;if(t===2)return 4;if(t===3)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t=e.button;if(t===1)return 4;if(t===2)return 2;if(t>=0)return 1<<t}}return 0}mouse.buttons=mouseButtons;function mouseElement(e){return e.target||e.srcElement||window}mouse.element=mouseElement;function mouseRelativeX(e){return typeof e=="object"&&"pageX"in e?e.pageX:0}mouse.x=mouseRelativeX;function mouseRelativeY(e){return typeof e=="object"&&"pageY"in e?e.pageY:0}mouse.y=mouseRelativeY;function mouseListen(e,t){t||(t=e,e=window);var r=0,o=0,u=0,f={shift:!1,alt:!1,control:!1,meta:!1},g=!1;function _(F){var le=!1;return"altKey"in F&&(le=le||F.altKey!==f.alt,f.alt=!!F.altKey),"shiftKey"in F&&(le=le||F.shiftKey!==f.shift,f.shift=!!F.shiftKey),"ctrlKey"in F&&(le=le||F.ctrlKey!==f.control,f.control=!!F.ctrlKey),"metaKey"in F&&(le=le||F.metaKey!==f.meta,f.meta=!!F.metaKey),le}function w(F,le){var W=mouse.x(le),ae=mouse.y(le);"buttons"in le&&(F=le.buttons|0),(F!==r||W!==o||ae!==u||_(le))&&(r=F|0,o=W||0,u=ae||0,t&&t(r,o,u,f))}function S(F){w(0,F)}function M(){(r||o||u||f.shift||f.alt||f.meta||f.control)&&(o=u=0,r=0,f.shift=f.alt=f.control=f.meta=!1,t&&t(0,0,0,f))}function C(F){_(F)&&t&&t(r,o,u,f)}function T(F){mouse.buttons(F)===0?w(0,F):w(r,F)}function k(F){w(r|mouse.buttons(F),F)}function P(F){w(r&~mouse.buttons(F),F)}function $(){g||(g=!0,e.addEventListener("mousemove",T),e.addEventListener("mousedown",k),e.addEventListener("mouseup",P),e.addEventListener("mouseleave",S),e.addEventListener("mouseenter",S),e.addEventListener("mouseout",S),e.addEventListener("mouseover",S),e.addEventListener("blur",M),e.addEventListener("keyup",C),e.addEventListener("keydown",C),e.addEventListener("keypress",C),e!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",C),window.addEventListener("keydown",C),window.addEventListener("keypress",C)))}function I(){g&&(g=!1,e.removeEventListener("mousemove",T),e.removeEventListener("mousedown",k),e.removeEventListener("mouseup",P),e.removeEventListener("mouseleave",S),e.removeEventListener("mouseenter",S),e.removeEventListener("mouseout",S),e.removeEventListener("mouseover",S),e.removeEventListener("blur",M),e.removeEventListener("keyup",C),e.removeEventListener("keydown",C),e.removeEventListener("keypress",C),e!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",C),window.removeEventListener("keydown",C),window.removeEventListener("keypress",C)))}$();var E={element:e};return Object.defineProperties(E,{enabled:{get:function(){return g},set:function(F){F?$():I()},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return o},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return f},enumerable:!0}}),E}var meyda_min={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(commonjsGlobal,function(){function r(Q,Y,G){if(G||arguments.length===2)for(var q,Te=0,De=Y.length;Te<De;Te++)!q&&Te in Y||(q||(q=Array.prototype.slice.call(Y,0,Te)),q[Te]=Y[Te]);return Q.concat(q||Array.prototype.slice.call(Y))}var o=Object.freeze({__proto__:null,blackman:function(Q){for(var Y=new Float32Array(Q),G=2*Math.PI/(Q-1),q=2*G,Te=0;Te<Q/2;Te++)Y[Te]=.42-.5*Math.cos(Te*G)+.08*Math.cos(Te*q);for(Te=Math.ceil(Q/2);Te>0;Te--)Y[Q-Te]=Y[Te-1];return Y},sine:function(Q){for(var Y=Math.PI/(Q-1),G=new Float32Array(Q),q=0;q<Q;q++)G[q]=Math.sin(Y*q);return G},hanning:function(Q){for(var Y=new Float32Array(Q),G=0;G<Q;G++)Y[G]=.5-.5*Math.cos(2*Math.PI*G/(Q-1));return Y},hamming:function(Q){for(var Y=new Float32Array(Q),G=0;G<Q;G++)Y[G]=.54-.46*Math.cos(2*Math.PI*(G/Q-1));return Y}}),u={};function f(Q){for(;Q%2==0&&Q>1;)Q/=2;return Q===1}function g(Q,Y){if(Y!=="rect"){if(Y!==""&&Y||(Y="hanning"),u[Y]||(u[Y]={}),!u[Y][Q.length])try{u[Y][Q.length]=o[Y](Q.length)}catch{throw new Error("Invalid windowing function")}Q=function(G,q){for(var Te=[],De=0;De<Math.min(G.length,q.length);De++)Te[De]=G[De]*q[De];return Te}(Q,u[Y][Q.length])}return Q}function _(Q,Y,G){for(var q=new Float32Array(Q),Te=0;Te<q.length;Te++)q[Te]=Te*Y/G,q[Te]=13*Math.atan(q[Te]/1315.8)+3.5*Math.atan(Math.pow(q[Te]/7518,2));return q}function w(Q){return Float32Array.from(Q)}function S(Q){return 1125*Math.log(1+Q/700)}function M(Q,Y,G){for(var q,Te=new Float32Array(Q+2),De=new Float32Array(Q+2),nt=Y/2,ft=S(0),wt=(S(nt)-ft)/(Q+1),Et=new Array(Q+2),kt=0;kt<Te.length;kt++)Te[kt]=kt*wt,De[kt]=(q=Te[kt],700*(Math.exp(q/1125)-1)),Et[kt]=Math.floor((G+1)*De[kt]/Y);for(var $e=new Array(Q),Re=0;Re<$e.length;Re++){for($e[Re]=new Array(G/2+1).fill(0),kt=Et[Re];kt<Et[Re+1];kt++)$e[Re][kt]=(kt-Et[Re])/(Et[Re+1]-Et[Re]);for(kt=Et[Re+1];kt<Et[Re+2];kt++)$e[Re][kt]=(Et[Re+2]-kt)/(Et[Re+2]-Et[Re+1])}return $e}function C(Q,Y,G,q,Te,De,nt){q===void 0&&(q=5),Te===void 0&&(Te=2),De===void 0&&(De=!0),nt===void 0&&(nt=440);var ft=Math.floor(G/2)+1,wt=new Array(G).fill(0).map(function(ue,tt){return Q*function(Je,Bt){return Math.log2(16*Je/Bt)}(Y*tt/G,nt)});wt[0]=wt[1]-1.5*Q;var Et,kt,$e,Re=wt.slice(1).map(function(ue,tt){return Math.max(ue-wt[tt])},1).concat([1]),at=Math.round(Q/2),At=new Array(Q).fill(0).map(function(ue,tt){return wt.map(function(Je){return(10*Q+at+Je-tt)%Q-at})}),Ut=At.map(function(ue,tt){return ue.map(function(Je,Bt){return Math.exp(-.5*Math.pow(2*At[tt][Bt]/Re[Bt],2))})});if(kt=(Et=Ut)[0].map(function(){return 0}),$e=Et.reduce(function(ue,tt){return tt.forEach(function(Je,Bt){ue[Bt]+=Math.pow(Je,2)}),ue},kt).map(Math.sqrt),Ut=Et.map(function(ue,tt){return ue.map(function(Je,Bt){return Je/($e[Bt]||1)})}),Te){var he=wt.map(function(ue){return Math.exp(-.5*Math.pow((ue/Q-q)/Te,2))});Ut=Ut.map(function(ue){return ue.map(function(tt,Je){return tt*he[Je]})})}return De&&(Ut=r(r([],Ut.slice(3),!0),Ut.slice(0,3),!0)),Ut.map(function(ue){return ue.slice(0,ft)})}function T(Q,Y){for(var G=0,q=0,Te=0;Te<Y.length;Te++)G+=Math.pow(Te,Q)*Math.abs(Y[Te]),q+=Y[Te];return G/q}function k(Q){var Y=Q.ampSpectrum,G=Q.barkScale,q=Q.numberOfBarkBands,Te=q===void 0?24:q;if(typeof Y!="object"||typeof G!="object")throw new TypeError;var De=Te,nt=new Float32Array(De),ft=0,wt=Y,Et=new Int32Array(De+1);Et[0]=0;for(var kt=G[wt.length-1]/De,$e=1,Re=0;Re<wt.length;Re++)for(;G[Re]>kt;)Et[$e++]=Re,kt=$e*G[wt.length-1]/De;for(Et[De]=wt.length-1,Re=0;Re<De;Re++){for(var at=0,At=Et[Re];At<Et[Re+1];At++)at+=wt[At];nt[Re]=Math.pow(at,.23)}for(Re=0;Re<nt.length;Re++)ft+=nt[Re];return{specific:nt,total:ft}}function P(Q){var Y=Q.ampSpectrum;if(typeof Y!="object")throw new TypeError;for(var G=new Float32Array(Y.length),q=0;q<G.length;q++)G[q]=Math.pow(Y[q],2);return G}function $(Q){var Y=Q.ampSpectrum,G=Q.melFilterBank,q=Q.bufferSize;if(typeof Y!="object")throw new TypeError("Valid ampSpectrum is required to generate melBands");if(typeof G!="object")throw new TypeError("Valid melFilterBank is required to generate melBands");for(var Te=P({ampSpectrum:Y}),De=G.length,nt=Array(De),ft=new Float32Array(De),wt=0;wt<ft.length;wt++){nt[wt]=new Float32Array(q/2),ft[wt]=0;for(var Et=0;Et<q/2;Et++)nt[wt][Et]=G[wt][Et]*Te[Et],ft[wt]+=nt[wt][Et];ft[wt]=Math.log(ft[wt]+1)}return Array.prototype.slice.call(ft)}function I(Q){return Q&&Q.__esModule&&Object.prototype.hasOwnProperty.call(Q,"default")?Q.default:Q}var E={exports:{}},F=null,le=function(Q,Y){var G=Q.length;return Y=Y||2,F&&F[G]||function(q){(F=F||{})[q]=new Array(q*q);for(var Te=Math.PI/q,De=0;De<q;De++)for(var nt=0;nt<q;nt++)F[q][nt+De*q]=Math.cos(Te*(nt+.5)*De)}(G),Q.map(function(){return 0}).map(function(q,Te){return Y*Q.reduce(function(De,nt,ft,wt){return De+nt*F[G][ft+Te*G]},0)})};(function(Q){Q.exports=le})(E);var W=I(E.exports),ae=Object.freeze({__proto__:null,buffer:function(Q){return Q.signal},rms:function(Q){var Y=Q.signal;if(typeof Y!="object")throw new TypeError;for(var G=0,q=0;q<Y.length;q++)G+=Math.pow(Y[q],2);return G/=Y.length,G=Math.sqrt(G)},energy:function(Q){var Y=Q.signal;if(typeof Y!="object")throw new TypeError;for(var G=0,q=0;q<Y.length;q++)G+=Math.pow(Math.abs(Y[q]),2);return G},complexSpectrum:function(Q){return Q.complexSpectrum},spectralSlope:function(Q){var Y=Q.ampSpectrum,G=Q.sampleRate,q=Q.bufferSize;if(typeof Y!="object")throw new TypeError;for(var Te=0,De=0,nt=new Float32Array(Y.length),ft=0,wt=0,Et=0;Et<Y.length;Et++){Te+=Y[Et];var kt=Et*G/q;nt[Et]=kt,ft+=kt*kt,De+=kt,wt+=kt*Y[Et]}return(Y.length*wt-De*Te)/(Te*(ft-Math.pow(De,2)))},spectralCentroid:function(Q){var Y=Q.ampSpectrum;if(typeof Y!="object")throw new TypeError;return T(1,Y)},spectralRolloff:function(Q){var Y=Q.ampSpectrum,G=Q.sampleRate;if(typeof Y!="object")throw new TypeError;for(var q=Y,Te=G/(2*(q.length-1)),De=0,nt=0;nt<q.length;nt++)De+=q[nt];for(var ft=.99*De,wt=q.length-1;De>ft&&wt>=0;)De-=q[wt],--wt;return(wt+1)*Te},spectralFlatness:function(Q){var Y=Q.ampSpectrum;if(typeof Y!="object")throw new TypeError;for(var G=0,q=0,Te=0;Te<Y.length;Te++)G+=Math.log(Y[Te]),q+=Y[Te];return Math.exp(G/Y.length)*Y.length/q},spectralSpread:function(Q){var Y=Q.ampSpectrum;if(typeof Y!="object")throw new TypeError;return Math.sqrt(T(2,Y)-Math.pow(T(1,Y),2))},spectralSkewness:function(Q){var Y=Q.ampSpectrum;if(typeof Y!="object")throw new TypeError;var G=T(1,Y),q=T(2,Y),Te=T(3,Y);return(2*Math.pow(G,3)-3*G*q+Te)/Math.pow(Math.sqrt(q-Math.pow(G,2)),3)},spectralKurtosis:function(Q){var Y=Q.ampSpectrum;if(typeof Y!="object")throw new TypeError;var G=Y,q=T(1,G),Te=T(2,G),De=T(3,G),nt=T(4,G);return(-3*Math.pow(q,4)+6*q*Te-4*q*De+nt)/Math.pow(Math.sqrt(Te-Math.pow(q,2)),4)},amplitudeSpectrum:function(Q){return Q.ampSpectrum},zcr:function(Q){var Y=Q.signal;if(typeof Y!="object")throw new TypeError;for(var G=0,q=1;q<Y.length;q++)(Y[q-1]>=0&&Y[q]<0||Y[q-1]<0&&Y[q]>=0)&&G++;return G},loudness:k,perceptualSpread:function(Q){for(var Y=k({ampSpectrum:Q.ampSpectrum,barkScale:Q.barkScale}),G=0,q=0;q<Y.specific.length;q++)Y.specific[q]>G&&(G=Y.specific[q]);return Math.pow((Y.total-G)/Y.total,2)},perceptualSharpness:function(Q){for(var Y=k({ampSpectrum:Q.ampSpectrum,barkScale:Q.barkScale}),G=Y.specific,q=0,Te=0;Te<G.length;Te++)q+=Te<15?(Te+1)*G[Te+1]:.066*Math.exp(.171*(Te+1));return q*=.11/Y.total},powerSpectrum:P,mfcc:function(Q){var Y=Q.ampSpectrum,G=Q.melFilterBank,q=Q.numberOfMFCCCoefficients,Te=Q.bufferSize,De=Math.min(40,Math.max(1,q||13));if(G.length<De)throw new Error("Insufficient filter bank for requested number of coefficients");var nt=$({ampSpectrum:Y,melFilterBank:G,bufferSize:Te});return W(nt).slice(0,De)},chroma:function(Q){var Y=Q.ampSpectrum,G=Q.chromaFilterBank;if(typeof Y!="object")throw new TypeError("Valid ampSpectrum is required to generate chroma");if(typeof G!="object")throw new TypeError("Valid chromaFilterBank is required to generate chroma");var q=G.map(function(De,nt){return Y.reduce(function(ft,wt,Et){return ft+wt*De[Et]},0)}),Te=Math.max.apply(Math,q);return Te?q.map(function(De){return De/Te}):q},spectralFlux:function(Q){var Y=Q.signal,G=Q.previousSignal,q=Q.bufferSize;if(typeof Y!="object"||typeof G!="object")throw new TypeError;for(var Te=0,De=-q/2;De<Y.length/2-1;De++)x=Math.abs(Y[De])-Math.abs(G[De]),Te+=(x+Math.abs(x))/2;return Te},spectralCrest:function(Q){var Y=Q.ampSpectrum;if(typeof Y!="object")throw new TypeError;var G=0,q=-1/0;return Y.forEach(function(Te){G+=Math.pow(Te,2),q=Te>q?Te:q}),G/=Y.length,G=Math.sqrt(G),q/G},melBands:$});function te(Q){if(Array.isArray(Q)){for(var Y=0,G=Array(Q.length);Y<Q.length;Y++)G[Y]=Q[Y];return G}return Array.from(Q)}var oe={},ie={},Ee={bitReverseArray:function(Q){if(oe[Q]===void 0){for(var Y=(Q-1).toString(2).length,G="0".repeat(Y),q={},Te=0;Te<Q;Te++){var De=Te.toString(2);De=G.substr(De.length)+De,De=[].concat(te(De)).reverse().join(""),q[Te]=parseInt(De,2)}oe[Q]=q}return oe[Q]},multiply:function(Q,Y){return{real:Q.real*Y.real-Q.imag*Y.imag,imag:Q.real*Y.imag+Q.imag*Y.real}},add:function(Q,Y){return{real:Q.real+Y.real,imag:Q.imag+Y.imag}},subtract:function(Q,Y){return{real:Q.real-Y.real,imag:Q.imag-Y.imag}},euler:function(Q,Y){var G=-2*Math.PI*Q/Y;return{real:Math.cos(G),imag:Math.sin(G)}},conj:function(Q){return Q.imag*=-1,Q},constructComplexArray:function(Q){var Y={};Y.real=Q.real===void 0?Q.slice():Q.real.slice();var G=Y.real.length;return ie[G]===void 0&&(ie[G]=Array.apply(null,Array(G)).map(Number.prototype.valueOf,0)),Y.imag=ie[G].slice(),Y}},D=function(Q){var Y={};Q.real===void 0||Q.imag===void 0?Y=Ee.constructComplexArray(Q):(Y.real=Q.real.slice(),Y.imag=Q.imag.slice());var G=Y.real.length,q=Math.log2(G);if(Math.round(q)!=q)throw new Error("Input size must be a power of 2.");if(Y.real.length!=Y.imag.length)throw new Error("Real and imaginary components must have the same length.");for(var Te=Ee.bitReverseArray(G),De={real:[],imag:[]},nt=0;nt<G;nt++)De.real[Te[nt]]=Y.real[nt],De.imag[Te[nt]]=Y.imag[nt];for(var ft=0;ft<G;ft++)Y.real[ft]=De.real[ft],Y.imag[ft]=De.imag[ft];for(var wt=1;wt<=q;wt++)for(var Et=Math.pow(2,wt),kt=0;kt<Et/2;kt++)for(var $e=Ee.euler(kt,Et),Re=0;Re<G/Et;Re++){var at=Et*Re+kt,At=Et*Re+kt+Et/2,Ut={real:Y.real[at],imag:Y.imag[at]},he={real:Y.real[At],imag:Y.imag[At]},ue=Ee.multiply($e,he),tt=Ee.subtract(Ut,ue);Y.real[At]=tt.real,Y.imag[At]=tt.imag;var Je=Ee.add(ue,Ut);Y.real[at]=Je.real,Y.imag[at]=Je.imag}return Y},me=D,z=function(){function Q(Y,G){var q=this;if(this._m=G,!Y.audioContext)throw this._m.errors.noAC;if(Y.bufferSize&&!f(Y.bufferSize))throw this._m._errors.notPow2;if(!Y.source)throw this._m._errors.noSource;this._m.audioContext=Y.audioContext,this._m.bufferSize=Y.bufferSize||this._m.bufferSize||256,this._m.hopSize=Y.hopSize||this._m.hopSize||this._m.bufferSize,this._m.sampleRate=Y.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=Y.callback,this._m.windowingFunction=Y.windowingFunction||"hanning",this._m.featureExtractors=ae,this._m.EXTRACTION_STARTED=Y.startImmediately||!1,this._m.channel=typeof Y.channel=="number"?Y.channel:0,this._m.inputs=Y.inputs||1,this._m.outputs=Y.outputs||1,this._m.numberOfMFCCCoefficients=Y.numberOfMFCCCoefficients||this._m.numberOfMFCCCoefficients||13,this._m.numberOfBarkBands=Y.numberOfBarkBands||this._m.numberOfBarkBands||24,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,this._m.inputs,this._m.outputs),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=Y.featureExtractors||[],this._m.barkScale=_(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=M(Math.max(this._m.melBands,this._m.numberOfMFCCCoefficients),this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this._m.frame=null,this._m.previousFrame=null,this.setSource(Y.source),this._m.spn.onaudioprocess=function(Te){var De;q._m.inputData!==null&&(q._m.previousInputData=q._m.inputData),q._m.inputData=Te.inputBuffer.getChannelData(q._m.channel),q._m.previousInputData?((De=new Float32Array(q._m.previousInputData.length+q._m.inputData.length-q._m.hopSize)).set(q._m.previousInputData.slice(q._m.hopSize)),De.set(q._m.inputData,q._m.previousInputData.length-q._m.hopSize)):De=q._m.inputData,function(nt,ft,wt){if(nt.length<ft)throw new Error("Buffer is too short for frame length");if(wt<1)throw new Error("Hop length cannot be less that 1");if(ft<1)throw new Error("Frame length cannot be less that 1");var Et=1+Math.floor((nt.length-ft)/wt);return new Array(Et).fill(0).map(function(kt,$e){return nt.slice($e*wt,$e*wt+ft)})}(De,q._m.bufferSize,q._m.hopSize).forEach(function(nt){q._m.frame=nt;var ft=q._m.extract(q._m._featuresToExtract,q._m.frame,q._m.previousFrame);typeof q._m.callback=="function"&&q._m.EXTRACTION_STARTED&&q._m.callback(ft),q._m.previousFrame=q._m.frame})}}return Q.prototype.start=function(Y){this._m._featuresToExtract=Y||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0},Q.prototype.stop=function(){this._m.EXTRACTION_STARTED=!1},Q.prototype.setSource=function(Y){this._m.source&&this._m.source.disconnect(this._m.spn),this._m.source=Y,this._m.source.connect(this._m.spn)},Q.prototype.setChannel=function(Y){Y<=this._m.inputs?this._m.channel=Y:console.error("Channel ".concat(Y," does not exist. Make sure you've provided a value for 'inputs' that is greater than ").concat(Y," when instantiating the MeydaAnalyzer"))},Q.prototype.get=function(Y){return this._m.inputData?this._m.extract(Y||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null},Q}(),pe={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,chromaBands:12,callback:null,windowingFunction:"hanning",featureExtractors:ae,EXTRACTION_STARTED:!1,numberOfMFCCCoefficients:13,numberOfBarkBands:24,_featuresToExtract:[],windowing:g,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(Q){return new z(Q,Object.assign({},pe))},listAvailableFeatureExtractors:function(){return Object.keys(this.featureExtractors)},extract:function(Q,Y,G){var q=this;if(!Y)throw this._errors.invalidInput;if(typeof Y!="object")throw this._errors.invalidInput;if(!Q)throw this._errors.featureUndef;if(!f(Y.length))throw this._errors.notPow2;this.barkScale!==void 0&&this.barkScale.length==this.bufferSize||(this.barkScale=_(this.bufferSize,this.sampleRate,this.bufferSize)),this.melFilterBank!==void 0&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=M(Math.max(this.melBands,this.numberOfMFCCCoefficients),this.sampleRate,this.bufferSize)),this.chromaFilterBank!==void 0&&this.chromaFilterBank.length==this.chromaBands||(this.chromaFilterBank=C(this.chromaBands,this.sampleRate,this.bufferSize)),"buffer"in Y&&Y.buffer===void 0?this.signal=w(Y):this.signal=Y;var Te=we(Y,this.windowingFunction,this.bufferSize);if(this.signal=Te.windowedSignal,this.complexSpectrum=Te.complexSpectrum,this.ampSpectrum=Te.ampSpectrum,G){var De=we(G,this.windowingFunction,this.bufferSize);this.previousSignal=De.windowedSignal,this.previousComplexSpectrum=De.complexSpectrum,this.previousAmpSpectrum=De.ampSpectrum}var nt=function(ft){return q.featureExtractors[ft]({ampSpectrum:q.ampSpectrum,chromaFilterBank:q.chromaFilterBank,complexSpectrum:q.complexSpectrum,signal:q.signal,bufferSize:q.bufferSize,sampleRate:q.sampleRate,barkScale:q.barkScale,melFilterBank:q.melFilterBank,previousSignal:q.previousSignal,previousAmpSpectrum:q.previousAmpSpectrum,previousComplexSpectrum:q.previousComplexSpectrum,numberOfMFCCCoefficients:q.numberOfMFCCCoefficients,numberOfBarkBands:q.numberOfBarkBands})};if(typeof Q=="object")return Q.reduce(function(ft,wt){var Et;return Object.assign({},ft,((Et={})[wt]=nt(wt),Et))},{});if(typeof Q=="string")return nt(Q);throw this._errors.invalidFeatureFmt}},we=function(Q,Y,G){var q={};Q.buffer===void 0?q.signal=w(Q):q.signal=Q,q.windowedSignal=g(q.signal,Y),q.complexSpectrum=me(q.windowedSignal),q.ampSpectrum=new Float32Array(G/2);for(var Te=0;Te<G/2;Te++)q.ampSpectrum[Te]=Math.sqrt(Math.pow(q.complexSpectrum.real[Te],2)+Math.pow(q.complexSpectrum.imag[Te],2));return q};return typeof window<"u"&&(window.Meyda=pe),pe})})(meyda_min);var meyda_minExports=meyda_min.exports;const Meyda=getDefaultExportFromCjs(meyda_minExports);class Audio{constructor({numBins:t=4,cutoff:r=2,smooth:o=.4,max:u=15,scale:f=10,isDrawing:g=!1,parentEl:_=document.body}){this.vol=0,this.scale=f,this.max=u,this.cutoff=r,this.smooth=o,this.setBins(t),this.beat={holdFrames:20,threshold:40,_cutoff:0,decay:.98,_framesSinceBeat:0},this.onBeat=()=>{},this.canvas=document.createElement("canvas"),this.canvas.width=100,this.canvas.height=80,this.canvas.style.width="100px",this.canvas.style.height="80px",this.canvas.style.position="absolute",this.canvas.style.right="0px",this.canvas.style.bottom="0px",_.appendChild(this.canvas),this.isDrawing=g,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#DFFFFF",this.ctx.strokeStyle="#0ff",this.ctx.lineWidth=.5,window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(w=>{this.stream=w,this.context=new AudioContext;let S=this.context.createMediaStreamSource(w);this.meyda=Meyda.createMeydaAnalyzer({audioContext:this.context,source:S,featureExtractors:["loudness"]})}).catch(w=>console.log("ERROR",w))}detectBeat(t){t>this.beat._cutoff&&t>this.beat.threshold?(this.onBeat(),this.beat._cutoff=t*1.2,this.beat._framesSinceBeat=0):this.beat._framesSinceBeat<=this.beat.holdFrames?this.beat._framesSinceBeat++:(this.beat._cutoff*=this.beat.decay,this.beat._cutoff=Math.max(this.beat._cutoff,this.beat.threshold))}tick(){if(this.meyda){var t=this.meyda.get();if(t&&t!==null){this.vol=t.loudness.total,this.detectBeat(this.vol);const r=(u,f)=>u+f;let o=Math.floor(t.loudness.specific.length/this.bins.length);this.prevBins=this.bins.slice(0),this.bins=this.bins.map((u,f)=>t.loudness.specific.slice(f*o,(f+1)*o).reduce(r)).map((u,f)=>u*(1-this.settings[f].smooth)+this.prevBins[f]*this.settings[f].smooth),this.fft=this.bins.map((u,f)=>Math.max(0,(u-this.settings[f].cutoff)/this.settings[f].scale)),this.isDrawing&&this.draw()}}}setCutoff(t){this.cutoff=t,this.settings=this.settings.map(r=>(r.cutoff=t,r))}setSmooth(t){this.smooth=t,this.settings=this.settings.map(r=>(r.smooth=t,r))}setBins(t){this.bins=Array(t).fill(0),this.prevBins=Array(t).fill(0),this.fft=Array(t).fill(0),this.settings=Array(t).fill(0).map(()=>({cutoff:this.cutoff,scale:this.scale,smooth:this.smooth})),this.bins.forEach((r,o)=>{window["a"+o]=(u=1,f=0)=>()=>a.fft[o]*u+f})}setScale(t){this.scale=t,this.settings=this.settings.map(r=>(r.scale=t,r))}setMax(t){this.max=t,console.log("set max is deprecated")}hide(){this.isDrawing=!1,this.canvas.style.display="none"}show(){this.isDrawing=!0,this.canvas.style.display="block"}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.canvas.width/this.bins.length,r=this.canvas.height/(this.max*2);this.bins.forEach((o,u)=>{var f=o*r;this.ctx.fillRect(u*t,this.canvas.height-f,t,f);var g=this.canvas.height-r*this.settings[u].cutoff;this.ctx.beginPath(),this.ctx.moveTo(u*t,g),this.ctx.lineTo((u+1)*t,g),this.ctx.stroke();var _=this.canvas.height-r*(this.settings[u].scale+this.settings[u].cutoff);this.ctx.beginPath(),this.ctx.moveTo(u*t,_),this.ctx.lineTo((u+1)*t,_),this.ctx.stroke()})}}class VideoRecorder{constructor(t){this.mediaSource=new MediaSource,this.stream=t,this.output=document.createElement("video"),this.output.autoplay=!0,this.output.loop=!0;let r=this;this.mediaSource.addEventListener("sourceopen",()=>{console.log("MediaSource opened"),r.sourceBuffer=r.mediaSource.addSourceBuffer('video/webm; codecs="vp8"'),console.log("Source buffer: ",sourceBuffer)})}start(){let t={mimeType:"video/webm;codecs=vp9"};this.recordedBlobs=[];try{this.mediaRecorder=new MediaRecorder(this.stream,t)}catch(r){console.log("Unable to create MediaRecorder with options Object: ",r);try{t={mimeType:"video/webm,codecs=vp9"},this.mediaRecorder=new MediaRecorder(this.stream,t)}catch(o){console.log("Unable to create MediaRecorder with options Object: ",o);try{t="video/vp8",this.mediaRecorder=new MediaRecorder(this.stream,t)}catch(u){alert(`MediaRecorder is not supported by this browser.

Try Firefox 29 or later, or Chrome 47 or later, with Enable experimental Web Platform features enabled from chrome://flags.`),console.error("Exception while creating MediaRecorder:",u);return}}}console.log("Created MediaRecorder",this.mediaRecorder,"with options",t),this.mediaRecorder.onstop=this._handleStop.bind(this),this.mediaRecorder.ondataavailable=this._handleDataAvailable.bind(this),this.mediaRecorder.start(100),console.log("MediaRecorder started",this.mediaRecorder)}stop(){this.mediaRecorder.stop()}_handleStop(){const t=new Blob(this.recordedBlobs,{type:this.mediaRecorder.mimeType}),r=window.URL.createObjectURL(t);this.output.src=r;const o=document.createElement("a");o.style.display="none",o.href=r;let u=new Date;o.download=`hydra-${u.getFullYear()}-${u.getMonth()+1}-${u.getDate()}-${u.getHours()}.${u.getMinutes()}.${u.getSeconds()}.webm`,document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),window.URL.revokeObjectURL(r)},300)}_handleDataAvailable(t){t.data&&t.data.size>0&&this.recordedBlobs.push(t.data)}}const easing={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},sin:function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}};var map$1=(e,t,r,o,u)=>(e-t)*(u-o)/(r-t)+o;const ArrayUtils={init:()=>{Array.prototype.fast=function(e=1){return this._speed=e,this},Array.prototype.smooth=function(e=1){return this._smooth=e,this},Array.prototype.ease=function(e="linear"){return typeof e=="function"?(this._smooth=1,this._ease=e):easing[e]&&(this._smooth=1,this._ease=easing[e]),this},Array.prototype.offset=function(e=.5){return this._offset=e%1,this},Array.prototype.fit=function(e=0,t=1){let r=Math.min(...this),o=Math.max(...this);var u=this.map(f=>map$1(f,r,o,e,t));return u._speed=this._speed,u._smooth=this._smooth,u._ease=this._ease,u}},getValue:(e=[])=>({time:t,bpm:r})=>{let o=e._speed?e._speed:1,u=e._smooth?e._smooth:0,f=t*o*(r/60)+(e._offset||0);if(u!==0){let g=e._ease?e._ease:easing.linear,_=f-u/2,w=e[Math.floor(_%e.length)],S=e[Math.floor((_+1)%e.length)],M=Math.min(_%1/u,1);return g(M)*(S-w)+w}else return e[Math.floor(f%e.length)],e[Math.floor(f%e.length)]}},Sandbox=parent=>{var initialCode="",sandbox=createSandbox(initialCode),addToContext=(e,t)=>{initialCode+=`
      var ${e} = ${t}
    `,sandbox=createSandbox(initialCode)};return{addToContext,eval:e=>sandbox.eval(e)};function createSandbox(initial){eval(initial);var localEval=function(code){eval(code)};return{eval:localEval}}};class EvalSandbox{constructor(t,r,o=[]){this.makeGlobal=r,this.sandbox=Sandbox(),this.parent=t;var u=Object.keys(t);u.forEach(f=>this.add(f)),this.userProps=o}add(t){this.makeGlobal&&(window[t]=this.parent[t]),this.sandbox.addToContext(t,`parent.${t}`)}set(t,r){this.makeGlobal&&(window[t]=r),this.parent[t]=r}tick(){this.makeGlobal&&this.userProps.forEach(t=>{this.parent[t]=window[t]})}eval(t){this.sandbox.eval(t)}}const DEFAULT_CONVERSIONS={float:{vec4:{name:"sum",args:[[1,1,1,1]]},vec2:{name:"sum",args:[[1,1]]}}},ensure_decimal_dot=e=>(e=e.toString(),e.indexOf(".")<0&&(e+="."),e);function formatArguments(e,t,r){const o=e.transform.inputs,u=e.userArgs,{generators:f}=e.synth,{src:g}=f;return o.map((_,w)=>{const S={value:_.default,type:_.type,isUniform:!1,name:_.name,vecLen:0};if(S.type==="float"&&(S.value=ensure_decimal_dot(_.default)),_.type.startsWith("vec"))try{S.vecLen=Number.parseInt(_.type.substr(3))}catch{console.log(`Error determining length of vector input type ${_.type} (${_.name})`)}if(u.length>w&&(S.value=u[w],typeof u[w]=="function"?(S.value=(T,k,P)=>{try{const $=u[w](k);return typeof $=="number"?$:(console.warn("function does not return a number",u[w]),_.default)}catch($){return console.warn("ERROR",$),_.default}},S.isUniform=!0):u[w].constructor===Array&&(S.value=(T,k,P)=>ArrayUtils.getValue(u[w])(k),S.isUniform=!0)),!(t<0)){if(S.value&&S.value.transforms){const T=S.value.transforms[S.value.transforms.length-1];if(T.transform.glsl_return_type!==_.type){const k=DEFAULT_CONVERSIONS[_.type];if(typeof k<"u"){const P=k[T.transform.glsl_return_type];if(typeof P<"u"){const{name:$,args:I}=P;S.value=S.value[$](...I)}}}S.isUniform=!1}else if(S.type==="float"&&typeof S.value=="number")S.value=ensure_decimal_dot(S.value);else if(S.type.startsWith("vec")&&typeof S.value=="object"&&Array.isArray(S.value))S.isUniform=!1,S.value=`${S.type}(${S.value.map(ensure_decimal_dot).join(", ")})`;else if(_.type==="sampler2D"){var M=S.value;S.value=()=>M.getTexture(),S.isUniform=!0}else if(S.value.getTexture&&_.type==="vec4"){var C=S.value;S.value=g(C),S.isUniform=!1}S.isUniform&&(S.name+=t)}return S})}function generateGlsl(e){var t={uniforms:[],glslFunctions:[],fragColor:""},r=generateGlsl$1(e,t)("st");t.fragColor=r;let o={};return t.uniforms.forEach(u=>o[u.name]=u),t.uniforms=Object.values(o),t}function generateGlsl$1(e,t){var r=()=>"";return e.forEach(o=>{var u=formatArguments(o,t.uniforms.length);u.forEach(_=>{_.isUniform&&t.uniforms.push(_)}),contains(o,t.glslFunctions)||t.glslFunctions.push(o);var f=r;if(o.transform.type==="src")r=_=>`${shaderString(_,o.name,u,t)}`;else if(o.transform.type==="coord")r=_=>`${f(`${shaderString(_,o.name,u,t)}`)}`;else if(o.transform.type==="color")r=_=>`${shaderString(`${f(_)}`,o.name,u,t)}`;else if(o.transform.type==="combine"){var g=u[0].value&&u[0].value.transforms?_=>`${generateGlsl$1(u[0].value.transforms,t)(_)}`:u[0].isUniform?()=>u[0].name:()=>u[0].value;r=_=>`${shaderString(`${f(_)}, ${g(_)}`,o.name,u.slice(1),t)}`}else if(o.transform.type==="combineCoord"){var g=u[0].value&&u[0].value.transforms?w=>`${generateGlsl$1(u[0].value.transforms,t)(w)}`:u[0].isUniform?()=>u[0].name:()=>u[0].value;r=w=>`${f(`${shaderString(`${w}, ${g(w)}`,o.name,u.slice(1),t)}`)}`}}),r}function shaderString(e,t,r,o){const u=r.map(f=>f.isUniform?f.name:f.value&&f.value.transforms?`${generateGlsl$1(f.value.transforms,o)("st")}`:f.value).reduce((f,g)=>`${f}, ${g}`,"");return`${t}(${e}${u})`}function contains(e,t){for(var r=0;r<t.length;r++)if(e.name==t[r].name)return!0;return!1}const utilityGlsl={_luminance:{type:"util",glsl:`float _luminance(vec3 rgb){
      const vec3 W = vec3(0.2125, 0.7154, 0.0721);
      return dot(rgb, W);
    }`},_noise:{type:"util",glsl:`
    //	Simplex 3D Noise
    //	by Ian McEwan, Ashima Arts
    vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float _noise(vec3 v){
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;

  // Other corners
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );

    //  x0 = x0 - 0. + 0.0 * C
    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
    i = mod(i, 289.0 );
    vec4 p = permute( permute( permute(
               i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
             + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
             + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

  // Gradients
  // ( N*N points uniformly over a square, mapped onto an octahedron.)
    float n_ = 1.0/7.0; // N=7
    vec3  ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

  //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

  // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                  dot(p2,x2), dot(p3,x3) ) );
  }
    `},_rgbToHsv:{type:"util",glsl:`vec3 _rgbToHsv(vec3 c){
            vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
            vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));
            vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));

            float d = q.x - min(q.w, q.y);
            float e = 1.0e-10;
            return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);
        }`},_hsvToRgb:{type:"util",glsl:`vec3 _hsvToRgb(vec3 c){
        vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
        vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
        return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
    }`}};var GlslSource=function(e){return this.transforms=[],this.transforms.push(e),this.defaultOutput=e.defaultOutput,this.synth=e.synth,this.type="GlslSource",this.defaultUniforms=e.defaultUniforms,this};GlslSource.prototype.addTransform=function(e){this.transforms.push(e)};GlslSource.prototype.out=function(e){var t=e||this.defaultOutput,r=this.glsl(t);if(this.synth.currentFunctions=[],t)try{t.render(r)}catch(o){console.log("shader could not compile",o)}};GlslSource.prototype.glsl=function(){var e=[],t=[];return this.transforms.forEach(r=>{r.transform.type==="renderpass"?console.warn("no support for renderpass"):t.push(r)}),t.length>0&&e.push(this.compile(t)),e};GlslSource.prototype.compile=function(e){var t=generateGlsl(e,this.synth),r={};t.uniforms.forEach(u=>{r[u.name]=u.value});var o=`
  precision ${this.defaultOutput.precision} float;
  ${Object.values(t.uniforms).map(u=>{let f=u.type;switch(u.type){case"texture":f="sampler2D";break}return`
      uniform ${f} ${u.name};`}).join("")}
  uniform float time;
  uniform vec2 resolution;
  varying vec2 uv;
  uniform sampler2D prevBuffer;

  ${Object.values(utilityGlsl).map(u=>`
            ${u.glsl}
          `).join("")}

  ${t.glslFunctions.map(u=>`
            ${u.transform.glsl}
          `).join("")}

  void main () {
    vec4 c = vec4(1, 0, 0, 1);
    vec2 st = gl_FragCoord.xy/resolution.xy;
    gl_FragColor = ${t.fragColor};
  }
  `;return{frag:o,uniforms:Object.assign({},this.defaultUniforms,r)}};const glslTransforms=()=>[{name:"noise",type:"src",inputs:[{type:"float",name:"scale",default:10},{type:"float",name:"offset",default:.1}],glsl:"   return vec4(vec3(_noise(vec3(_st*scale, offset*time))), 1.0);"},{name:"voronoi",type:"src",inputs:[{type:"float",name:"scale",default:5},{type:"float",name:"speed",default:.3},{type:"float",name:"blending",default:.3}],glsl:`   vec3 color = vec3(.0);
   // Scale
   _st *= scale;
   // Tile the space
   vec2 i_st = floor(_st);
   vec2 f_st = fract(_st);
   float m_dist = 10.;  // minimun distance
   vec2 m_point;        // minimum point
   for (int j=-1; j<=1; j++ ) {
   for (int i=-1; i<=1; i++ ) {
   vec2 neighbor = vec2(float(i),float(j));
   vec2 p = i_st + neighbor;
   vec2 point = fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);
   point = 0.5 + 0.5*sin(time*speed + 6.2831*point);
   vec2 diff = neighbor + point - f_st;
   float dist = length(diff);
   if( dist < m_dist ) {
   m_dist = dist;
   m_point = point;
   }
   }
   }
   // Assign a color using the closest point position
   color += dot(m_point,vec2(.3,.6));
   color *= 1.0 - blending*m_dist;
   return vec4(color, 1.0);`},{name:"osc",type:"src",inputs:[{type:"float",name:"frequency",default:60},{type:"float",name:"sync",default:.1},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st;
   float r = sin((st.x-offset/frequency+time*sync)*frequency)*0.5  + 0.5;
   float g = sin((st.x+time*sync)*frequency)*0.5 + 0.5;
   float b = sin((st.x+offset/frequency+time*sync)*frequency)*0.5  + 0.5;
   return vec4(r, g, b, 1.0);`},{name:"shape",type:"src",inputs:[{type:"float",name:"sides",default:3},{type:"float",name:"radius",default:.3},{type:"float",name:"smoothing",default:.01}],glsl:`   vec2 st = _st * 2. - 1.;
   // Angle and radius from the current pixel
   float a = atan(st.x,st.y)+3.1416;
   float r = (2.*3.1416)/sides;
   float d = cos(floor(.5+a/r)*r-a)*length(st);
   return vec4(vec3(1.0-smoothstep(radius,radius + smoothing + 0.0000001,d)), 1.0);`},{name:"gradient",type:"src",inputs:[{type:"float",name:"speed",default:0}],glsl:"   return vec4(_st, sin(time*speed), 1.0);"},{name:"src",type:"src",inputs:[{type:"sampler2D",name:"tex",default:NaN}],glsl:`   //  vec2 uv = gl_FragCoord.xy/vec2(1280., 720.);
   return texture2D(tex, fract(_st));`},{name:"solid",type:"src",inputs:[{type:"float",name:"r",default:0},{type:"float",name:"g",default:0},{type:"float",name:"b",default:0},{type:"float",name:"a",default:1}],glsl:"   return vec4(r, g, b, a);"},{name:"rotate",type:"coord",inputs:[{type:"float",name:"angle",default:10},{type:"float",name:"speed",default:0}],glsl:`   vec2 xy = _st - vec2(0.5);
   float ang = angle + speed *time;
   xy = mat2(cos(ang),-sin(ang), sin(ang),cos(ang))*xy;
   xy += 0.5;
   return xy;`},{name:"scale",type:"coord",inputs:[{type:"float",name:"amount",default:1.5},{type:"float",name:"xMult",default:1},{type:"float",name:"yMult",default:1},{type:"float",name:"offsetX",default:.5},{type:"float",name:"offsetY",default:.5}],glsl:`   vec2 xy = _st - vec2(offsetX, offsetY);
   xy*=(1.0/vec2(amount*xMult, amount*yMult));
   xy+=vec2(offsetX, offsetY);
   return xy;
   `},{name:"pixelate",type:"coord",inputs:[{type:"float",name:"pixelX",default:20},{type:"float",name:"pixelY",default:20}],glsl:`   vec2 xy = vec2(pixelX, pixelY);
   return (floor(_st * xy) + 0.5)/xy;`},{name:"posterize",type:"color",inputs:[{type:"float",name:"bins",default:3},{type:"float",name:"gamma",default:.6}],glsl:`   vec4 c2 = pow(_c0, vec4(gamma));
   c2 *= vec4(bins);
   c2 = floor(c2);
   c2/= vec4(bins);
   c2 = pow(c2, vec4(1.0/gamma));
   return vec4(c2.xyz, _c0.a);`},{name:"shift",type:"color",inputs:[{type:"float",name:"r",default:.5},{type:"float",name:"g",default:0},{type:"float",name:"b",default:0},{type:"float",name:"a",default:0}],glsl:`   vec4 c2 = vec4(_c0);
   c2.r = fract(c2.r + r);
   c2.g = fract(c2.g + g);
   c2.b = fract(c2.b + b);
   c2.a = fract(c2.a + a);
   return vec4(c2.rgba);`},{name:"repeat",type:"coord",inputs:[{type:"float",name:"repeatX",default:3},{type:"float",name:"repeatY",default:3},{type:"float",name:"offsetX",default:0},{type:"float",name:"offsetY",default:0}],glsl:`   vec2 st = _st * vec2(repeatX, repeatY);
   st.x += step(1., mod(st.y,2.0)) * offsetX;
   st.y += step(1., mod(st.x,2.0)) * offsetY;
   return fract(st);`},{name:"modulateRepeat",type:"combineCoord",inputs:[{type:"float",name:"repeatX",default:3},{type:"float",name:"repeatY",default:3},{type:"float",name:"offsetX",default:.5},{type:"float",name:"offsetY",default:.5}],glsl:`   vec2 st = _st * vec2(repeatX, repeatY);
   st.x += step(1., mod(st.y,2.0)) + _c0.r * offsetX;
   st.y += step(1., mod(st.x,2.0)) + _c0.g * offsetY;
   return fract(st);`},{name:"repeatX",type:"coord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.y += step(1., mod(st.x,2.0))* offset;
   return fract(st);`},{name:"modulateRepeatX",type:"combineCoord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:.5}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.y += step(1., mod(st.x,2.0)) + _c0.r * offset;
   return fract(st);`},{name:"repeatY",type:"coord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st * vec2(1.0, reps);
   //  float f =  mod(_st.y,2.0);
   st.x += step(1., mod(st.y,2.0))* offset;
   return fract(st);`},{name:"modulateRepeatY",type:"combineCoord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:.5}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.x += step(1., mod(st.y,2.0)) + _c0.r * offset;
   return fract(st);`},{name:"kaleid",type:"coord",inputs:[{type:"float",name:"nSides",default:4}],glsl:`   vec2 st = _st;
   st -= 0.5;
   float r = length(st);
   float a = atan(st.y, st.x);
   float pi = 2.*3.1416;
   a = mod(a,pi/nSides);
   a = abs(a-pi/nSides/2.);
   return r*vec2(cos(a), sin(a));`},{name:"modulateKaleid",type:"combineCoord",inputs:[{type:"float",name:"nSides",default:4}],glsl:`   vec2 st = _st - 0.5;
   float r = length(st);
   float a = atan(st.y, st.x);
   float pi = 2.*3.1416;
   a = mod(a,pi/nSides);
   a = abs(a-pi/nSides/2.);
   return (_c0.r+r)*vec2(cos(a), sin(a));`},{name:"scroll",type:"coord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"scrollY",default:.5},{type:"float",name:"speedX",default:0},{type:"float",name:"speedY",default:0}],glsl:`
   _st.x += scrollX + time*speedX;
   _st.y += scrollY + time*speedY;
   return fract(_st);`},{name:"scrollX",type:"coord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.x += scrollX + time*speed;
   return fract(_st);`},{name:"modulateScrollX",type:"combineCoord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.x += _c0.r*scrollX + time*speed;
   return fract(_st);`},{name:"scrollY",type:"coord",inputs:[{type:"float",name:"scrollY",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.y += scrollY + time*speed;
   return fract(_st);`},{name:"modulateScrollY",type:"combineCoord",inputs:[{type:"float",name:"scrollY",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.y += _c0.r*scrollY + time*speed;
   return fract(_st);`},{name:"add",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return (_c0+_c1)*amount + _c0*(1.0-amount);"},{name:"sub",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return (_c0-_c1)*amount + _c0*(1.0-amount);"},{name:"layer",type:"combine",inputs:[],glsl:"   return vec4(mix(_c0.rgb, _c1.rgb, _c1.a), clamp(_c0.a + _c1.a, 0.0, 1.0));"},{name:"blend",type:"combine",inputs:[{type:"float",name:"amount",default:.5}],glsl:"   return _c0*(1.0-amount)+_c1*amount;"},{name:"mult",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return _c0*(1.0-amount)+(_c0*_c1)*amount;"},{name:"diff",type:"combine",inputs:[],glsl:"   return vec4(abs(_c0.rgb-_c1.rgb), max(_c0.a, _c1.a));"},{name:"modulate",type:"combineCoord",inputs:[{type:"float",name:"amount",default:.1}],glsl:`   //  return fract(st+(_c0.xy-0.5)*amount);
   return _st + _c0.xy*amount;`},{name:"modulateScale",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:1},{type:"float",name:"offset",default:1}],glsl:`   vec2 xy = _st - vec2(0.5);
   xy*=(1.0/vec2(offset + multiple*_c0.r, offset + multiple*_c0.g));
   xy+=vec2(0.5);
   return xy;`},{name:"modulatePixelate",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:10},{type:"float",name:"offset",default:3}],glsl:`   vec2 xy = vec2(offset + _c0.x*multiple, offset + _c0.y*multiple);
   return (floor(_st * xy) + 0.5)/xy;`},{name:"modulateRotate",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:1},{type:"float",name:"offset",default:0}],glsl:`   vec2 xy = _st - vec2(0.5);
   float angle = offset + _c0.x * multiple;
   xy = mat2(cos(angle),-sin(angle), sin(angle),cos(angle))*xy;
   xy += 0.5;
   return xy;`},{name:"modulateHue",type:"combineCoord",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return _st + (vec2(_c0.g - _c0.r, _c0.b - _c0.g) * amount * 1.0/resolution);"},{name:"invert",type:"color",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return vec4((1.0-_c0.rgb)*amount + _c0.rgb*(1.0-amount), _c0.a);"},{name:"contrast",type:"color",inputs:[{type:"float",name:"amount",default:1.6}],glsl:`   vec4 c = (_c0-vec4(0.5))*vec4(amount) + vec4(0.5);
   return vec4(c.rgb, _c0.a);`},{name:"brightness",type:"color",inputs:[{type:"float",name:"amount",default:.4}],glsl:"   return vec4(_c0.rgb + vec3(amount), _c0.a);"},{name:"mask",type:"combine",inputs:[],glsl:`   float a = _luminance(_c1.rgb);
  return vec4(_c0.rgb*a, a*_c0.a);`},{name:"luma",type:"color",inputs:[{type:"float",name:"threshold",default:.5},{type:"float",name:"tolerance",default:.1}],glsl:`   float a = smoothstep(threshold-(tolerance+0.0000001), threshold+(tolerance+0.0000001), _luminance(_c0.rgb));
   return vec4(_c0.rgb*a, a);`},{name:"thresh",type:"color",inputs:[{type:"float",name:"threshold",default:.5},{type:"float",name:"tolerance",default:.04}],glsl:"   return vec4(vec3(smoothstep(threshold-(tolerance+0.0000001), threshold+(tolerance+0.0000001), _luminance(_c0.rgb))), _c0.a);"},{name:"color",type:"color",inputs:[{type:"float",name:"r",default:1},{type:"float",name:"g",default:1},{type:"float",name:"b",default:1},{type:"float",name:"a",default:1}],glsl:`   vec4 c = vec4(r, g, b, a);
   vec4 pos = step(0.0, c); // detect whether negative
   // if > 0, return r * _c0
   // if < 0 return (1.0-r) * _c0
   return vec4(mix((1.0-_c0)*abs(c), c*_c0, pos));`},{name:"saturate",type:"color",inputs:[{type:"float",name:"amount",default:2}],glsl:`   const vec3 W = vec3(0.2125, 0.7154, 0.0721);
   vec3 intensity = vec3(dot(_c0.rgb, W));
   return vec4(mix(intensity, _c0.rgb, amount), _c0.a);`},{name:"hue",type:"color",inputs:[{type:"float",name:"hue",default:.4}],glsl:`   vec3 c = _rgbToHsv(_c0.rgb);
   c.r += hue;
   //  c.r = fract(c.r);
   return vec4(_hsvToRgb(c), _c0.a);`},{name:"colorama",type:"color",inputs:[{type:"float",name:"amount",default:.005}],glsl:`   vec3 c = _rgbToHsv(_c0.rgb);
   c += vec3(amount);
   c = _hsvToRgb(c);
   c = fract(c);
   return vec4(c, _c0.a);`},{name:"prev",type:"src",inputs:[],glsl:"   return texture2D(prevBuffer, fract(_st));"},{name:"sum",type:"color",inputs:[{type:"vec4",name:"scale",default:1}],glsl:`   vec4 v = _c0 * s;
   return v.r + v.g + v.b + v.a;
   }
   float sum(vec2 _st, vec4 s) { // vec4 is not a typo, because argument type is not overloaded
   vec2 v = _st.xy * s.xy;
   return v.x + v.y;`},{name:"r",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.r * scale + offset);"},{name:"g",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.g * scale + offset);"},{name:"b",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.b * scale + offset);"},{name:"a",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.a * scale + offset);"}];class GeneratorFactory{constructor({defaultUniforms:t,defaultOutput:r,extendTransforms:o=[],changeListener:u=()=>{}}={}){this.defaultOutput=r,this.defaultUniforms=t,this.changeListener=u,this.extendTransforms=o,this.generators={},this.init()}init(){const t=glslTransforms();return this.glslTransforms={},this.generators=Object.entries(this.generators).reduce((r,[o,u])=>(this.changeListener({type:"remove",synth:this,method:o}),r),{}),this.sourceClass=(()=>class extends GlslSource{})(),Array.isArray(this.extendTransforms)?t.concat(this.extendTransforms):typeof this.extendTransforms=="object"&&this.extendTransforms.type&&t.push(this.extendTransforms),t.map(r=>this.setFunction(r))}_addMethod(t,r){const o=this;if(this.glslTransforms[t]=r,r.type==="src"){const u=(...f)=>new this.sourceClass({name:t,transform:r,userArgs:f,defaultOutput:this.defaultOutput,defaultUniforms:this.defaultUniforms,synth:o});return this.generators[t]=u,this.changeListener({type:"add",synth:this,method:t}),u}else this.sourceClass.prototype[t]=function(...u){return this.transforms.push({name:t,transform:r,userArgs:u,synth:o}),this}}setFunction(t){var r=processGlsl(t);r&&this._addMethod(t.name,r)}}const typeLookup={src:{returnType:"vec4",args:["vec2 _st"]},coord:{returnType:"vec2",args:["vec2 _st"]},color:{returnType:"vec4",args:["vec4 _c0"]},combine:{returnType:"vec4",args:["vec4 _c0","vec4 _c1"]},combineCoord:{returnType:"vec2",args:["vec2 _st","vec4 _c0"]}};function processGlsl(e){let t=typeLookup[e.type];if(t){let r=t.args.map(g=>g).join(", "),o=e.inputs.map(g=>`${g.type} ${g.name}`).join(", "),u=`${r}${o.length>0?", "+o:""}`,f=`
  ${t.returnType} ${e.name}(${u}) {
      ${e.glsl}
  }
`;return(e.type==="combine"||e.type==="combineCoord")&&e.inputs.unshift({name:"color",type:"vec4"}),Object.assign({},e,{glsl:f})}else console.warn(`type ${e.type} not recognized`,e)}var regl$1={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(commonjsGlobal,function(){var r=function(N){return N instanceof Uint8Array||N instanceof Uint16Array||N instanceof Uint32Array||N instanceof Int8Array||N instanceof Int16Array||N instanceof Int32Array||N instanceof Float32Array||N instanceof Float64Array||N instanceof Uint8ClampedArray},o=function(N,X){for(var de=Object.keys(X),Fe=0;Fe<de.length;++Fe)N[de[Fe]]=X[de[Fe]];return N},u=`
`;function f(N){return typeof atob<"u"?atob(N):"base64:"+N}function g(N){var X=new Error("(regl) "+N);throw console.error(X),X}function _(N,X){N||g(X)}function w(N){return N?": "+N:""}function S(N,X,de){N in X||g("unknown parameter ("+N+")"+w(de)+". possible values: "+Object.keys(X).join())}function M(N,X){r(N)||g("invalid parameter type"+w(X)+". must be a typed array")}function C(N,X){switch(X){case"number":return typeof N=="number";case"object":return typeof N=="object";case"string":return typeof N=="string";case"boolean":return typeof N=="boolean";case"function":return typeof N=="function";case"undefined":return typeof N>"u";case"symbol":return typeof N=="symbol"}}function T(N,X,de){C(N,X)||g("invalid parameter type"+w(de)+". expected "+X+", got "+typeof N)}function k(N,X){N>=0&&(N|0)===N||g("invalid parameter type, ("+N+")"+w(X)+". must be a nonnegative integer")}function P(N,X,de){X.indexOf(N)<0&&g("invalid value"+w(de)+". must be one of: "+X)}var $=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function I(N){Object.keys(N).forEach(function(X){$.indexOf(X)<0&&g('invalid regl constructor argument "'+X+'". must be one of '+$)})}function E(N,X){for(N=N+"";N.length<X;)N=" "+N;return N}function F(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function le(N,X){this.number=N,this.line=X,this.errors=[]}function W(N,X,de){this.file=N,this.line=X,this.message=de}function ae(){var N=new Error,X=(N.stack||N).toString(),de=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(X);if(de)return de[1];var Fe=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(X);return Fe?Fe[1]:"unknown"}function te(){var N=new Error,X=(N.stack||N).toString(),de=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(X);if(de)return de[1];var Fe=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(X);return Fe?Fe[1]:"unknown"}function oe(N,X){var de=N.split(`
`),Fe=1,Qe=0,Be={unknown:new F,0:new F};Be.unknown.name=Be[0].name=X||ae(),Be.unknown.lines.push(new le(0,""));for(var je=0;je<de.length;++je){var st=de[je],lt=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(st);if(lt)switch(lt[1]){case"line":var pt=/(\d+)(\s+\d+)?/.exec(lt[2]);pt&&(Fe=pt[1]|0,pt[2]&&(Qe=pt[2]|0,Qe in Be||(Be[Qe]=new F)));break;case"define":var ut=/SHADER_NAME(_B64)?\s+(.*)$/.exec(lt[2]);ut&&(Be[Qe].name=ut[1]?f(ut[2]):ut[2]);break}Be[Qe].lines.push(new le(Fe++,st))}return Object.keys(Be).forEach(function(yt){var bt=Be[yt];bt.lines.forEach(function(ot){bt.index[ot.number]=ot})}),Be}function ie(N){var X=[];return N.split(`
`).forEach(function(de){if(!(de.length<5)){var Fe=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(de);Fe?X.push(new W(Fe[1]|0,Fe[2]|0,Fe[3].trim())):de.length>0&&X.push(new W("unknown",0,de))}}),X}function Ee(N,X){X.forEach(function(de){var Fe=N[de.file];if(Fe){var Qe=Fe.index[de.line];if(Qe){Qe.errors.push(de),Fe.hasErrors=!0;return}}N.unknown.hasErrors=!0,N.unknown.lines[0].errors.push(de)})}function D(N,X,de,Fe,Qe){if(!N.getShaderParameter(X,N.COMPILE_STATUS)){var Be=N.getShaderInfoLog(X),je=Fe===N.FRAGMENT_SHADER?"fragment":"vertex";G(de,"string",je+" shader source must be a string",Qe);var st=oe(de,Qe),lt=ie(Be);Ee(st,lt),Object.keys(st).forEach(function(pt){var ut=st[pt];if(!ut.hasErrors)return;var yt=[""],bt=[""];function ot(gt,Oe){yt.push(gt),bt.push(Oe||"")}ot("file number "+pt+": "+ut.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ut.lines.forEach(function(gt){if(gt.errors.length>0){ot(E(gt.number,4)+"|  ","background-color:yellow; font-weight:bold"),ot(gt.line+u,"color:red; background-color:yellow; font-weight:bold");var Oe=0;gt.errors.forEach(function(Ge){var ht=Ge.message,Tt=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ht);if(Tt){var Ze=Tt[1];switch(ht=Tt[2],Ze){case"assign":Ze="=";break}Oe=Math.max(gt.line.indexOf(Ze,Oe),0)}else Oe=0;ot(E("| ",6)),ot(E("^^^",Oe+3)+u,"font-weight:bold"),ot(E("| ",6)),ot(ht+u,"font-weight:bold")}),ot(E("| ",6)+u)}else ot(E(gt.number,4)+"|  "),ot(gt.line+u,"color:red")}),typeof document<"u"&&!window.chrome?(bt[0]=yt.join("%c"),console.log.apply(console,bt)):console.log(yt.join(""))}),_.raise("Error compiling "+je+" shader, "+st[0].name)}}function me(N,X,de,Fe,Qe){if(!N.getProgramParameter(X,N.LINK_STATUS)){var Be=N.getProgramInfoLog(X),je=oe(de,Qe),st=oe(Fe,Qe),lt='Error linking program with vertex shader, "'+st[0].name+'", and fragment shader "'+je[0].name+'"';typeof document<"u"?console.log("%c"+lt+u+"%c"+Be,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(lt+u+Be),_.raise(lt)}}function z(N){N._commandRef=ae()}function pe(N,X,de,Fe){z(N);function Qe(lt){return lt?Fe.id(lt):0}N._fragId=Qe(N.static.frag),N._vertId=Qe(N.static.vert);function Be(lt,pt){Object.keys(pt).forEach(function(ut){lt[Fe.id(ut)]=!0})}var je=N._uniformSet={};Be(je,X.static),Be(je,X.dynamic);var st=N._attributeSet={};Be(st,de.static),Be(st,de.dynamic),N._hasCount="count"in N.static||"count"in N.dynamic||"elements"in N.static||"elements"in N.dynamic}function we(N,X){var de=te();g(N+" in command "+(X||ae())+(de==="unknown"?"":" called from "+de))}function Q(N,X,de){N||we(X,de||ae())}function Y(N,X,de,Fe){N in X||we("unknown parameter ("+N+")"+w(de)+". possible values: "+Object.keys(X).join(),Fe||ae())}function G(N,X,de,Fe){C(N,X)||we("invalid parameter type"+w(de)+". expected "+X+", got "+typeof N,Fe||ae())}function q(N){N()}function Te(N,X,de){N.texture?P(N.texture._texture.internalformat,X,"unsupported texture format for attachment"):P(N.renderbuffer._renderbuffer.format,de,"unsupported renderbuffer format for attachment")}var De=33071,nt=9728,ft=9984,wt=9985,Et=9986,kt=9987,$e=5120,Re=5121,at=5122,At=5123,Ut=5124,he=5125,ue=5126,tt=32819,Je=32820,Bt=33635,Ht=34042,Xt=36193,Pt={};Pt[$e]=Pt[Re]=1,Pt[at]=Pt[At]=Pt[Xt]=Pt[Bt]=Pt[tt]=Pt[Je]=2,Pt[Ut]=Pt[he]=Pt[ue]=Pt[Ht]=4;function Xr(N,X){return N===Je||N===tt||N===Bt?2:N===Ht?4:Pt[N]*X}function Zr(N){return!(N&N-1)&&!!N}function ki(N,X,de){var Fe,Qe=X.width,Be=X.height,je=X.channels;_(Qe>0&&Qe<=de.maxTextureSize&&Be>0&&Be<=de.maxTextureSize,"invalid texture shape"),(N.wrapS!==De||N.wrapT!==De)&&_(Zr(Qe)&&Zr(Be),"incompatible wrap mode for texture, both width and height must be power of 2"),X.mipmask===1?Qe!==1&&Be!==1&&_(N.minFilter!==ft&&N.minFilter!==Et&&N.minFilter!==wt&&N.minFilter!==kt,"min filter requires mipmap"):(_(Zr(Qe)&&Zr(Be),"texture must be a square power of 2 to support mipmapping"),_(X.mipmask===(Qe<<1)-1,"missing or incomplete mipmap data")),X.type===ue&&(de.extensions.indexOf("oes_texture_float_linear")<0&&_(N.minFilter===nt&&N.magFilter===nt,"filter not supported, must enable oes_texture_float_linear"),_(!N.genMipmaps,"mipmap generation not supported with float textures"));var st=X.images;for(Fe=0;Fe<16;++Fe)if(st[Fe]){var lt=Qe>>Fe,pt=Be>>Fe;_(X.mipmask&1<<Fe,"missing mipmap data");var ut=st[Fe];if(_(ut.width===lt&&ut.height===pt,"invalid shape for mip images"),_(ut.format===X.format&&ut.internalformat===X.internalformat&&ut.type===X.type,"incompatible type for mip image"),!ut.compressed)if(ut.data){var yt=Math.ceil(Xr(ut.type,je)*lt/ut.unpackAlignment)*ut.unpackAlignment;_(ut.data.byteLength===yt*pt,"invalid data for image, buffer size is inconsistent with image format")}else ut.element||ut.copy}else N.genMipmaps||_((X.mipmask&1<<Fe)===0,"extra mipmap data");X.compressed&&_(!N.genMipmaps,"mipmap generation for compressed images not supported")}function Ve(N,X,de,Fe){var Qe=N.width,Be=N.height,je=N.channels;_(Qe>0&&Qe<=Fe.maxTextureSize&&Be>0&&Be<=Fe.maxTextureSize,"invalid texture shape"),_(Qe===Be,"cube map must be square"),_(X.wrapS===De&&X.wrapT===De,"wrap mode not supported by cube map");for(var st=0;st<de.length;++st){var lt=de[st];_(lt.width===Qe&&lt.height===Be,"inconsistent cube map face shape"),X.genMipmaps&&(_(!lt.compressed,"can not generate mipmap for compressed textures"),_(lt.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var pt=lt.images,ut=0;ut<16;++ut){var yt=pt[ut];if(yt){var bt=Qe>>ut,ot=Be>>ut;_(lt.mipmask&1<<ut,"missing mipmap data"),_(yt.width===bt&&yt.height===ot,"invalid shape for mip images"),_(yt.format===N.format&&yt.internalformat===N.internalformat&&yt.type===N.type,"incompatible type for mip image"),yt.compressed||(yt.data?_(yt.data.byteLength===bt*ot*Math.max(Xr(yt.type,je),yt.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):yt.element||yt.copy)}}}}var V=o(_,{optional:q,raise:g,commandRaise:we,command:Q,parameter:S,commandParameter:Y,constructor:I,type:T,commandType:G,isTypedArray:M,nni:k,oneOf:P,shaderError:D,linkError:me,callSite:te,saveCommandRef:z,saveDrawInfo:pe,framebufferFormat:Te,guessCommand:ae,texture2D:ki,textureCube:Ve}),Si=0,Ir=0,ii=5,K=6;function O(N,X){this.id=Si++,this.type=N,this.data=X}function U(N){return N.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ce(N){if(N.length===0)return[];var X=N.charAt(0),de=N.charAt(N.length-1);if(N.length>1&&X===de&&(X==='"'||X==="'"))return['"'+U(N.substr(1,N.length-2))+'"'];var Fe=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(N);if(Fe)return ce(N.substr(0,Fe.index)).concat(ce(Fe[1])).concat(ce(N.substr(Fe.index+Fe[0].length)));var Qe=N.split(".");if(Qe.length===1)return['"'+U(N)+'"'];for(var Be=[],je=0;je<Qe.length;++je)Be=Be.concat(ce(Qe[je]));return Be}function Le(N){return"["+ce(N).join("][")+"]"}function We(N,X){return new O(N,Le(X+""))}function rt(N){return typeof N=="function"&&!N._reglType||N instanceof O}function jt(N,X){if(typeof N=="function")return new O(Ir,N);if(typeof N=="number"||typeof N=="boolean")return new O(ii,N);if(Array.isArray(N))return new O(K,N.map((de,Fe)=>jt(de,X+"["+Fe+"]")));if(N instanceof O)return N;V(!1,"invalid option type in uniform "+X)}var or={DynamicVariable:O,define:We,isDynamic:rt,unbox:jt,accessor:Le},br={next:typeof requestAnimationFrame=="function"?function(N){return requestAnimationFrame(N)}:function(N){return setTimeout(N,16)},cancel:typeof cancelAnimationFrame=="function"?function(N){return cancelAnimationFrame(N)}:clearTimeout},hr=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function vr(){var N={"":0},X=[""];return{id:function(de){var Fe=N[de];return Fe||(Fe=N[de]=X.length,X.push(de),Fe)},str:function(de){return X[de]}}}function ko(N,X,de){var Fe=document.createElement("canvas");o(Fe.style,{border:0,margin:0,padding:0,top:0,left:0}),N.appendChild(Fe),N===document.body&&(Fe.style.position="absolute",o(N.style,{margin:0,padding:0}));function Qe(){var st=window.innerWidth,lt=window.innerHeight;if(N!==document.body){var pt=N.getBoundingClientRect();st=pt.right-pt.left,lt=pt.bottom-pt.top}Fe.width=de*st,Fe.height=de*lt,o(Fe.style,{width:st+"px",height:lt+"px"})}var Be;N!==document.body&&typeof ResizeObserver=="function"?(Be=new ResizeObserver(function(){setTimeout(Qe)}),Be.observe(N)):window.addEventListener("resize",Qe,!1);function je(){Be?Be.disconnect():window.removeEventListener("resize",Qe),N.removeChild(Fe)}return Qe(),{canvas:Fe,onDestroy:je}}function Ro(N,X){function de(Fe){try{return N.getContext(Fe,X)}catch{return null}}return de("webgl")||de("experimental-webgl")||de("webgl-experimental")}function ps(N){return typeof N.nodeName=="string"&&typeof N.appendChild=="function"&&typeof N.getBoundingClientRect=="function"}function Ri(N){return typeof N.drawArrays=="function"||typeof N.drawElements=="function"}function Ei(N){return typeof N=="string"?N.split():(V(Array.isArray(N),"invalid extension array"),N)}function Vi(N){return typeof N=="string"?(V(typeof document<"u","not supported outside of DOM"),document.querySelector(N)):N}function Lo(N){var X=N||{},de,Fe,Qe,Be,je={},st=[],lt=[],pt=typeof window>"u"?1:window.devicePixelRatio,ut=!1,yt=function(gt){gt&&V.raise(gt)},bt=function(){};if(typeof X=="string"?(V(typeof document<"u","selector queries only supported in DOM enviroments"),de=document.querySelector(X),V(de,"invalid query string for element")):typeof X=="object"?ps(X)?de=X:Ri(X)?(Be=X,Qe=Be.canvas):(V.constructor(X),"gl"in X?Be=X.gl:"canvas"in X?Qe=Vi(X.canvas):"container"in X&&(Fe=Vi(X.container)),"attributes"in X&&(je=X.attributes,V.type(je,"object","invalid context attributes")),"extensions"in X&&(st=Ei(X.extensions)),"optionalExtensions"in X&&(lt=Ei(X.optionalExtensions)),"onDone"in X&&(V.type(X.onDone,"function","invalid or missing onDone callback"),yt=X.onDone),"profile"in X&&(ut=!!X.profile),"pixelRatio"in X&&(pt=+X.pixelRatio,V(pt>0,"invalid pixel ratio"))):V.raise("invalid arguments to regl"),de&&(de.nodeName.toLowerCase()==="canvas"?Qe=de:Fe=de),!Be){if(!Qe){V(typeof document<"u","must manually specify webgl context outside of DOM environments");var ot=ko(Fe||document.body,yt,pt);if(!ot)return null;Qe=ot.canvas,bt=ot.onDestroy}je.premultipliedAlpha===void 0&&(je.premultipliedAlpha=!0),Be=Ro(Qe,je)}return Be?{gl:Be,canvas:Qe,container:Fe,extensions:st,optionalExtensions:lt,pixelRatio:pt,profile:ut,onDone:yt,onDestroy:bt}:(bt(),yt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ki(N,X){var de={};function Fe(je){V.type(je,"string","extension name must be string");var st=je.toLowerCase(),lt;try{lt=de[st]=N.getExtension(st)}catch{}return!!lt}for(var Qe=0;Qe<X.extensions.length;++Qe){var Be=X.extensions[Qe];if(!Fe(Be))return X.onDestroy(),X.onDone('"'+Be+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return X.optionalExtensions.forEach(Fe),{extensions:de,restore:function(){Object.keys(de).forEach(function(je){if(de[je]&&!Fe(je))throw new Error("(regl): error restoring extension "+je)})}}}function ei(N,X){for(var de=Array(N),Fe=0;Fe<N;++Fe)de[Fe]=X(Fe);return de}var ds=5120,Bi=5121,Li=5122,fi=5123,Ks=5124,Hs=5125,Hi=5126;function _n(N){for(var X=16;X<=1<<28;X*=16)if(N<=X)return X;return 0}function mi(N){var X,de;return X=(N>65535)<<4,N>>>=X,de=(N>255)<<3,N>>>=de,X|=de,de=(N>15)<<2,N>>>=de,X|=de,de=(N>3)<<1,N>>>=de,X|=de,X|N>>1}function jn(){var N=ei(8,function(){return[]});function X(Be){var je=_n(Be),st=N[mi(je)>>2];return st.length>0?st.pop():new ArrayBuffer(je)}function de(Be){N[mi(Be.byteLength)>>2].push(Be)}function Fe(Be,je){var st=null;switch(Be){case ds:st=new Int8Array(X(je),0,je);break;case Bi:st=new Uint8Array(X(je),0,je);break;case Li:st=new Int16Array(X(2*je),0,je);break;case fi:st=new Uint16Array(X(2*je),0,je);break;case Ks:st=new Int32Array(X(4*je),0,je);break;case Hs:st=new Uint32Array(X(4*je),0,je);break;case Hi:st=new Float32Array(X(4*je),0,je);break;default:return null}return st.length!==je?st.subarray(0,je):st}function Qe(Be){de(Be.buffer)}return{alloc:X,free:de,allocType:Fe,freeType:Qe}}var xr=jn();xr.zero=jn();var Oo=3408,Qs=3410,Ea=3411,Io=3412,wn=3413,Ys=3414,Gn=3415,Oi=33901,No=33902,er=3379,ys=3386,Xs=34921,bn=36347,$o=36348,ln=35661,Wn=35660,Ta=34930,gs=36349,Sn=34076,zn=34024,J=7936,ye=7937,He=7938,mt=35724,zt=34047,nr=36063,Pr=34852,Qi=3553,En=34067,Fi=34069,El=33984,vs=6408,Uo=5126,_s=5121,Bo=36160,Tl=36053,xa=36064,Fo=16384,xl=function(N,X){var de=1;X.ext_texture_filter_anisotropic&&(de=N.getParameter(zt));var Fe=1,Qe=1;X.webgl_draw_buffers&&(Fe=N.getParameter(Pr),Qe=N.getParameter(nr));var Be=!!X.oes_texture_float;if(Be){var je=N.createTexture();N.bindTexture(Qi,je),N.texImage2D(Qi,0,vs,1,1,0,vs,Uo,null);var st=N.createFramebuffer();if(N.bindFramebuffer(Bo,st),N.framebufferTexture2D(Bo,xa,Qi,je,0),N.bindTexture(Qi,null),N.checkFramebufferStatus(Bo)!==Tl)Be=!1;else{N.viewport(0,0,1,1),N.clearColor(1,0,0,1),N.clear(Fo);var lt=xr.allocType(Uo,4);N.readPixels(0,0,1,1,vs,Uo,lt),N.getError()?Be=!1:(N.deleteFramebuffer(st),N.deleteTexture(je),Be=lt[0]===1),xr.freeType(lt)}}var pt=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ut=!0;if(!pt){var yt=N.createTexture(),bt=xr.allocType(_s,36);N.activeTexture(El),N.bindTexture(En,yt),N.texImage2D(Fi,0,vs,3,3,0,vs,_s,bt),xr.freeType(bt),N.bindTexture(En,null),N.deleteTexture(yt),ut=!N.getError()}return{colorBits:[N.getParameter(Qs),N.getParameter(Ea),N.getParameter(Io),N.getParameter(wn)],depthBits:N.getParameter(Ys),stencilBits:N.getParameter(Gn),subpixelBits:N.getParameter(Oo),extensions:Object.keys(X).filter(function(ot){return!!X[ot]}),maxAnisotropic:de,maxDrawbuffers:Fe,maxColorAttachments:Qe,pointSizeDims:N.getParameter(Oi),lineWidthDims:N.getParameter(No),maxViewportDims:N.getParameter(ys),maxCombinedTextureUnits:N.getParameter(ln),maxCubeMapSize:N.getParameter(Sn),maxRenderbufferSize:N.getParameter(zn),maxTextureUnits:N.getParameter(Ta),maxTextureSize:N.getParameter(er),maxAttributes:N.getParameter(Xs),maxVertexUniforms:N.getParameter(bn),maxVertexTextureUnits:N.getParameter(Wn),maxVaryingVectors:N.getParameter($o),maxFragmentUniforms:N.getParameter(gs),glsl:N.getParameter(mt),renderer:N.getParameter(ye),vendor:N.getParameter(J),version:N.getParameter(He),readFloat:Be,npotTextureCube:ut}};function yi(N){return!!N&&typeof N=="object"&&Array.isArray(N.shape)&&Array.isArray(N.stride)&&typeof N.offset=="number"&&N.shape.length===N.stride.length&&(Array.isArray(N.data)||r(N.data))}var Rr=function(N){return Object.keys(N).map(function(X){return N[X]})},Zs={shape:gu,flatten:Ra};function Ca(N,X,de){for(var Fe=0;Fe<X;++Fe)de[Fe]=N[Fe]}function Ma(N,X,de,Fe){for(var Qe=0,Be=0;Be<X;++Be)for(var je=N[Be],st=0;st<de;++st)Fe[Qe++]=je[st]}function Aa(N,X,de,Fe,Qe,Be){for(var je=Be,st=0;st<X;++st)for(var lt=N[st],pt=0;pt<de;++pt)for(var ut=lt[pt],yt=0;yt<Fe;++yt)Qe[je++]=ut[yt]}function ka(N,X,de,Fe,Qe){for(var Be=1,je=de+1;je<X.length;++je)Be*=X[je];var st=X[de];if(X.length-de===4){var lt=X[de+1],pt=X[de+2],ut=X[de+3];for(je=0;je<st;++je)Aa(N[je],lt,pt,ut,Fe,Qe),Qe+=Be}else for(je=0;je<st;++je)ka(N[je],X,de+1,Fe,Qe),Qe+=Be}function Ra(N,X,de,Fe){var Qe=1;if(X.length)for(var Be=0;Be<X.length;++Be)Qe*=X[Be];else Qe=0;var je=Fe||xr.allocType(de,Qe);switch(X.length){case 0:break;case 1:Ca(N,X[0],je);break;case 2:Ma(N,X[0],X[1],je);break;case 3:Aa(N,X[0],X[1],X[2],je,0);break;default:ka(N,X,0,je,0)}return je}function gu(N){for(var X=[],de=N;de.length;de=de[0])X.push(de.length);return X}var La={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},vu=5120,ws=5122,bs=5124,Oa=5121,Ia=5123,Cl=5125,Na=5126,Vn=5126,Ti={int8:vu,int16:ws,int32:bs,uint8:Oa,uint16:Ia,uint32:Cl,float:Na,float32:Vn},ci=35048,Tn=35040,Pi={dynamic:ci,stream:Tn,static:35044},Ss=Zs.flatten,$a=Zs.shape,Es=35044,Ml=35040,eo=5121,Ts=5126,xn=[];xn[5120]=1,xn[5122]=2,xn[5124]=4,xn[5121]=1,xn[5123]=2,xn[5125]=4,xn[5126]=4;function xs(N){return La[Object.prototype.toString.call(N)]|0}function Ua(N,X){for(var de=0;de<X.length;++de)N[de]=X[de]}function Po(N,X,de,Fe,Qe,Be,je){for(var st=0,lt=0;lt<de;++lt)for(var pt=0;pt<Fe;++pt)N[st++]=X[Qe*lt+Be*pt+je]}function Ba(N,X,de,Fe){var Qe=0,Be={};function je(Oe){this.id=Qe++,this.buffer=N.createBuffer(),this.type=Oe,this.usage=Es,this.byteLength=0,this.dimension=1,this.dtype=eo,this.persistentData=null,de.profile&&(this.stats={size:0})}je.prototype.bind=function(){N.bindBuffer(this.type,this.buffer)},je.prototype.destroy=function(){bt(this)};var st=[];function lt(Oe,Ge){var ht=st.pop();return ht||(ht=new je(Oe)),ht.bind(),yt(ht,Ge,Ml,0,1,!1),ht}function pt(Oe){st.push(Oe)}function ut(Oe,Ge,ht){Oe.byteLength=Ge.byteLength,N.bufferData(Oe.type,Ge,ht)}function yt(Oe,Ge,ht,Tt,Ze,Ct){var it;if(Oe.usage=ht,Array.isArray(Ge)){if(Oe.dtype=Tt||Ts,Ge.length>0){var vt;if(Array.isArray(Ge[0])){it=$a(Ge);for(var et=1,_t=1;_t<it.length;++_t)et*=it[_t];Oe.dimension=et,vt=Ss(Ge,it,Oe.dtype),ut(Oe,vt,ht),Ct?Oe.persistentData=vt:xr.freeType(vt)}else if(typeof Ge[0]=="number"){Oe.dimension=Ze;var It=xr.allocType(Oe.dtype,Ge.length);Ua(It,Ge),ut(Oe,It,ht),Ct?Oe.persistentData=It:xr.freeType(It)}else r(Ge[0])?(Oe.dimension=Ge[0].length,Oe.dtype=Tt||xs(Ge[0])||Ts,vt=Ss(Ge,[Ge.length,Ge[0].length],Oe.dtype),ut(Oe,vt,ht),Ct?Oe.persistentData=vt:xr.freeType(vt)):V.raise("invalid buffer data")}}else if(r(Ge))Oe.dtype=Tt||xs(Ge),Oe.dimension=Ze,ut(Oe,Ge,ht),Ct&&(Oe.persistentData=new Uint8Array(new Uint8Array(Ge.buffer)));else if(yi(Ge)){it=Ge.shape;var Wt=Ge.stride,St=Ge.offset,dt=0,Xe=0,Dt=0,Qt=0;it.length===1?(dt=it[0],Xe=1,Dt=Wt[0],Qt=0):it.length===2?(dt=it[0],Xe=it[1],Dt=Wt[0],Qt=Wt[1]):V.raise("invalid shape"),Oe.dtype=Tt||xs(Ge.data)||Ts,Oe.dimension=Xe;var Rt=xr.allocType(Oe.dtype,dt*Xe);Po(Rt,Ge.data,dt,Xe,Dt,Qt,St),ut(Oe,Rt,ht),Ct?Oe.persistentData=Rt:xr.freeType(Rt)}else Ge instanceof ArrayBuffer?(Oe.dtype=eo,Oe.dimension=Ze,ut(Oe,Ge,ht),Ct&&(Oe.persistentData=new Uint8Array(new Uint8Array(Ge)))):V.raise("invalid buffer data")}function bt(Oe){X.bufferCount--,Fe(Oe);var Ge=Oe.buffer;V(Ge,"buffer must not be deleted already"),N.deleteBuffer(Ge),Oe.buffer=null,delete Be[Oe.id]}function ot(Oe,Ge,ht,Tt){X.bufferCount++;var Ze=new je(Ge);Be[Ze.id]=Ze;function Ct(et){var _t=Es,It=null,Wt=0,St=0,dt=1;return Array.isArray(et)||r(et)||yi(et)||et instanceof ArrayBuffer?It=et:typeof et=="number"?Wt=et|0:et&&(V.type(et,"object","buffer arguments must be an object, a number or an array"),"data"in et&&(V(It===null||Array.isArray(It)||r(It)||yi(It),"invalid data for buffer"),It=et.data),"usage"in et&&(V.parameter(et.usage,Pi,"invalid buffer usage"),_t=Pi[et.usage]),"type"in et&&(V.parameter(et.type,Ti,"invalid buffer type"),St=Ti[et.type]),"dimension"in et&&(V.type(et.dimension,"number","invalid dimension"),dt=et.dimension|0),"length"in et&&(V.nni(Wt,"buffer length must be a nonnegative integer"),Wt=et.length|0)),Ze.bind(),It?yt(Ze,It,_t,St,dt,Tt):(Wt&&N.bufferData(Ze.type,Wt,_t),Ze.dtype=St||eo,Ze.usage=_t,Ze.dimension=dt,Ze.byteLength=Wt),de.profile&&(Ze.stats.size=Ze.byteLength*xn[Ze.dtype]),Ct}function it(et,_t){V(_t+et.byteLength<=Ze.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+et.byteLength+" starting from offset "+_t+" to a buffer of size "+Ze.byteLength),N.bufferSubData(Ze.type,_t,et)}function vt(et,_t){var It=(_t||0)|0,Wt;if(Ze.bind(),r(et)||et instanceof ArrayBuffer)it(et,It);else if(Array.isArray(et)){if(et.length>0)if(typeof et[0]=="number"){var St=xr.allocType(Ze.dtype,et.length);Ua(St,et),it(St,It),xr.freeType(St)}else if(Array.isArray(et[0])||r(et[0])){Wt=$a(et);var dt=Ss(et,Wt,Ze.dtype);it(dt,It),xr.freeType(dt)}else V.raise("invalid buffer data")}else if(yi(et)){Wt=et.shape;var Xe=et.stride,Dt=0,Qt=0,Rt=0,tr=0;Wt.length===1?(Dt=Wt[0],Qt=1,Rt=Xe[0],tr=0):Wt.length===2?(Dt=Wt[0],Qt=Wt[1],Rt=Xe[0],tr=Xe[1]):V.raise("invalid shape");var Vt=Array.isArray(et.data)?Ze.dtype:xs(et.data),Zt=xr.allocType(Vt,Dt*Qt);Po(Zt,et.data,Dt,Qt,Rt,tr,et.offset),it(Zt,It),xr.freeType(Zt)}else V.raise("invalid data for buffer subdata");return Ct}return ht||Ct(Oe),Ct._reglType="buffer",Ct._buffer=Ze,Ct.subdata=vt,de.profile&&(Ct.stats=Ze.stats),Ct.destroy=function(){bt(Ze)},Ct}function gt(){Rr(Be).forEach(function(Oe){Oe.buffer=N.createBuffer(),N.bindBuffer(Oe.type,Oe.buffer),N.bufferData(Oe.type,Oe.persistentData||Oe.byteLength,Oe.usage)})}return de.profile&&(X.getTotalBufferSize=function(){var Oe=0;return Object.keys(Be).forEach(function(Ge){Oe+=Be[Ge].stats.size}),Oe}),{create:ot,createStream:lt,destroyStream:pt,clear:function(){Rr(Be).forEach(bt),st.forEach(bt)},getBuffer:function(Oe){return Oe&&Oe._buffer instanceof je?Oe._buffer:null},restore:gt,_initBuffer:yt}}var Cs=0,Do=0,Al=1,Jo=1,Fa=4,jo=4,Di={points:Cs,point:Do,lines:Al,line:Jo,triangles:Fa,triangle:jo,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},to=0,Go=1,Ms=4,ro=5120,Kn=5121,Cn=5122,Yi=5123,Hn=5124,Mn=5125,Wo=34963,Qn=35040,Yn=35044;function gi(N,X,de,Fe){var Qe={},Be=0,je={uint8:Kn,uint16:Yi};X.oes_element_index_uint&&(je.uint32=Mn);function st(gt){this.id=Be++,Qe[this.id]=this,this.buffer=gt,this.primType=Ms,this.vertCount=0,this.type=0}st.prototype.bind=function(){this.buffer.bind()};var lt=[];function pt(gt){var Oe=lt.pop();return Oe||(Oe=new st(de.create(null,Wo,!0,!1)._buffer)),yt(Oe,gt,Qn,-1,-1,0,0),Oe}function ut(gt){lt.push(gt)}function yt(gt,Oe,Ge,ht,Tt,Ze,Ct){gt.buffer.bind();var it;if(Oe){var vt=Ct;!Ct&&(!r(Oe)||yi(Oe)&&!r(Oe.data))&&(vt=X.oes_element_index_uint?Mn:Yi),de._initBuffer(gt.buffer,Oe,Ge,vt,3)}else N.bufferData(Wo,Ze,Ge),gt.buffer.dtype=it||Kn,gt.buffer.usage=Ge,gt.buffer.dimension=3,gt.buffer.byteLength=Ze;if(it=Ct,!Ct){switch(gt.buffer.dtype){case Kn:case ro:it=Kn;break;case Yi:case Cn:it=Yi;break;case Mn:case Hn:it=Mn;break;default:V.raise("unsupported type for element array")}gt.buffer.dtype=it}gt.type=it,V(it!==Mn||!!X.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var et=Tt;et<0&&(et=gt.buffer.byteLength,it===Yi?et>>=1:it===Mn&&(et>>=2)),gt.vertCount=et;var _t=ht;if(ht<0){_t=Ms;var It=gt.buffer.dimension;It===1&&(_t=to),It===2&&(_t=Go),It===3&&(_t=Ms)}gt.primType=_t}function bt(gt){Fe.elementsCount--,V(gt.buffer!==null,"must not double destroy elements"),delete Qe[gt.id],gt.buffer.destroy(),gt.buffer=null}function ot(gt,Oe){var Ge=de.create(null,Wo,!0),ht=new st(Ge._buffer);Fe.elementsCount++;function Tt(Ze){if(!Ze)Ge(),ht.primType=Ms,ht.vertCount=0,ht.type=Kn;else if(typeof Ze=="number")Ge(Ze),ht.primType=Ms,ht.vertCount=Ze|0,ht.type=Kn;else{var Ct=null,it=Yn,vt=-1,et=-1,_t=0,It=0;Array.isArray(Ze)||r(Ze)||yi(Ze)?Ct=Ze:(V.type(Ze,"object","invalid arguments for elements"),"data"in Ze&&(Ct=Ze.data,V(Array.isArray(Ct)||r(Ct)||yi(Ct),"invalid data for element buffer")),"usage"in Ze&&(V.parameter(Ze.usage,Pi,"invalid element buffer usage"),it=Pi[Ze.usage]),"primitive"in Ze&&(V.parameter(Ze.primitive,Di,"invalid element buffer primitive"),vt=Di[Ze.primitive]),"count"in Ze&&(V(typeof Ze.count=="number"&&Ze.count>=0,"invalid vertex count for elements"),et=Ze.count|0),"type"in Ze&&(V.parameter(Ze.type,je,"invalid buffer type"),It=je[Ze.type]),"length"in Ze?_t=Ze.length|0:(_t=et,It===Yi||It===Cn?_t*=2:(It===Mn||It===Hn)&&(_t*=4))),yt(ht,Ct,it,vt,et,_t,It)}return Tt}return Tt(gt),Tt._reglType="elements",Tt._elements=ht,Tt.subdata=function(Ze,Ct){return Ge.subdata(Ze,Ct),Tt},Tt.destroy=function(){bt(ht)},Tt}return{create:ot,createStream:pt,destroyStream:ut,getElements:function(gt){return typeof gt=="function"&&gt._elements instanceof st?gt._elements:null},clear:function(){Rr(Qe).forEach(bt)}}}var Dr=new Float32Array(1),ni=new Uint32Array(Dr.buffer),Wr=5123;function As(N){for(var X=xr.allocType(Wr,N.length),de=0;de<N.length;++de)if(isNaN(N[de]))X[de]=65535;else if(N[de]===1/0)X[de]=31744;else if(N[de]===-1/0)X[de]=64512;else{Dr[0]=N[de];var Fe=ni[0],Qe=Fe>>>31<<15,Be=(Fe<<1>>>24)-127,je=Fe>>13&1024-1;if(Be<-24)X[de]=Qe;else if(Be<-14){var st=-14-Be;X[de]=Qe+(je+1024>>st)}else Be>15?X[de]=Qe+31744:X[de]=Qe+(Be+15<<10)+je}return X}function Lr(N){return Array.isArray(N)||r(N)}var zo=function(N){return!(N&N-1)&&!!N},kl=34467,Ii=3553,Pa=34067,ks=34069,un=6408,Vo=6406,no=6407,qn=6409,so=6410,Rs=32854,Da=32855,Ja=36194,_u=32819,Rl=32820,Ji=33635,fn=34042,qi=6402,oo=34041,ao=35904,Ko=35906,An=36193,Xn=33776,Ho=33777,lo=33778,Xi=33779,ja=35986,Ga=35987,Ll=34798,uo=35840,Qo=35841,Wa=35842,za=35843,fo=36196,Zn=5121,Yo=5123,kn=5125,es=5126,qo=10242,Ol=10243,Va=10497,Ka=33071,Il=33648,Qr=10240,Xo=10241,Zo=9728,Nl=9729,ea=9984,ts=9985,co=9986,ta=9987,$l=33170,ho=4352,Ls=4353,Ul=4354,ra=34046,Bl=3317,po=37440,wu=37441,Os=37443,Ha=37444,Is=33984,Fl=[ea,co,ts,ta],Rn=[0,qn,so,no,un],si={};si[qn]=si[Vo]=si[qi]=1,si[oo]=si[so]=2,si[no]=si[ao]=3,si[un]=si[Ko]=4;function Zi(N){return"[object "+N+"]"}var Pl=Zi("HTMLCanvasElement"),rs=Zi("OffscreenCanvas"),Dl=Zi("CanvasRenderingContext2D"),Qa=Zi("ImageBitmap"),Jl=Zi("HTMLImageElement"),jl=Zi("HTMLVideoElement"),Gl=Object.keys(La).concat([Pl,rs,Dl,Qa,Jl,jl]),is=[];is[Zn]=1,is[es]=4,is[An]=2,is[Yo]=2,is[kn]=4;var Yr=[];Yr[Rs]=2,Yr[Da]=2,Yr[Ja]=2,Yr[oo]=4,Yr[Xn]=.5,Yr[Ho]=.5,Yr[lo]=1,Yr[Xi]=1,Yr[ja]=.5,Yr[Ga]=1,Yr[Ll]=1,Yr[uo]=.5,Yr[Qo]=.25,Yr[Wa]=.5,Yr[za]=.25,Yr[fo]=.5;function Wl(N){return Array.isArray(N)&&(N.length===0||typeof N[0]=="number")}function zl(N){if(!Array.isArray(N))return!1;var X=N.length;return!(X===0||!Lr(N[0]))}function ns(N){return Object.prototype.toString.call(N)}function ss(N){return ns(N)===Pl}function Ya(N){return ns(N)===rs}function Vl(N){return ns(N)===Dl}function Kl(N){return ns(N)===Qa}function ia(N){return ns(N)===Jl}function Ns(N){return ns(N)===jl}function mo(N){if(!N)return!1;var X=ns(N);return Gl.indexOf(X)>=0?!0:Wl(N)||zl(N)||yi(N)}function na(N){return La[Object.prototype.toString.call(N)]|0}function qa(N,X){var de=X.length;switch(N.type){case Zn:case Yo:case kn:case es:var Fe=xr.allocType(N.type,de);Fe.set(X),N.data=Fe;break;case An:N.data=As(X);break;default:V.raise("unsupported texture type, must specify a typed array")}}function Hl(N,X){return xr.allocType(N.type===An?es:N.type,X)}function Xa(N,X){N.type===An?(N.data=As(X),xr.freeType(X)):N.data=X}function Ql(N,X,de,Fe,Qe,Be){for(var je=N.width,st=N.height,lt=N.channels,pt=je*st*lt,ut=Hl(N,pt),yt=0,bt=0;bt<st;++bt)for(var ot=0;ot<je;++ot)for(var gt=0;gt<lt;++gt)ut[yt++]=X[de*ot+Fe*bt+Qe*gt+Be];Xa(N,ut)}function os(N,X,de,Fe,Qe,Be){var je;if(typeof Yr[N]<"u"?je=Yr[N]:je=si[N]*is[X],Be&&(je*=6),Qe){for(var st=0,lt=de;lt>=1;)st+=je*lt*lt,lt/=2;return st}else return je*de*Fe}function yo(N,X,de,Fe,Qe,Be,je){var st={"don't care":ho,"dont care":ho,nice:Ul,fast:Ls},lt={repeat:Va,clamp:Ka,mirror:Il},pt={nearest:Zo,linear:Nl},ut=o({mipmap:ta,"nearest mipmap nearest":ea,"linear mipmap nearest":ts,"nearest mipmap linear":co,"linear mipmap linear":ta},pt),yt={none:0,browser:Ha},bt={uint8:Zn,rgba4:_u,rgb565:Ji,"rgb5 a1":Rl},ot={alpha:Vo,luminance:qn,"luminance alpha":so,rgb:no,rgba:un,rgba4:Rs,"rgb5 a1":Da,rgb565:Ja},gt={};X.ext_srgb&&(ot.srgb=ao,ot.srgba=Ko),X.oes_texture_float&&(bt.float32=bt.float=es),X.oes_texture_half_float&&(bt.float16=bt["half float"]=An),X.webgl_depth_texture&&(o(ot,{depth:qi,"depth stencil":oo}),o(bt,{uint16:Yo,uint32:kn,"depth stencil":fn})),X.webgl_compressed_texture_s3tc&&o(gt,{"rgb s3tc dxt1":Xn,"rgba s3tc dxt1":Ho,"rgba s3tc dxt3":lo,"rgba s3tc dxt5":Xi}),X.webgl_compressed_texture_atc&&o(gt,{"rgb atc":ja,"rgba atc explicit alpha":Ga,"rgba atc interpolated alpha":Ll}),X.webgl_compressed_texture_pvrtc&&o(gt,{"rgb pvrtc 4bppv1":uo,"rgb pvrtc 2bppv1":Qo,"rgba pvrtc 4bppv1":Wa,"rgba pvrtc 2bppv1":za}),X.webgl_compressed_texture_etc1&&(gt["rgb etc1"]=fo);var Oe=Array.prototype.slice.call(N.getParameter(kl));Object.keys(gt).forEach(function(fe){var Pe=gt[fe];Oe.indexOf(Pe)>=0&&(ot[fe]=Pe)});var Ge=Object.keys(ot);de.textureFormats=Ge;var ht=[];Object.keys(ot).forEach(function(fe){var Pe=ot[fe];ht[Pe]=fe});var Tt=[];Object.keys(bt).forEach(function(fe){var Pe=bt[fe];Tt[Pe]=fe});var Ze=[];Object.keys(pt).forEach(function(fe){var Pe=pt[fe];Ze[Pe]=fe});var Ct=[];Object.keys(ut).forEach(function(fe){var Pe=ut[fe];Ct[Pe]=fe});var it=[];Object.keys(lt).forEach(function(fe){var Pe=lt[fe];it[Pe]=fe});var vt=Ge.reduce(function(fe,Pe){var Ue=ot[Pe];return Ue===qn||Ue===Vo||Ue===qn||Ue===so||Ue===qi||Ue===oo||X.ext_srgb&&(Ue===ao||Ue===Ko)?fe[Ue]=Ue:Ue===Da||Pe.indexOf("rgba")>=0?fe[Ue]=un:fe[Ue]=no,fe},{});function et(){this.internalformat=un,this.format=un,this.type=Zn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ha,this.width=0,this.height=0,this.channels=0}function _t(fe,Pe){fe.internalformat=Pe.internalformat,fe.format=Pe.format,fe.type=Pe.type,fe.compressed=Pe.compressed,fe.premultiplyAlpha=Pe.premultiplyAlpha,fe.flipY=Pe.flipY,fe.unpackAlignment=Pe.unpackAlignment,fe.colorSpace=Pe.colorSpace,fe.width=Pe.width,fe.height=Pe.height,fe.channels=Pe.channels}function It(fe,Pe){if(!(typeof Pe!="object"||!Pe)){if("premultiplyAlpha"in Pe&&(V.type(Pe.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),fe.premultiplyAlpha=Pe.premultiplyAlpha),"flipY"in Pe&&(V.type(Pe.flipY,"boolean","invalid texture flip"),fe.flipY=Pe.flipY),"alignment"in Pe&&(V.oneOf(Pe.alignment,[1,2,4,8],"invalid texture unpack alignment"),fe.unpackAlignment=Pe.alignment),"colorSpace"in Pe&&(V.parameter(Pe.colorSpace,yt,"invalid colorSpace"),fe.colorSpace=yt[Pe.colorSpace]),"type"in Pe){var Ue=Pe.type;V(X.oes_texture_float||!(Ue==="float"||Ue==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),V(X.oes_texture_half_float||!(Ue==="half float"||Ue==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),V(X.webgl_depth_texture||!(Ue==="uint16"||Ue==="uint32"||Ue==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),V.parameter(Ue,bt,"invalid texture type"),fe.type=bt[Ue]}var Mt=fe.width,rr=fe.height,ne=fe.channels,H=!1;"shape"in Pe?(V(Array.isArray(Pe.shape)&&Pe.shape.length>=2,"shape must be an array"),Mt=Pe.shape[0],rr=Pe.shape[1],Pe.shape.length===3&&(ne=Pe.shape[2],V(ne>0&&ne<=4,"invalid number of channels"),H=!0),V(Mt>=0&&Mt<=de.maxTextureSize,"invalid width"),V(rr>=0&&rr<=de.maxTextureSize,"invalid height")):("radius"in Pe&&(Mt=rr=Pe.radius,V(Mt>=0&&Mt<=de.maxTextureSize,"invalid radius")),"width"in Pe&&(Mt=Pe.width,V(Mt>=0&&Mt<=de.maxTextureSize,"invalid width")),"height"in Pe&&(rr=Pe.height,V(rr>=0&&rr<=de.maxTextureSize,"invalid height")),"channels"in Pe&&(ne=Pe.channels,V(ne>0&&ne<=4,"invalid number of channels"),H=!0)),fe.width=Mt|0,fe.height=rr|0,fe.channels=ne|0;var _e=!1;if("format"in Pe){var Ae=Pe.format;V(X.webgl_depth_texture||!(Ae==="depth"||Ae==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),V.parameter(Ae,ot,"invalid texture format");var Ie=fe.internalformat=ot[Ae];fe.format=vt[Ie],Ae in bt&&("type"in Pe||(fe.type=bt[Ae])),Ae in gt&&(fe.compressed=!0),_e=!0}!H&&_e?fe.channels=si[fe.format]:H&&!_e?fe.channels!==Rn[fe.format]&&(fe.format=fe.internalformat=Rn[fe.channels]):_e&&H&&V(fe.channels===si[fe.format],"number of channels inconsistent with specified format")}}function Wt(fe){N.pixelStorei(po,fe.flipY),N.pixelStorei(wu,fe.premultiplyAlpha),N.pixelStorei(Os,fe.colorSpace),N.pixelStorei(Bl,fe.unpackAlignment)}function St(){et.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function dt(fe,Pe){var Ue=null;if(mo(Pe)?Ue=Pe:Pe&&(V.type(Pe,"object","invalid pixel data type"),It(fe,Pe),"x"in Pe&&(fe.xOffset=Pe.x|0),"y"in Pe&&(fe.yOffset=Pe.y|0),mo(Pe.data)&&(Ue=Pe.data)),V(!fe.compressed||Ue instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Pe.copy){V(!Ue,"can not specify copy and data field for the same texture");var Mt=Qe.viewportWidth,rr=Qe.viewportHeight;fe.width=fe.width||Mt-fe.xOffset,fe.height=fe.height||rr-fe.yOffset,fe.needsCopy=!0,V(fe.xOffset>=0&&fe.xOffset<Mt&&fe.yOffset>=0&&fe.yOffset<rr&&fe.width>0&&fe.width<=Mt&&fe.height>0&&fe.height<=rr,"copy texture read out of bounds")}else if(!Ue)fe.width=fe.width||1,fe.height=fe.height||1,fe.channels=fe.channels||4;else if(r(Ue))fe.channels=fe.channels||4,fe.data=Ue,!("type"in Pe)&&fe.type===Zn&&(fe.type=na(Ue));else if(Wl(Ue))fe.channels=fe.channels||4,qa(fe,Ue),fe.alignment=1,fe.needsFree=!0;else if(yi(Ue)){var ne=Ue.data;!Array.isArray(ne)&&fe.type===Zn&&(fe.type=na(ne));var H=Ue.shape,_e=Ue.stride,Ae,Ie,Se,ve,Ce,Z;H.length===3?(Se=H[2],Z=_e[2]):(V(H.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Se=1,Z=1),Ae=H[0],Ie=H[1],ve=_e[0],Ce=_e[1],fe.alignment=1,fe.width=Ae,fe.height=Ie,fe.channels=Se,fe.format=fe.internalformat=Rn[Se],fe.needsFree=!0,Ql(fe,ne,ve,Ce,Z,Ue.offset)}else if(ss(Ue)||Ya(Ue)||Vl(Ue))ss(Ue)||Ya(Ue)?fe.element=Ue:fe.element=Ue.canvas,fe.width=fe.element.width,fe.height=fe.element.height,fe.channels=4;else if(Kl(Ue))fe.element=Ue,fe.width=Ue.width,fe.height=Ue.height,fe.channels=4;else if(ia(Ue))fe.element=Ue,fe.width=Ue.naturalWidth,fe.height=Ue.naturalHeight,fe.channels=4;else if(Ns(Ue))fe.element=Ue,fe.width=Ue.videoWidth,fe.height=Ue.videoHeight,fe.channels=4;else if(zl(Ue)){var ge=fe.width||Ue[0].length,se=fe.height||Ue.length,ke=fe.channels;Lr(Ue[0][0])?ke=ke||Ue[0][0].length:ke=ke||1;for(var Ne=Zs.shape(Ue),Ke=1,Ye=0;Ye<Ne.length;++Ye)Ke*=Ne[Ye];var ze=Hl(fe,Ke);Zs.flatten(Ue,Ne,"",ze),Xa(fe,ze),fe.alignment=1,fe.width=ge,fe.height=se,fe.channels=ke,fe.format=fe.internalformat=Rn[ke],fe.needsFree=!0}fe.type===es?V(de.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):fe.type===An&&V(de.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Xe(fe,Pe,Ue){var Mt=fe.element,rr=fe.data,ne=fe.internalformat,H=fe.format,_e=fe.type,Ae=fe.width,Ie=fe.height;Wt(fe),Mt?N.texImage2D(Pe,Ue,H,H,_e,Mt):fe.compressed?N.compressedTexImage2D(Pe,Ue,ne,Ae,Ie,0,rr):fe.needsCopy?(Fe(),N.copyTexImage2D(Pe,Ue,H,fe.xOffset,fe.yOffset,Ae,Ie,0)):N.texImage2D(Pe,Ue,H,Ae,Ie,0,H,_e,rr||null)}function Dt(fe,Pe,Ue,Mt,rr){var ne=fe.element,H=fe.data,_e=fe.internalformat,Ae=fe.format,Ie=fe.type,Se=fe.width,ve=fe.height;Wt(fe),ne?N.texSubImage2D(Pe,rr,Ue,Mt,Ae,Ie,ne):fe.compressed?N.compressedTexSubImage2D(Pe,rr,Ue,Mt,_e,Se,ve,H):fe.needsCopy?(Fe(),N.copyTexSubImage2D(Pe,rr,Ue,Mt,fe.xOffset,fe.yOffset,Se,ve)):N.texSubImage2D(Pe,rr,Ue,Mt,Se,ve,Ae,Ie,H)}var Qt=[];function Rt(){return Qt.pop()||new St}function tr(fe){fe.needsFree&&xr.freeType(fe.data),St.call(fe),Qt.push(fe)}function Vt(){et.call(this),this.genMipmaps=!1,this.mipmapHint=ho,this.mipmask=0,this.images=Array(16)}function Zt(fe,Pe,Ue){var Mt=fe.images[0]=Rt();fe.mipmask=1,Mt.width=fe.width=Pe,Mt.height=fe.height=Ue,Mt.channels=fe.channels=4}function fr(fe,Pe){var Ue=null;if(mo(Pe))Ue=fe.images[0]=Rt(),_t(Ue,fe),dt(Ue,Pe),fe.mipmask=1;else if(It(fe,Pe),Array.isArray(Pe.mipmap))for(var Mt=Pe.mipmap,rr=0;rr<Mt.length;++rr)Ue=fe.images[rr]=Rt(),_t(Ue,fe),Ue.width>>=rr,Ue.height>>=rr,dt(Ue,Mt[rr]),fe.mipmask|=1<<rr;else Ue=fe.images[0]=Rt(),_t(Ue,fe),dt(Ue,Pe),fe.mipmask=1;_t(fe,fe.images[0]),fe.compressed&&(fe.internalformat===Xn||fe.internalformat===Ho||fe.internalformat===lo||fe.internalformat===Xi)&&V(fe.width%4===0&&fe.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function jr(fe,Pe){for(var Ue=fe.images,Mt=0;Mt<Ue.length;++Mt){if(!Ue[Mt])return;Xe(Ue[Mt],Pe,Mt)}}var qr=[];function sr(){var fe=qr.pop()||new Vt;et.call(fe),fe.mipmask=0;for(var Pe=0;Pe<16;++Pe)fe.images[Pe]=null;return fe}function Vr(fe){for(var Pe=fe.images,Ue=0;Ue<Pe.length;++Ue)Pe[Ue]&&tr(Pe[Ue]),Pe[Ue]=null;qr.push(fe)}function Ar(){this.minFilter=Zo,this.magFilter=Zo,this.wrapS=Ka,this.wrapT=Ka,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=ho}function Gr(fe,Pe){if("min"in Pe){var Ue=Pe.min;V.parameter(Ue,ut),fe.minFilter=ut[Ue],Fl.indexOf(fe.minFilter)>=0&&!("faces"in Pe)&&(fe.genMipmaps=!0)}if("mag"in Pe){var Mt=Pe.mag;V.parameter(Mt,pt),fe.magFilter=pt[Mt]}var rr=fe.wrapS,ne=fe.wrapT;if("wrap"in Pe){var H=Pe.wrap;typeof H=="string"?(V.parameter(H,lt),rr=ne=lt[H]):Array.isArray(H)&&(V.parameter(H[0],lt),V.parameter(H[1],lt),rr=lt[H[0]],ne=lt[H[1]])}else{if("wrapS"in Pe){var _e=Pe.wrapS;V.parameter(_e,lt),rr=lt[_e]}if("wrapT"in Pe){var Ae=Pe.wrapT;V.parameter(Ae,lt),ne=lt[Ae]}}if(fe.wrapS=rr,fe.wrapT=ne,"anisotropic"in Pe){var Ie=Pe.anisotropic;V(typeof Ie=="number"&&Ie>=1&&Ie<=de.maxAnisotropic,"aniso samples must be between 1 and "),fe.anisotropic=Pe.anisotropic}if("mipmap"in Pe){var Se=!1;switch(typeof Pe.mipmap){case"string":V.parameter(Pe.mipmap,st,"invalid mipmap hint"),fe.mipmapHint=st[Pe.mipmap],fe.genMipmaps=!0,Se=!0;break;case"boolean":Se=fe.genMipmaps=Pe.mipmap;break;case"object":V(Array.isArray(Pe.mipmap),"invalid mipmap type"),fe.genMipmaps=!1,Se=!0;break;default:V.raise("invalid mipmap type")}Se&&!("min"in Pe)&&(fe.minFilter=ea)}}function Kr(fe,Pe){N.texParameteri(Pe,Xo,fe.minFilter),N.texParameteri(Pe,Qr,fe.magFilter),N.texParameteri(Pe,qo,fe.wrapS),N.texParameteri(Pe,Ol,fe.wrapT),X.ext_texture_filter_anisotropic&&N.texParameteri(Pe,ra,fe.anisotropic),fe.genMipmaps&&(N.hint($l,fe.mipmapHint),N.generateMipmap(Pe))}var Hr=0,ri={},li=de.maxTextureUnits,Br=Array(li).map(function(){return null});function Yt(fe){et.call(this),this.mipmask=0,this.internalformat=un,this.id=Hr++,this.refCount=1,this.target=fe,this.texture=N.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ar,je.profile&&(this.stats={size:0})}function ui(fe){N.activeTexture(Is),N.bindTexture(fe.target,fe.texture)}function dr(){var fe=Br[0];fe?N.bindTexture(fe.target,fe.texture):N.bindTexture(Ii,null)}function $t(fe){var Pe=fe.texture;V(Pe,"must not double destroy texture");var Ue=fe.unit,Mt=fe.target;Ue>=0&&(N.activeTexture(Is+Ue),N.bindTexture(Mt,null),Br[Ue]=null),N.deleteTexture(Pe),fe.texture=null,fe.params=null,fe.pixels=null,fe.refCount=0,delete ri[fe.id],Be.textureCount--}o(Yt.prototype,{bind:function(){var fe=this;fe.bindCount+=1;var Pe=fe.unit;if(Pe<0){for(var Ue=0;Ue<li;++Ue){var Mt=Br[Ue];if(Mt){if(Mt.bindCount>0)continue;Mt.unit=-1}Br[Ue]=fe,Pe=Ue;break}Pe>=li&&V.raise("insufficient number of texture units"),je.profile&&Be.maxTextureUnits<Pe+1&&(Be.maxTextureUnits=Pe+1),fe.unit=Pe,N.activeTexture(Is+Pe),N.bindTexture(fe.target,fe.texture)}return Pe},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$t(this)}});function ir(fe,Pe){var Ue=new Yt(Ii);ri[Ue.id]=Ue,Be.textureCount++;function Mt(H,_e){var Ae=Ue.texInfo;Ar.call(Ae);var Ie=sr();return typeof H=="number"?typeof _e=="number"?Zt(Ie,H|0,_e|0):Zt(Ie,H|0,H|0):H?(V.type(H,"object","invalid arguments to regl.texture"),Gr(Ae,H),fr(Ie,H)):Zt(Ie,1,1),Ae.genMipmaps&&(Ie.mipmask=(Ie.width<<1)-1),Ue.mipmask=Ie.mipmask,_t(Ue,Ie),V.texture2D(Ae,Ie,de),Ue.internalformat=Ie.internalformat,Mt.width=Ie.width,Mt.height=Ie.height,ui(Ue),jr(Ie,Ii),Kr(Ae,Ii),dr(),Vr(Ie),je.profile&&(Ue.stats.size=os(Ue.internalformat,Ue.type,Ie.width,Ie.height,Ae.genMipmaps,!1)),Mt.format=ht[Ue.internalformat],Mt.type=Tt[Ue.type],Mt.mag=Ze[Ae.magFilter],Mt.min=Ct[Ae.minFilter],Mt.wrapS=it[Ae.wrapS],Mt.wrapT=it[Ae.wrapT],Mt}function rr(H,_e,Ae,Ie){V(!!H,"must specify image data");var Se=_e|0,ve=Ae|0,Ce=Ie|0,Z=Rt();return _t(Z,Ue),Z.width=0,Z.height=0,dt(Z,H),Z.width=Z.width||(Ue.width>>Ce)-Se,Z.height=Z.height||(Ue.height>>Ce)-ve,V(Ue.type===Z.type&&Ue.format===Z.format&&Ue.internalformat===Z.internalformat,"incompatible format for texture.subimage"),V(Se>=0&&ve>=0&&Se+Z.width<=Ue.width&&ve+Z.height<=Ue.height,"texture.subimage write out of bounds"),V(Ue.mipmask&1<<Ce,"missing mipmap data"),V(Z.data||Z.element||Z.needsCopy,"missing image data"),ui(Ue),Dt(Z,Ii,Se,ve,Ce),dr(),tr(Z),Mt}function ne(H,_e){var Ae=H|0,Ie=_e|0||Ae;if(Ae===Ue.width&&Ie===Ue.height)return Mt;Mt.width=Ue.width=Ae,Mt.height=Ue.height=Ie,ui(Ue);for(var Se=0;Ue.mipmask>>Se;++Se){var ve=Ae>>Se,Ce=Ie>>Se;if(!ve||!Ce)break;N.texImage2D(Ii,Se,Ue.format,ve,Ce,0,Ue.format,Ue.type,null)}return dr(),je.profile&&(Ue.stats.size=os(Ue.internalformat,Ue.type,Ae,Ie,!1,!1)),Mt}return Mt(fe,Pe),Mt.subimage=rr,Mt.resize=ne,Mt._reglType="texture2d",Mt._texture=Ue,je.profile&&(Mt.stats=Ue.stats),Mt.destroy=function(){Ue.decRef()},Mt}function lr(fe,Pe,Ue,Mt,rr,ne){var H=new Yt(Pa);ri[H.id]=H,Be.cubeCount++;var _e=new Array(6);function Ae(ve,Ce,Z,ge,se,ke){var Ne,Ke=H.texInfo;for(Ar.call(Ke),Ne=0;Ne<6;++Ne)_e[Ne]=sr();if(typeof ve=="number"||!ve){var Ye=ve|0||1;for(Ne=0;Ne<6;++Ne)Zt(_e[Ne],Ye,Ye)}else if(typeof ve=="object")if(Ce)fr(_e[0],ve),fr(_e[1],Ce),fr(_e[2],Z),fr(_e[3],ge),fr(_e[4],se),fr(_e[5],ke);else if(Gr(Ke,ve),It(H,ve),"faces"in ve){var ze=ve.faces;for(V(Array.isArray(ze)&&ze.length===6,"cube faces must be a length 6 array"),Ne=0;Ne<6;++Ne)V(typeof ze[Ne]=="object"&&!!ze[Ne],"invalid input for cube map face"),_t(_e[Ne],H),fr(_e[Ne],ze[Ne])}else for(Ne=0;Ne<6;++Ne)fr(_e[Ne],ve);else V.raise("invalid arguments to cube map");for(_t(H,_e[0]),de.npotTextureCube||V(zo(H.width)&&zo(H.height),"your browser does not support non power or two texture dimensions"),Ke.genMipmaps?H.mipmask=(_e[0].width<<1)-1:H.mipmask=_e[0].mipmask,V.textureCube(H,Ke,_e,de),H.internalformat=_e[0].internalformat,Ae.width=_e[0].width,Ae.height=_e[0].height,ui(H),Ne=0;Ne<6;++Ne)jr(_e[Ne],ks+Ne);for(Kr(Ke,Pa),dr(),je.profile&&(H.stats.size=os(H.internalformat,H.type,Ae.width,Ae.height,Ke.genMipmaps,!0)),Ae.format=ht[H.internalformat],Ae.type=Tt[H.type],Ae.mag=Ze[Ke.magFilter],Ae.min=Ct[Ke.minFilter],Ae.wrapS=it[Ke.wrapS],Ae.wrapT=it[Ke.wrapT],Ne=0;Ne<6;++Ne)Vr(_e[Ne]);return Ae}function Ie(ve,Ce,Z,ge,se){V(!!Ce,"must specify image data"),V(typeof ve=="number"&&ve===(ve|0)&&ve>=0&&ve<6,"invalid face");var ke=Z|0,Ne=ge|0,Ke=se|0,Ye=Rt();return _t(Ye,H),Ye.width=0,Ye.height=0,dt(Ye,Ce),Ye.width=Ye.width||(H.width>>Ke)-ke,Ye.height=Ye.height||(H.height>>Ke)-Ne,V(H.type===Ye.type&&H.format===Ye.format&&H.internalformat===Ye.internalformat,"incompatible format for texture.subimage"),V(ke>=0&&Ne>=0&&ke+Ye.width<=H.width&&Ne+Ye.height<=H.height,"texture.subimage write out of bounds"),V(H.mipmask&1<<Ke,"missing mipmap data"),V(Ye.data||Ye.element||Ye.needsCopy,"missing image data"),ui(H),Dt(Ye,ks+ve,ke,Ne,Ke),dr(),tr(Ye),Ae}function Se(ve){var Ce=ve|0;if(Ce!==H.width){Ae.width=H.width=Ce,Ae.height=H.height=Ce,ui(H);for(var Z=0;Z<6;++Z)for(var ge=0;H.mipmask>>ge;++ge)N.texImage2D(ks+Z,ge,H.format,Ce>>ge,Ce>>ge,0,H.format,H.type,null);return dr(),je.profile&&(H.stats.size=os(H.internalformat,H.type,Ae.width,Ae.height,!1,!0)),Ae}}return Ae(fe,Pe,Ue,Mt,rr,ne),Ae.subimage=Ie,Ae.resize=Se,Ae._reglType="textureCube",Ae._texture=H,je.profile&&(Ae.stats=H.stats),Ae.destroy=function(){H.decRef()},Ae}function Fr(){for(var fe=0;fe<li;++fe)N.activeTexture(Is+fe),N.bindTexture(Ii,null),Br[fe]=null;Rr(ri).forEach($t),Be.cubeCount=0,Be.textureCount=0}je.profile&&(Be.getTotalTextureSize=function(){var fe=0;return Object.keys(ri).forEach(function(Pe){fe+=ri[Pe].stats.size}),fe});function Jn(){for(var fe=0;fe<li;++fe){var Pe=Br[fe];Pe&&(Pe.bindCount=0,Pe.unit=-1,Br[fe]=null)}Rr(ri).forEach(function(Ue){Ue.texture=N.createTexture(),N.bindTexture(Ue.target,Ue.texture);for(var Mt=0;Mt<32;++Mt)if(Ue.mipmask&1<<Mt)if(Ue.target===Ii)N.texImage2D(Ii,Mt,Ue.internalformat,Ue.width>>Mt,Ue.height>>Mt,0,Ue.internalformat,Ue.type,null);else for(var rr=0;rr<6;++rr)N.texImage2D(ks+rr,Mt,Ue.internalformat,Ue.width>>Mt,Ue.height>>Mt,0,Ue.internalformat,Ue.type,null);Kr(Ue.texInfo,Ue.target)})}function Ao(){for(var fe=0;fe<li;++fe){var Pe=Br[fe];Pe&&(Pe.bindCount=0,Pe.unit=-1,Br[fe]=null),N.activeTexture(Is+fe),N.bindTexture(Ii,null),N.bindTexture(Pa,null)}}return{create2D:ir,createCube:lr,clear:Fr,getTexture:function(fe){return null},restore:Jn,refresh:Ao}}var cn=36161,go=32854,Yl=32855,Za=36194,ql=33189,el=36168,tl=34041,Xl=35907,rl=34836,Zl=34842,eu=34843,ji=[];ji[go]=2,ji[Yl]=2,ji[Za]=2,ji[ql]=2,ji[el]=1,ji[tl]=4,ji[Xl]=4,ji[rl]=16,ji[Zl]=8,ji[eu]=6;function il(N,X,de){return ji[N]*X*de}var bu=function(N,X,de,Fe,Qe){var Be={rgba4:go,rgb565:Za,"rgb5 a1":Yl,depth:ql,stencil:el,"depth stencil":tl};X.ext_srgb&&(Be.srgba=Xl),X.ext_color_buffer_half_float&&(Be.rgba16f=Zl,Be.rgb16f=eu),X.webgl_color_buffer_float&&(Be.rgba32f=rl);var je=[];Object.keys(Be).forEach(function(ot){var gt=Be[ot];je[gt]=ot});var st=0,lt={};function pt(ot){this.id=st++,this.refCount=1,this.renderbuffer=ot,this.format=go,this.width=0,this.height=0,Qe.profile&&(this.stats={size:0})}pt.prototype.decRef=function(){--this.refCount<=0&&ut(this)};function ut(ot){var gt=ot.renderbuffer;V(gt,"must not double destroy renderbuffer"),N.bindRenderbuffer(cn,null),N.deleteRenderbuffer(gt),ot.renderbuffer=null,ot.refCount=0,delete lt[ot.id],Fe.renderbufferCount--}function yt(ot,gt){var Oe=new pt(N.createRenderbuffer());lt[Oe.id]=Oe,Fe.renderbufferCount++;function Ge(Tt,Ze){var Ct=0,it=0,vt=go;if(typeof Tt=="object"&&Tt){var et=Tt;if("shape"in et){var _t=et.shape;V(Array.isArray(_t)&&_t.length>=2,"invalid renderbuffer shape"),Ct=_t[0]|0,it=_t[1]|0}else"radius"in et&&(Ct=it=et.radius|0),"width"in et&&(Ct=et.width|0),"height"in et&&(it=et.height|0);"format"in et&&(V.parameter(et.format,Be,"invalid renderbuffer format"),vt=Be[et.format])}else typeof Tt=="number"?(Ct=Tt|0,typeof Ze=="number"?it=Ze|0:it=Ct):Tt?V.raise("invalid arguments to renderbuffer constructor"):Ct=it=1;if(V(Ct>0&&it>0&&Ct<=de.maxRenderbufferSize&&it<=de.maxRenderbufferSize,"invalid renderbuffer size"),!(Ct===Oe.width&&it===Oe.height&&vt===Oe.format))return Ge.width=Oe.width=Ct,Ge.height=Oe.height=it,Oe.format=vt,N.bindRenderbuffer(cn,Oe.renderbuffer),N.renderbufferStorage(cn,vt,Ct,it),V(N.getError()===0,"invalid render buffer format"),Qe.profile&&(Oe.stats.size=il(Oe.format,Oe.width,Oe.height)),Ge.format=je[Oe.format],Ge}function ht(Tt,Ze){var Ct=Tt|0,it=Ze|0||Ct;return Ct===Oe.width&&it===Oe.height||(V(Ct>0&&it>0&&Ct<=de.maxRenderbufferSize&&it<=de.maxRenderbufferSize,"invalid renderbuffer size"),Ge.width=Oe.width=Ct,Ge.height=Oe.height=it,N.bindRenderbuffer(cn,Oe.renderbuffer),N.renderbufferStorage(cn,Oe.format,Ct,it),V(N.getError()===0,"invalid render buffer format"),Qe.profile&&(Oe.stats.size=il(Oe.format,Oe.width,Oe.height))),Ge}return Ge(ot,gt),Ge.resize=ht,Ge._reglType="renderbuffer",Ge._renderbuffer=Oe,Qe.profile&&(Ge.stats=Oe.stats),Ge.destroy=function(){Oe.decRef()},Ge}Qe.profile&&(Fe.getTotalRenderbufferSize=function(){var ot=0;return Object.keys(lt).forEach(function(gt){ot+=lt[gt].stats.size}),ot});function bt(){Rr(lt).forEach(function(ot){ot.renderbuffer=N.createRenderbuffer(),N.bindRenderbuffer(cn,ot.renderbuffer),N.renderbufferStorage(cn,ot.format,ot.width,ot.height)}),N.bindRenderbuffer(cn,null)}return{create:yt,clear:function(){Rr(lt).forEach(ut)},restore:bt}},hn=36160,$s=36161,Ln=3553,vo=34069,tu=36064,ru=36096,Cr=36128,iu=33306,Us=36053,nl=36054,nu=36055,su=36057,ou=36061,au=36193,lu=5121,sl=5126,ol=6407,al=6408,Su=6402,Bs=[ol,al],ll=[];ll[al]=4,ll[ol]=3;var as=[];as[lu]=1,as[sl]=4,as[au]=2;var Eu=32854,hi=32855,uu=36194,pn=33189,fu=36168,ul=34041,sa=35907,pr=34836,Mr=34842,oi=34843,Tu=[Eu,hi,uu,sa,Mr,oi,pr],dn={};dn[Us]="complete",dn[nl]="incomplete attachment",dn[su]="incomplete dimensions",dn[nu]="incomplete, missing attachment",dn[ou]="unsupported";function Gi(N,X,de,Fe,Qe,Be){var je={cur:null,next:null,dirty:!1,setFBO:null},st=["rgba"],lt=["rgba4","rgb565","rgb5 a1"];X.ext_srgb&&lt.push("srgba"),X.ext_color_buffer_half_float&&lt.push("rgba16f","rgb16f"),X.webgl_color_buffer_float&&lt.push("rgba32f");var pt=["uint8"];X.oes_texture_half_float&&pt.push("half float","float16"),X.oes_texture_float&&pt.push("float","float32");function ut(St,dt,Xe){this.target=St,this.texture=dt,this.renderbuffer=Xe;var Dt=0,Qt=0;dt?(Dt=dt.width,Qt=dt.height):Xe&&(Dt=Xe.width,Qt=Xe.height),this.width=Dt,this.height=Qt}function yt(St){St&&(St.texture&&St.texture._texture.decRef(),St.renderbuffer&&St.renderbuffer._renderbuffer.decRef())}function bt(St,dt,Xe){if(St)if(St.texture){var Dt=St.texture._texture,Qt=Math.max(1,Dt.width),Rt=Math.max(1,Dt.height);V(Qt===dt&&Rt===Xe,"inconsistent width/height for supplied texture"),Dt.refCount+=1}else{var tr=St.renderbuffer._renderbuffer;V(tr.width===dt&&tr.height===Xe,"inconsistent width/height for renderbuffer"),tr.refCount+=1}}function ot(St,dt){dt&&(dt.texture?N.framebufferTexture2D(hn,St,dt.target,dt.texture._texture.texture,0):N.framebufferRenderbuffer(hn,St,$s,dt.renderbuffer._renderbuffer.renderbuffer))}function gt(St){var dt=Ln,Xe=null,Dt=null,Qt=St;typeof St=="object"&&(Qt=St.data,"target"in St&&(dt=St.target|0)),V.type(Qt,"function","invalid attachment data");var Rt=Qt._reglType;return Rt==="texture2d"?(Xe=Qt,V(dt===Ln)):Rt==="textureCube"?(Xe=Qt,V(dt>=vo&&dt<vo+6,"invalid cube map target")):Rt==="renderbuffer"?(Dt=Qt,dt=$s):V.raise("invalid regl object for attachment"),new ut(dt,Xe,Dt)}function Oe(St,dt,Xe,Dt,Qt){if(Xe){var Rt=Fe.create2D({width:St,height:dt,format:Dt,type:Qt});return Rt._texture.refCount=0,new ut(Ln,Rt,null)}else{var tr=Qe.create({width:St,height:dt,format:Dt});return tr._renderbuffer.refCount=0,new ut($s,null,tr)}}function Ge(St){return St&&(St.texture||St.renderbuffer)}function ht(St,dt,Xe){St&&(St.texture?St.texture.resize(dt,Xe):St.renderbuffer&&St.renderbuffer.resize(dt,Xe),St.width=dt,St.height=Xe)}var Tt=0,Ze={};function Ct(){this.id=Tt++,Ze[this.id]=this,this.framebuffer=N.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function it(St){St.colorAttachments.forEach(yt),yt(St.depthAttachment),yt(St.stencilAttachment),yt(St.depthStencilAttachment)}function vt(St){var dt=St.framebuffer;V(dt,"must not double destroy framebuffer"),N.deleteFramebuffer(dt),St.framebuffer=null,Be.framebufferCount--,delete Ze[St.id]}function et(St){var dt;N.bindFramebuffer(hn,St.framebuffer);var Xe=St.colorAttachments;for(dt=0;dt<Xe.length;++dt)ot(tu+dt,Xe[dt]);for(dt=Xe.length;dt<de.maxColorAttachments;++dt)N.framebufferTexture2D(hn,tu+dt,Ln,null,0);N.framebufferTexture2D(hn,iu,Ln,null,0),N.framebufferTexture2D(hn,ru,Ln,null,0),N.framebufferTexture2D(hn,Cr,Ln,null,0),ot(ru,St.depthAttachment),ot(Cr,St.stencilAttachment),ot(iu,St.depthStencilAttachment);var Dt=N.checkFramebufferStatus(hn);!N.isContextLost()&&Dt!==Us&&V.raise("framebuffer configuration not supported, status = "+dn[Dt]),N.bindFramebuffer(hn,je.next?je.next.framebuffer:null),je.cur=je.next,N.getError()}function _t(St,dt){var Xe=new Ct;Be.framebufferCount++;function Dt(Rt,tr){var Vt;V(je.next!==Xe,"can not update framebuffer which is currently in use");var Zt=0,fr=0,jr=!0,qr=!0,sr=null,Vr=!0,Ar="rgba",Gr="uint8",Kr=1,Hr=null,ri=null,li=null,Br=!1;if(typeof Rt=="number")Zt=Rt|0,fr=tr|0||Zt;else if(!Rt)Zt=fr=1;else{V.type(Rt,"object","invalid arguments for framebuffer");var Yt=Rt;if("shape"in Yt){var ui=Yt.shape;V(Array.isArray(ui)&&ui.length>=2,"invalid shape for framebuffer"),Zt=ui[0],fr=ui[1]}else"radius"in Yt&&(Zt=fr=Yt.radius),"width"in Yt&&(Zt=Yt.width),"height"in Yt&&(fr=Yt.height);("color"in Yt||"colors"in Yt)&&(sr=Yt.color||Yt.colors,Array.isArray(sr)&&V(sr.length===1||X.webgl_draw_buffers,"multiple render targets not supported")),sr||("colorCount"in Yt&&(Kr=Yt.colorCount|0,V(Kr>0,"invalid color buffer count")),"colorTexture"in Yt&&(Vr=!!Yt.colorTexture,Ar="rgba4"),"colorType"in Yt&&(Gr=Yt.colorType,Vr?(V(X.oes_texture_float||!(Gr==="float"||Gr==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),V(X.oes_texture_half_float||!(Gr==="half float"||Gr==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Gr==="half float"||Gr==="float16"?(V(X.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Ar="rgba16f"):(Gr==="float"||Gr==="float32")&&(V(X.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Ar="rgba32f"),V.oneOf(Gr,pt,"invalid color type")),"colorFormat"in Yt&&(Ar=Yt.colorFormat,st.indexOf(Ar)>=0?Vr=!0:lt.indexOf(Ar)>=0?Vr=!1:Vr?V.oneOf(Yt.colorFormat,st,"invalid color format for texture"):V.oneOf(Yt.colorFormat,lt,"invalid color format for renderbuffer"))),("depthTexture"in Yt||"depthStencilTexture"in Yt)&&(Br=!!(Yt.depthTexture||Yt.depthStencilTexture),V(!Br||X.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Yt&&(typeof Yt.depth=="boolean"?jr=Yt.depth:(Hr=Yt.depth,qr=!1)),"stencil"in Yt&&(typeof Yt.stencil=="boolean"?qr=Yt.stencil:(ri=Yt.stencil,jr=!1)),"depthStencil"in Yt&&(typeof Yt.depthStencil=="boolean"?jr=qr=Yt.depthStencil:(li=Yt.depthStencil,jr=!1,qr=!1))}var dr=null,$t=null,ir=null,lr=null;if(Array.isArray(sr))dr=sr.map(gt);else if(sr)dr=[gt(sr)];else for(dr=new Array(Kr),Vt=0;Vt<Kr;++Vt)dr[Vt]=Oe(Zt,fr,Vr,Ar,Gr);V(X.webgl_draw_buffers||dr.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),V(dr.length<=de.maxColorAttachments,"too many color attachments, not supported"),Zt=Zt||dr[0].width,fr=fr||dr[0].height,Hr?$t=gt(Hr):jr&&!qr&&($t=Oe(Zt,fr,Br,"depth","uint32")),ri?ir=gt(ri):qr&&!jr&&(ir=Oe(Zt,fr,!1,"stencil","uint8")),li?lr=gt(li):!Hr&&!ri&&qr&&jr&&(lr=Oe(Zt,fr,Br,"depth stencil","depth stencil")),V(!!Hr+!!ri+!!li<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Fr=null;for(Vt=0;Vt<dr.length;++Vt)if(bt(dr[Vt],Zt,fr),V(!dr[Vt]||dr[Vt].texture&&Bs.indexOf(dr[Vt].texture._texture.format)>=0||dr[Vt].renderbuffer&&Tu.indexOf(dr[Vt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Vt+" is invalid"),dr[Vt]&&dr[Vt].texture){var Jn=ll[dr[Vt].texture._texture.format]*as[dr[Vt].texture._texture.type];Fr===null?Fr=Jn:V(Fr===Jn,"all color attachments much have the same number of bits per pixel.")}return bt($t,Zt,fr),V(!$t||$t.texture&&$t.texture._texture.format===Su||$t.renderbuffer&&$t.renderbuffer._renderbuffer.format===pn,"invalid depth attachment for framebuffer object"),bt(ir,Zt,fr),V(!ir||ir.renderbuffer&&ir.renderbuffer._renderbuffer.format===fu,"invalid stencil attachment for framebuffer object"),bt(lr,Zt,fr),V(!lr||lr.texture&&lr.texture._texture.format===ul||lr.renderbuffer&&lr.renderbuffer._renderbuffer.format===ul,"invalid depth-stencil attachment for framebuffer object"),it(Xe),Xe.width=Zt,Xe.height=fr,Xe.colorAttachments=dr,Xe.depthAttachment=$t,Xe.stencilAttachment=ir,Xe.depthStencilAttachment=lr,Dt.color=dr.map(Ge),Dt.depth=Ge($t),Dt.stencil=Ge(ir),Dt.depthStencil=Ge(lr),Dt.width=Xe.width,Dt.height=Xe.height,et(Xe),Dt}function Qt(Rt,tr){V(je.next!==Xe,"can not resize a framebuffer which is currently in use");var Vt=Math.max(Rt|0,1),Zt=Math.max(tr|0||Vt,1);if(Vt===Xe.width&&Zt===Xe.height)return Dt;for(var fr=Xe.colorAttachments,jr=0;jr<fr.length;++jr)ht(fr[jr],Vt,Zt);return ht(Xe.depthAttachment,Vt,Zt),ht(Xe.stencilAttachment,Vt,Zt),ht(Xe.depthStencilAttachment,Vt,Zt),Xe.width=Dt.width=Vt,Xe.height=Dt.height=Zt,et(Xe),Dt}return Dt(St,dt),o(Dt,{resize:Qt,_reglType:"framebuffer",_framebuffer:Xe,destroy:function(){vt(Xe),it(Xe)},use:function(Rt){je.setFBO({framebuffer:Dt},Rt)}})}function It(St){var dt=Array(6);function Xe(Qt){var Rt;V(dt.indexOf(je.next)<0,"can not update framebuffer which is currently in use");var tr={color:null},Vt=0,Zt=null,fr="rgba",jr="uint8",qr=1;if(typeof Qt=="number")Vt=Qt|0;else if(!Qt)Vt=1;else{V.type(Qt,"object","invalid arguments for framebuffer");var sr=Qt;if("shape"in sr){var Vr=sr.shape;V(Array.isArray(Vr)&&Vr.length>=2,"invalid shape for framebuffer"),V(Vr[0]===Vr[1],"cube framebuffer must be square"),Vt=Vr[0]}else"radius"in sr&&(Vt=sr.radius|0),"width"in sr?(Vt=sr.width|0,"height"in sr&&V(sr.height===Vt,"must be square")):"height"in sr&&(Vt=sr.height|0);("color"in sr||"colors"in sr)&&(Zt=sr.color||sr.colors,Array.isArray(Zt)&&V(Zt.length===1||X.webgl_draw_buffers,"multiple render targets not supported")),Zt||("colorCount"in sr&&(qr=sr.colorCount|0,V(qr>0,"invalid color buffer count")),"colorType"in sr&&(V.oneOf(sr.colorType,pt,"invalid color type"),jr=sr.colorType),"colorFormat"in sr&&(fr=sr.colorFormat,V.oneOf(sr.colorFormat,st,"invalid color format for texture"))),"depth"in sr&&(tr.depth=sr.depth),"stencil"in sr&&(tr.stencil=sr.stencil),"depthStencil"in sr&&(tr.depthStencil=sr.depthStencil)}var Ar;if(Zt)if(Array.isArray(Zt))for(Ar=[],Rt=0;Rt<Zt.length;++Rt)Ar[Rt]=Zt[Rt];else Ar=[Zt];else{Ar=Array(qr);var Gr={radius:Vt,format:fr,type:jr};for(Rt=0;Rt<qr;++Rt)Ar[Rt]=Fe.createCube(Gr)}for(tr.color=Array(Ar.length),Rt=0;Rt<Ar.length;++Rt){var Kr=Ar[Rt];V(typeof Kr=="function"&&Kr._reglType==="textureCube","invalid cube map"),Vt=Vt||Kr.width,V(Kr.width===Vt&&Kr.height===Vt,"invalid cube map shape"),tr.color[Rt]={target:vo,data:Ar[Rt]}}for(Rt=0;Rt<6;++Rt){for(var Hr=0;Hr<Ar.length;++Hr)tr.color[Hr].target=vo+Rt;Rt>0&&(tr.depth=dt[0].depth,tr.stencil=dt[0].stencil,tr.depthStencil=dt[0].depthStencil),dt[Rt]?dt[Rt](tr):dt[Rt]=_t(tr)}return o(Xe,{width:Vt,height:Vt,color:Ar})}function Dt(Qt){var Rt,tr=Qt|0;if(V(tr>0&&tr<=de.maxCubeMapSize,"invalid radius for cube fbo"),tr===Xe.width)return Xe;var Vt=Xe.color;for(Rt=0;Rt<Vt.length;++Rt)Vt[Rt].resize(tr);for(Rt=0;Rt<6;++Rt)dt[Rt].resize(tr);return Xe.width=Xe.height=tr,Xe}return Xe(St),o(Xe,{faces:dt,resize:Dt,_reglType:"framebufferCube",destroy:function(){dt.forEach(function(Qt){Qt.destroy()})}})}function Wt(){je.cur=null,je.next=null,je.dirty=!0,Rr(Ze).forEach(function(St){St.framebuffer=N.createFramebuffer(),et(St)})}return o(je,{getFramebuffer:function(St){if(typeof St=="function"&&St._reglType==="framebuffer"){var dt=St._framebuffer;if(dt instanceof Ct)return dt}return null},create:_t,createCube:It,clear:function(){Rr(Ze).forEach(vt)},restore:Wt})}var oa=5126,cu=34962;function fl(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=oa,this.offset=0,this.stride=0,this.divisor=0}function _o(N,X,de,Fe,Qe){for(var Be=de.maxAttributes,je=new Array(Be),st=0;st<Be;++st)je[st]=new fl;var lt=0,pt={},ut={Record:fl,scope:{},state:je,currentVAO:null,targetVAO:null,restore:bt()?Ze:function(){},createVAO:Ct,getVAO:gt,destroyBuffer:yt,setVAO:bt()?Oe:Ge,clear:bt()?ht:function(){}};function yt(it){for(var vt=0;vt<je.length;++vt){var et=je[vt];et.buffer===it&&(N.disableVertexAttribArray(vt),et.buffer=null)}}function bt(){return X.oes_vertex_array_object}function ot(){return X.angle_instanced_arrays}function gt(it){return typeof it=="function"&&it._vao?it._vao:null}function Oe(it){if(it!==ut.currentVAO){var vt=bt();it?vt.bindVertexArrayOES(it.vao):vt.bindVertexArrayOES(null),ut.currentVAO=it}}function Ge(it){if(it!==ut.currentVAO){if(it)it.bindAttrs();else for(var vt=ot(),et=0;et<je.length;++et){var _t=je[et];_t.buffer?(N.enableVertexAttribArray(et),N.vertexAttribPointer(et,_t.size,_t.type,_t.normalized,_t.stride,_t.offfset),vt&&_t.divisor&&vt.vertexAttribDivisorANGLE(et,_t.divisor)):(N.disableVertexAttribArray(et),N.vertexAttrib4f(et,_t.x,_t.y,_t.z,_t.w))}ut.currentVAO=it}}function ht(){Rr(pt).forEach(function(it){it.destroy()})}function Tt(){this.id=++lt,this.attributes=[];var it=bt();it?this.vao=it.createVertexArrayOES():this.vao=null,pt[this.id]=this,this.buffers=[]}Tt.prototype.bindAttrs=function(){for(var it=ot(),vt=this.attributes,et=0;et<vt.length;++et){var _t=vt[et];_t.buffer?(N.enableVertexAttribArray(et),N.bindBuffer(cu,_t.buffer.buffer),N.vertexAttribPointer(et,_t.size,_t.type,_t.normalized,_t.stride,_t.offset),it&&_t.divisor&&it.vertexAttribDivisorANGLE(et,_t.divisor)):(N.disableVertexAttribArray(et),N.vertexAttrib4f(et,_t.x,_t.y,_t.z,_t.w))}for(var It=vt.length;It<Be;++It)N.disableVertexAttribArray(It)},Tt.prototype.refresh=function(){var it=bt();it&&(it.bindVertexArrayOES(this.vao),this.bindAttrs(),ut.currentVAO=this)},Tt.prototype.destroy=function(){if(this.vao){var it=bt();this===ut.currentVAO&&(ut.currentVAO=null,it.bindVertexArrayOES(null)),it.deleteVertexArrayOES(this.vao),this.vao=null}pt[this.id]&&(delete pt[this.id],Fe.vaoCount-=1)};function Ze(){var it=bt();it&&Rr(pt).forEach(function(vt){vt.refresh()})}function Ct(it){var vt=new Tt;Fe.vaoCount+=1;function et(_t){V(Array.isArray(_t),"arguments to vertex array constructor must be an array"),V(_t.length<Be,"too many attributes"),V(_t.length>0,"must specify at least one attribute");var It={},Wt=vt.attributes;Wt.length=_t.length;for(var St=0;St<_t.length;++St){var dt=_t[St],Xe=Wt[St]=new fl,Dt=dt.data||dt;if(Array.isArray(Dt)||r(Dt)||yi(Dt)){var Qt;vt.buffers[St]&&(Qt=vt.buffers[St],r(Dt)&&Qt._buffer.byteLength>=Dt.byteLength?Qt.subdata(Dt):(Qt.destroy(),vt.buffers[St]=null)),vt.buffers[St]||(Qt=vt.buffers[St]=Qe.create(dt,cu,!1,!0)),Xe.buffer=Qe.getBuffer(Qt),Xe.size=Xe.buffer.dimension|0,Xe.normalized=!1,Xe.type=Xe.buffer.dtype,Xe.offset=0,Xe.stride=0,Xe.divisor=0,Xe.state=1,It[St]=1}else Qe.getBuffer(dt)?(Xe.buffer=Qe.getBuffer(dt),Xe.size=Xe.buffer.dimension|0,Xe.normalized=!1,Xe.type=Xe.buffer.dtype,Xe.offset=0,Xe.stride=0,Xe.divisor=0,Xe.state=1):Qe.getBuffer(dt.buffer)?(Xe.buffer=Qe.getBuffer(dt.buffer),Xe.size=(+dt.size||Xe.buffer.dimension)|0,Xe.normalized=!!dt.normalized||!1,"type"in dt?(V.parameter(dt.type,Ti,"invalid buffer type"),Xe.type=Ti[dt.type]):Xe.type=Xe.buffer.dtype,Xe.offset=(dt.offset||0)|0,Xe.stride=(dt.stride||0)|0,Xe.divisor=(dt.divisor||0)|0,Xe.state=1,V(Xe.size>=1&&Xe.size<=4,"size must be between 1 and 4"),V(Xe.offset>=0,"invalid offset"),V(Xe.stride>=0&&Xe.stride<=255,"stride must be between 0 and 255"),V(Xe.divisor>=0,"divisor must be positive"),V(!Xe.divisor||!!X.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in dt?(V(St>0,"first attribute must not be a constant"),Xe.x=+dt.x||0,Xe.y=+dt.y||0,Xe.z=+dt.z||0,Xe.w=+dt.w||0,Xe.state=2):V(!1,"invalid attribute spec for location "+St)}for(var Rt=0;Rt<vt.buffers.length;++Rt)!It[Rt]&&vt.buffers[Rt]&&(vt.buffers[Rt].destroy(),vt.buffers[Rt]=null);return vt.refresh(),et}return et.destroy=function(){for(var _t=0;_t<vt.buffers.length;++_t)vt.buffers[_t]&&vt.buffers[_t].destroy();vt.buffers.length=0,vt.destroy()},et._vao=vt,et._reglType="vao",et(it)}return ut}var wo=35632,bo=35633,Ni=35718,xu=35721;function Cu(N,X,de,Fe){var Qe={},Be={};function je(Oe,Ge,ht,Tt){this.name=Oe,this.id=Ge,this.location=ht,this.info=Tt}function st(Oe,Ge){for(var ht=0;ht<Oe.length;++ht)if(Oe[ht].id===Ge.id){Oe[ht].location=Ge.location;return}Oe.push(Ge)}function lt(Oe,Ge,ht){var Tt=Oe===wo?Qe:Be,Ze=Tt[Ge];if(!Ze){var Ct=X.str(Ge);Ze=N.createShader(Oe),N.shaderSource(Ze,Ct),N.compileShader(Ze),V.shaderError(N,Ze,Ct,Oe,ht),Tt[Ge]=Ze}return Ze}var pt={},ut=[],yt=0;function bt(Oe,Ge){this.id=yt++,this.fragId=Oe,this.vertId=Ge,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Fe.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ot(Oe,Ge,ht){var Tt,Ze,Ct=lt(wo,Oe.fragId),it=lt(bo,Oe.vertId),vt=Oe.program=N.createProgram();if(N.attachShader(vt,Ct),N.attachShader(vt,it),ht)for(Tt=0;Tt<ht.length;++Tt){var et=ht[Tt];N.bindAttribLocation(vt,et[0],et[1])}N.linkProgram(vt),V.linkError(N,vt,X.str(Oe.fragId),X.str(Oe.vertId),Ge);var _t=N.getProgramParameter(vt,Ni);Fe.profile&&(Oe.stats.uniformsCount=_t);var It=Oe.uniforms;for(Tt=0;Tt<_t;++Tt)if(Ze=N.getActiveUniform(vt,Tt),Ze)if(Ze.size>1)for(var Wt=0;Wt<Ze.size;++Wt){var St=Ze.name.replace("[0]","["+Wt+"]");st(It,new je(St,X.id(St),N.getUniformLocation(vt,St),Ze))}else st(It,new je(Ze.name,X.id(Ze.name),N.getUniformLocation(vt,Ze.name),Ze));var dt=N.getProgramParameter(vt,xu);Fe.profile&&(Oe.stats.attributesCount=dt);var Xe=Oe.attributes;for(Tt=0;Tt<dt;++Tt)Ze=N.getActiveAttrib(vt,Tt),Ze&&st(Xe,new je(Ze.name,X.id(Ze.name),N.getAttribLocation(vt,Ze.name),Ze))}Fe.profile&&(de.getMaxUniformsCount=function(){var Oe=0;return ut.forEach(function(Ge){Ge.stats.uniformsCount>Oe&&(Oe=Ge.stats.uniformsCount)}),Oe},de.getMaxAttributesCount=function(){var Oe=0;return ut.forEach(function(Ge){Ge.stats.attributesCount>Oe&&(Oe=Ge.stats.attributesCount)}),Oe});function gt(){Qe={},Be={};for(var Oe=0;Oe<ut.length;++Oe)ot(ut[Oe],null,ut[Oe].attributes.map(function(Ge){return[Ge.location,Ge.name]}))}return{clear:function(){var Oe=N.deleteShader.bind(N);Rr(Qe).forEach(Oe),Qe={},Rr(Be).forEach(Oe),Be={},ut.forEach(function(Ge){N.deleteProgram(Ge.program)}),ut.length=0,pt={},de.shaderCount=0},program:function(Oe,Ge,ht,Tt){V.command(Oe>=0,"missing vertex shader",ht),V.command(Ge>=0,"missing fragment shader",ht);var Ze=pt[Ge];Ze||(Ze=pt[Ge]={});var Ct=Ze[Oe];if(Ct&&(Ct.refCount++,!Tt))return Ct;var it=new bt(Ge,Oe);return de.shaderCount++,ot(it,ht,Tt),Ct||(Ze[Oe]=it),ut.push(it),o(it,{destroy:function(){if(it.refCount--,it.refCount<=0){N.deleteProgram(it.program);var vt=ut.indexOf(it);ut.splice(vt,1),de.shaderCount--}Ze[it.vertId].refCount<=0&&(N.deleteShader(Be[it.vertId]),delete Be[it.vertId],delete pt[it.fragId][it.vertId]),Object.keys(pt[it.fragId]).length||(N.deleteShader(Qe[it.fragId]),delete Qe[it.fragId],delete pt[it.fragId])}})},restore:gt,shader:lt,frag:-1,vert:-1}}var ls=6408,Fs=5121,cl=3333,en=5126;function So(N,X,de,Fe,Qe,Be,je){function st(ut){var yt;X.next===null?(V(Qe.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),yt=Fs):(V(X.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),yt=X.next.colorAttachments[0].texture._texture.type,Be.oes_texture_float?(V(yt===Fs||yt===en,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),yt===en&&V(je.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):V(yt===Fs,"Reading from a framebuffer is only allowed for the type 'uint8'"));var bt=0,ot=0,gt=Fe.framebufferWidth,Oe=Fe.framebufferHeight,Ge=null;r(ut)?Ge=ut:ut&&(V.type(ut,"object","invalid arguments to regl.read()"),bt=ut.x|0,ot=ut.y|0,V(bt>=0&&bt<Fe.framebufferWidth,"invalid x offset for regl.read"),V(ot>=0&&ot<Fe.framebufferHeight,"invalid y offset for regl.read"),gt=(ut.width||Fe.framebufferWidth-bt)|0,Oe=(ut.height||Fe.framebufferHeight-ot)|0,Ge=ut.data||null),Ge&&(yt===Fs?V(Ge instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):yt===en&&V(Ge instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),V(gt>0&&gt+bt<=Fe.framebufferWidth,"invalid width for read pixels"),V(Oe>0&&Oe+ot<=Fe.framebufferHeight,"invalid height for read pixels"),de();var ht=gt*Oe*4;return Ge||(yt===Fs?Ge=new Uint8Array(ht):yt===en&&(Ge=Ge||new Float32Array(ht))),V.isTypedArray(Ge,"data buffer for regl.read() must be a typedarray"),V(Ge.byteLength>=ht,"data buffer for regl.read() too small"),N.pixelStorei(cl,4),N.readPixels(bt,ot,gt,Oe,ls,yt,Ge),Ge}function lt(ut){var yt;return X.setFBO({framebuffer:ut.framebuffer},function(){yt=st(ut)}),yt}function pt(ut){return!ut||!("framebuffer"in ut)?st(ut):lt(ut)}return pt}function tn(N){return Array.prototype.slice.call(N)}function xi(N){return tn(N).join("")}function aa(){var N=0,X=[],de=[];function Fe(yt){for(var bt=0;bt<de.length;++bt)if(de[bt]===yt)return X[bt];var ot="g"+N++;return X.push(ot),de.push(yt),ot}function Qe(){var yt=[];function bt(){yt.push.apply(yt,tn(arguments))}var ot=[];function gt(){var Oe="v"+N++;return ot.push(Oe),arguments.length>0&&(yt.push(Oe,"="),yt.push.apply(yt,tn(arguments)),yt.push(";")),Oe}return o(bt,{def:gt,toString:function(){return xi([ot.length>0?"var "+ot.join(",")+";":"",xi(yt)])}})}function Be(){var yt=Qe(),bt=Qe(),ot=yt.toString,gt=bt.toString;function Oe(Ge,ht){bt(Ge,ht,"=",yt.def(Ge,ht),";")}return o(function(){yt.apply(yt,tn(arguments))},{def:yt.def,entry:yt,exit:bt,save:Oe,set:function(Ge,ht,Tt){Oe(Ge,ht),yt(Ge,ht,"=",Tt,";")},toString:function(){return ot()+gt()}})}function je(){var yt=xi(arguments),bt=Be(),ot=Be(),gt=bt.toString,Oe=ot.toString;return o(bt,{then:function(){return bt.apply(bt,tn(arguments)),this},else:function(){return ot.apply(ot,tn(arguments)),this},toString:function(){var Ge=Oe();return Ge&&(Ge="else{"+Ge+"}"),xi(["if(",yt,"){",gt(),"}",Ge])}})}var st=Qe(),lt={};function pt(yt,bt){var ot=[];function gt(){var Ze="a"+ot.length;return ot.push(Ze),Ze}bt=bt||0;for(var Oe=0;Oe<bt;++Oe)gt();var Ge=Be(),ht=Ge.toString,Tt=lt[yt]=o(Ge,{arg:gt,toString:function(){return xi(["function(",ot.join(),"){",ht(),"}"])}});return Tt}function ut(){var yt=['"use strict";',st,"return {"];Object.keys(lt).forEach(function(gt){yt.push('"',gt,'":',lt[gt].toString(),",")}),yt.push("}");var bt=xi(yt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ot=Function.apply(null,X.concat(bt));return ot.apply(null,de)}return{globalThis:st,link:Fe,block:Qe,proc:pt,scope:Be,cond:je,compile:ut}}var pi="xyzw".split(""),la=5121,rn=1,Ps=2,hl=0,pl=1,us=2,dl=3,fs=4,Gt=5,hu=6,ua="dither",fa="blend.enable",ca="blend.color",ml="blend.equation",yl="blend.func",ha="depth.enable",pa="depth.func",cs="depth.range",hs="depth.mask",Or="colorMask",Eo="cull.enable",Wi="cull.face",da="frontFace",ma="lineWidth",nn="polygonOffset.enable",On="polygonOffset.offset",pu="sample.alpha",du="sample.enable",In="sample.coverage",Ds="stencil.enable",gl="stencil.mask",mn="stencil.func",yn="stencil.opFront",gn="stencil.opBack",vl="scissor.enable",ya="scissor.box",$i="viewport",Nn="profile",di="framebuffer",ti="vert",ur="frag",zi="elements",$n="primitive",vi="count",Un="offset",ga="instances",zr="vao",va="Width",_a="Height",Ci=di+va,sn=di+_a,wa=$i+va,To=$i+_a,Js="drawingBuffer",Gs=Js+va,mu=Js+_a,_l=[yl,ml,mn,yn,gn,In,$i,ya,On],Bn=34962,xo=34963,Co=35632,Ws=35633,wl=3553,ba=34067,bl=2884,wi=3042,Er=3024,Nr=2960,Mu=2929,Mo=3089,n=32823,l=32926,p=32928,c=5126,v=35664,b=35665,A=35666,L=5124,B=35667,j=35668,ee=35669,be=35670,xe=35671,Me=35672,qe=35673,xt=35674,Jt=35675,kr=35676,Nt=35678,mr=35680,_r=4,wr=1028,yr=1029,ar=2304,Tr=2305,gr=32775,Sr=32776,ai=519,$r=7680,bi=0,Fn=1,Pn=32774,Sl=513,Ru=36160,ju=36064,Dn={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Lu=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Sa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},zs={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ou={frag:Co,vert:Ws},Au={cw:ar,ccw:Tr};function yu(N){return Array.isArray(N)||r(N)||yi(N)}function Iu(N){return N.sort(function(X,de){return X===$i?-1:de===$i?1:X<de?-1:1})}function Mi(N,X,de,Fe){this.thisDep=N,this.contextDep=X,this.propDep=de,this.append=Fe}function Vs(N){return N&&!(N.thisDep||N.contextDep||N.propDep)}function Jr(N){return new Mi(!1,!1,!1,N)}function Ui(N,X){var de=N.type;if(de===hl){var Fe=N.data.length;return new Mi(!0,Fe>=1,Fe>=2,X)}else if(de===fs){var Qe=N.data;return new Mi(Qe.thisDep,Qe.contextDep,Qe.propDep,X)}else{if(de===Gt)return new Mi(!1,!1,!1,X);if(de===hu){for(var Be=!1,je=!1,st=!1,lt=0;lt<N.data.length;++lt){var pt=N.data[lt];if(pt.type===pl)st=!0;else if(pt.type===us)je=!0;else if(pt.type===dl)Be=!0;else if(pt.type===hl){Be=!0;var ut=pt.data;ut>=1&&(je=!0),ut>=2&&(st=!0)}else pt.type===fs&&(Be=Be||pt.data.thisDep,je=je||pt.data.contextDep,st=st||pt.data.propDep)}return new Mi(Be,je,st,X)}else return new Mi(de===dl,de===us,de===pl,X)}}var Nu=new Mi(!1,!1,!1,function(){});function Gu(N,X,de,Fe,Qe,Be,je,st,lt,pt,ut,yt,bt,ot,gt){var Oe=pt.Record,Ge={add:32774,subtract:32778,"reverse subtract":32779};de.ext_blend_minmax&&(Ge.min=gr,Ge.max=Sr);var ht=de.angle_instanced_arrays,Tt=de.webgl_draw_buffers,Ze={dirty:!0,profile:gt.profile},Ct={},it=[],vt={},et={};function _t(ne){return ne.replace(".","_")}function It(ne,H,_e){var Ae=_t(ne);it.push(ne),Ct[Ae]=Ze[Ae]=!!_e,vt[Ae]=H}function Wt(ne,H,_e){var Ae=_t(ne);it.push(ne),Array.isArray(_e)?(Ze[Ae]=_e.slice(),Ct[Ae]=_e.slice()):Ze[Ae]=Ct[Ae]=_e,et[Ae]=H}It(ua,Er),It(fa,wi),Wt(ca,"blendColor",[0,0,0,0]),Wt(ml,"blendEquationSeparate",[Pn,Pn]),Wt(yl,"blendFuncSeparate",[Fn,bi,Fn,bi]),It(ha,Mu,!0),Wt(pa,"depthFunc",Sl),Wt(cs,"depthRange",[0,1]),Wt(hs,"depthMask",!0),Wt(Or,Or,[!0,!0,!0,!0]),It(Eo,bl),Wt(Wi,"cullFace",yr),Wt(da,da,Tr),Wt(ma,ma,1),It(nn,n),Wt(On,"polygonOffset",[0,0]),It(pu,l),It(du,p),Wt(In,"sampleCoverage",[1,!1]),It(Ds,Nr),Wt(gl,"stencilMask",-1),Wt(mn,"stencilFunc",[ai,0,-1]),Wt(yn,"stencilOpSeparate",[wr,$r,$r,$r]),Wt(gn,"stencilOpSeparate",[yr,$r,$r,$r]),It(vl,Mo),Wt(ya,"scissor",[0,0,N.drawingBufferWidth,N.drawingBufferHeight]),Wt($i,$i,[0,0,N.drawingBufferWidth,N.drawingBufferHeight]);var St={gl:N,context:bt,strings:X,next:Ct,current:Ze,draw:yt,elements:Be,buffer:Qe,shader:ut,attributes:pt.state,vao:pt,uniforms:lt,framebuffer:st,extensions:de,timer:ot,isBufferArgs:yu},dt={primTypes:Di,compareFuncs:Sa,blendFuncs:Dn,blendEquations:Ge,stencilOps:zs,glTypes:Ti,orientationType:Au};V.optional(function(){St.isArrayLike=Lr}),Tt&&(dt.backBuffer=[yr],dt.drawBuffer=ei(Fe.maxDrawbuffers,function(ne){return ne===0?[0]:ei(ne,function(H){return ju+H})}));var Xe=0;function Dt(){var ne=aa(),H=ne.link;ne.global,ne.id=Xe++,ne.batchId="0";var _e=H(St),Ae=ne.shared={props:"a0"};Object.keys(St).forEach(function(Z){Ae[Z]=globalThis.def(_e,".",Z)}),V.optional(function(){ne.CHECK=H(V),ne.commandStr=V.guessCommand(),ne.command=H(ne.commandStr),ne.assert=function(Z,ge,se){Z("if(!(",ge,"))",this.CHECK,".commandRaise(",H(se),",",this.command,");")},dt.invalidBlendCombinations=Lu});var Ie=ne.next={},Se=ne.current={};Object.keys(et).forEach(function(Z){Array.isArray(Ze[Z])&&(Ie[Z]=globalThis.def(Ae.next,".",Z),Se[Z]=globalThis.def(Ae.current,".",Z))});var ve=ne.constants={};Object.keys(dt).forEach(function(Z){ve[Z]=globalThis.def(JSON.stringify(dt[Z]))}),ne.invoke=function(Z,ge){switch(ge.type){case hl:var se=["this",Ae.context,Ae.props,ne.batchId];return Z.def(H(ge.data),".call(",se.slice(0,Math.max(ge.data.length+1,4)),")");case pl:return Z.def(Ae.props,ge.data);case us:return Z.def(Ae.context,ge.data);case dl:return Z.def("this",ge.data);case fs:return ge.data.append(ne,Z),ge.data.ref;case Gt:return ge.data.toString();case hu:return ge.data.map(function(ke){return ne.invoke(Z,ke)})}},ne.attribCache={};var Ce={};return ne.scopeAttrib=function(Z){var ge=X.id(Z);if(ge in Ce)return Ce[ge];var se=pt.scope[ge];se||(se=pt.scope[ge]=new Oe);var ke=Ce[ge]=H(se);return ke},ne}function Qt(ne){var H=ne.static,_e=ne.dynamic,Ae;if(Nn in H){var Ie=!!H[Nn];Ae=Jr(function(ve,Ce){return Ie}),Ae.enable=Ie}else if(Nn in _e){var Se=_e[Nn];Ae=Ui(Se,function(ve,Ce){return ve.invoke(Ce,Se)})}return Ae}function Rt(ne,H){var _e=ne.static,Ae=ne.dynamic;if(di in _e){var Ie=_e[di];return Ie?(Ie=st.getFramebuffer(Ie),V.command(Ie,"invalid framebuffer object"),Jr(function(ve,Ce){var Z=ve.link(Ie),ge=ve.shared;Ce.set(ge.framebuffer,".next",Z);var se=ge.context;return Ce.set(se,"."+Ci,Z+".width"),Ce.set(se,"."+sn,Z+".height"),Z})):Jr(function(ve,Ce){var Z=ve.shared;Ce.set(Z.framebuffer,".next","null");var ge=Z.context;return Ce.set(ge,"."+Ci,ge+"."+Gs),Ce.set(ge,"."+sn,ge+"."+mu),"null"})}else if(di in Ae){var Se=Ae[di];return Ui(Se,function(ve,Ce){var Z=ve.invoke(Ce,Se),ge=ve.shared,se=ge.framebuffer,ke=Ce.def(se,".getFramebuffer(",Z,")");V.optional(function(){ve.assert(Ce,"!"+Z+"||"+ke,"invalid framebuffer object")}),Ce.set(se,".next",ke);var Ne=ge.context;return Ce.set(Ne,"."+Ci,ke+"?"+ke+".width:"+Ne+"."+Gs),Ce.set(Ne,"."+sn,ke+"?"+ke+".height:"+Ne+"."+mu),ke})}else return null}function tr(ne,H,_e){var Ae=ne.static,Ie=ne.dynamic;function Se(Z){if(Z in Ae){var ge=Ae[Z];V.commandType(ge,"object","invalid "+Z,_e.commandStr);var se=!0,ke=ge.x|0,Ne=ge.y|0,Ke,Ye;return"width"in ge?(Ke=ge.width|0,V.command(Ke>=0,"invalid "+Z,_e.commandStr)):se=!1,"height"in ge?(Ye=ge.height|0,V.command(Ye>=0,"invalid "+Z,_e.commandStr)):se=!1,new Mi(!se&&H&&H.thisDep,!se&&H&&H.contextDep,!se&&H&&H.propDep,function(Ot,qt){var Lt=Ot.shared.context,Ft=Ke;"width"in ge||(Ft=qt.def(Lt,".",Ci,"-",ke));var Kt=Ye;return"height"in ge||(Kt=qt.def(Lt,".",sn,"-",Ne)),[ke,Ne,Ft,Kt]})}else if(Z in Ie){var ze=Ie[Z],ct=Ui(ze,function(Ot,qt){var Lt=Ot.invoke(qt,ze);V.optional(function(){Ot.assert(qt,Lt+"&&typeof "+Lt+'==="object"',"invalid "+Z)});var Ft=Ot.shared.context,Kt=qt.def(Lt,".x|0"),cr=qt.def(Lt,".y|0"),Ur=qt.def('"width" in ',Lt,"?",Lt,".width|0:","(",Ft,".",Ci,"-",Kt,")"),Ai=qt.def('"height" in ',Lt,"?",Lt,".height|0:","(",Ft,".",sn,"-",cr,")");return V.optional(function(){Ot.assert(qt,Ur+">=0&&"+Ai+">=0","invalid "+Z)}),[Kt,cr,Ur,Ai]});return H&&(ct.thisDep=ct.thisDep||H.thisDep,ct.contextDep=ct.contextDep||H.contextDep,ct.propDep=ct.propDep||H.propDep),ct}else return H?new Mi(H.thisDep,H.contextDep,H.propDep,function(Ot,qt){var Lt=Ot.shared.context;return[0,0,qt.def(Lt,".",Ci),qt.def(Lt,".",sn)]}):null}var ve=Se($i);if(ve){var Ce=ve;ve=new Mi(ve.thisDep,ve.contextDep,ve.propDep,function(Z,ge){var se=Ce.append(Z,ge),ke=Z.shared.context;return ge.set(ke,"."+wa,se[2]),ge.set(ke,"."+To,se[3]),se})}return{viewport:ve,scissor_box:Se(ya)}}function Vt(ne,H){var _e=ne.static,Ae=typeof _e[ur]=="string"&&typeof _e[ti]=="string";if(Ae){if(Object.keys(H.dynamic).length>0)return null;var Ie=H.static,Se=Object.keys(Ie);if(Se.length>0&&typeof Ie[Se[0]]=="number"){for(var ve=[],Ce=0;Ce<Se.length;++Ce)V(typeof Ie[Se[Ce]]=="number","must specify all vertex attribute locations when using vaos"),ve.push([Ie[Se[Ce]]|0,Se[Ce]]);return ve}}return null}function Zt(ne,H,_e){var Ae=ne.static,Ie=ne.dynamic;function Se(se){if(se in Ae){var ke=X.id(Ae[se]);V.optional(function(){ut.shader(Ou[se],ke,V.guessCommand())});var Ne=Jr(function(){return ke});return Ne.id=ke,Ne}else if(se in Ie){var Ke=Ie[se];return Ui(Ke,function(Ye,ze){var ct=Ye.invoke(ze,Ke),Ot=ze.def(Ye.shared.strings,".id(",ct,")");return V.optional(function(){ze(Ye.shared.shader,".shader(",Ou[se],",",Ot,",",Ye.command,");")}),Ot})}return null}var ve=Se(ur),Ce=Se(ti),Z=null,ge;return Vs(ve)&&Vs(Ce)?(Z=ut.program(Ce.id,ve.id,null,_e),ge=Jr(function(se,ke){return se.link(Z)})):ge=new Mi(ve&&ve.thisDep||Ce&&Ce.thisDep,ve&&ve.contextDep||Ce&&Ce.contextDep,ve&&ve.propDep||Ce&&Ce.propDep,function(se,ke){var Ne=se.shared.shader,Ke;ve?Ke=ve.append(se,ke):Ke=ke.def(Ne,".",ur);var Ye;Ce?Ye=Ce.append(se,ke):Ye=ke.def(Ne,".",ti);var ze=Ne+".program("+Ye+","+Ke;return V.optional(function(){ze+=","+se.command}),ke.def(ze+")")}),{frag:ve,vert:Ce,progVar:ge,program:Z}}function fr(ne,H){var _e=ne.static,Ae=ne.dynamic;function Ie(){if(zi in _e){var se=_e[zi];yu(se)?se=Be.getElements(Be.create(se,!0)):se&&(se=Be.getElements(se),V.command(se,"invalid elements",H.commandStr));var ke=Jr(function(Ke,Ye){if(se){var ze=Ke.link(se);return Ke.ELEMENTS=ze,ze}return Ke.ELEMENTS=null,null});return ke.value=se,ke}else if(zi in Ae){var Ne=Ae[zi];return Ui(Ne,function(Ke,Ye){var ze=Ke.shared,ct=ze.isBufferArgs,Ot=ze.elements,qt=Ke.invoke(Ye,Ne),Lt=Ye.def("null"),Ft=Ye.def(ct,"(",qt,")"),Kt=Ke.cond(Ft).then(Lt,"=",Ot,".createStream(",qt,");").else(Lt,"=",Ot,".getElements(",qt,");");return V.optional(function(){Ke.assert(Kt.else,"!"+qt+"||"+Lt,"invalid elements")}),Ye.entry(Kt),Ye.exit(Ke.cond(Ft).then(Ot,".destroyStream(",Lt,");")),Ke.ELEMENTS=Lt,Lt})}return null}var Se=Ie();function ve(){if($n in _e){var se=_e[$n];return V.commandParameter(se,Di,"invalid primitve",H.commandStr),Jr(function(Ne,Ke){return Di[se]})}else if($n in Ae){var ke=Ae[$n];return Ui(ke,function(Ne,Ke){var Ye=Ne.constants.primTypes,ze=Ne.invoke(Ke,ke);return V.optional(function(){Ne.assert(Ke,ze+" in "+Ye,"invalid primitive, must be one of "+Object.keys(Di))}),Ke.def(Ye,"[",ze,"]")})}else if(Se)return Vs(Se)?Se.value?Jr(function(Ne,Ke){return Ke.def(Ne.ELEMENTS,".primType")}):Jr(function(){return _r}):new Mi(Se.thisDep,Se.contextDep,Se.propDep,function(Ne,Ke){var Ye=Ne.ELEMENTS;return Ke.def(Ye,"?",Ye,".primType:",_r)});return null}function Ce(se,ke){if(se in _e){var Ne=_e[se]|0;return V.command(!ke||Ne>=0,"invalid "+se,H.commandStr),Jr(function(Ye,ze){return ke&&(Ye.OFFSET=Ne),Ne})}else if(se in Ae){var Ke=Ae[se];return Ui(Ke,function(Ye,ze){var ct=Ye.invoke(ze,Ke);return ke&&(Ye.OFFSET=ct,V.optional(function(){Ye.assert(ze,ct+">=0","invalid "+se)})),ct})}else if(ke&&Se)return Jr(function(Ye,ze){return Ye.OFFSET="0",0});return null}var Z=Ce(Un,!0);function ge(){if(vi in _e){var se=_e[vi]|0;return V.command(typeof se=="number"&&se>=0,"invalid vertex count",H.commandStr),Jr(function(){return se})}else if(vi in Ae){var ke=Ae[vi];return Ui(ke,function(Ye,ze){var ct=Ye.invoke(ze,ke);return V.optional(function(){Ye.assert(ze,"typeof "+ct+'==="number"&&'+ct+">=0&&"+ct+"===("+ct+"|0)","invalid vertex count")}),ct})}else if(Se)if(Vs(Se)){if(Se)return Z?new Mi(Z.thisDep,Z.contextDep,Z.propDep,function(Ye,ze){var ct=ze.def(Ye.ELEMENTS,".vertCount-",Ye.OFFSET);return V.optional(function(){Ye.assert(ze,ct+">=0","invalid vertex offset/element buffer too small")}),ct}):Jr(function(Ye,ze){return ze.def(Ye.ELEMENTS,".vertCount")});var Ne=Jr(function(){return-1});return V.optional(function(){Ne.MISSING=!0}),Ne}else{var Ke=new Mi(Se.thisDep||Z.thisDep,Se.contextDep||Z.contextDep,Se.propDep||Z.propDep,function(Ye,ze){var ct=Ye.ELEMENTS;return Ye.OFFSET?ze.def(ct,"?",ct,".vertCount-",Ye.OFFSET,":-1"):ze.def(ct,"?",ct,".vertCount:-1")});return V.optional(function(){Ke.DYNAMIC=!0}),Ke}return null}return{elements:Se,primitive:ve(),count:ge(),instances:Ce(ga,!1),offset:Z}}function jr(ne,H){var _e=ne.static,Ae=ne.dynamic,Ie={};return it.forEach(function(Se){var ve=_t(Se);function Ce(Z,ge){if(Se in _e){var se=Z(_e[Se]);Ie[ve]=Jr(function(){return se})}else if(Se in Ae){var ke=Ae[Se];Ie[ve]=Ui(ke,function(Ne,Ke){return ge(Ne,Ke,Ne.invoke(Ke,ke))})}}switch(Se){case Eo:case fa:case ua:case Ds:case ha:case vl:case nn:case pu:case du:case hs:return Ce(function(Z){return V.commandType(Z,"boolean",Se,H.commandStr),Z},function(Z,ge,se){return V.optional(function(){Z.assert(ge,"typeof "+se+'==="boolean"',"invalid flag "+Se,Z.commandStr)}),se});case pa:return Ce(function(Z){return V.commandParameter(Z,Sa,"invalid "+Se,H.commandStr),Sa[Z]},function(Z,ge,se){var ke=Z.constants.compareFuncs;return V.optional(function(){Z.assert(ge,se+" in "+ke,"invalid "+Se+", must be one of "+Object.keys(Sa))}),ge.def(ke,"[",se,"]")});case cs:return Ce(function(Z){return V.command(Lr(Z)&&Z.length===2&&typeof Z[0]=="number"&&typeof Z[1]=="number"&&Z[0]<=Z[1],"depth range is 2d array",H.commandStr),Z},function(Z,ge,se){V.optional(function(){Z.assert(ge,Z.shared.isArrayLike+"("+se+")&&"+se+".length===2&&typeof "+se+'[0]==="number"&&typeof '+se+'[1]==="number"&&'+se+"[0]<="+se+"[1]","depth range must be a 2d array")});var ke=ge.def("+",se,"[0]"),Ne=ge.def("+",se,"[1]");return[ke,Ne]});case yl:return Ce(function(Z){V.commandType(Z,"object","blend.func",H.commandStr);var ge="srcRGB"in Z?Z.srcRGB:Z.src,se="srcAlpha"in Z?Z.srcAlpha:Z.src,ke="dstRGB"in Z?Z.dstRGB:Z.dst,Ne="dstAlpha"in Z?Z.dstAlpha:Z.dst;return V.commandParameter(ge,Dn,ve+".srcRGB",H.commandStr),V.commandParameter(se,Dn,ve+".srcAlpha",H.commandStr),V.commandParameter(ke,Dn,ve+".dstRGB",H.commandStr),V.commandParameter(Ne,Dn,ve+".dstAlpha",H.commandStr),V.command(Lu.indexOf(ge+", "+ke)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+ge+", "+ke+")",H.commandStr),[Dn[ge],Dn[ke],Dn[se],Dn[Ne]]},function(Z,ge,se){var ke=Z.constants.blendFuncs;V.optional(function(){Z.assert(ge,se+"&&typeof "+se+'==="object"',"invalid blend func, must be an object")});function Ne(Lt,Ft){var Kt=ge.def('"',Lt,Ft,'" in ',se,"?",se,".",Lt,Ft,":",se,".",Lt);return V.optional(function(){Z.assert(ge,Kt+" in "+ke,"invalid "+Se+"."+Lt+Ft+", must be one of "+Object.keys(Dn))}),Kt}var Ke=Ne("src","RGB"),Ye=Ne("dst","RGB");V.optional(function(){var Lt=Z.constants.invalidBlendCombinations;Z.assert(ge,Lt+".indexOf("+Ke+'+", "+'+Ye+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var ze=ge.def(ke,"[",Ke,"]"),ct=ge.def(ke,"[",Ne("src","Alpha"),"]"),Ot=ge.def(ke,"[",Ye,"]"),qt=ge.def(ke,"[",Ne("dst","Alpha"),"]");return[ze,Ot,ct,qt]});case ml:return Ce(function(Z){if(typeof Z=="string")return V.commandParameter(Z,Ge,"invalid "+Se,H.commandStr),[Ge[Z],Ge[Z]];if(typeof Z=="object")return V.commandParameter(Z.rgb,Ge,Se+".rgb",H.commandStr),V.commandParameter(Z.alpha,Ge,Se+".alpha",H.commandStr),[Ge[Z.rgb],Ge[Z.alpha]];V.commandRaise("invalid blend.equation",H.commandStr)},function(Z,ge,se){var ke=Z.constants.blendEquations,Ne=ge.def(),Ke=ge.def(),Ye=Z.cond("typeof ",se,'==="string"');return V.optional(function(){function ze(ct,Ot,qt){Z.assert(ct,qt+" in "+ke,"invalid "+Ot+", must be one of "+Object.keys(Ge))}ze(Ye.then,Se,se),Z.assert(Ye.else,se+"&&typeof "+se+'==="object"',"invalid "+Se),ze(Ye.else,Se+".rgb",se+".rgb"),ze(Ye.else,Se+".alpha",se+".alpha")}),Ye.then(Ne,"=",Ke,"=",ke,"[",se,"];"),Ye.else(Ne,"=",ke,"[",se,".rgb];",Ke,"=",ke,"[",se,".alpha];"),ge(Ye),[Ne,Ke]});case ca:return Ce(function(Z){return V.command(Lr(Z)&&Z.length===4,"blend.color must be a 4d array",H.commandStr),ei(4,function(ge){return+Z[ge]})},function(Z,ge,se){return V.optional(function(){Z.assert(ge,Z.shared.isArrayLike+"("+se+")&&"+se+".length===4","blend.color must be a 4d array")}),ei(4,function(ke){return ge.def("+",se,"[",ke,"]")})});case gl:return Ce(function(Z){return V.commandType(Z,"number",ve,H.commandStr),Z|0},function(Z,ge,se){return V.optional(function(){Z.assert(ge,"typeof "+se+'==="number"',"invalid stencil.mask")}),ge.def(se,"|0")});case mn:return Ce(function(Z){V.commandType(Z,"object",ve,H.commandStr);var ge=Z.cmp||"keep",se=Z.ref||0,ke="mask"in Z?Z.mask:-1;return V.commandParameter(ge,Sa,Se+".cmp",H.commandStr),V.commandType(se,"number",Se+".ref",H.commandStr),V.commandType(ke,"number",Se+".mask",H.commandStr),[Sa[ge],se,ke]},function(Z,ge,se){var ke=Z.constants.compareFuncs;V.optional(function(){function ze(){Z.assert(ge,Array.prototype.join.call(arguments,""),"invalid stencil.func")}ze(se+"&&typeof ",se,'==="object"'),ze('!("cmp" in ',se,")||(",se,".cmp in ",ke,")")});var Ne=ge.def('"cmp" in ',se,"?",ke,"[",se,".cmp]",":",$r),Ke=ge.def(se,".ref|0"),Ye=ge.def('"mask" in ',se,"?",se,".mask|0:-1");return[Ne,Ke,Ye]});case yn:case gn:return Ce(function(Z){V.commandType(Z,"object",ve,H.commandStr);var ge=Z.fail||"keep",se=Z.zfail||"keep",ke=Z.zpass||"keep";return V.commandParameter(ge,zs,Se+".fail",H.commandStr),V.commandParameter(se,zs,Se+".zfail",H.commandStr),V.commandParameter(ke,zs,Se+".zpass",H.commandStr),[Se===gn?yr:wr,zs[ge],zs[se],zs[ke]]},function(Z,ge,se){var ke=Z.constants.stencilOps;V.optional(function(){Z.assert(ge,se+"&&typeof "+se+'==="object"',"invalid "+Se)});function Ne(Ke){return V.optional(function(){Z.assert(ge,'!("'+Ke+'" in '+se+")||("+se+"."+Ke+" in "+ke+")","invalid "+Se+"."+Ke+", must be one of "+Object.keys(zs))}),ge.def('"',Ke,'" in ',se,"?",ke,"[",se,".",Ke,"]:",$r)}return[Se===gn?yr:wr,Ne("fail"),Ne("zfail"),Ne("zpass")]});case On:return Ce(function(Z){V.commandType(Z,"object",ve,H.commandStr);var ge=Z.factor|0,se=Z.units|0;return V.commandType(ge,"number",ve+".factor",H.commandStr),V.commandType(se,"number",ve+".units",H.commandStr),[ge,se]},function(Z,ge,se){V.optional(function(){Z.assert(ge,se+"&&typeof "+se+'==="object"',"invalid "+Se)});var ke=ge.def(se,".factor|0"),Ne=ge.def(se,".units|0");return[ke,Ne]});case Wi:return Ce(function(Z){var ge=0;return Z==="front"?ge=wr:Z==="back"&&(ge=yr),V.command(!!ge,ve,H.commandStr),ge},function(Z,ge,se){return V.optional(function(){Z.assert(ge,se+'==="front"||'+se+'==="back"',"invalid cull.face")}),ge.def(se,'==="front"?',wr,":",yr)});case ma:return Ce(function(Z){return V.command(typeof Z=="number"&&Z>=Fe.lineWidthDims[0]&&Z<=Fe.lineWidthDims[1],"invalid line width, must be a positive number between "+Fe.lineWidthDims[0]+" and "+Fe.lineWidthDims[1],H.commandStr),Z},function(Z,ge,se){return V.optional(function(){Z.assert(ge,"typeof "+se+'==="number"&&'+se+">="+Fe.lineWidthDims[0]+"&&"+se+"<="+Fe.lineWidthDims[1],"invalid line width")}),se});case da:return Ce(function(Z){return V.commandParameter(Z,Au,ve,H.commandStr),Au[Z]},function(Z,ge,se){return V.optional(function(){Z.assert(ge,se+'==="cw"||'+se+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),ge.def(se+'==="cw"?'+ar+":"+Tr)});case Or:return Ce(function(Z){return V.command(Lr(Z)&&Z.length===4,"color.mask must be length 4 array",H.commandStr),Z.map(function(ge){return!!ge})},function(Z,ge,se){return V.optional(function(){Z.assert(ge,Z.shared.isArrayLike+"("+se+")&&"+se+".length===4","invalid color.mask")}),ei(4,function(ke){return"!!"+se+"["+ke+"]"})});case In:return Ce(function(Z){V.command(typeof Z=="object"&&Z,ve,H.commandStr);var ge="value"in Z?Z.value:1,se=!!Z.invert;return V.command(typeof ge=="number"&&ge>=0&&ge<=1,"sample.coverage.value must be a number between 0 and 1",H.commandStr),[ge,se]},function(Z,ge,se){V.optional(function(){Z.assert(ge,se+"&&typeof "+se+'==="object"',"invalid sample.coverage")});var ke=ge.def('"value" in ',se,"?+",se,".value:1"),Ne=ge.def("!!",se,".invert");return[ke,Ne]})}}),Ie}function qr(ne,H){var _e=ne.static,Ae=ne.dynamic,Ie={};return Object.keys(_e).forEach(function(Se){var ve=_e[Se],Ce;if(typeof ve=="number"||typeof ve=="boolean")Ce=Jr(function(){return ve});else if(typeof ve=="function"){var Z=ve._reglType;Z==="texture2d"||Z==="textureCube"?Ce=Jr(function(ge){return ge.link(ve)}):Z==="framebuffer"||Z==="framebufferCube"?(V.command(ve.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Se+'"',H.commandStr),Ce=Jr(function(ge){return ge.link(ve.color[0])})):V.commandRaise('invalid data for uniform "'+Se+'"',H.commandStr)}else Lr(ve)?Ce=Jr(function(ge){var se=ge.global.def("[",ei(ve.length,function(ke){return V.command(typeof ve[ke]=="number"||typeof ve[ke]=="boolean","invalid uniform "+Se,ge.commandStr),ve[ke]}),"]");return se}):V.commandRaise('invalid or missing data for uniform "'+Se+'"',H.commandStr);Ce.value=ve,Ie[Se]=Ce}),Object.keys(Ae).forEach(function(Se){var ve=Ae[Se];Ie[Se]=Ui(ve,function(Ce,Z){return Ce.invoke(Z,ve)})}),Ie}function sr(ne,H){var _e=ne.static,Ae=ne.dynamic,Ie={};return Object.keys(_e).forEach(function(Se){var ve=_e[Se],Ce=X.id(Se),Z=new Oe;if(yu(ve))Z.state=rn,Z.buffer=Qe.getBuffer(Qe.create(ve,Bn,!1,!0)),Z.type=0;else{var ge=Qe.getBuffer(ve);if(ge)Z.state=rn,Z.buffer=ge,Z.type=0;else if(V.command(typeof ve=="object"&&ve,"invalid data for attribute "+Se,H.commandStr),"constant"in ve){var se=ve.constant;Z.buffer="null",Z.state=Ps,typeof se=="number"?Z.x=se:(V.command(Lr(se)&&se.length>0&&se.length<=4,"invalid constant for attribute "+Se,H.commandStr),pi.forEach(function(Ot,qt){qt<se.length&&(Z[Ot]=se[qt])}))}else{yu(ve.buffer)?ge=Qe.getBuffer(Qe.create(ve.buffer,Bn,!1,!0)):ge=Qe.getBuffer(ve.buffer),V.command(!!ge,'missing buffer for attribute "'+Se+'"',H.commandStr);var ke=ve.offset|0;V.command(ke>=0,'invalid offset for attribute "'+Se+'"',H.commandStr);var Ne=ve.stride|0;V.command(Ne>=0&&Ne<256,'invalid stride for attribute "'+Se+'", must be integer betweeen [0, 255]',H.commandStr);var Ke=ve.size|0;V.command(!("size"in ve)||Ke>0&&Ke<=4,'invalid size for attribute "'+Se+'", must be 1,2,3,4',H.commandStr);var Ye=!!ve.normalized,ze=0;"type"in ve&&(V.commandParameter(ve.type,Ti,"invalid type for attribute "+Se,H.commandStr),ze=Ti[ve.type]);var ct=ve.divisor|0;"divisor"in ve&&(V.command(ct===0||ht,'cannot specify divisor for attribute "'+Se+'", instancing not supported',H.commandStr),V.command(ct>=0,'invalid divisor for attribute "'+Se+'"',H.commandStr)),V.optional(function(){var Ot=H.commandStr,qt=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(ve).forEach(function(Lt){V.command(qt.indexOf(Lt)>=0,'unknown parameter "'+Lt+'" for attribute pointer "'+Se+'" (valid parameters are '+qt+")",Ot)})}),Z.buffer=ge,Z.state=rn,Z.size=Ke,Z.normalized=Ye,Z.type=ze||ge.dtype,Z.offset=ke,Z.stride=Ne,Z.divisor=ct}}Ie[Se]=Jr(function(Ot,qt){var Lt=Ot.attribCache;if(Ce in Lt)return Lt[Ce];var Ft={isStream:!1};return Object.keys(Z).forEach(function(Kt){Ft[Kt]=Z[Kt]}),Z.buffer&&(Ft.buffer=Ot.link(Z.buffer),Ft.type=Ft.type||Ft.buffer+".dtype"),Lt[Ce]=Ft,Ft})}),Object.keys(Ae).forEach(function(Se){var ve=Ae[Se];function Ce(Z,ge){var se=Z.invoke(ge,ve),ke=Z.shared,Ne=Z.constants,Ke=ke.isBufferArgs,Ye=ke.buffer;V.optional(function(){Z.assert(ge,se+"&&(typeof "+se+'==="object"||typeof '+se+'==="function")&&('+Ke+"("+se+")||"+Ye+".getBuffer("+se+")||"+Ye+".getBuffer("+se+".buffer)||"+Ke+"("+se+'.buffer)||("constant" in '+se+"&&(typeof "+se+'.constant==="number"||'+ke.isArrayLike+"("+se+".constant))))",'invalid dynamic attribute "'+Se+'"')});var ze={isStream:ge.def(!1)},ct=new Oe;ct.state=rn,Object.keys(ct).forEach(function(Ft){ze[Ft]=ge.def(""+ct[Ft])});var Ot=ze.buffer,qt=ze.type;ge("if(",Ke,"(",se,")){",ze.isStream,"=true;",Ot,"=",Ye,".createStream(",Bn,",",se,");",qt,"=",Ot,".dtype;","}else{",Ot,"=",Ye,".getBuffer(",se,");","if(",Ot,"){",qt,"=",Ot,".dtype;",'}else if("constant" in ',se,"){",ze.state,"=",Ps,";","if(typeof "+se+'.constant === "number"){',ze[pi[0]],"=",se,".constant;",pi.slice(1).map(function(Ft){return ze[Ft]}).join("="),"=0;","}else{",pi.map(function(Ft,Kt){return ze[Ft]+"="+se+".constant.length>"+Kt+"?"+se+".constant["+Kt+"]:0;"}).join(""),"}}else{","if(",Ke,"(",se,".buffer)){",Ot,"=",Ye,".createStream(",Bn,",",se,".buffer);","}else{",Ot,"=",Ye,".getBuffer(",se,".buffer);","}",qt,'="type" in ',se,"?",Ne.glTypes,"[",se,".type]:",Ot,".dtype;",ze.normalized,"=!!",se,".normalized;");function Lt(Ft){ge(ze[Ft],"=",se,".",Ft,"|0;")}return Lt("size"),Lt("offset"),Lt("stride"),Lt("divisor"),ge("}}"),ge.exit("if(",ze.isStream,"){",Ye,".destroyStream(",Ot,");","}"),ze}Ie[Se]=Ui(ve,Ce)}),Ie}function Vr(ne,H){var _e=ne.static,Ae=ne.dynamic;if(zr in _e){var Ie=_e[zr];return Ie!==null&&pt.getVAO(Ie)===null&&(Ie=pt.createVAO(Ie)),Jr(function(ve){return ve.link(pt.getVAO(Ie))})}else if(zr in Ae){var Se=Ae[zr];return Ui(Se,function(ve,Ce){var Z=ve.invoke(Ce,Se);return Ce.def(ve.shared.vao+".getVAO("+Z+")")})}return null}function Ar(ne){var H=ne.static,_e=ne.dynamic,Ae={};return Object.keys(H).forEach(function(Ie){var Se=H[Ie];Ae[Ie]=Jr(function(ve,Ce){return typeof Se=="number"||typeof Se=="boolean"?""+Se:ve.link(Se)})}),Object.keys(_e).forEach(function(Ie){var Se=_e[Ie];Ae[Ie]=Ui(Se,function(ve,Ce){return ve.invoke(Ce,Se)})}),Ae}function Gr(ne,H,_e,Ae,Ie){var Se=ne.static,ve=ne.dynamic;V.optional(function(){var Lt=[di,ti,ur,zi,$n,Un,vi,ga,Nn,zr].concat(it);function Ft(Kt){Object.keys(Kt).forEach(function(cr){V.command(Lt.indexOf(cr)>=0,'unknown parameter "'+cr+'"',Ie.commandStr)})}Ft(Se),Ft(ve)});var Ce=Vt(ne,H),Z=Rt(ne),ge=tr(ne,Z,Ie),se=fr(ne,Ie),ke=jr(ne,Ie),Ne=Zt(ne,Ie,Ce);function Ke(Lt){var Ft=ge[Lt];Ft&&(ke[Lt]=Ft)}Ke($i),Ke(_t(ya));var Ye=Object.keys(ke).length>0,ze={framebuffer:Z,draw:se,shader:Ne,state:ke,dirty:Ye,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(ze.profile=Qt(ne),ze.uniforms=qr(_e,Ie),ze.drawVAO=ze.scopeVAO=Vr(ne),!ze.drawVAO&&Ne.program&&!Ce&&de.angle_instanced_arrays){var ct=!0,Ot=Ne.program.attributes.map(function(Lt){var Ft=H.static[Lt];return ct=ct&&!!Ft,Ft});if(ct&&Ot.length>0){var qt=pt.getVAO(pt.createVAO(Ot));ze.drawVAO=new Mi(null,null,null,function(Lt,Ft){return Lt.link(qt)}),ze.useVAO=!0}}return Ce?ze.useVAO=!0:ze.attributes=sr(H,Ie),ze.context=Ar(Ae),ze}function Kr(ne,H,_e){var Ae=ne.shared,Ie=Ae.context,Se=ne.scope();Object.keys(_e).forEach(function(ve){H.save(Ie,"."+ve);var Ce=_e[ve],Z=Ce.append(ne,H);Array.isArray(Z)?Se(Ie,".",ve,"=[",Z.join(),"];"):Se(Ie,".",ve,"=",Z,";")}),H(Se)}function Hr(ne,H,_e,Ae){var Ie=ne.shared,Se=Ie.gl,ve=Ie.framebuffer,Ce;Tt&&(Ce=H.def(Ie.extensions,".webgl_draw_buffers"));var Z=ne.constants,ge=Z.drawBuffer,se=Z.backBuffer,ke;_e?ke=_e.append(ne,H):ke=H.def(ve,".next"),Ae||H("if(",ke,"!==",ve,".cur){"),H("if(",ke,"){",Se,".bindFramebuffer(",Ru,",",ke,".framebuffer);"),Tt&&H(Ce,".drawBuffersWEBGL(",ge,"[",ke,".colorAttachments.length]);"),H("}else{",Se,".bindFramebuffer(",Ru,",null);"),Tt&&H(Ce,".drawBuffersWEBGL(",se,");"),H("}",ve,".cur=",ke,";"),Ae||H("}")}function ri(ne,H,_e){var Ae=ne.shared,Ie=Ae.gl,Se=ne.current,ve=ne.next,Ce=Ae.current,Z=Ae.next,ge=ne.cond(Ce,".dirty");it.forEach(function(se){var ke=_t(se);if(!(ke in _e.state)){var Ne,Ke;if(ke in ve){Ne=ve[ke],Ke=Se[ke];var Ye=ei(Ze[ke].length,function(ct){return ge.def(Ne,"[",ct,"]")});ge(ne.cond(Ye.map(function(ct,Ot){return ct+"!=="+Ke+"["+Ot+"]"}).join("||")).then(Ie,".",et[ke],"(",Ye,");",Ye.map(function(ct,Ot){return Ke+"["+Ot+"]="+ct}).join(";"),";"))}else{Ne=ge.def(Z,".",ke);var ze=ne.cond(Ne,"!==",Ce,".",ke);ge(ze),ke in vt?ze(ne.cond(Ne).then(Ie,".enable(",vt[ke],");").else(Ie,".disable(",vt[ke],");"),Ce,".",ke,"=",Ne,";"):ze(Ie,".",et[ke],"(",Ne,");",Ce,".",ke,"=",Ne,";")}}}),Object.keys(_e.state).length===0&&ge(Ce,".dirty=false;"),H(ge)}function li(ne,H,_e,Ae){var Ie=ne.shared,Se=ne.current,ve=Ie.current,Ce=Ie.gl;Iu(Object.keys(_e)).forEach(function(Z){var ge=_e[Z];if(!(Ae&&!Ae(ge))){var se=ge.append(ne,H);if(vt[Z]){var ke=vt[Z];Vs(ge)?se?H(Ce,".enable(",ke,");"):H(Ce,".disable(",ke,");"):H(ne.cond(se).then(Ce,".enable(",ke,");").else(Ce,".disable(",ke,");")),H(ve,".",Z,"=",se,";")}else if(Lr(se)){var Ne=Se[Z];H(Ce,".",et[Z],"(",se,");",se.map(function(Ke,Ye){return Ne+"["+Ye+"]="+Ke}).join(";"),";")}else H(Ce,".",et[Z],"(",se,");",ve,".",Z,"=",se,";")}})}function Br(ne,H){ht&&(ne.instancing=H.def(ne.shared.extensions,".angle_instanced_arrays"))}function Yt(ne,H,_e,Ae,Ie){var Se=ne.shared,ve=ne.stats,Ce=Se.current,Z=Se.timer,ge=_e.profile;function se(){return typeof performance>"u"?"Date.now()":"performance.now()"}var ke,Ne;function Ke(Lt){ke=H.def(),Lt(ke,"=",se(),";"),typeof Ie=="string"?Lt(ve,".count+=",Ie,";"):Lt(ve,".count++;"),ot&&(Ae?(Ne=H.def(),Lt(Ne,"=",Z,".getNumPendingQueries();")):Lt(Z,".beginQuery(",ve,");"))}function Ye(Lt){Lt(ve,".cpuTime+=",se(),"-",ke,";"),ot&&(Ae?Lt(Z,".pushScopeStats(",Ne,",",Z,".getNumPendingQueries(),",ve,");"):Lt(Z,".endQuery();"))}function ze(Lt){var Ft=H.def(Ce,".profile");H(Ce,".profile=",Lt,";"),H.exit(Ce,".profile=",Ft,";")}var ct;if(ge){if(Vs(ge)){ge.enable?(Ke(H),Ye(H.exit),ze("true")):ze("false");return}ct=ge.append(ne,H),ze(ct)}else ct=H.def(Ce,".profile");var Ot=ne.block();Ke(Ot),H("if(",ct,"){",Ot,"}");var qt=ne.block();Ye(qt),H.exit("if(",ct,"){",qt,"}")}function ui(ne,H,_e,Ae,Ie){var Se=ne.shared;function ve(Z){switch(Z){case v:case B:case xe:return 2;case b:case j:case Me:return 3;case A:case ee:case qe:return 4;default:return 1}}function Ce(Z,ge,se){var ke=Se.gl,Ne=H.def(Z,".location"),Ke=H.def(Se.attributes,"[",Ne,"]"),Ye=se.state,ze=se.buffer,ct=[se.x,se.y,se.z,se.w],Ot=["buffer","normalized","offset","stride"];function qt(){H("if(!",Ke,".buffer){",ke,".enableVertexAttribArray(",Ne,");}");var Ft=se.type,Kt;if(se.size?Kt=H.def(se.size,"||",ge):Kt=ge,H("if(",Ke,".type!==",Ft,"||",Ke,".size!==",Kt,"||",Ot.map(function(Ur){return Ke+"."+Ur+"!=="+se[Ur]}).join("||"),"){",ke,".bindBuffer(",Bn,",",ze,".buffer);",ke,".vertexAttribPointer(",[Ne,Kt,Ft,se.normalized,se.stride,se.offset],");",Ke,".type=",Ft,";",Ke,".size=",Kt,";",Ot.map(function(Ur){return Ke+"."+Ur+"="+se[Ur]+";"}).join(""),"}"),ht){var cr=se.divisor;H("if(",Ke,".divisor!==",cr,"){",ne.instancing,".vertexAttribDivisorANGLE(",[Ne,cr],");",Ke,".divisor=",cr,";}")}}function Lt(){H("if(",Ke,".buffer){",ke,".disableVertexAttribArray(",Ne,");",Ke,".buffer=null;","}if(",pi.map(function(Ft,Kt){return Ke+"."+Ft+"!=="+ct[Kt]}).join("||"),"){",ke,".vertexAttrib4f(",Ne,",",ct,");",pi.map(function(Ft,Kt){return Ke+"."+Ft+"="+ct[Kt]+";"}).join(""),"}")}Ye===rn?qt():Ye===Ps?Lt():(H("if(",Ye,"===",rn,"){"),qt(),H("}else{"),Lt(),H("}"))}Ae.forEach(function(Z){var ge=Z.name,se=_e.attributes[ge],ke;if(se){if(!Ie(se))return;ke=se.append(ne,H)}else{if(!Ie(Nu))return;var Ne=ne.scopeAttrib(ge);V.optional(function(){ne.assert(H,Ne+".state","missing attribute "+ge)}),ke={},Object.keys(new Oe).forEach(function(Ke){ke[Ke]=H.def(Ne,".",Ke)})}Ce(ne.link(Z),ve(Z.info.type),ke)})}function dr(ne,H,_e,Ae,Ie){for(var Se=ne.shared,ve=Se.gl,Ce,Z=0;Z<Ae.length;++Z){var ge=Ae[Z],se=ge.name,ke=ge.info.type,Ne=_e.uniforms[se],Ke=ne.link(ge),Ye=Ke+".location",ze;if(Ne){if(!Ie(Ne))continue;if(Vs(Ne)){var ct=Ne.value;if(V.command(ct!==null&&typeof ct<"u",'missing uniform "'+se+'"',ne.commandStr),ke===Nt||ke===mr){V.command(typeof ct=="function"&&(ke===Nt&&(ct._reglType==="texture2d"||ct._reglType==="framebuffer")||ke===mr&&(ct._reglType==="textureCube"||ct._reglType==="framebufferCube")),"invalid texture for uniform "+se,ne.commandStr);var Ot=ne.link(ct._texture||ct.color[0]._texture);H(ve,".uniform1i(",Ye,",",Ot+".bind());"),H.exit(Ot,".unbind();")}else if(ke===xt||ke===Jt||ke===kr){V.optional(function(){V.command(Lr(ct),"invalid matrix for uniform "+se,ne.commandStr),V.command(ke===xt&&ct.length===4||ke===Jt&&ct.length===9||ke===kr&&ct.length===16,"invalid length for matrix uniform "+se,ne.commandStr)});var qt=ne.global.def("new Float32Array(["+Array.prototype.slice.call(ct)+"])"),Lt=2;ke===Jt?Lt=3:ke===kr&&(Lt=4),H(ve,".uniformMatrix",Lt,"fv(",Ye,",false,",qt,");")}else{switch(ke){case c:V.commandType(ct,"number","uniform "+se,ne.commandStr),Ce="1f";break;case v:V.command(Lr(ct)&&ct.length===2,"uniform "+se,ne.commandStr),Ce="2f";break;case b:V.command(Lr(ct)&&ct.length===3,"uniform "+se,ne.commandStr),Ce="3f";break;case A:V.command(Lr(ct)&&ct.length===4,"uniform "+se,ne.commandStr),Ce="4f";break;case be:V.commandType(ct,"boolean","uniform "+se,ne.commandStr),Ce="1i";break;case L:V.commandType(ct,"number","uniform "+se,ne.commandStr),Ce="1i";break;case xe:V.command(Lr(ct)&&ct.length===2,"uniform "+se,ne.commandStr),Ce="2i";break;case B:V.command(Lr(ct)&&ct.length===2,"uniform "+se,ne.commandStr),Ce="2i";break;case Me:V.command(Lr(ct)&&ct.length===3,"uniform "+se,ne.commandStr),Ce="3i";break;case j:V.command(Lr(ct)&&ct.length===3,"uniform "+se,ne.commandStr),Ce="3i";break;case qe:V.command(Lr(ct)&&ct.length===4,"uniform "+se,ne.commandStr),Ce="4i";break;case ee:V.command(Lr(ct)&&ct.length===4,"uniform "+se,ne.commandStr),Ce="4i";break}H(ve,".uniform",Ce,"(",Ye,",",Lr(ct)?Array.prototype.slice.call(ct):ct,");")}continue}else ze=Ne.append(ne,H)}else{if(!Ie(Nu))continue;ze=H.def(Se.uniforms,"[",X.id(se),"]")}ke===Nt?(V(!Array.isArray(ze),"must specify a scalar prop for textures"),H("if(",ze,"&&",ze,'._reglType==="framebuffer"){',ze,"=",ze,".color[0];","}")):ke===mr&&(V(!Array.isArray(ze),"must specify a scalar prop for cube maps"),H("if(",ze,"&&",ze,'._reglType==="framebufferCube"){',ze,"=",ze,".color[0];","}")),V.optional(function(){function Ai(vn,Ju){ne.assert(H,vn,'bad data or missing for uniform "'+se+'".  '+Ju)}function ku(vn){V(!Array.isArray(ze),"must not specify an array type for uniform"),Ai("typeof "+ze+'==="'+vn+'"',"invalid type, expected "+vn)}function an(vn,Ju){Array.isArray(ze)?V(ze.length===vn,"must have length "+vn):Ai(Se.isArrayLike+"("+ze+")&&"+ze+".length==="+vn,"invalid vector, should have length "+vn,ne.commandStr)}function Du(vn){V(!Array.isArray(ze),"must not specify a value type"),Ai("typeof "+ze+'==="function"&&'+ze+'._reglType==="texture'+(vn===wl?"2d":"Cube")+'"',"invalid texture type",ne.commandStr)}switch(ke){case L:ku("number");break;case B:an(2);break;case j:an(3);break;case ee:an(4);break;case c:ku("number");break;case v:an(2);break;case b:an(3);break;case A:an(4);break;case be:ku("boolean");break;case xe:an(2);break;case Me:an(3);break;case qe:an(4);break;case xt:an(4);break;case Jt:an(9);break;case kr:an(16);break;case Nt:Du(wl);break;case mr:Du(ba);break}});var Ft=1;switch(ke){case Nt:case mr:var Kt=H.def(ze,"._texture");H(ve,".uniform1i(",Ye,",",Kt,".bind());"),H.exit(Kt,".unbind();");continue;case L:case be:Ce="1i";break;case B:case xe:Ce="2i",Ft=2;break;case j:case Me:Ce="3i",Ft=3;break;case ee:case qe:Ce="4i",Ft=4;break;case c:Ce="1f";break;case v:Ce="2f",Ft=2;break;case b:Ce="3f",Ft=3;break;case A:Ce="4f",Ft=4;break;case xt:Ce="Matrix2fv";break;case Jt:Ce="Matrix3fv";break;case kr:Ce="Matrix4fv";break}if(H(ve,".uniform",Ce,"(",Ye,","),Ce.charAt(0)==="M"){var cr=Math.pow(ke-xt+2,2),Ur=ne.global.def("new Float32Array(",cr,")");Array.isArray(ze)?H("false,(",ei(cr,function(Ai){return Ur+"["+Ai+"]="+ze[Ai]}),",",Ur,")"):H("false,(Array.isArray(",ze,")||",ze," instanceof Float32Array)?",ze,":(",ei(cr,function(Ai){return Ur+"["+Ai+"]="+ze+"["+Ai+"]"}),",",Ur,")")}else Ft>1?H(ei(Ft,function(Ai){return Array.isArray(ze)?ze[Ai]:ze+"["+Ai+"]"})):(V(!Array.isArray(ze),"uniform value must not be an array"),H(ze));H(");")}}function $t(ne,H,_e,Ae){var Ie=ne.shared,Se=Ie.gl,ve=Ie.draw,Ce=Ae.draw;function Z(){var Kt=Ce.elements,cr,Ur=H;return Kt?((Kt.contextDep&&Ae.contextDynamic||Kt.propDep)&&(Ur=_e),cr=Kt.append(ne,Ur)):cr=Ur.def(ve,".",zi),cr&&Ur("if("+cr+")"+Se+".bindBuffer("+xo+","+cr+".buffer.buffer);"),cr}function ge(){var Kt=Ce.count,cr,Ur=H;return Kt?((Kt.contextDep&&Ae.contextDynamic||Kt.propDep)&&(Ur=_e),cr=Kt.append(ne,Ur),V.optional(function(){Kt.MISSING&&ne.assert(H,"false","missing vertex count"),Kt.DYNAMIC&&ne.assert(Ur,cr+">=0","missing vertex count")})):(cr=Ur.def(ve,".",vi),V.optional(function(){ne.assert(Ur,cr+">=0","missing vertex count")})),cr}var se=Z();function ke(Kt){var cr=Ce[Kt];return cr?cr.contextDep&&Ae.contextDynamic||cr.propDep?cr.append(ne,_e):cr.append(ne,H):H.def(ve,".",Kt)}var Ne=ke($n),Ke=ke(Un),Ye=ge();if(typeof Ye=="number"){if(Ye===0)return}else _e("if(",Ye,"){"),_e.exit("}");var ze,ct;ht&&(ze=ke(ga),ct=ne.instancing);var Ot=se+".type",qt=Ce.elements&&Vs(Ce.elements);function Lt(){function Kt(){_e(ct,".drawElementsInstancedANGLE(",[Ne,Ye,Ot,Ke+"<<(("+Ot+"-"+la+")>>1)",ze],");")}function cr(){_e(ct,".drawArraysInstancedANGLE(",[Ne,Ke,Ye,ze],");")}se?qt?Kt():(_e("if(",se,"){"),Kt(),_e("}else{"),cr(),_e("}")):cr()}function Ft(){function Kt(){_e(Se+".drawElements("+[Ne,Ye,Ot,Ke+"<<(("+Ot+"-"+la+")>>1)"]+");")}function cr(){_e(Se+".drawArrays("+[Ne,Ke,Ye]+");")}se?qt?Kt():(_e("if(",se,"){"),Kt(),_e("}else{"),cr(),_e("}")):cr()}ht&&(typeof ze!="number"||ze>=0)?typeof ze=="string"?(_e("if(",ze,">0){"),Lt(),_e("}else if(",ze,"<0){"),Ft(),_e("}")):Lt():Ft()}function ir(ne,H,_e,Ae,Ie){var Se=Dt(),ve=Se.proc("body",Ie);return V.optional(function(){Se.commandStr=H.commandStr,Se.command=Se.link(H.commandStr)}),ht&&(Se.instancing=ve.def(Se.shared.extensions,".angle_instanced_arrays")),ne(Se,ve,_e,Ae),Se.compile().body}function lr(ne,H,_e,Ae){Br(ne,H),_e.useVAO?_e.drawVAO?H(ne.shared.vao,".setVAO(",_e.drawVAO.append(ne,H),");"):H(ne.shared.vao,".setVAO(",ne.shared.vao,".targetVAO);"):(H(ne.shared.vao,".setVAO(null);"),ui(ne,H,_e,Ae.attributes,function(){return!0})),dr(ne,H,_e,Ae.uniforms,function(){return!0}),$t(ne,H,H,_e)}function Fr(ne,H){var _e=ne.proc("draw",1);Br(ne,_e),Kr(ne,_e,H.context),Hr(ne,_e,H.framebuffer),ri(ne,_e,H),li(ne,_e,H.state),Yt(ne,_e,H,!1,!0);var Ae=H.shader.progVar.append(ne,_e);if(_e(ne.shared.gl,".useProgram(",Ae,".program);"),H.shader.program)lr(ne,_e,H,H.shader.program);else{_e(ne.shared.vao,".setVAO(null);");var Ie=ne.global.def("{}"),Se=_e.def(Ae,".id"),ve=_e.def(Ie,"[",Se,"]");_e(ne.cond(ve).then(ve,".call(this,a0);").else(ve,"=",Ie,"[",Se,"]=",ne.link(function(Ce){return ir(lr,ne,H,Ce,1)}),"(",Ae,");",ve,".call(this,a0);"))}Object.keys(H.state).length>0&&_e(ne.shared.current,".dirty=true;")}function Jn(ne,H,_e,Ae){ne.batchId="a1",Br(ne,H);function Ie(){return!0}ui(ne,H,_e,Ae.attributes,Ie),dr(ne,H,_e,Ae.uniforms,Ie),$t(ne,H,H,_e)}function Ao(ne,H,_e,Ae){Br(ne,H);var Ie=_e.contextDep,Se=H.def(),ve="a0",Ce="a1",Z=H.def();ne.shared.props=Z,ne.batchId=Se;var ge=ne.scope(),se=ne.scope();H(ge.entry,"for(",Se,"=0;",Se,"<",Ce,";++",Se,"){",Z,"=",ve,"[",Se,"];",se,"}",ge.exit);function ke(Ot){return Ot.contextDep&&Ie||Ot.propDep}function Ne(Ot){return!ke(Ot)}if(_e.needsContext&&Kr(ne,se,_e.context),_e.needsFramebuffer&&Hr(ne,se,_e.framebuffer),li(ne,se,_e.state,ke),_e.profile&&ke(_e.profile)&&Yt(ne,se,_e,!1,!0),Ae)_e.useVAO?_e.drawVAO?ke(_e.drawVAO)?se(ne.shared.vao,".setVAO(",_e.drawVAO.append(ne,se),");"):ge(ne.shared.vao,".setVAO(",_e.drawVAO.append(ne,ge),");"):ge(ne.shared.vao,".setVAO(",ne.shared.vao,".targetVAO);"):(ge(ne.shared.vao,".setVAO(null);"),ui(ne,ge,_e,Ae.attributes,Ne),ui(ne,se,_e,Ae.attributes,ke)),dr(ne,ge,_e,Ae.uniforms,Ne),dr(ne,se,_e,Ae.uniforms,ke),$t(ne,ge,se,_e);else{var Ke=ne.global.def("{}"),Ye=_e.shader.progVar.append(ne,se),ze=se.def(Ye,".id"),ct=se.def(Ke,"[",ze,"]");se(ne.shared.gl,".useProgram(",Ye,".program);","if(!",ct,"){",ct,"=",Ke,"[",ze,"]=",ne.link(function(Ot){return ir(Jn,ne,_e,Ot,2)}),"(",Ye,");}",ct,".call(this,a0[",Se,"],",Se,");")}}function fe(ne,H){var _e=ne.proc("batch",2);ne.batchId="0",Br(ne,_e);var Ae=!1,Ie=!0;Object.keys(H.context).forEach(function(Ke){Ae=Ae||H.context[Ke].propDep}),Ae||(Kr(ne,_e,H.context),Ie=!1);var Se=H.framebuffer,ve=!1;Se?(Se.propDep?Ae=ve=!0:Se.contextDep&&Ae&&(ve=!0),ve||Hr(ne,_e,Se)):Hr(ne,_e,null),H.state.viewport&&H.state.viewport.propDep&&(Ae=!0);function Ce(Ke){return Ke.contextDep&&Ae||Ke.propDep}ri(ne,_e,H),li(ne,_e,H.state,function(Ke){return!Ce(Ke)}),(!H.profile||!Ce(H.profile))&&Yt(ne,_e,H,!1,"a1"),H.contextDep=Ae,H.needsContext=Ie,H.needsFramebuffer=ve;var Z=H.shader.progVar;if(Z.contextDep&&Ae||Z.propDep)Ao(ne,_e,H,null);else{var ge=Z.append(ne,_e);if(_e(ne.shared.gl,".useProgram(",ge,".program);"),H.shader.program)Ao(ne,_e,H,H.shader.program);else{_e(ne.shared.vao,".setVAO(null);");var se=ne.global.def("{}"),ke=_e.def(ge,".id"),Ne=_e.def(se,"[",ke,"]");_e(ne.cond(Ne).then(Ne,".call(this,a0,a1);").else(Ne,"=",se,"[",ke,"]=",ne.link(function(Ke){return ir(Ao,ne,H,Ke,2)}),"(",ge,");",Ne,".call(this,a0,a1);"))}}Object.keys(H.state).length>0&&_e(ne.shared.current,".dirty=true;")}function Pe(ne,H){var _e=ne.proc("scope",3);ne.batchId="a2";var Ae=ne.shared,Ie=Ae.current;Kr(ne,_e,H.context),H.framebuffer&&H.framebuffer.append(ne,_e),Iu(Object.keys(H.state)).forEach(function(ve){var Ce=H.state[ve],Z=Ce.append(ne,_e);Lr(Z)?Z.forEach(function(ge,se){_e.set(ne.next[ve],"["+se+"]",ge)}):_e.set(Ae.next,"."+ve,Z)}),Yt(ne,_e,H,!0,!0),[zi,Un,vi,ga,$n].forEach(function(ve){var Ce=H.draw[ve];Ce&&_e.set(Ae.draw,"."+ve,""+Ce.append(ne,_e))}),Object.keys(H.uniforms).forEach(function(ve){var Ce=H.uniforms[ve].append(ne,_e);Array.isArray(Ce)&&(Ce="["+Ce.join()+"]"),_e.set(Ae.uniforms,"["+X.id(ve)+"]",Ce)}),Object.keys(H.attributes).forEach(function(ve){var Ce=H.attributes[ve].append(ne,_e),Z=ne.scopeAttrib(ve);Object.keys(new Oe).forEach(function(ge){_e.set(Z,"."+ge,Ce[ge])})}),H.scopeVAO&&_e.set(Ae.vao,".targetVAO",H.scopeVAO.append(ne,_e));function Se(ve){var Ce=H.shader[ve];Ce&&_e.set(Ae.shader,"."+ve,Ce.append(ne,_e))}Se(ti),Se(ur),Object.keys(H.state).length>0&&(_e(Ie,".dirty=true;"),_e.exit(Ie,".dirty=true;")),_e("a1(",ne.shared.context,",a0,",ne.batchId,");")}function Ue(ne){if(!(typeof ne!="object"||Lr(ne))){for(var H=Object.keys(ne),_e=0;_e<H.length;++_e)if(or.isDynamic(ne[H[_e]]))return!0;return!1}}function Mt(ne,H,_e){var Ae=H.static[_e];if(!Ae||!Ue(Ae))return;var Ie=ne.global,Se=Object.keys(Ae),ve=!1,Ce=!1,Z=!1,ge=ne.global.def("{}");Se.forEach(function(ke){var Ne=Ae[ke];if(or.isDynamic(Ne)){typeof Ne=="function"&&(Ne=Ae[ke]=or.unbox(Ne));var Ke=Ui(Ne,null);ve=ve||Ke.thisDep,Z=Z||Ke.propDep,Ce=Ce||Ke.contextDep}else{switch(Ie(ge,".",ke,"="),typeof Ne){case"number":Ie(Ne);break;case"string":Ie('"',Ne,'"');break;case"object":Array.isArray(Ne)&&Ie("[",Ne.join(),"]");break;default:Ie(ne.link(Ne));break}Ie(";")}});function se(ke,Ne){Se.forEach(function(Ke){var Ye=Ae[Ke];if(or.isDynamic(Ye)){var ze=ke.invoke(Ne,Ye);Ne(ge,".",Ke,"=",ze,";")}})}H.dynamic[_e]=new or.DynamicVariable(fs,{thisDep:ve,contextDep:Ce,propDep:Z,ref:ge,append:se}),delete H.static[_e]}function rr(ne,H,_e,Ae,Ie){var Se=Dt();Se.stats=Se.link(Ie),Object.keys(H.static).forEach(function(Ce){Mt(Se,H,Ce)}),_l.forEach(function(Ce){Mt(Se,ne,Ce)});var ve=Gr(ne,H,_e,Ae,Se);return Fr(Se,ve),Pe(Se,ve),fe(Se,ve),o(Se.compile(),{destroy:function(){ve.shader.program.destroy()}})}return{next:Ct,current:Ze,procs:function(){var ne=Dt(),H=ne.proc("poll"),_e=ne.proc("refresh"),Ae=ne.block();H(Ae),_e(Ae);var Ie=ne.shared,Se=Ie.gl,ve=Ie.next,Ce=Ie.current;Ae(Ce,".dirty=false;"),Hr(ne,H),Hr(ne,_e,null,!0);var Z;ht&&(Z=ne.link(ht)),de.oes_vertex_array_object&&_e(ne.link(de.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var ge=0;ge<Fe.maxAttributes;++ge){var se=_e.def(Ie.attributes,"[",ge,"]"),ke=ne.cond(se,".buffer");ke.then(Se,".enableVertexAttribArray(",ge,");",Se,".bindBuffer(",Bn,",",se,".buffer.buffer);",Se,".vertexAttribPointer(",ge,",",se,".size,",se,".type,",se,".normalized,",se,".stride,",se,".offset);").else(Se,".disableVertexAttribArray(",ge,");",Se,".vertexAttrib4f(",ge,",",se,".x,",se,".y,",se,".z,",se,".w);",se,".buffer=null;"),_e(ke),ht&&_e(Z,".vertexAttribDivisorANGLE(",ge,",",se,".divisor);")}return _e(ne.shared.vao,".currentVAO=null;",ne.shared.vao,".setVAO(",ne.shared.vao,".targetVAO);"),Object.keys(vt).forEach(function(Ne){var Ke=vt[Ne],Ye=Ae.def(ve,".",Ne),ze=ne.block();ze("if(",Ye,"){",Se,".enable(",Ke,")}else{",Se,".disable(",Ke,")}",Ce,".",Ne,"=",Ye,";"),_e(ze),H("if(",Ye,"!==",Ce,".",Ne,"){",ze,"}")}),Object.keys(et).forEach(function(Ne){var Ke=et[Ne],Ye=Ze[Ne],ze,ct,Ot=ne.block();if(Ot(Se,".",Ke,"("),Lr(Ye)){var qt=Ye.length;ze=ne.global.def(ve,".",Ne),ct=ne.global.def(Ce,".",Ne),Ot(ei(qt,function(Lt){return ze+"["+Lt+"]"}),");",ei(qt,function(Lt){return ct+"["+Lt+"]="+ze+"["+Lt+"];"}).join("")),H("if(",ei(qt,function(Lt){return ze+"["+Lt+"]!=="+ct+"["+Lt+"]"}).join("||"),"){",Ot,"}")}else ze=Ae.def(ve,".",Ne),ct=Ae.def(Ce,".",Ne),Ot(ze,");",Ce,".",Ne,"=",ze,";"),H("if(",ze,"!==",ct,"){",Ot,"}");_e(Ot)}),ne.compile()}(),compile:rr}}function Wu(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var zu=34918,Vu=34919,$u=35007,Ku=function(N,X){if(!X.ext_disjoint_timer_query)return null;var de=[];function Fe(){return de.pop()||X.ext_disjoint_timer_query.createQueryEXT()}function Qe(ht){de.push(ht)}var Be=[];function je(ht){var Tt=Fe();X.ext_disjoint_timer_query.beginQueryEXT($u,Tt),Be.push(Tt),ot(Be.length-1,Be.length,ht)}function st(){X.ext_disjoint_timer_query.endQueryEXT($u)}function lt(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var pt=[];function ut(){return pt.pop()||new lt}function yt(ht){pt.push(ht)}var bt=[];function ot(ht,Tt,Ze){var Ct=ut();Ct.startQueryIndex=ht,Ct.endQueryIndex=Tt,Ct.sum=0,Ct.stats=Ze,bt.push(Ct)}var gt=[],Oe=[];function Ge(){var ht,Tt,Ze=Be.length;if(Ze!==0){Oe.length=Math.max(Oe.length,Ze+1),gt.length=Math.max(gt.length,Ze+1),gt[0]=0,Oe[0]=0;var Ct=0;for(ht=0,Tt=0;Tt<Be.length;++Tt){var it=Be[Tt];X.ext_disjoint_timer_query.getQueryObjectEXT(it,Vu)?(Ct+=X.ext_disjoint_timer_query.getQueryObjectEXT(it,zu),Qe(it)):Be[ht++]=it,gt[Tt+1]=Ct,Oe[Tt+1]=ht}for(Be.length=ht,ht=0,Tt=0;Tt<bt.length;++Tt){var vt=bt[Tt],et=vt.startQueryIndex,_t=vt.endQueryIndex;vt.sum+=gt[_t]-gt[et];var It=Oe[et],Wt=Oe[_t];Wt===It?(vt.stats.gpuTime+=vt.sum/1e6,yt(vt)):(vt.startQueryIndex=It,vt.endQueryIndex=Wt,bt[ht++]=vt)}bt.length=ht}}return{beginQuery:je,endQuery:st,pushScopeStats:ot,update:Ge,getNumPendingQueries:function(){return Be.length},clear:function(){de.push.apply(de,Be);for(var ht=0;ht<de.length;ht++)X.ext_disjoint_timer_query.deleteQueryEXT(de[ht]);Be.length=0,de.length=0},restore:function(){Be.length=0,de.length=0}}},Hu=16384,Qu=256,Yu=1024,qu=34962,Uu="webglcontextlost",Bu="webglcontextrestored",Fu=1,Xu=2,Zu=3;function Pu(N,X){for(var de=0;de<N.length;++de)if(N[de]===X)return de;return-1}function ef(N){var X=Lo(N);if(!X)return null;var de=X.gl,Fe=de.getContextAttributes(),Qe=de.isContextLost(),Be=Ki(de,X);if(!Be)return null;var je=vr(),st=Wu(),lt=Be.extensions,pt=Ku(de,lt),ut=hr(),yt=de.drawingBufferWidth,bt=de.drawingBufferHeight,ot={tick:0,time:0,viewportWidth:yt,viewportHeight:bt,framebufferWidth:yt,framebufferHeight:bt,drawingBufferWidth:yt,drawingBufferHeight:bt,pixelRatio:X.pixelRatio},gt={},Oe={elements:null,primitive:4,count:-1,offset:0,instances:-1},Ge=xl(de,lt),ht=Ba(de,st,X,Ze),Tt=_o(de,lt,Ge,st,ht);function Ze($t){return Tt.destroyBuffer($t)}var Ct=gi(de,lt,ht,st),it=Cu(de,je,st,X),vt=yo(de,lt,Ge,function(){It.procs.poll()},ot,st,X),et=bu(de,lt,Ge,st,X),_t=Gi(de,lt,Ge,vt,et,st),It=Gu(de,je,lt,Ge,ht,Ct,vt,_t,gt,Tt,it,Oe,ot,pt,X),Wt=So(de,_t,It.procs.poll,ot,Fe,lt,Ge),St=It.next,dt=de.canvas,Xe=[],Dt=[],Qt=[],Rt=[X.onDestroy],tr=null;function Vt(){if(Xe.length===0){pt&&pt.update(),tr=null;return}tr=br.next(Vt),li();for(var $t=Xe.length-1;$t>=0;--$t){var ir=Xe[$t];ir&&ir(ot,null,0)}de.flush(),pt&&pt.update()}function Zt(){!tr&&Xe.length>0&&(tr=br.next(Vt))}function fr(){tr&&(br.cancel(Vt),tr=null)}function jr($t){$t.preventDefault(),Qe=!0,fr(),Dt.forEach(function(ir){ir()})}function qr($t){de.getError(),Qe=!1,Be.restore(),it.restore(),ht.restore(),vt.restore(),et.restore(),_t.restore(),Tt.restore(),pt&&pt.restore(),It.procs.refresh(),Zt(),Qt.forEach(function(ir){ir()})}dt&&(dt.addEventListener(Uu,jr,!1),dt.addEventListener(Bu,qr,!1));function sr(){Xe.length=0,fr(),dt&&(dt.removeEventListener(Uu,jr),dt.removeEventListener(Bu,qr)),it.clear(),_t.clear(),et.clear(),vt.clear(),Ct.clear(),ht.clear(),Tt.clear(),pt&&pt.clear(),Rt.forEach(function($t){$t()})}function Vr($t){V(!!$t,"invalid args to regl({...})"),V.type($t,"object","invalid args to regl({...})");function ir(Ie){var Se=o({},Ie);delete Se.uniforms,delete Se.attributes,delete Se.context,delete Se.vao,"stencil"in Se&&Se.stencil.op&&(Se.stencil.opBack=Se.stencil.opFront=Se.stencil.op,delete Se.stencil.op);function ve(Ce){if(Ce in Se){var Z=Se[Ce];delete Se[Ce],Object.keys(Z).forEach(function(ge){Se[Ce+"."+ge]=Z[ge]})}}return ve("blend"),ve("depth"),ve("cull"),ve("stencil"),ve("polygonOffset"),ve("scissor"),ve("sample"),"vao"in Ie&&(Se.vao=Ie.vao),Se}function lr(Ie,Se){var ve={},Ce={};return Object.keys(Ie).forEach(function(Z){var ge=Ie[Z];if(or.isDynamic(ge)){Ce[Z]=or.unbox(ge,Z);return}else if(Se&&Array.isArray(ge)){for(var se=0;se<ge.length;++se)if(or.isDynamic(ge[se])){Ce[Z]=or.unbox(ge,Z);return}}ve[Z]=ge}),{dynamic:Ce,static:ve}}var Fr=lr($t.context||{},!0),Jn=lr($t.uniforms||{},!0),Ao=lr($t.attributes||{},!1),fe=lr(ir($t),!1),Pe={gpuTime:0,cpuTime:0,count:0},Ue=It.compile(fe,Ao,Jn,Fr,Pe),Mt=Ue.draw,rr=Ue.batch,ne=Ue.scope,H=[];function _e(Ie){for(;H.length<Ie;)H.push(null);return H}function Ae(Ie,Se){var ve;if(Qe&&V.raise("context lost"),typeof Ie=="function")return ne.call(this,null,Ie,0);if(typeof Se=="function")if(typeof Ie=="number")for(ve=0;ve<Ie;++ve)ne.call(this,null,Se,ve);else if(Array.isArray(Ie))for(ve=0;ve<Ie.length;++ve)ne.call(this,Ie[ve],Se,ve);else return ne.call(this,Ie,Se,0);else if(typeof Ie=="number"){if(Ie>0)return rr.call(this,_e(Ie|0),Ie|0)}else if(Array.isArray(Ie)){if(Ie.length)return rr.call(this,Ie,Ie.length)}else return Mt.call(this,Ie)}return o(Ae,{stats:Pe,destroy:function(){Ue.destroy()}})}var Ar=_t.setFBO=Vr({framebuffer:or.define.call(null,Fu,"framebuffer")});function Gr($t,ir){var lr=0;It.procs.poll();var Fr=ir.color;Fr&&(de.clearColor(+Fr[0]||0,+Fr[1]||0,+Fr[2]||0,+Fr[3]||0),lr|=Hu),"depth"in ir&&(de.clearDepth(+ir.depth),lr|=Qu),"stencil"in ir&&(de.clearStencil(ir.stencil|0),lr|=Yu),V(!!lr,"called regl.clear with no buffer specified"),de.clear(lr)}function Kr($t){if(V(typeof $t=="object"&&$t,"regl.clear() takes an object as input"),"framebuffer"in $t)if($t.framebuffer&&$t.framebuffer_reglType==="framebufferCube")for(var ir=0;ir<6;++ir)Ar(o({framebuffer:$t.framebuffer.faces[ir]},$t),Gr);else Ar($t,Gr);else Gr(null,$t)}function Hr($t){V.type($t,"function","regl.frame() callback must be a function"),Xe.push($t);function ir(){var lr=Pu(Xe,$t);V(lr>=0,"cannot cancel a frame twice");function Fr(){var Jn=Pu(Xe,Fr);Xe[Jn]=Xe[Xe.length-1],Xe.length-=1,Xe.length<=0&&fr()}Xe[lr]=Fr}return Zt(),{cancel:ir}}function ri(){var $t=St.viewport,ir=St.scissor_box;$t[0]=$t[1]=ir[0]=ir[1]=0,ot.viewportWidth=ot.framebufferWidth=ot.drawingBufferWidth=$t[2]=ir[2]=de.drawingBufferWidth,ot.viewportHeight=ot.framebufferHeight=ot.drawingBufferHeight=$t[3]=ir[3]=de.drawingBufferHeight}function li(){ot.tick+=1,ot.time=Yt(),ri(),It.procs.poll()}function Br(){vt.refresh(),ri(),It.procs.refresh(),pt&&pt.update()}function Yt(){return(hr()-ut)/1e3}Br();function ui($t,ir){V.type(ir,"function","listener callback must be a function");var lr;switch($t){case"frame":return Hr(ir);case"lost":lr=Dt;break;case"restore":lr=Qt;break;case"destroy":lr=Rt;break;default:V.raise("invalid event, must be one of frame,lost,restore,destroy")}return lr.push(ir),{cancel:function(){for(var Fr=0;Fr<lr.length;++Fr)if(lr[Fr]===ir){lr[Fr]=lr[lr.length-1],lr.pop();return}}}}var dr=o(Vr,{clear:Kr,prop:or.define.bind(null,Fu),context:or.define.bind(null,Xu),this:or.define.bind(null,Zu),draw:Vr({}),buffer:function($t){return ht.create($t,qu,!1,!1)},elements:function($t){return Ct.create($t,!1)},texture:vt.create2D,cube:vt.createCube,renderbuffer:et.create,framebuffer:_t.create,framebufferCube:_t.createCube,vao:Tt.createVAO,attributes:Fe,frame:Hr,on:ui,limits:Ge,hasExtension:function($t){return Ge.extensions.indexOf($t.toLowerCase())>=0},read:Wt,destroy:sr,_gl:de,_refresh:Br,poll:function(){li(),pt&&pt.update()},now:Yt,stats:st});return X.onDone(null,dr),dr}return ef})})(regl$1);var reglExports=regl$1.exports;const regl=getDefaultExportFromCjs(reglExports),Mouse=mouseListen();class HydraRenderer{constructor({pb:t=null,width:r=1280,height:o=720,numSources:u=4,numOutputs:f=4,makeGlobal:g=!0,autoLoop:_=!0,detectAudio:w=!0,enableStreamCapture:S=!0,canvas:M,precision:C,extendTransforms:T={}}={}){if(ArrayUtils.init(),this.pb=t,this.width=r,this.height=o,this.renderAll=!1,this.detectAudio=w,this._initCanvas(M),globalThis.window.test="hi",this.synth={time:0,bpm:30,width:this.width,height:this.height,fps:void 0,stats:{fps:0},speed:1,mouse:Mouse,render:this._render.bind(this),setResolution:this.setResolution.bind(this),update:P=>{},hush:this.hush.bind(this),tick:this.tick.bind(this)},g&&(window.loadScript=this.loadScript),this.timeSinceLastUpdate=0,this._time=0,C&&["lowp","mediump","highp"].includes(C.toLowerCase()))this.precision=C.toLowerCase();else{let P=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;this.precision=P?"highp":"mediump"}if(this.extendTransforms=T,this.saveFrame=!1,this.captureStream=null,this.generator=void 0,this._initRegl(),this._initOutputs(f),this._initSources(u),this._generateGlslTransforms(),this.synth.screencap=()=>{this.saveFrame=!0},S)try{this.captureStream=this.canvas.captureStream(25),this.synth.vidRecorder=new VideoRecorder(this.captureStream)}catch(P){console.warn(`[hydra-synth warning]
new MediaSource() is not currently supported on iOS.`),console.error(P)}w&&this._initAudio(),_&&loop(this.tick.bind(this)).start(),this.sandbox=new EvalSandbox(this.synth,g,["speed","update","bpm","fps"])}eval(t){this.sandbox.eval(t)}getScreenImage(t){this.imageCallback=t,this.saveFrame=!0}hush(){this.s.forEach(t=>{t.clear()}),this.o.forEach(t=>{this.synth.solid(0,0,0,0).out(t)}),this.synth.render(this.o[0]),this.sandbox.set("update",t=>{})}loadScript(t=""){return new Promise((o,u)=>{var f=document.createElement("script");f.onload=function(){console.log(`loaded script ${t}`),o()},f.onerror=g=>{console.log(`error loading script ${t}`,"log-error"),o()},f.src=t,document.head.appendChild(f)})}setResolution(t,r){this.canvas.width=t,this.canvas.height=r,this.width=t,this.height=r,this.sandbox.set("width",t),this.sandbox.set("height",r),console.log(this.width),this.o.forEach(o=>{o.resize(t,r)}),this.s.forEach(o=>{o.resize(t,r)}),this.regl._refresh(),console.log(this.canvas.width)}canvasToImage(t){const r=document.createElement("a");r.style.display="none";let o=new Date;r.download=`hydra-${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}-${o.getHours()}.${o.getMinutes()}.${o.getSeconds()}.png`,document.body.appendChild(r);var u=this;this.canvas.toBlob(f=>{u.imageCallback?(u.imageCallback(f),delete u.imageCallback):(r.href=URL.createObjectURL(f),console.log(r.href),r.click())},"image/png"),setTimeout(()=>{document.body.removeChild(r),window.URL.revokeObjectURL(r.href)},300)}_initAudio(){this.synth.a=new Audio({numBins:4,parentEl:this.canvas.parentNode})}_initCanvas(t){t?(this.canvas=t,this.width=t.width,this.height=t.height):(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.imageRendering="pixelated",document.body.appendChild(this.canvas))}_initRegl(){this.regl=regl({canvas:this.canvas,pixelRatio:1}),this.regl.clear({color:[0,0,0,1]}),this.renderAll=this.regl({frag:`
      precision ${this.precision} float;
      varying vec2 uv;
      uniform sampler2D tex0;
      uniform sampler2D tex1;
      uniform sampler2D tex2;
      uniform sampler2D tex3;

      void main () {
        vec2 st = vec2(1.0 - uv.x, uv.y);
        st*= vec2(2);
        vec2 q = floor(st).xy*(vec2(2.0, 1.0));
        int quad = int(q.x) + int(q.y);
        st.x += step(1., mod(st.y,2.0));
        st.y += step(1., mod(st.x,2.0));
        st = fract(st);
        if(quad==0){
          gl_FragColor = texture2D(tex0, st);
        } else if(quad==1){
          gl_FragColor = texture2D(tex1, st);
        } else if (quad==2){
          gl_FragColor = texture2D(tex2, st);
        } else {
          gl_FragColor = texture2D(tex3, st);
        }

      }
      `,vert:`
      precision ${this.precision} float;
      attribute vec2 position;
      varying vec2 uv;

      void main () {
        uv = position;
        gl_Position = vec4(1.0 - 2.0 * position, 0, 1);
      }`,attributes:{position:[[-2,0],[0,-2],[2,2]]},uniforms:{tex0:this.regl.prop("tex0"),tex1:this.regl.prop("tex1"),tex2:this.regl.prop("tex2"),tex3:this.regl.prop("tex3")},count:3,depth:{enable:!1}}),this.renderFbo=this.regl({frag:`
      precision ${this.precision} float;
      varying vec2 uv;
      uniform vec2 resolution;
      uniform sampler2D tex0;

      void main () {
        gl_FragColor = texture2D(tex0, vec2(1.0 - uv.x, uv.y));
      }
      `,vert:`
      precision ${this.precision} float;
      attribute vec2 position;
      varying vec2 uv;

      void main () {
        uv = position;
        gl_Position = vec4(1.0 - 2.0 * position, 0, 1);
      }`,attributes:{position:[[-2,0],[0,-2],[2,2]]},uniforms:{tex0:this.regl.prop("tex0"),resolution:this.regl.prop("resolution")},count:3,depth:{enable:!1}})}_initOutputs(t){const r=this;this.o=Array(t).fill().map((o,u)=>{var f=new Output({regl:this.regl,width:this.width,height:this.height,precision:this.precision,label:`o${u}`});return f.id=u,r.synth["o"+u]=f,f}),this.output=this.o[0]}_initSources(t){this.s=[];for(var r=0;r<t;r++)this.createSource(r)}createSource(t){let r=new HydraSource({regl:this.regl,pb:this.pb,width:this.width,height:this.height,label:`s${t}`});return this.synth["s"+this.s.length]=r,this.s.push(r),r}_generateGlslTransforms(){var t=this;this.generator=new GeneratorFactory({defaultOutput:this.o[0],defaultUniforms:this.o[0].uniforms,extendTransforms:this.extendTransforms,changeListener:({type:r,method:o,synth:u})=>{r==="add"&&(t.synth[o]=u.generators[o],t.sandbox&&t.sandbox.add(o))}}),this.synth.setFunction=this.generator.setFunction.bind(this.generator)}_render(t){t?(this.output=t,this.isRenderingAll=!1):this.isRenderingAll=!0}tick(t,r){if(this.sandbox.tick(),this.detectAudio===!0&&this.synth.a.tick(),this.sandbox.set("time",this.synth.time+=t*.001*this.synth.speed),this.timeSinceLastUpdate+=t,!this.synth.fps||this.timeSinceLastUpdate>=1e3/this.synth.fps){if(this.synth.stats.fps=Math.ceil(1e3/this.timeSinceLastUpdate),this.synth.update)try{this.synth.update(this.timeSinceLastUpdate)}catch(o){console.log(o)}for(let o=0;o<this.s.length;o++)this.s[o].tick(this.synth.time);for(let o=0;o<this.o.length;o++)this.o[o].tick({time:this.synth.time,mouse:this.synth.mouse,bpm:this.synth.bpm,resolution:[this.canvas.width,this.canvas.height]});this.isRenderingAll?this.renderAll({tex0:this.o[0].getCurrent(),tex1:this.o[1].getCurrent(),tex2:this.o[2].getCurrent(),tex3:this.o[3].getCurrent(),resolution:[this.canvas.width,this.canvas.height]}):this.renderFbo({tex0:this.output.getCurrent(),resolution:[this.canvas.width,this.canvas.height]}),this.timeSinceLastUpdate=0}this.saveFrame===!0&&(this.canvasToImage(),this.saveFrame=!1)}}class P5 extends p5{constructor({width:t=window.innerWidth,height:r=window.innerHeight,mode:o="P2D"}={}){super(u=>{u.setup=()=>{u.createCanvas(t,r,u[o])},u.draw=()=>{}},"hydra-ui"),this.width=t,this.height=r,this.mode=o,this.canvas.style.position="absolute",this.canvas.style.top="0px",this.canvas.style.left="0px",this.canvas.style.zIndex=-1}show(){this.canvas.style.visibility="visible"}hide(){this.canvas.style.visibility="hidden"}clear(){this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height)}}var lib$2={exports:{}},re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parseuri$2=function e(t){var r=t,o=t.indexOf("["),u=t.indexOf("]");o!=-1&&u!=-1&&(t=t.substring(0,o)+t.substring(o,u).replace(/:/g,";")+t.substring(u,t.length));for(var f=re.exec(t||""),g={},_=14;_--;)g[parts[_]]=f[_]||"";return o!=-1&&u!=-1&&(g.source=r,g.host=g.host.substring(1,g.host.length-1).replace(/;/g,":"),g.authority=g.authority.replace("[","").replace("]","").replace(/;/g,":"),g.ipv6uri=!0),g.pathNames=pathNames(g,g.path),g.queryKey=queryKey(g,g.query),g};function pathNames(e,t){var r=/\/{2,9}/g,o=t.replace(r,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&o.splice(0,1),t.substr(t.length-1,1)=="/"&&o.splice(o.length-1,1),o}function queryKey(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,u,f){u&&(r[u]=f)}),r}var browser$6={exports:{}},debug$9={exports:{}},s$2=1e3,m$2=s$2*60,h$2=m$2*60,d$2=h$2*24,y$2=d$2*365.25,ms$3=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return parse$2(e);if(r==="number"&&isNaN(e)===!1)return t.long?fmtLong$2(e):fmtShort$2(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse$2(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*y$2;case"days":case"day":case"d":return r*d$2;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h$2;case"minutes":case"minute":case"mins":case"min":case"m":return r*m$2;case"seconds":case"second":case"secs":case"sec":case"s":return r*s$2;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort$2(e){return e>=d$2?Math.round(e/d$2)+"d":e>=h$2?Math.round(e/h$2)+"h":e>=m$2?Math.round(e/m$2)+"m":e>=s$2?Math.round(e/s$2)+"s":e+"ms"}function fmtLong$2(e){return plural$2(e,d$2,"day")||plural$2(e,h$2,"hour")||plural$2(e,m$2,"minute")||plural$2(e,s$2,"second")||e+" ms"}function plural$2(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=o.debug=o.default=o,t.coerce=w,t.disable=g,t.enable=f,t.enabled=_,t.humanize=ms$3,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(S){var M=0,C;for(C in S)M=(M<<5)-M+S.charCodeAt(C),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function o(S){var M;function C(){if(C.enabled){var T=C,k=+new Date,P=k-(M||k);T.diff=P,T.prev=M,T.curr=k,M=k;for(var $=new Array(arguments.length),I=0;I<$.length;I++)$[I]=arguments[I];$[0]=t.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");var E=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,function(le,W){if(le==="%%")return le;E++;var ae=t.formatters[W];if(typeof ae=="function"){var te=$[E];le=ae.call(T,te),$.splice(E,1),E--}return le}),t.formatArgs.call(T,$);var F=C.log||t.log||console.log.bind(console);F.apply(T,$)}}return C.namespace=S,C.enabled=t.enabled(S),C.useColors=t.useColors(),C.color=r(S),C.destroy=u,typeof t.init=="function"&&t.init(C),t.instances.push(C),C}function u(){var S=t.instances.indexOf(this);return S!==-1?(t.instances.splice(S,1),!0):!1}function f(S){t.save(S),t.names=[],t.skips=[];var M,C=(typeof S=="string"?S:"").split(/[\s,]+/),T=C.length;for(M=0;M<T;M++)C[M]&&(S=C[M].replace(/\*/g,".*?"),S[0]==="-"?t.skips.push(new RegExp("^"+S.substr(1)+"$")):t.names.push(new RegExp("^"+S+"$")));for(M=0;M<t.instances.length;M++){var k=t.instances[M];k.enabled=t.enabled(k.namespace)}}function g(){t.enable("")}function _(S){if(S[S.length-1]==="*")return!0;var M,C;for(M=0,C=t.skips.length;M<C;M++)if(t.skips[M].test(S))return!1;for(M=0,C=t.names.length;M<C;M++)if(t.names[M].test(S))return!0;return!1}function w(S){return S instanceof Error?S.stack||S.message:S}})(debug$9,debug$9.exports);var debugExports$2=debug$9.exports;(function(e,t){t=e.exports=debugExports$2,t.log=u,t.formatArgs=o,t.save=f,t.load=g,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:_(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(w){try{return JSON.stringify(w)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}};function o(w){var S=this.useColors;if(w[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+w[0]+(S?"%c ":" ")+"+"+t.humanize(this.diff),!!S){var M="color: "+this.color;w.splice(1,0,M,"color: inherit");var C=0,T=0;w[0].replace(/%[a-zA-Z%]/g,function(k){k!=="%%"&&(C++,k==="%c"&&(T=C))}),w.splice(T,0,M)}}function u(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function f(w){try{w==null?t.storage.removeItem("debug"):t.storage.debug=w}catch{}}function g(){var w;try{w=t.storage.debug}catch{}return!w&&typeof process<"u"&&"env"in process&&(w={}.DEBUG),w}t.enable(g());function _(){try{return window.localStorage}catch{}}})(browser$6,browser$6.exports);var browserExports$4=browser$6.exports,parseuri$1=parseuri$2,debug$8=browserExports$4("socket.io-client:url"),url_1=url;function url(e,t){var r=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(debug$8("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),debug$8("parse %s",e),r=parseuri$1(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=r.host.indexOf(":")!==-1,u=o?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+u+":"+r.port,r.href=r.protocol+"://"+u+(t&&t.port===r.port?"":":"+r.port),r}var socket_ioParser={},browser$5={exports:{}},debug$7={exports:{}},s$1=1e3,m$1=s$1*60,h$1=m$1*60,d$1=h$1*24,y$1=d$1*365.25,ms$2=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return parse$1(e);if(r==="number"&&isNaN(e)===!1)return t.long?fmtLong$1(e):fmtShort$1(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse$1(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*y$1;case"days":case"day":case"d":return r*d$1;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h$1;case"minutes":case"minute":case"mins":case"min":case"m":return r*m$1;case"seconds":case"second":case"secs":case"sec":case"s":return r*s$1;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort$1(e){return e>=d$1?Math.round(e/d$1)+"d":e>=h$1?Math.round(e/h$1)+"h":e>=m$1?Math.round(e/m$1)+"m":e>=s$1?Math.round(e/s$1)+"s":e+"ms"}function fmtLong$1(e){return plural$1(e,d$1,"day")||plural$1(e,h$1,"hour")||plural$1(e,m$1,"minute")||plural$1(e,s$1,"second")||e+" ms"}function plural$1(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=o.debug=o.default=o,t.coerce=w,t.disable=g,t.enable=f,t.enabled=_,t.humanize=ms$2,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(S){var M=0,C;for(C in S)M=(M<<5)-M+S.charCodeAt(C),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function o(S){var M;function C(){if(C.enabled){var T=C,k=+new Date,P=k-(M||k);T.diff=P,T.prev=M,T.curr=k,M=k;for(var $=new Array(arguments.length),I=0;I<$.length;I++)$[I]=arguments[I];$[0]=t.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");var E=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,function(le,W){if(le==="%%")return le;E++;var ae=t.formatters[W];if(typeof ae=="function"){var te=$[E];le=ae.call(T,te),$.splice(E,1),E--}return le}),t.formatArgs.call(T,$);var F=C.log||t.log||console.log.bind(console);F.apply(T,$)}}return C.namespace=S,C.enabled=t.enabled(S),C.useColors=t.useColors(),C.color=r(S),C.destroy=u,typeof t.init=="function"&&t.init(C),t.instances.push(C),C}function u(){var S=t.instances.indexOf(this);return S!==-1?(t.instances.splice(S,1),!0):!1}function f(S){t.save(S),t.names=[],t.skips=[];var M,C=(typeof S=="string"?S:"").split(/[\s,]+/),T=C.length;for(M=0;M<T;M++)C[M]&&(S=C[M].replace(/\*/g,".*?"),S[0]==="-"?t.skips.push(new RegExp("^"+S.substr(1)+"$")):t.names.push(new RegExp("^"+S+"$")));for(M=0;M<t.instances.length;M++){var k=t.instances[M];k.enabled=t.enabled(k.namespace)}}function g(){t.enable("")}function _(S){if(S[S.length-1]==="*")return!0;var M,C;for(M=0,C=t.skips.length;M<C;M++)if(t.skips[M].test(S))return!1;for(M=0,C=t.names.length;M<C;M++)if(t.names[M].test(S))return!0;return!1}function w(S){return S instanceof Error?S.stack||S.message:S}})(debug$7,debug$7.exports);var debugExports$1=debug$7.exports;(function(e,t){t=e.exports=debugExports$1,t.log=u,t.formatArgs=o,t.save=f,t.load=g,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:_(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(w){try{return JSON.stringify(w)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}};function o(w){var S=this.useColors;if(w[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+w[0]+(S?"%c ":" ")+"+"+t.humanize(this.diff),!!S){var M="color: "+this.color;w.splice(1,0,M,"color: inherit");var C=0,T=0;w[0].replace(/%[a-zA-Z%]/g,function(k){k!=="%%"&&(C++,k==="%c"&&(T=C))}),w.splice(T,0,M)}}function u(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function f(w){try{w==null?t.storage.removeItem("debug"):t.storage.debug=w}catch{}}function g(){var w;try{w=t.storage.debug}catch{}return!w&&typeof process<"u"&&"env"in process&&(w={}.DEBUG),w}t.enable(g());function _(){try{return window.localStorage}catch{}}})(browser$5,browser$5.exports);var browserExports$3=browser$5.exports,binary={},toString$3={}.toString,isarray=Array.isArray||function(e){return toString$3.call(e)=="[object Array]"},isBuffer=isBuf$1,withNativeBuffer=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function isBuf$1(e){return withNativeBuffer&&Buffer.isBuffer(e)||withNativeArrayBuffer&&(e instanceof ArrayBuffer||isView(e))}var isArray$2=isarray,isBuf=isBuffer,toString$2=Object.prototype.toString,withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&toString$2.call(Blob)==="[object BlobConstructor]",withNativeFile$1=typeof File=="function"||typeof File<"u"&&toString$2.call(File)==="[object FileConstructor]";binary.deconstructPacket=function(e){var t=[],r=e.data,o=e;return o.data=_deconstructPacket(r,t),o.attachments=t.length,{packet:o,buffers:t}};function _deconstructPacket(e,t){if(!e)return e;if(isBuf(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}else if(isArray$2(e)){for(var o=new Array(e.length),u=0;u<e.length;u++)o[u]=_deconstructPacket(e[u],t);return o}else if(typeof e=="object"&&!(e instanceof Date)){var o={};for(var f in e)o[f]=_deconstructPacket(e[f],t);return o}return e}binary.reconstructPacket=function(e,t){return e.data=_reconstructPacket(e.data,t),e.attachments=void 0,e};function _reconstructPacket(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(isArray$2(e))for(var r=0;r<e.length;r++)e[r]=_reconstructPacket(e[r],t);else if(typeof e=="object")for(var o in e)e[o]=_reconstructPacket(e[o],t);return e}binary.removeBlobs=function(e,t){function r(f,g,_){if(!f)return f;if(withNativeBlob$1&&f instanceof Blob||withNativeFile$1&&f instanceof File){o++;var w=new FileReader;w.onload=function(){_?_[g]=this.result:u=this.result,--o||t(u)},w.readAsArrayBuffer(f)}else if(isArray$2(f))for(var S=0;S<f.length;S++)r(f[S],S,f);else if(typeof f=="object"&&!isBuf(f))for(var M in f)r(f[M],M,f)}var o=0,u=e;r(u),o||t(u)};(function(e){var t=browserExports$3("socket.io-parser"),r=componentEmitterExports,o=binary,u=isarray,f=isBuffer;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=g,e.Decoder=C;function g(){}var _=e.ERROR+'"encode error"';g.prototype.encode=function(I,E){if(t("encoding packet %j",I),e.BINARY_EVENT===I.type||e.BINARY_ACK===I.type)M(I,E);else{var F=w(I);E([F])}};function w(I){var E=""+I.type;if((e.BINARY_EVENT===I.type||e.BINARY_ACK===I.type)&&(E+=I.attachments+"-"),I.nsp&&I.nsp!=="/"&&(E+=I.nsp+","),I.id!=null&&(E+=I.id),I.data!=null){var F=S(I.data);if(F!==!1)E+=F;else return _}return t("encoded %j as %s",I,E),E}function S(I){try{return JSON.stringify(I)}catch{return!1}}function M(I,E){function F(le){var W=o.deconstructPacket(le),ae=w(W.packet),te=W.buffers;te.unshift(ae),E(te)}o.removeBlobs(I,F)}function C(){this.reconstructor=null}r(C.prototype),C.prototype.add=function(I){var E;if(typeof I=="string")E=T(I),e.BINARY_EVENT===E.type||e.BINARY_ACK===E.type?(this.reconstructor=new P(E),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",E)):this.emit("decoded",E);else if(f(I)||I.base64)if(this.reconstructor)E=this.reconstructor.takeBinaryData(I),E&&(this.reconstructor=null,this.emit("decoded",E));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+I)};function T(I){var E=0,F={type:Number(I.charAt(0))};if(e.types[F.type]==null)return $("unknown packet type "+F.type);if(e.BINARY_EVENT===F.type||e.BINARY_ACK===F.type){for(var le=E+1;I.charAt(++E)!=="-"&&E!=I.length;);var W=I.substring(le,E);if(W!=Number(W)||I.charAt(E)!=="-")throw new Error("Illegal attachments");F.attachments=Number(W)}if(I.charAt(E+1)==="/"){for(var le=E+1;++E;){var ae=I.charAt(E);if(ae===","||E===I.length)break}F.nsp=I.substring(le,E)}else F.nsp="/";var te=I.charAt(E+1);if(te!==""&&Number(te)==te){for(var le=E+1;++E;){var ae=I.charAt(E);if(ae==null||Number(ae)!=ae){--E;break}if(E===I.length)break}F.id=Number(I.substring(le,E+1))}if(I.charAt(++E)){var oe=k(I.substr(E)),ie=oe!==!1&&(F.type===e.ERROR||u(oe));if(ie)F.data=oe;else return $("invalid payload")}return t("decoded %s as %j",I,F),F}function k(I){try{return JSON.parse(I)}catch{return!1}}C.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function P(I){this.reconPack=I,this.buffers=[]}P.prototype.takeBinaryData=function(I){if(this.buffers.push(I),this.buffers.length===this.reconPack.attachments){var E=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),E}return null},P.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function $(I){return{type:e.ERROR,data:"parser error: "+I}}})(socket_ioParser);var lib$1={exports:{}},transports$1={},hasCors={exports:{}};try{hasCors.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){hasCors.exports=!1}var hasCorsExports=hasCors.exports,globalThis_browser=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}(),hasCORS=hasCorsExports,globalThis$3=globalThis_browser,xmlhttprequest=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||hasCORS))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!r&&o)return new XDomainRequest}catch{}if(!t)try{return new globalThis$3[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},pollingXhr={exports:{}},browser$4={},keys=Object.keys||function e(t){var r=[],o=Object.prototype.hasOwnProperty;for(var u in t)o.call(t,u)&&r.push(u);return r},isArray$1=isarray,toString$1=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$1.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$1.call(File)==="[object FileConstructor]",hasBinary2=hasBinary;function hasBinary(e){if(!e||typeof e!="object")return!1;if(isArray$1(e)){for(var t=0,r=e.length;t<r;t++)if(hasBinary(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||withNativeBlob&&e instanceof Blob||withNativeFile&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return hasBinary(e.toJSON(),!0);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&hasBinary(e[o]))return!0;return!1}var arraybuffer_slice=function(e,t,r){var o=e.byteLength;if(t=t||0,r=r||o,e.slice)return e.slice(t,r);if(t<0&&(t+=o),r<0&&(r+=o),r>o&&(r=o),t>=o||t>=r||o===0)return new ArrayBuffer(0);for(var u=new Uint8Array(e),f=new Uint8Array(r-t),g=t,_=0;g<r;g++,_++)f[_]=u[g];return f.buffer},after_1=after;function after(e,t,r){var o=!1;return r=r||noop$2,u.count=e,e===0?t():u;function u(f,g){if(u.count<=0)throw new Error("after called too many times");--u.count,f?(o=!0,t(f),t=r):u.count===0&&!o&&t(null,g)}}function noop$2(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var stringFromCharCode=String.fromCharCode;function ucs2decode(e){for(var t=[],r=0,o=e.length,u,f;r<o;)u=e.charCodeAt(r++),u>=55296&&u<=56319&&r<o?(f=e.charCodeAt(r++),(f&64512)==56320?t.push(((u&1023)<<10)+(f&1023)+65536):(t.push(u),r--)):t.push(u);return t}function ucs2encode(e){for(var t=e.length,r=-1,o,u="";++r<t;)o=e[r],o>65535&&(o-=65536,u+=stringFromCharCode(o>>>10&1023|55296),o=56320|o&1023),u+=stringFromCharCode(o);return u}function checkScalarValue(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function createByte(e,t){return stringFromCharCode(e>>t&63|128)}function encodeCodePoint(e,t){if(!(e&4294967168))return stringFromCharCode(e);var r="";return e&4294965248?e&4294901760?e&4292870144||(r=stringFromCharCode(e>>18&7|240),r+=createByte(e,12),r+=createByte(e,6)):(checkScalarValue(e,t)||(e=65533),r=stringFromCharCode(e>>12&15|224),r+=createByte(e,6)):r=stringFromCharCode(e>>6&31|192),r+=stringFromCharCode(e&63|128),r}function utf8encode(e,t){t=t||{};for(var r=t.strict!==!1,o=ucs2decode(e),u=o.length,f=-1,g,_="";++f<u;)g=o[f],_+=encodeCodePoint(g,r);return _}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var e=byteArray[byteIndex]&255;if(byteIndex++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function decodeSymbol(e){var t,r,o,u,f;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(t=byteArray[byteIndex]&255,byteIndex++,!(t&128))return t;if((t&224)==192){if(r=readContinuationByte(),f=(t&31)<<6|r,f>=128)return f;throw Error("Invalid continuation byte")}if((t&240)==224){if(r=readContinuationByte(),o=readContinuationByte(),f=(t&15)<<12|r<<6|o,f>=2048)return checkScalarValue(f,e)?f:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(r=readContinuationByte(),o=readContinuationByte(),u=readContinuationByte(),f=(t&7)<<18|r<<12|o<<6|u,f>=65536&&f<=1114111))return f;throw Error("Invalid UTF-8 detected")}var byteArray,byteCount,byteIndex;function utf8decode(e,t){t=t||{};var r=t.strict!==!1;byteArray=ucs2decode(e),byteCount=byteArray.length,byteIndex=0;for(var o=[],u;(u=decodeSymbol(r))!==!1;)o.push(u);return ucs2encode(o)}var utf8={version:"2.1.2",encode:utf8encode,decode:utf8decode},base64Arraybuffer={},hasRequiredBase64Arraybuffer;function requireBase64Arraybuffer(){return hasRequiredBase64Arraybuffer||(hasRequiredBase64Arraybuffer=1,function(e){base64Arraybuffer.encode=function(t){var r=new Uint8Array(t),o,u=r.length,f="";for(o=0;o<u;o+=3)f+=e[r[o]>>2],f+=e[(r[o]&3)<<4|r[o+1]>>4],f+=e[(r[o+1]&15)<<2|r[o+2]>>6],f+=e[r[o+2]&63];return u%3===2?f=f.substring(0,f.length-1)+"=":u%3===1&&(f=f.substring(0,f.length-2)+"=="),f},base64Arraybuffer.decode=function(t){var r=t.length*.75,o=t.length,u,f=0,g,_,w,S;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);var M=new ArrayBuffer(r),C=new Uint8Array(M);for(u=0;u<o;u+=4)g=e.indexOf(t[u]),_=e.indexOf(t[u+1]),w=e.indexOf(t[u+2]),S=e.indexOf(t[u+3]),C[f++]=g<<2|_>>4,C[f++]=(_&15)<<4|w>>2,C[f++]=(w&3)<<6|S&63;return M}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),base64Arraybuffer}var blob,hasRequiredBlob;function requireBlob(){if(hasRequiredBlob)return blob;hasRequiredBlob=1;var e=typeof e<"u"?e:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var _=new Blob(["hi"]);return _.size===2}catch{return!1}}(),r=t&&function(){try{var _=new Blob([new Uint8Array([1,2])]);return _.size===2}catch{return!1}}(),o=e&&e.prototype.append&&e.prototype.getBlob;function u(_){return _.map(function(w){if(w.buffer instanceof ArrayBuffer){var S=w.buffer;if(w.byteLength!==S.byteLength){var M=new Uint8Array(w.byteLength);M.set(new Uint8Array(S,w.byteOffset,w.byteLength)),S=M.buffer}return S}return w})}function f(_,w){w=w||{};var S=new e;return u(_).forEach(function(M){S.append(M)}),w.type?S.getBlob(w.type):S.getBlob()}function g(_,w){return new Blob(u(_),w||{})}return typeof Blob<"u"&&(f.prototype=Blob.prototype,g.prototype=Blob.prototype),blob=function(){return t?r?Blob:g:o?f:void 0}(),blob}(function(e){var t=keys,r=hasBinary2,o=arraybuffer_slice,u=after_1,f=utf8,g;typeof ArrayBuffer<"u"&&(g=requireBase64Arraybuffer());var _=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),w=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),S=_||w;e.protocol=3;var M=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},C=t(M),T={type:"error",data:"parser error"},k=requireBlob();e.encodePacket=function(W,ae,te,oe){typeof ae=="function"&&(oe=ae,ae=!1),typeof te=="function"&&(oe=te,te=null);var ie=W.data===void 0?void 0:W.data.buffer||W.data;if(typeof ArrayBuffer<"u"&&ie instanceof ArrayBuffer)return $(W,ae,oe);if(typeof k<"u"&&ie instanceof k)return E(W,ae,oe);if(ie&&ie.base64)return P(W,oe);var Ee=M[W.type];return W.data!==void 0&&(Ee+=te?f.encode(String(W.data),{strict:!1}):String(W.data)),oe(""+Ee)};function P(W,ae){var te="b"+e.packets[W.type]+W.data.data;return ae(te)}function $(W,ae,te){if(!ae)return e.encodeBase64Packet(W,te);var oe=W.data,ie=new Uint8Array(oe),Ee=new Uint8Array(1+oe.byteLength);Ee[0]=M[W.type];for(var D=0;D<ie.length;D++)Ee[D+1]=ie[D];return te(Ee.buffer)}function I(W,ae,te){if(!ae)return e.encodeBase64Packet(W,te);var oe=new FileReader;return oe.onload=function(){e.encodePacket({type:W.type,data:oe.result},ae,!0,te)},oe.readAsArrayBuffer(W.data)}function E(W,ae,te){if(!ae)return e.encodeBase64Packet(W,te);if(S)return I(W,ae,te);var oe=new Uint8Array(1);oe[0]=M[W.type];var ie=new k([oe.buffer,W.data]);return te(ie)}e.encodeBase64Packet=function(W,ae){var te="b"+e.packets[W.type];if(typeof k<"u"&&W.data instanceof k){var oe=new FileReader;return oe.onload=function(){var z=oe.result.split(",")[1];ae(te+z)},oe.readAsDataURL(W.data)}var ie;try{ie=String.fromCharCode.apply(null,new Uint8Array(W.data))}catch{for(var Ee=new Uint8Array(W.data),D=new Array(Ee.length),me=0;me<Ee.length;me++)D[me]=Ee[me];ie=String.fromCharCode.apply(null,D)}return te+=btoa(ie),ae(te)},e.decodePacket=function(W,ae,te){if(W===void 0)return T;if(typeof W=="string"){if(W.charAt(0)==="b")return e.decodeBase64Packet(W.substr(1),ae);if(te&&(W=F(W),W===!1))return T;var ie=W.charAt(0);return Number(ie)!=ie||!C[ie]?T:W.length>1?{type:C[ie],data:W.substring(1)}:{type:C[ie]}}var oe=new Uint8Array(W),ie=oe[0],Ee=o(W,1);return k&&ae==="blob"&&(Ee=new k([Ee])),{type:C[ie],data:Ee}};function F(W){try{W=f.decode(W,{strict:!1})}catch{return!1}return W}e.decodeBase64Packet=function(W,ae){var te=C[W.charAt(0)];if(!g)return{type:te,data:{base64:!0,data:W.substr(1)}};var oe=g.decode(W.substr(1));return ae==="blob"&&k&&(oe=new k([oe])),{type:te,data:oe}},e.encodePayload=function(W,ae,te){typeof ae=="function"&&(te=ae,ae=null);var oe=r(W);if(ae&&oe)return k&&!S?e.encodePayloadAsBlob(W,te):e.encodePayloadAsArrayBuffer(W,te);if(!W.length)return te("0:");function ie(D){return D.length+":"+D}function Ee(D,me){e.encodePacket(D,oe?ae:!1,!1,function(z){me(null,ie(z))})}le(W,Ee,function(D,me){return te(me.join(""))})};function le(W,ae,te){for(var oe=new Array(W.length),ie=u(W.length,te),Ee=function(me,z,pe){ae(z,function(we,Q){oe[me]=Q,pe(we,oe)})},D=0;D<W.length;D++)Ee(D,W[D],ie)}e.decodePayload=function(W,ae,te){if(typeof W!="string")return e.decodePayloadAsBinary(W,ae,te);typeof ae=="function"&&(te=ae,ae=null);var oe;if(W==="")return te(T,0,1);for(var ie="",Ee,D,me=0,z=W.length;me<z;me++){var pe=W.charAt(me);if(pe!==":"){ie+=pe;continue}if(ie===""||ie!=(Ee=Number(ie))||(D=W.substr(me+1,Ee),ie!=D.length))return te(T,0,1);if(D.length){if(oe=e.decodePacket(D,ae,!1),T.type===oe.type&&T.data===oe.data)return te(T,0,1);var we=te(oe,me+Ee,z);if(we===!1)return}me+=Ee,ie=""}if(ie!=="")return te(T,0,1)},e.encodePayloadAsArrayBuffer=function(W,ae){if(!W.length)return ae(new ArrayBuffer(0));function te(oe,ie){e.encodePacket(oe,!0,!0,function(Ee){return ie(null,Ee)})}le(W,te,function(oe,ie){var Ee=ie.reduce(function(z,pe){var we;return typeof pe=="string"?we=pe.length:we=pe.byteLength,z+we.toString().length+we+2},0),D=new Uint8Array(Ee),me=0;return ie.forEach(function(z){var pe=typeof z=="string",we=z;if(pe){for(var G=new Uint8Array(z.length),Q=0;Q<z.length;Q++)G[Q]=z.charCodeAt(Q);we=G.buffer}pe?D[me++]=0:D[me++]=1;for(var Y=we.byteLength.toString(),Q=0;Q<Y.length;Q++)D[me++]=parseInt(Y[Q]);D[me++]=255;for(var G=new Uint8Array(we),Q=0;Q<G.length;Q++)D[me++]=G[Q]}),ae(D.buffer)})},e.encodePayloadAsBlob=function(W,ae){function te(oe,ie){e.encodePacket(oe,!0,!0,function(Ee){var D=new Uint8Array(1);if(D[0]=1,typeof Ee=="string"){for(var me=new Uint8Array(Ee.length),z=0;z<Ee.length;z++)me[z]=Ee.charCodeAt(z);Ee=me.buffer,D[0]=0}for(var pe=Ee instanceof ArrayBuffer?Ee.byteLength:Ee.size,we=pe.toString(),Q=new Uint8Array(we.length+1),z=0;z<we.length;z++)Q[z]=parseInt(we[z]);if(Q[we.length]=255,k){var Y=new k([D.buffer,Q.buffer,Ee]);ie(null,Y)}})}le(W,te,function(oe,ie){return ae(new k(ie))})},e.decodePayloadAsBinary=function(W,ae,te){typeof ae=="function"&&(te=ae,ae=null);for(var oe=W,ie=[];oe.byteLength>0;){for(var Ee=new Uint8Array(oe),D=Ee[0]===0,me="",z=1;Ee[z]!==255;z++){if(me.length>310)return te(T,0,1);me+=Ee[z]}oe=o(oe,2+me.length),me=parseInt(me);var pe=o(oe,0,me);if(D)try{pe=String.fromCharCode.apply(null,new Uint8Array(pe))}catch{var we=new Uint8Array(pe);pe="";for(var z=0;z<we.length;z++)pe+=String.fromCharCode(we[z])}ie.push(pe),oe=o(oe,me)}var Q=ie.length;ie.forEach(function(Y,G){te(e.decodePacket(Y,ae,!0),G,Q)})}})(browser$4);var transport,hasRequiredTransport;function requireTransport(){if(hasRequiredTransport)return transport;hasRequiredTransport=1;var e=browser$4,t=componentEmitterExports;transport=r;function r(o){this.path=o.path,this.hostname=o.hostname,this.port=o.port,this.secure=o.secure,this.query=o.query,this.timestampParam=o.timestampParam,this.timestampRequests=o.timestampRequests,this.readyState="",this.agent=o.agent||!1,this.socket=o.socket,this.enablesXDR=o.enablesXDR,this.withCredentials=o.withCredentials,this.pfx=o.pfx,this.key=o.key,this.passphrase=o.passphrase,this.cert=o.cert,this.ca=o.ca,this.ciphers=o.ciphers,this.rejectUnauthorized=o.rejectUnauthorized,this.forceNode=o.forceNode,this.isReactNative=o.isReactNative,this.extraHeaders=o.extraHeaders,this.localAddress=o.localAddress}return t(r.prototype),r.prototype.onError=function(o,u){var f=new Error(o);return f.type="TransportError",f.description=u,this.emit("error",f),this},r.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},r.prototype.send=function(o){if(this.readyState==="open")this.write(o);else throw new Error("Transport not open")},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(o){var u=e.decodePacket(o,this.socket.binaryType);this.onPacket(u)},r.prototype.onPacket=function(o){this.emit("packet",o)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")},transport}var parseqs$3={};parseqs$3.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t};parseqs$3.decode=function(e){for(var t={},r=e.split("&"),o=0,u=r.length;o<u;o++){var f=r[o].split("=");t[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return t};var componentInherit=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},alphabet$3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={},seed$1=0,i$2=0,prev;function encode(e){var t="";do t=alphabet$3[e%length]+t,e=Math.floor(e/length);while(e>0);return t}function decode(e){var t=0;for(i$2=0;i$2<e.length;i$2++)t=t*length+map[e.charAt(i$2)];return t}function yeast$2(){var e=encode(+new Date);return e!==prev?(seed$1=0,prev=e):e+"."+encode(seed$1++)}for(;i$2<length;i$2++)map[alphabet$3[i$2]]=i$2;yeast$2.encode=encode;yeast$2.decode=decode;var yeast_1=yeast$2,browser$3={exports:{}},debug$6={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,y=d*365.25,ms$1=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return parse(e);if(r==="number"&&isNaN(e)===!1)return t.long?fmtLong(e):fmtShort(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=o.debug=o.default=o,t.coerce=w,t.disable=g,t.enable=f,t.enabled=_,t.humanize=ms$1,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(S){var M=0,C;for(C in S)M=(M<<5)-M+S.charCodeAt(C),M|=0;return t.colors[Math.abs(M)%t.colors.length]}function o(S){var M;function C(){if(C.enabled){var T=C,k=+new Date,P=k-(M||k);T.diff=P,T.prev=M,T.curr=k,M=k;for(var $=new Array(arguments.length),I=0;I<$.length;I++)$[I]=arguments[I];$[0]=t.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");var E=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,function(le,W){if(le==="%%")return le;E++;var ae=t.formatters[W];if(typeof ae=="function"){var te=$[E];le=ae.call(T,te),$.splice(E,1),E--}return le}),t.formatArgs.call(T,$);var F=C.log||t.log||console.log.bind(console);F.apply(T,$)}}return C.namespace=S,C.enabled=t.enabled(S),C.useColors=t.useColors(),C.color=r(S),C.destroy=u,typeof t.init=="function"&&t.init(C),t.instances.push(C),C}function u(){var S=t.instances.indexOf(this);return S!==-1?(t.instances.splice(S,1),!0):!1}function f(S){t.save(S),t.names=[],t.skips=[];var M,C=(typeof S=="string"?S:"").split(/[\s,]+/),T=C.length;for(M=0;M<T;M++)C[M]&&(S=C[M].replace(/\*/g,".*?"),S[0]==="-"?t.skips.push(new RegExp("^"+S.substr(1)+"$")):t.names.push(new RegExp("^"+S+"$")));for(M=0;M<t.instances.length;M++){var k=t.instances[M];k.enabled=t.enabled(k.namespace)}}function g(){t.enable("")}function _(S){if(S[S.length-1]==="*")return!0;var M,C;for(M=0,C=t.skips.length;M<C;M++)if(t.skips[M].test(S))return!1;for(M=0,C=t.names.length;M<C;M++)if(t.names[M].test(S))return!0;return!1}function w(S){return S instanceof Error?S.stack||S.message:S}})(debug$6,debug$6.exports);var debugExports=debug$6.exports;(function(e,t){t=e.exports=debugExports,t.log=u,t.formatArgs=o,t.save=f,t.load=g,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:_(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(w){try{return JSON.stringify(w)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}};function o(w){var S=this.useColors;if(w[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+w[0]+(S?"%c ":" ")+"+"+t.humanize(this.diff),!!S){var M="color: "+this.color;w.splice(1,0,M,"color: inherit");var C=0,T=0;w[0].replace(/%[a-zA-Z%]/g,function(k){k!=="%%"&&(C++,k==="%c"&&(T=C))}),w.splice(T,0,M)}}function u(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function f(w){try{w==null?t.storage.removeItem("debug"):t.storage.debug=w}catch{}}function g(){var w;try{w=t.storage.debug}catch{}return!w&&typeof process<"u"&&"env"in process&&(w={}.DEBUG),w}t.enable(g());function _(){try{return window.localStorage}catch{}}})(browser$3,browser$3.exports);var browserExports$2=browser$3.exports,Transport$1=requireTransport(),parseqs$2=parseqs$3,parser$3=browser$4,inherit$3=componentInherit,yeast$1=yeast_1,debug$5=browserExports$2("engine.io-client:polling"),polling$1=Polling$2,hasXHR2=function(){var e=xmlhttprequest,t=new e({xdomain:!1});return t.responseType!=null}();function Polling$2(e){var t=e&&e.forceBase64;(!hasXHR2||t)&&(this.supportsBinary=!1),Transport$1.call(this,e)}inherit$3(Polling$2,Transport$1);Polling$2.prototype.name="polling";Polling$2.prototype.doOpen=function(){this.poll()};Polling$2.prototype.pause=function(e){var t=this;this.readyState="pausing";function r(){debug$5("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var o=0;this.polling&&(debug$5("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){debug$5("pre-pause polling complete"),--o||r()})),this.writable||(debug$5("we are currently writing - waiting to pause"),o++,this.once("drain",function(){debug$5("pre-pause writing complete"),--o||r()}))}else r()};Polling$2.prototype.poll=function(){debug$5("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Polling$2.prototype.onData=function(e){var t=this;debug$5("polling got data %s",e);var r=function(o,u,f){if(t.readyState==="opening"&&o.type==="open"&&t.onOpen(),o.type==="close")return t.onClose(),!1;t.onPacket(o)};parser$3.decodePayload(e,this.socket.binaryType,r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():debug$5('ignoring poll - transport state "%s"',this.readyState))};Polling$2.prototype.doClose=function(){var e=this;function t(){debug$5("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(debug$5("transport open - closing"),t()):(debug$5("transport not open - deferring close"),this.once("open",t))};Polling$2.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};parser$3.encodePayload(e,this.supportsBinary,function(o){t.doWrite(o,r)})};Polling$2.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";this.timestampRequests!==!1&&(e[this.timestampParam]=yeast$1()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=parseqs$2.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(r=":"+this.port),e.length&&(e="?"+e);var o=this.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.hostname+"]":this.hostname)+r+this.path+e};var XMLHttpRequest$2=xmlhttprequest,Polling$1=polling$1,Emitter$2=componentEmitterExports,inherit$2=componentInherit,debug$4=browserExports$2("engine.io-client:polling-xhr"),globalThis$2=globalThis_browser;pollingXhr.exports=XHR$1;pollingXhr.exports.Request=Request;function empty$3(){}function XHR$1(e){if(Polling$1.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",r=location.port;r||(r=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}inherit$2(XHR$1,Polling$1);XHR$1.prototype.supportsBinary=!0;XHR$1.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Request(e)};XHR$1.prototype.doWrite=function(e,t){var r=typeof e!="string"&&e!==void 0,o=this.request({method:"POST",data:e,isBinary:r}),u=this;o.on("success",t),o.on("error",function(f){u.onError("xhr post error",f)}),this.sendXhr=o};XHR$1.prototype.doPoll=function(){debug$4("xhr poll");var e=this.request(),t=this;e.on("data",function(r){t.onData(r)}),e.on("error",function(r){t.onError("xhr poll error",r)}),this.pollXhr=e};function Request(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}Emitter$2(Request.prototype);Request.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new XMLHttpRequest$2(e),r=this;try{debug$4("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var u=t.getResponseHeader("Content-Type");(r.supportsBinary&&u==="application/octet-stream"||u==="application/octet-stream; charset=UTF-8")&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?r.onLoad():setTimeout(function(){r.onError(typeof t.status=="number"?t.status:0)},0))},debug$4("xhr data %s",this.data),t.send(this.data)}catch(u){setTimeout(function(){r.onError(u)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)};Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Request.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};Request.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};Request.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty$3:this.xhr.onreadystatechange=empty$3,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}};Request.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"||t==="application/octet-stream; charset=UTF-8"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(r){this.onError(r)}e!=null&&this.onData(e)};Request.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Request.prototype.abort=function(){this.cleanup()};Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){var terminationEvent="onpagehide"in globalThis$2?"pagehide":"unload";addEventListener(terminationEvent,unloadHandler,!1)}}function unloadHandler(){for(var e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}var pollingXhrExports=pollingXhr.exports,Polling=polling$1,inherit$1=componentInherit,globalThis$1=globalThis_browser,pollingJsonp=JSONPPolling,rNewline=/\n/g,rEscapedNewline=/\\n/g,callbacks;function empty$2(){}function JSONPPolling(e){Polling.call(this,e),this.query=this.query||{},callbacks||(callbacks=globalThis$1.___eio=globalThis$1.___eio||[]),this.index=callbacks.length;var t=this;callbacks.push(function(r){t.onData(r)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=empty$2)},!1)}inherit$1(JSONPPolling,Polling);JSONPPolling.prototype.supportsBinary=!1;JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Polling.prototype.doClose.call(this)};JSONPPolling.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(u){e.onError("jsonp poll error",u)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var o=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);o&&setTimeout(function(){var u=document.createElement("iframe");document.body.appendChild(u),document.body.removeChild(u)},100)};JSONPPolling.prototype.doWrite=function(e,t){var r=this;if(!this.form){var o=document.createElement("form"),u=document.createElement("textarea"),f=this.iframeId="eio_iframe_"+this.index,g;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=f,o.method="POST",o.setAttribute("accept-charset","utf-8"),u.name="d",o.appendChild(u),document.body.appendChild(o),this.form=o,this.area=u}this.form.action=this.uri();function _(){w(),t()}function w(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(M){r.onError("jsonp polling iframe removal error",M)}try{var S='<iframe src="javascript:0" name="'+r.iframeId+'">';g=document.createElement(S)}catch{g=document.createElement("iframe"),g.name=r.iframeId,g.src="javascript:0"}g.id=r.iframeId,r.form.appendChild(g),r.iframe=g}w(),e=e.replace(rEscapedNewline,`\\
`),this.area.value=e.replace(rNewline,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){r.iframe.readyState==="complete"&&_()}:this.iframe.onload=_};var Transport=requireTransport(),parser$2=browser$4,parseqs$1=parseqs$3,inherit=componentInherit,yeast=yeast_1,debug$3=browserExports$2("engine.io-client:websocket"),BrowserWebSocket,NodeWebSocket;typeof WebSocket<"u"?BrowserWebSocket=WebSocket:typeof self<"u"&&(BrowserWebSocket=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{NodeWebSocket=require$$3}catch{}var WebSocketImpl=BrowserWebSocket||NodeWebSocket,websocket$1=WS;function WS(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=BrowserWebSocket&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(WebSocketImpl=NodeWebSocket),Transport.call(this,e)}inherit(WS,Transport);WS.prototype.name="websocket";WS.prototype.supportsBinary=!0;WS.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new WebSocketImpl(e,t):new WebSocketImpl(e):new WebSocketImpl(e,t,r)}catch(o){return this.emit("error",o)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};WS.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};WS.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,o=0,u=r;o<u;o++)(function(g){parser$2.encodePacket(g,t.supportsBinary,function(_){if(!t.usingBrowserWebSocket){var w={};if(g.options&&(w.compress=g.options.compress),t.perMessageDeflate){var S=typeof _=="string"?Buffer.byteLength(_):_.length;S<t.perMessageDeflate.threshold&&(w.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(_):t.ws.send(_,w)}catch{debug$3("websocket closed before onclose event")}--r||f()})})(e[o]);function f(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)};WS.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};WS.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=yeast()),this.supportsBinary||(e.b64=1),e=parseqs$1.encode(e),e.length&&(e="?"+e);var o=this.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.hostname+"]":this.hostname)+r+this.path+e};WS.prototype.check=function(){return!!WebSocketImpl&&!("__initialize"in WebSocketImpl&&this.name===WS.prototype.name)};var XMLHttpRequest$1=xmlhttprequest,XHR=pollingXhrExports,JSONP=pollingJsonp,websocket=websocket$1;transports$1.polling=polling;transports$1.websocket=websocket;function polling(e){var t,r=!1,o=!1,u=e.jsonp!==!1;if(typeof location<"u"){var f=location.protocol==="https:",g=location.port;g||(g=f?443:80),r=e.hostname!==location.hostname||g!==e.port,o=e.secure!==f}if(e.xdomain=r,e.xscheme=o,t=new XMLHttpRequest$1(e),"open"in t&&!e.forceJSONP)return new XHR(e);if(!u)throw new Error("JSONP disabled");return new JSONP(e)}var indexOf$1=[].indexOf,indexof=function(e,t){if(indexOf$1)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1},transports=transports$1,Emitter$1=componentEmitterExports,debug$2=browserExports$2("engine.io-client:socket"),index=indexof,parser$1=browser$4,parseuri=parseuri$2,parseqs=parseqs$3,socket$1=Socket$1;function Socket$1(e,t){if(!(this instanceof Socket$1))return new Socket$1(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=parseuri(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=parseuri(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=parseqs.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=t.withCredentials!==!1,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Socket$1.priorWebsocketSuccess=!1;Emitter$1(Socket$1.prototype);Socket$1.protocol=parser$1.protocol;Socket$1.Socket=Socket$1;Socket$1.Transport=requireTransport();Socket$1.transports=transports$1;Socket$1.parser=browser$4;Socket$1.prototype.createTransport=function(e){debug$2('creating transport "%s"',e);var t=clone(this.query);t.EIO=parser$1.protocol,t.transport=e;var r=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var o=new transports[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative});return o};function clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}Socket$1.prototype.open=function(){var e;if(this.rememberUpgrade&&Socket$1.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};Socket$1.prototype.setTransport=function(e){debug$2("setting transport %s",e.name);var t=this;this.transport&&(debug$2("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(r){t.onPacket(r)}).on("error",function(r){t.onError(r)}).on("close",function(){t.onClose("transport close")})};Socket$1.prototype.probe=function(e){debug$2('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,o=this;Socket$1.priorWebsocketSuccess=!1;function u(){if(o.onlyBinaryUpgrades){var C=!this.supportsBinary&&o.transport.supportsBinary;r=r||C}r||(debug$2('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(T){if(!r)if(T.type==="pong"&&T.data==="probe"){if(debug$2('probe transport "%s" pong',e),o.upgrading=!0,o.emit("upgrading",t),!t)return;Socket$1.priorWebsocketSuccess=t.name==="websocket",debug$2('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){r||o.readyState!=="closed"&&(debug$2("changing transport and sending upgrade packet"),M(),o.setTransport(t),t.send([{type:"upgrade"}]),o.emit("upgrade",t),t=null,o.upgrading=!1,o.flush())})}else{debug$2('probe transport "%s" failed',e);var k=new Error("probe error");k.transport=t.name,o.emit("upgradeError",k)}}))}function f(){r||(r=!0,M(),t.close(),t=null)}function g(C){var T=new Error("probe error: "+C);T.transport=t.name,f(),debug$2('probe transport "%s" failed because of error: %s',e,C),o.emit("upgradeError",T)}function _(){g("transport closed")}function w(){g("socket closed")}function S(C){t&&C.name!==t.name&&(debug$2('"%s" works - aborting "%s"',C.name,t.name),f())}function M(){t.removeListener("open",u),t.removeListener("error",g),t.removeListener("close",_),o.removeListener("close",w),o.removeListener("upgrading",S)}t.once("open",u),t.once("error",g),t.once("close",_),this.once("close",w),this.once("upgrading",S),t.open()};Socket$1.prototype.onOpen=function(){if(debug$2("socket open"),this.readyState="open",Socket$1.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){debug$2("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};Socket$1.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(debug$2('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else debug$2('packet received with socket readyState "%s"',this.readyState)};Socket$1.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};Socket$1.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};Socket$1.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){debug$2("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};Socket$1.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};Socket$1.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};Socket$1.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug$2("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};Socket$1.prototype.write=Socket$1.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this};Socket$1.prototype.sendPacket=function(e,t,r,o){if(typeof t=="function"&&(o=t,t=void 0),typeof r=="function"&&(o=r,r=null),!(this.readyState==="closing"||this.readyState==="closed")){r=r||{},r.compress=r.compress!==!1;var u={type:e,data:t,options:r};this.emit("packetCreate",u),this.writeBuffer.push(u),o&&this.once("flush",o),this.flush()}};Socket$1.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():t()}):this.upgrading?o():t()}function t(){e.onClose("forced close"),debug$2("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function o(){e.once("upgrade",r),e.once("upgradeError",r)}return this};Socket$1.prototype.onError=function(e){debug$2("socket error %j",e),Socket$1.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};Socket$1.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){debug$2('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}};Socket$1.prototype.filterUpgrades=function(e){for(var t=[],r=0,o=e.length;r<o;r++)~index(this.transports,e[r])&&t.push(e[r]);return t};lib$1.exports=socket$1;lib$1.exports.parser=browser$4;var libExports$2=lib$1.exports,socket={exports:{}},toArray_1=toArray;function toArray(e,t){var r=[];t=t||0;for(var o=t||0;o<e.length;o++)r[o-t]=e[o];return r}var on_1=on$1;function on$1(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}var slice=[].slice,componentBind=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var r=slice.call(arguments,2);return function(){return t.apply(e,r.concat(slice.call(arguments)))}};(function(e,t){var r=socket_ioParser,o=componentEmitterExports,u=toArray_1,f=on_1,g=componentBind,_=browserExports$4("socket.io-client:socket"),w=parseqs$3,S=hasBinary2;e.exports=T;var M={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},C=o.prototype.emit;function T(k,P,$){this.io=k,this.nsp=P,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},$&&$.query&&(this.query=$.query),this.io.autoConnect&&this.open()}o(T.prototype),T.prototype.subEvents=function(){if(!this.subs){var k=this.io;this.subs=[f(k,"open",g(this,"onopen")),f(k,"packet",g(this,"onpacket")),f(k,"close",g(this,"onclose"))]}},T.prototype.open=T.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},T.prototype.send=function(){var k=u(arguments);return k.unshift("message"),this.emit.apply(this,k),this},T.prototype.emit=function(k){if(M.hasOwnProperty(k))return C.apply(this,arguments),this;var P=u(arguments),$={type:(this.flags.binary!==void 0?this.flags.binary:S(P))?r.BINARY_EVENT:r.EVENT,data:P};return $.options={},$.options.compress=!this.flags||this.flags.compress!==!1,typeof P[P.length-1]=="function"&&(_("emitting packet with ack id %d",this.ids),this.acks[this.ids]=P.pop(),$.id=this.ids++),this.connected?this.packet($):this.sendBuffer.push($),this.flags={},this},T.prototype.packet=function(k){k.nsp=this.nsp,this.io.packet(k)},T.prototype.onopen=function(){if(_("transport is open - connecting"),this.nsp!=="/")if(this.query){var k=typeof this.query=="object"?w.encode(this.query):this.query;_("sending connect packet with query %s",k),this.packet({type:r.CONNECT,query:k})}else this.packet({type:r.CONNECT})},T.prototype.onclose=function(k){_("close (%s)",k),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",k)},T.prototype.onpacket=function(k){var P=k.nsp===this.nsp,$=k.type===r.ERROR&&k.nsp==="/";if(!(!P&&!$))switch(k.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(k);break;case r.BINARY_EVENT:this.onevent(k);break;case r.ACK:this.onack(k);break;case r.BINARY_ACK:this.onack(k);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",k.data);break}},T.prototype.onevent=function(k){var P=k.data||[];_("emitting event %j",P),k.id!=null&&(_("attaching ack callback to event"),P.push(this.ack(k.id))),this.connected?C.apply(this,P):this.receiveBuffer.push(P)},T.prototype.ack=function(k){var P=this,$=!1;return function(){if(!$){$=!0;var I=u(arguments);_("sending ack %j",I),P.packet({type:S(I)?r.BINARY_ACK:r.ACK,id:k,data:I})}}},T.prototype.onack=function(k){var P=this.acks[k.id];typeof P=="function"?(_("calling ack %s with %j",k.id,k.data),P.apply(this,k.data),delete this.acks[k.id]):_("bad ack %s",k.id)},T.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},T.prototype.emitBuffered=function(){var k;for(k=0;k<this.receiveBuffer.length;k++)C.apply(this,this.receiveBuffer[k]);for(this.receiveBuffer=[],k=0;k<this.sendBuffer.length;k++)this.packet(this.sendBuffer[k]);this.sendBuffer=[]},T.prototype.ondisconnect=function(){_("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},T.prototype.destroy=function(){if(this.subs){for(var k=0;k<this.subs.length;k++)this.subs[k].destroy();this.subs=null}this.io.destroy(this)},T.prototype.close=T.prototype.disconnect=function(){return this.connected&&(_("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},T.prototype.compress=function(k){return this.flags.compress=k,this},T.prototype.binary=function(k){return this.flags.binary=k,this}})(socket);var socketExports=socket.exports,backo2=Backoff$1;function Backoff$1(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Backoff$1.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Backoff$1.prototype.reset=function(){this.attempts=0};Backoff$1.prototype.setMin=function(e){this.ms=e};Backoff$1.prototype.setMax=function(e){this.max=e};Backoff$1.prototype.setJitter=function(e){this.jitter=e};var eio=libExports$2,Socket=socketExports,Emitter=componentEmitterExports,parser=socket_ioParser,on=on_1,bind=componentBind,debug$1=browserExports$4("socket.io-client:manager"),indexOf=indexof,Backoff=backo2,has=Object.prototype.hasOwnProperty,manager=Manager;function Manager(e,t){if(!(this instanceof Manager))return new Manager(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||parser;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)has.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};Manager.prototype.updateSocketIds=function(){for(var e in this.nsps)has.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};Manager.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};Emitter(Manager.prototype);Manager.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};Manager.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};Manager.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};Manager.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};Manager.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};Manager.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};Manager.prototype.open=Manager.prototype.connect=function(e,t){if(debug$1("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;debug$1("opening %s",this.uri),this.engine=eio(this.uri,this.opts);var r=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var u=on(r,"open",function(){o.onopen(),e&&e()}),f=on(r,"error",function(w){if(debug$1("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",w),e){var S=new Error("Connection error");S.data=w,e(S)}else o.maybeReconnectOnOpen()});if(this._timeout!==!1){var g=this._timeout;debug$1("connect attempt will timeout after %d",g),g===0&&u.destroy();var _=setTimeout(function(){debug$1("connect attempt timed out after %d",g),u.destroy(),r.close(),r.emit("error","timeout"),o.emitAll("connect_timeout",g)},g);this.subs.push({destroy:function(){clearTimeout(_)}})}return this.subs.push(u),this.subs.push(f),this};Manager.prototype.onopen=function(){debug$1("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(on(e,"data",bind(this,"ondata"))),this.subs.push(on(e,"ping",bind(this,"onping"))),this.subs.push(on(e,"pong",bind(this,"onpong"))),this.subs.push(on(e,"error",bind(this,"onerror"))),this.subs.push(on(e,"close",bind(this,"onclose"))),this.subs.push(on(this.decoder,"decoded",bind(this,"ondecoded")))};Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};Manager.prototype.ondata=function(e){this.decoder.add(e)};Manager.prototype.ondecoded=function(e){this.emit("packet",e)};Manager.prototype.onerror=function(e){debug$1("error",e),this.emitAll("error",e)};Manager.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new Socket(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",u),r.on("connect",function(){r.id=o.generateId(e)}),this.autoConnect&&u()}function u(){~indexOf(o.connecting,r)||o.connecting.push(r)}return r};Manager.prototype.destroy=function(e){var t=indexOf(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};Manager.prototype.packet=function(e){debug$1("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var o=0;o<r.length;o++)t.engine.write(r[o],e.options);t.encoding=!1,t.processPacketQueue()}))};Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};Manager.prototype.cleanup=function(){debug$1("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};Manager.prototype.close=Manager.prototype.disconnect=function(){debug$1("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};Manager.prototype.onclose=function(e){debug$1("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)debug$1("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();debug$1("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout(function(){e.skipReconnect||(debug$1("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(o){o?(debug$1("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",o.data)):(debug$1("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}};Manager.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var r=url_1,o=socket_ioParser,u=manager,f=browserExports$4("socket.io-client");e.exports=t=_;var g=t.managers={};function _(w,S){typeof w=="object"&&(S=w,w=void 0),S=S||{};var M=r(w),C=M.source,T=M.id,k=M.path,P=g[T]&&k in g[T].nsps,$=S.forceNew||S["force new connection"]||S.multiplex===!1||P,I;return $?(f("ignoring socket cache for %s",C),I=u(C,S)):(g[T]||(f("new io instance for %s",C),g[T]=u(C,S)),I=g[T]),M.query&&!S.query&&(S.query=M.query),I.socket(M.path,S)}t.protocol=o.protocol,t.connect=_,t.Manager=manager,t.Socket=socketExports})(lib$2,lib$2.exports);var libExports$1=lib$2.exports;const io=getDefaultExportFromCjs(libExports$1);var browser$2={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,t=e*60,r=t*60,o=r*24,u=o*7,f=o*365.25;ms=function(M,C){C=C||{};var T=typeof M;if(T==="string"&&M.length>0)return g(M);if(T==="number"&&isFinite(M))return C.long?w(M):_(M);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(M))};function g(M){if(M=String(M),!(M.length>100)){var C=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(M);if(C){var T=parseFloat(C[1]),k=(C[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return T*f;case"weeks":case"week":case"w":return T*u;case"days":case"day":case"d":return T*o;case"hours":case"hour":case"hrs":case"hr":case"h":return T*r;case"minutes":case"minute":case"mins":case"min":case"m":return T*t;case"seconds":case"second":case"secs":case"sec":case"s":return T*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return T;default:return}}}}function _(M){var C=Math.abs(M);return C>=o?Math.round(M/o)+"d":C>=r?Math.round(M/r)+"h":C>=t?Math.round(M/t)+"m":C>=e?Math.round(M/e)+"s":M+"ms"}function w(M){var C=Math.abs(M);return C>=o?S(M,C,o,"day"):C>=r?S(M,C,r,"hour"):C>=t?S(M,C,t,"minute"):C>=e?S(M,C,e,"second"):M+" ms"}function S(M,C,T,k){var P=C>=T*1.5;return Math.round(M/T)+" "+k+(P?"s":"")}return ms}function setup(e){r.debug=r,r.default=r,r.coerce=w,r.disable=f,r.enable=u,r.enabled=g,r.humanize=requireMs(),r.destroy=S,Object.keys(e).forEach(M=>{r[M]=e[M]}),r.names=[],r.skips=[],r.formatters={};function t(M){let C=0;for(let T=0;T<M.length;T++)C=(C<<5)-C+M.charCodeAt(T),C|=0;return r.colors[Math.abs(C)%r.colors.length]}r.selectColor=t;function r(M){let C,T=null,k,P;function $(...I){if(!$.enabled)return;const E=$,F=Number(new Date),le=F-(C||F);E.diff=le,E.prev=C,E.curr=F,C=F,I[0]=r.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let W=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(te,oe)=>{if(te==="%%")return"%";W++;const ie=r.formatters[oe];if(typeof ie=="function"){const Ee=I[W];te=ie.call(E,Ee),I.splice(W,1),W--}return te}),r.formatArgs.call(E,I),(E.log||r.log).apply(E,I)}return $.namespace=M,$.useColors=r.useColors(),$.color=r.selectColor(M),$.extend=o,$.destroy=r.destroy,Object.defineProperty($,"enabled",{enumerable:!0,configurable:!1,get:()=>T!==null?T:(k!==r.namespaces&&(k=r.namespaces,P=r.enabled(M)),P),set:I=>{T=I}}),typeof r.init=="function"&&r.init($),$}function o(M,C){const T=r(this.namespace+(typeof C>"u"?":":C)+M);return T.log=this.log,T}function u(M){r.save(M),r.namespaces=M,r.names=[],r.skips=[];let C;const T=(typeof M=="string"?M:"").split(/[\s,]+/),k=T.length;for(C=0;C<k;C++)T[C]&&(M=T[C].replace(/\*/g,".*?"),M[0]==="-"?r.skips.push(new RegExp("^"+M.substr(1)+"$")):r.names.push(new RegExp("^"+M+"$")))}function f(){const M=[...r.names.map(_),...r.skips.map(_).map(C=>"-"+C)].join(",");return r.enable(""),M}function g(M){if(M[M.length-1]==="*")return!0;let C,T;for(C=0,T=r.skips.length;C<T;C++)if(r.skips[C].test(M))return!1;for(C=0,T=r.names.length;C<T;C++)if(r.names[C].test(M))return!0;return!1}function _(M){return M.toString().substring(2,M.toString().length-2).replace(/\.\*\?$/,"*")}function w(M){return M instanceof Error?M.stack||M.message:M}function S(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var common=setup;(function(e,t){t.formatArgs=o,t.save=u,t.load=f,t.useColors=r,t.storage=g(),t.destroy=(()=>{let w=!1;return()=>{w||(w=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(w){if(w[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+w[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const S="color: "+this.color;w.splice(1,0,S,"color: inherit");let M=0,C=0;w[0].replace(/%[a-zA-Z%]/g,T=>{T!=="%%"&&(M++,T==="%c"&&(C=M))}),w.splice(C,0,S)}t.log=console.debug||console.log||(()=>{});function u(w){try{w?t.storage.setItem("debug",w):t.storage.removeItem("debug")}catch{}}function f(){let w;try{w=t.storage.getItem("debug")}catch{}return!w&&typeof process<"u"&&"env"in process&&(w={}.DEBUG),w}function g(){try{return localStorage}catch{}}e.exports=common(t);const{formatters:_}=e.exports;_.j=function(w){try{return JSON.stringify(w)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}}})(browser$2,browser$2.exports);var browserExports$1=browser$2.exports,getBrowserRtc=function e(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null},browser$1={exports:{}},safeBuffer={exports:{}},buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup$1[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var o=r===t?0:4-r%4;return[r,o]}function byteLength(e){var t=getLens(e),r=t[0],o=t[1];return(r+o)*3/4-o}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t,r=getLens(e),o=r[0],u=r[1],f=new Arr(_byteLength(e,o,u)),g=0,_=u>0?o-4:o,w;for(w=0;w<_;w+=4)t=revLookup[e.charCodeAt(w)]<<18|revLookup[e.charCodeAt(w+1)]<<12|revLookup[e.charCodeAt(w+2)]<<6|revLookup[e.charCodeAt(w+3)],f[g++]=t>>16&255,f[g++]=t>>8&255,f[g++]=t&255;return u===2&&(t=revLookup[e.charCodeAt(w)]<<2|revLookup[e.charCodeAt(w+1)]>>4,f[g++]=t&255),u===1&&(t=revLookup[e.charCodeAt(w)]<<10|revLookup[e.charCodeAt(w+1)]<<4|revLookup[e.charCodeAt(w+2)]>>2,f[g++]=t>>8&255,f[g++]=t&255),f}function tripletToBase64(e){return lookup$1[e>>18&63]+lookup$1[e>>12&63]+lookup$1[e>>6&63]+lookup$1[e&63]}function encodeChunk(e,t,r){for(var o,u=[],f=t;f<r;f+=3)o=(e[f]<<16&16711680)+(e[f+1]<<8&65280)+(e[f+2]&255),u.push(tripletToBase64(o));return u.join("")}function fromByteArray(e){for(var t,r=e.length,o=r%3,u=[],f=16383,g=0,_=r-o;g<_;g+=f)u.push(encodeChunk(e,g,g+f>_?_:g+f));return o===1?(t=e[r-1],u.push(lookup$1[t>>2]+lookup$1[t<<4&63]+"==")):o===2&&(t=(e[r-2]<<8)+e[r-1],u.push(lookup$1[t>>10]+lookup$1[t>>4&63]+lookup$1[t<<2&63]+"=")),u.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e,t,r,o,u){var f,g,_=u*8-o-1,w=(1<<_)-1,S=w>>1,M=-7,C=r?u-1:0,T=r?-1:1,k=e[t+C];for(C+=T,f=k&(1<<-M)-1,k>>=-M,M+=_;M>0;f=f*256+e[t+C],C+=T,M-=8);for(g=f&(1<<-M)-1,f>>=-M,M+=o;M>0;g=g*256+e[t+C],C+=T,M-=8);if(f===0)f=1-S;else{if(f===w)return g?NaN:(k?-1:1)*(1/0);g=g+Math.pow(2,o),f=f-S}return(k?-1:1)*g*Math.pow(2,f-o)};ieee754.write=function(e,t,r,o,u,f){var g,_,w,S=f*8-u-1,M=(1<<S)-1,C=M>>1,T=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=o?0:f-1,P=o?1:-1,$=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(_=isNaN(t)?1:0,g=M):(g=Math.floor(Math.log(t)/Math.LN2),t*(w=Math.pow(2,-g))<1&&(g--,w*=2),g+C>=1?t+=T/w:t+=T*Math.pow(2,1-C),t*w>=2&&(g++,w/=2),g+C>=M?(_=0,g=M):g+C>=1?(_=(t*w-1)*Math.pow(2,u),g=g+C):(_=t*Math.pow(2,C-1)*Math.pow(2,u),g=0));u>=8;e[r+k]=_&255,k+=P,_/=256,u-=8);for(g=g<<u|_,S+=u;S>0;e[r+k]=g&255,k+=P,g/=256,S-=8);e[r+k-P]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=base64Js,r=ieee754,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=_,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,_.TYPED_ARRAY_SUPPORT=f(),!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const K=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(K,O),K.foo()===42}catch{return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}});function g(K){if(K>u)throw new RangeError('The value "'+K+'" is invalid for option "size"');const O=new Uint8Array(K);return Object.setPrototypeOf(O,_.prototype),O}function _(K,O,U){if(typeof K=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(K)}return w(K,O,U)}_.poolSize=8192;function w(K,O,U){if(typeof K=="string")return T(K,O);if(ArrayBuffer.isView(K))return P(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ve(K,ArrayBuffer)||K&&Ve(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(K,SharedArrayBuffer)||K&&Ve(K.buffer,SharedArrayBuffer)))return $(K,O,U);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ce=K.valueOf&&K.valueOf();if(ce!=null&&ce!==K)return _.from(ce,O,U);const Le=I(K);if(Le)return Le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return _.from(K[Symbol.toPrimitive]("string"),O,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}_.from=function(K,O,U){return w(K,O,U)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array);function S(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function M(K,O,U){return S(K),K<=0?g(K):O!==void 0?typeof U=="string"?g(K).fill(O,U):g(K).fill(O):g(K)}_.alloc=function(K,O,U){return M(K,O,U)};function C(K){return S(K),g(K<0?0:E(K)|0)}_.allocUnsafe=function(K){return C(K)},_.allocUnsafeSlow=function(K){return C(K)};function T(K,O){if((typeof O!="string"||O==="")&&(O="utf8"),!_.isEncoding(O))throw new TypeError("Unknown encoding: "+O);const U=le(K,O)|0;let ce=g(U);const Le=ce.write(K,O);return Le!==U&&(ce=ce.slice(0,Le)),ce}function k(K){const O=K.length<0?0:E(K.length)|0,U=g(O);for(let ce=0;ce<O;ce+=1)U[ce]=K[ce]&255;return U}function P(K){if(Ve(K,Uint8Array)){const O=new Uint8Array(K);return $(O.buffer,O.byteOffset,O.byteLength)}return k(K)}function $(K,O,U){if(O<0||K.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<O+(U||0))throw new RangeError('"length" is outside of buffer bounds');let ce;return O===void 0&&U===void 0?ce=new Uint8Array(K):U===void 0?ce=new Uint8Array(K,O):ce=new Uint8Array(K,O,U),Object.setPrototypeOf(ce,_.prototype),ce}function I(K){if(_.isBuffer(K)){const O=E(K.length)|0,U=g(O);return U.length===0||K.copy(U,0,0,O),U}if(K.length!==void 0)return typeof K.length!="number"||V(K.length)?g(0):k(K);if(K.type==="Buffer"&&Array.isArray(K.data))return k(K.data)}function E(K){if(K>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return K|0}function F(K){return+K!=K&&(K=0),_.alloc(+K)}_.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==_.prototype},_.compare=function(O,U){if(Ve(O,Uint8Array)&&(O=_.from(O,O.offset,O.byteLength)),Ve(U,Uint8Array)&&(U=_.from(U,U.offset,U.byteLength)),!_.isBuffer(O)||!_.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===U)return 0;let ce=O.length,Le=U.length;for(let We=0,rt=Math.min(ce,Le);We<rt;++We)if(O[We]!==U[We]){ce=O[We],Le=U[We];break}return ce<Le?-1:Le<ce?1:0},_.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(O,U){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return _.alloc(0);let ce;if(U===void 0)for(U=0,ce=0;ce<O.length;++ce)U+=O[ce].length;const Le=_.allocUnsafe(U);let We=0;for(ce=0;ce<O.length;++ce){let rt=O[ce];if(Ve(rt,Uint8Array))We+rt.length>Le.length?(_.isBuffer(rt)||(rt=_.from(rt)),rt.copy(Le,We)):Uint8Array.prototype.set.call(Le,rt,We);else if(_.isBuffer(rt))rt.copy(Le,We);else throw new TypeError('"list" argument must be an Array of Buffers');We+=rt.length}return Le};function le(K,O){if(_.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Ve(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const U=K.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&U===0)return 0;let Le=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return Xt(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return Zr(K).length;default:if(Le)return ce?-1:Xt(K).length;O=(""+O).toLowerCase(),Le=!0}}_.byteLength=le;function W(K,O,U){let ce=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,O>>>=0,U<=O))return"";for(K||(K="utf8");;)switch(K){case"hex":return Te(this,O,U);case"utf8":case"utf-8":return we(this,O,U);case"ascii":return G(this,O,U);case"latin1":case"binary":return q(this,O,U);case"base64":return pe(this,O,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,O,U);default:if(ce)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),ce=!0}}_.prototype._isBuffer=!0;function ae(K,O,U){const ce=K[O];K[O]=K[U],K[U]=ce}_.prototype.swap16=function(){const O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<O;U+=2)ae(this,U,U+1);return this},_.prototype.swap32=function(){const O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<O;U+=4)ae(this,U,U+3),ae(this,U+1,U+2);return this},_.prototype.swap64=function(){const O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<O;U+=8)ae(this,U,U+7),ae(this,U+1,U+6),ae(this,U+2,U+5),ae(this,U+3,U+4);return this},_.prototype.toString=function(){const O=this.length;return O===0?"":arguments.length===0?we(this,0,O):W.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(O){if(!_.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:_.compare(this,O)===0},_.prototype.inspect=function(){let O="";const U=e.INSPECT_MAX_BYTES;return O=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(O+=" ... "),"<Buffer "+O+">"},o&&(_.prototype[o]=_.prototype.inspect),_.prototype.compare=function(O,U,ce,Le,We){if(Ve(O,Uint8Array)&&(O=_.from(O,O.offset,O.byteLength)),!_.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(U===void 0&&(U=0),ce===void 0&&(ce=O?O.length:0),Le===void 0&&(Le=0),We===void 0&&(We=this.length),U<0||ce>O.length||Le<0||We>this.length)throw new RangeError("out of range index");if(Le>=We&&U>=ce)return 0;if(Le>=We)return-1;if(U>=ce)return 1;if(U>>>=0,ce>>>=0,Le>>>=0,We>>>=0,this===O)return 0;let rt=We-Le,jt=ce-U;const or=Math.min(rt,jt),br=this.slice(Le,We),hr=O.slice(U,ce);for(let vr=0;vr<or;++vr)if(br[vr]!==hr[vr]){rt=br[vr],jt=hr[vr];break}return rt<jt?-1:jt<rt?1:0};function te(K,O,U,ce,Le){if(K.length===0)return-1;if(typeof U=="string"?(ce=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,V(U)&&(U=Le?0:K.length-1),U<0&&(U=K.length+U),U>=K.length){if(Le)return-1;U=K.length-1}else if(U<0)if(Le)U=0;else return-1;if(typeof O=="string"&&(O=_.from(O,ce)),_.isBuffer(O))return O.length===0?-1:oe(K,O,U,ce,Le);if(typeof O=="number")return O=O&255,typeof Uint8Array.prototype.indexOf=="function"?Le?Uint8Array.prototype.indexOf.call(K,O,U):Uint8Array.prototype.lastIndexOf.call(K,O,U):oe(K,[O],U,ce,Le);throw new TypeError("val must be string, number or Buffer")}function oe(K,O,U,ce,Le){let We=1,rt=K.length,jt=O.length;if(ce!==void 0&&(ce=String(ce).toLowerCase(),ce==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(K.length<2||O.length<2)return-1;We=2,rt/=2,jt/=2,U/=2}function or(hr,vr){return We===1?hr[vr]:hr.readUInt16BE(vr*We)}let br;if(Le){let hr=-1;for(br=U;br<rt;br++)if(or(K,br)===or(O,hr===-1?0:br-hr)){if(hr===-1&&(hr=br),br-hr+1===jt)return hr*We}else hr!==-1&&(br-=br-hr),hr=-1}else for(U+jt>rt&&(U=rt-jt),br=U;br>=0;br--){let hr=!0;for(let vr=0;vr<jt;vr++)if(or(K,br+vr)!==or(O,vr)){hr=!1;break}if(hr)return br}return-1}_.prototype.includes=function(O,U,ce){return this.indexOf(O,U,ce)!==-1},_.prototype.indexOf=function(O,U,ce){return te(this,O,U,ce,!0)},_.prototype.lastIndexOf=function(O,U,ce){return te(this,O,U,ce,!1)};function ie(K,O,U,ce){U=Number(U)||0;const Le=K.length-U;ce?(ce=Number(ce),ce>Le&&(ce=Le)):ce=Le;const We=O.length;ce>We/2&&(ce=We/2);let rt;for(rt=0;rt<ce;++rt){const jt=parseInt(O.substr(rt*2,2),16);if(V(jt))return rt;K[U+rt]=jt}return rt}function Ee(K,O,U,ce){return ki(Xt(O,K.length-U),K,U,ce)}function D(K,O,U,ce){return ki(Pt(O),K,U,ce)}function me(K,O,U,ce){return ki(Zr(O),K,U,ce)}function z(K,O,U,ce){return ki(Xr(O,K.length-U),K,U,ce)}_.prototype.write=function(O,U,ce,Le){if(U===void 0)Le="utf8",ce=this.length,U=0;else if(ce===void 0&&typeof U=="string")Le=U,ce=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(ce)?(ce=ce>>>0,Le===void 0&&(Le="utf8")):(Le=ce,ce=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const We=this.length-U;if((ce===void 0||ce>We)&&(ce=We),O.length>0&&(ce<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");let rt=!1;for(;;)switch(Le){case"hex":return ie(this,O,U,ce);case"utf8":case"utf-8":return Ee(this,O,U,ce);case"ascii":case"latin1":case"binary":return D(this,O,U,ce);case"base64":return me(this,O,U,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,O,U,ce);default:if(rt)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),rt=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(K,O,U){return O===0&&U===K.length?t.fromByteArray(K):t.fromByteArray(K.slice(O,U))}function we(K,O,U){U=Math.min(K.length,U);const ce=[];let Le=O;for(;Le<U;){const We=K[Le];let rt=null,jt=We>239?4:We>223?3:We>191?2:1;if(Le+jt<=U){let or,br,hr,vr;switch(jt){case 1:We<128&&(rt=We);break;case 2:or=K[Le+1],(or&192)===128&&(vr=(We&31)<<6|or&63,vr>127&&(rt=vr));break;case 3:or=K[Le+1],br=K[Le+2],(or&192)===128&&(br&192)===128&&(vr=(We&15)<<12|(or&63)<<6|br&63,vr>2047&&(vr<55296||vr>57343)&&(rt=vr));break;case 4:or=K[Le+1],br=K[Le+2],hr=K[Le+3],(or&192)===128&&(br&192)===128&&(hr&192)===128&&(vr=(We&15)<<18|(or&63)<<12|(br&63)<<6|hr&63,vr>65535&&vr<1114112&&(rt=vr))}}rt===null?(rt=65533,jt=1):rt>65535&&(rt-=65536,ce.push(rt>>>10&1023|55296),rt=56320|rt&1023),ce.push(rt),Le+=jt}return Y(ce)}const Q=4096;function Y(K){const O=K.length;if(O<=Q)return String.fromCharCode.apply(String,K);let U="",ce=0;for(;ce<O;)U+=String.fromCharCode.apply(String,K.slice(ce,ce+=Q));return U}function G(K,O,U){let ce="";U=Math.min(K.length,U);for(let Le=O;Le<U;++Le)ce+=String.fromCharCode(K[Le]&127);return ce}function q(K,O,U){let ce="";U=Math.min(K.length,U);for(let Le=O;Le<U;++Le)ce+=String.fromCharCode(K[Le]);return ce}function Te(K,O,U){const ce=K.length;(!O||O<0)&&(O=0),(!U||U<0||U>ce)&&(U=ce);let Le="";for(let We=O;We<U;++We)Le+=Si[K[We]];return Le}function De(K,O,U){const ce=K.slice(O,U);let Le="";for(let We=0;We<ce.length-1;We+=2)Le+=String.fromCharCode(ce[We]+ce[We+1]*256);return Le}_.prototype.slice=function(O,U){const ce=this.length;O=~~O,U=U===void 0?ce:~~U,O<0?(O+=ce,O<0&&(O=0)):O>ce&&(O=ce),U<0?(U+=ce,U<0&&(U=0)):U>ce&&(U=ce),U<O&&(U=O);const Le=this.subarray(O,U);return Object.setPrototypeOf(Le,_.prototype),Le};function nt(K,O,U){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+O>U)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(O,U,ce){O=O>>>0,U=U>>>0,ce||nt(O,U,this.length);let Le=this[O],We=1,rt=0;for(;++rt<U&&(We*=256);)Le+=this[O+rt]*We;return Le},_.prototype.readUintBE=_.prototype.readUIntBE=function(O,U,ce){O=O>>>0,U=U>>>0,ce||nt(O,U,this.length);let Le=this[O+--U],We=1;for(;U>0&&(We*=256);)Le+=this[O+--U]*We;return Le},_.prototype.readUint8=_.prototype.readUInt8=function(O,U){return O=O>>>0,U||nt(O,1,this.length),this[O]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(O,U){return O=O>>>0,U||nt(O,2,this.length),this[O]|this[O+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(O,U){return O=O>>>0,U||nt(O,2,this.length),this[O]<<8|this[O+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(O,U){return O=O>>>0,U||nt(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(O,U){return O=O>>>0,U||nt(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},_.prototype.readBigUInt64LE=Ir(function(O){O=O>>>0,tt(O,"offset");const U=this[O],ce=this[O+7];(U===void 0||ce===void 0)&&Je(O,this.length-8);const Le=U+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24,We=this[++O]+this[++O]*2**8+this[++O]*2**16+ce*2**24;return BigInt(Le)+(BigInt(We)<<BigInt(32))}),_.prototype.readBigUInt64BE=Ir(function(O){O=O>>>0,tt(O,"offset");const U=this[O],ce=this[O+7];(U===void 0||ce===void 0)&&Je(O,this.length-8);const Le=U*2**24+this[++O]*2**16+this[++O]*2**8+this[++O],We=this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+ce;return(BigInt(Le)<<BigInt(32))+BigInt(We)}),_.prototype.readIntLE=function(O,U,ce){O=O>>>0,U=U>>>0,ce||nt(O,U,this.length);let Le=this[O],We=1,rt=0;for(;++rt<U&&(We*=256);)Le+=this[O+rt]*We;return We*=128,Le>=We&&(Le-=Math.pow(2,8*U)),Le},_.prototype.readIntBE=function(O,U,ce){O=O>>>0,U=U>>>0,ce||nt(O,U,this.length);let Le=U,We=1,rt=this[O+--Le];for(;Le>0&&(We*=256);)rt+=this[O+--Le]*We;return We*=128,rt>=We&&(rt-=Math.pow(2,8*U)),rt},_.prototype.readInt8=function(O,U){return O=O>>>0,U||nt(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},_.prototype.readInt16LE=function(O,U){O=O>>>0,U||nt(O,2,this.length);const ce=this[O]|this[O+1]<<8;return ce&32768?ce|4294901760:ce},_.prototype.readInt16BE=function(O,U){O=O>>>0,U||nt(O,2,this.length);const ce=this[O+1]|this[O]<<8;return ce&32768?ce|4294901760:ce},_.prototype.readInt32LE=function(O,U){return O=O>>>0,U||nt(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},_.prototype.readInt32BE=function(O,U){return O=O>>>0,U||nt(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},_.prototype.readBigInt64LE=Ir(function(O){O=O>>>0,tt(O,"offset");const U=this[O],ce=this[O+7];(U===void 0||ce===void 0)&&Je(O,this.length-8);const Le=this[O+4]+this[O+5]*2**8+this[O+6]*2**16+(ce<<24);return(BigInt(Le)<<BigInt(32))+BigInt(U+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24)}),_.prototype.readBigInt64BE=Ir(function(O){O=O>>>0,tt(O,"offset");const U=this[O],ce=this[O+7];(U===void 0||ce===void 0)&&Je(O,this.length-8);const Le=(U<<24)+this[++O]*2**16+this[++O]*2**8+this[++O];return(BigInt(Le)<<BigInt(32))+BigInt(this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+ce)}),_.prototype.readFloatLE=function(O,U){return O=O>>>0,U||nt(O,4,this.length),r.read(this,O,!0,23,4)},_.prototype.readFloatBE=function(O,U){return O=O>>>0,U||nt(O,4,this.length),r.read(this,O,!1,23,4)},_.prototype.readDoubleLE=function(O,U){return O=O>>>0,U||nt(O,8,this.length),r.read(this,O,!0,52,8)},_.prototype.readDoubleBE=function(O,U){return O=O>>>0,U||nt(O,8,this.length),r.read(this,O,!1,52,8)};function ft(K,O,U,ce,Le,We){if(!_.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>Le||O<We)throw new RangeError('"value" argument is out of bounds');if(U+ce>K.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(O,U,ce,Le){if(O=+O,U=U>>>0,ce=ce>>>0,!Le){const jt=Math.pow(2,8*ce)-1;ft(this,O,U,ce,jt,0)}let We=1,rt=0;for(this[U]=O&255;++rt<ce&&(We*=256);)this[U+rt]=O/We&255;return U+ce},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(O,U,ce,Le){if(O=+O,U=U>>>0,ce=ce>>>0,!Le){const jt=Math.pow(2,8*ce)-1;ft(this,O,U,ce,jt,0)}let We=ce-1,rt=1;for(this[U+We]=O&255;--We>=0&&(rt*=256);)this[U+We]=O/rt&255;return U+ce},_.prototype.writeUint8=_.prototype.writeUInt8=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,1,255,0),this[U]=O&255,U+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,2,65535,0),this[U]=O&255,this[U+1]=O>>>8,U+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,2,65535,0),this[U]=O>>>8,this[U+1]=O&255,U+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,4,4294967295,0),this[U+3]=O>>>24,this[U+2]=O>>>16,this[U+1]=O>>>8,this[U]=O&255,U+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,4,4294967295,0),this[U]=O>>>24,this[U+1]=O>>>16,this[U+2]=O>>>8,this[U+3]=O&255,U+4};function wt(K,O,U,ce,Le){ue(O,ce,Le,K,U,7);let We=Number(O&BigInt(4294967295));K[U++]=We,We=We>>8,K[U++]=We,We=We>>8,K[U++]=We,We=We>>8,K[U++]=We;let rt=Number(O>>BigInt(32)&BigInt(4294967295));return K[U++]=rt,rt=rt>>8,K[U++]=rt,rt=rt>>8,K[U++]=rt,rt=rt>>8,K[U++]=rt,U}function Et(K,O,U,ce,Le){ue(O,ce,Le,K,U,7);let We=Number(O&BigInt(4294967295));K[U+7]=We,We=We>>8,K[U+6]=We,We=We>>8,K[U+5]=We,We=We>>8,K[U+4]=We;let rt=Number(O>>BigInt(32)&BigInt(4294967295));return K[U+3]=rt,rt=rt>>8,K[U+2]=rt,rt=rt>>8,K[U+1]=rt,rt=rt>>8,K[U]=rt,U+8}_.prototype.writeBigUInt64LE=Ir(function(O,U=0){return wt(this,O,U,BigInt(0),BigInt("0xffffffffffffffff"))}),_.prototype.writeBigUInt64BE=Ir(function(O,U=0){return Et(this,O,U,BigInt(0),BigInt("0xffffffffffffffff"))}),_.prototype.writeIntLE=function(O,U,ce,Le){if(O=+O,U=U>>>0,!Le){const or=Math.pow(2,8*ce-1);ft(this,O,U,ce,or-1,-or)}let We=0,rt=1,jt=0;for(this[U]=O&255;++We<ce&&(rt*=256);)O<0&&jt===0&&this[U+We-1]!==0&&(jt=1),this[U+We]=(O/rt>>0)-jt&255;return U+ce},_.prototype.writeIntBE=function(O,U,ce,Le){if(O=+O,U=U>>>0,!Le){const or=Math.pow(2,8*ce-1);ft(this,O,U,ce,or-1,-or)}let We=ce-1,rt=1,jt=0;for(this[U+We]=O&255;--We>=0&&(rt*=256);)O<0&&jt===0&&this[U+We+1]!==0&&(jt=1),this[U+We]=(O/rt>>0)-jt&255;return U+ce},_.prototype.writeInt8=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,1,127,-128),O<0&&(O=255+O+1),this[U]=O&255,U+1},_.prototype.writeInt16LE=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,2,32767,-32768),this[U]=O&255,this[U+1]=O>>>8,U+2},_.prototype.writeInt16BE=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,2,32767,-32768),this[U]=O>>>8,this[U+1]=O&255,U+2},_.prototype.writeInt32LE=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,4,2147483647,-2147483648),this[U]=O&255,this[U+1]=O>>>8,this[U+2]=O>>>16,this[U+3]=O>>>24,U+4},_.prototype.writeInt32BE=function(O,U,ce){return O=+O,U=U>>>0,ce||ft(this,O,U,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[U]=O>>>24,this[U+1]=O>>>16,this[U+2]=O>>>8,this[U+3]=O&255,U+4},_.prototype.writeBigInt64LE=Ir(function(O,U=0){return wt(this,O,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),_.prototype.writeBigInt64BE=Ir(function(O,U=0){return Et(this,O,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function kt(K,O,U,ce,Le,We){if(U+ce>K.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function $e(K,O,U,ce,Le){return O=+O,U=U>>>0,Le||kt(K,O,U,4),r.write(K,O,U,ce,23,4),U+4}_.prototype.writeFloatLE=function(O,U,ce){return $e(this,O,U,!0,ce)},_.prototype.writeFloatBE=function(O,U,ce){return $e(this,O,U,!1,ce)};function Re(K,O,U,ce,Le){return O=+O,U=U>>>0,Le||kt(K,O,U,8),r.write(K,O,U,ce,52,8),U+8}_.prototype.writeDoubleLE=function(O,U,ce){return Re(this,O,U,!0,ce)},_.prototype.writeDoubleBE=function(O,U,ce){return Re(this,O,U,!1,ce)},_.prototype.copy=function(O,U,ce,Le){if(!_.isBuffer(O))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),!Le&&Le!==0&&(Le=this.length),U>=O.length&&(U=O.length),U||(U=0),Le>0&&Le<ce&&(Le=ce),Le===ce||O.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),O.length-U<Le-ce&&(Le=O.length-U+ce);const We=Le-ce;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,ce,Le):Uint8Array.prototype.set.call(O,this.subarray(ce,Le),U),We},_.prototype.fill=function(O,U,ce,Le){if(typeof O=="string"){if(typeof U=="string"?(Le=U,U=0,ce=this.length):typeof ce=="string"&&(Le=ce,ce=this.length),Le!==void 0&&typeof Le!="string")throw new TypeError("encoding must be a string");if(typeof Le=="string"&&!_.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(O.length===1){const rt=O.charCodeAt(0);(Le==="utf8"&&rt<128||Le==="latin1")&&(O=rt)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(U<0||this.length<U||this.length<ce)throw new RangeError("Out of range index");if(ce<=U)return this;U=U>>>0,ce=ce===void 0?this.length:ce>>>0,O||(O=0);let We;if(typeof O=="number")for(We=U;We<ce;++We)this[We]=O;else{const rt=_.isBuffer(O)?O:_.from(O,Le),jt=rt.length;if(jt===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(We=0;We<ce-U;++We)this[We+U]=rt[We%jt]}return this};const at={};function At(K,O,U){at[K]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(Le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Le,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}At("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),At("ERR_INVALID_ARG_TYPE",function(K,O){return`The "${K}" argument must be of type number. Received type ${typeof O}`},TypeError),At("ERR_OUT_OF_RANGE",function(K,O,U){let ce=`The value of "${K}" is out of range.`,Le=U;return Number.isInteger(U)&&Math.abs(U)>2**32?Le=Ut(String(U)):typeof U=="bigint"&&(Le=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(Le=Ut(Le)),Le+="n"),ce+=` It must be ${O}. Received ${Le}`,ce},RangeError);function Ut(K){let O="",U=K.length;const ce=K[0]==="-"?1:0;for(;U>=ce+4;U-=3)O=`_${K.slice(U-3,U)}${O}`;return`${K.slice(0,U)}${O}`}function he(K,O,U){tt(O,"offset"),(K[O]===void 0||K[O+U]===void 0)&&Je(O,K.length-(U+1))}function ue(K,O,U,ce,Le,We){if(K>U||K<O){const rt=typeof O=="bigint"?"n":"";let jt;throw We>3?O===0||O===BigInt(0)?jt=`>= 0${rt} and < 2${rt} ** ${(We+1)*8}${rt}`:jt=`>= -(2${rt} ** ${(We+1)*8-1}${rt}) and < 2 ** ${(We+1)*8-1}${rt}`:jt=`>= ${O}${rt} and <= ${U}${rt}`,new at.ERR_OUT_OF_RANGE("value",jt,K)}he(ce,Le,We)}function tt(K,O){if(typeof K!="number")throw new at.ERR_INVALID_ARG_TYPE(O,"number",K)}function Je(K,O,U){throw Math.floor(K)!==K?(tt(K,U),new at.ERR_OUT_OF_RANGE(U||"offset","an integer",K)):O<0?new at.ERR_BUFFER_OUT_OF_BOUNDS:new at.ERR_OUT_OF_RANGE(U||"offset",`>= ${U?1:0} and <= ${O}`,K)}const Bt=/[^+/0-9A-Za-z-_]/g;function Ht(K){if(K=K.split("=")[0],K=K.trim().replace(Bt,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function Xt(K,O){O=O||1/0;let U;const ce=K.length;let Le=null;const We=[];for(let rt=0;rt<ce;++rt){if(U=K.charCodeAt(rt),U>55295&&U<57344){if(!Le){if(U>56319){(O-=3)>-1&&We.push(239,191,189);continue}else if(rt+1===ce){(O-=3)>-1&&We.push(239,191,189);continue}Le=U;continue}if(U<56320){(O-=3)>-1&&We.push(239,191,189),Le=U;continue}U=(Le-55296<<10|U-56320)+65536}else Le&&(O-=3)>-1&&We.push(239,191,189);if(Le=null,U<128){if((O-=1)<0)break;We.push(U)}else if(U<2048){if((O-=2)<0)break;We.push(U>>6|192,U&63|128)}else if(U<65536){if((O-=3)<0)break;We.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((O-=4)<0)break;We.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return We}function Pt(K){const O=[];for(let U=0;U<K.length;++U)O.push(K.charCodeAt(U)&255);return O}function Xr(K,O){let U,ce,Le;const We=[];for(let rt=0;rt<K.length&&!((O-=2)<0);++rt)U=K.charCodeAt(rt),ce=U>>8,Le=U%256,We.push(Le),We.push(ce);return We}function Zr(K){return t.toByteArray(Ht(K))}function ki(K,O,U,ce){let Le;for(Le=0;Le<ce&&!(Le+U>=O.length||Le>=K.length);++Le)O[Le+U]=K[Le];return Le}function Ve(K,O){return K instanceof O||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===O.name}function V(K){return K!==K}const Si=function(){const K="0123456789abcdef",O=new Array(256);for(let U=0;U<16;++U){const ce=U*16;for(let Le=0;Le<16;++Le)O[ce+Le]=K[U]+K[Le]}return O}();function Ir(K){return typeof BigInt>"u"?ii:K}function ii(){throw new Error("BigInt not supported")}})(buffer);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=buffer,o=r.Buffer;function u(g,_){for(var w in g)_[w]=g[w]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(u(r,t),t.Buffer=f);function f(g,_,w){return o(g,_,w)}f.prototype=Object.create(o.prototype),u(o,f),f.from=function(g,_,w){if(typeof g=="number")throw new TypeError("Argument must not be a number");return o(g,_,w)},f.alloc=function(g,_,w){if(typeof g!="number")throw new TypeError("Argument must be a number");var S=o(g);return _!==void 0?typeof w=="string"?S.fill(_,w):S.fill(_):S.fill(0),S},f.allocUnsafe=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return o(g)},f.allocUnsafeSlow=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(g)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$2=safeBufferExports.Buffer,crypto$1=globalThis.crypto||globalThis.msCrypto;crypto$1&&crypto$1.getRandomValues?browser$1.exports=randomBytes:browser$1.exports=oldBrowser;function randomBytes(e,t){if(e>MAX_UINT32)throw new RangeError("requested too many random bytes");var r=Buffer$2.allocUnsafe(e);if(e>0)if(e>MAX_BYTES)for(var o=0;o<e;o+=MAX_BYTES)crypto$1.getRandomValues(r.slice(o,o+MAX_BYTES));else crypto$1.getRandomValues(r);return typeof t=="function"?process.nextTick(function(){t(null,r)}):r}var browserExports=browser$1.exports,readableBrowser={exports:{}},streamBrowser=eventsExports.EventEmitter,buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function e(T,k){var P=Object.keys(T);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(T);k&&($=$.filter(function(I){return Object.getOwnPropertyDescriptor(T,I).enumerable})),P.push.apply(P,$)}return P}function t(T){for(var k=1;k<arguments.length;k++){var P=arguments[k]!=null?arguments[k]:{};k%2?e(Object(P),!0).forEach(function($){r(T,$,P[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(P)):e(Object(P)).forEach(function($){Object.defineProperty(T,$,Object.getOwnPropertyDescriptor(P,$))})}return T}function r(T,k,P){return k in T?Object.defineProperty(T,k,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[k]=P,T}function o(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function u(T,k){for(var P=0;P<k.length;P++){var $=k[P];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(T,$.key,$)}}function f(T,k,P){return k&&u(T.prototype,k),P&&u(T,P),T}var g=buffer,_=g.Buffer,w=require$$3,S=w.inspect,M=S&&S.custom||"inspect";function C(T,k,P){_.prototype.copy.call(T,k,P)}return buffer_list=function(){function T(){o(this,T),this.head=null,this.tail=null,this.length=0}return f(T,[{key:"push",value:function(P){var $={data:P,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}},{key:"unshift",value:function(P){var $={data:P,next:this.head};this.length===0&&(this.tail=$),this.head=$,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var $=this.head,I=""+$.data;$=$.next;)I+=P+$.data;return I}},{key:"concat",value:function(P){if(this.length===0)return _.alloc(0);for(var $=_.allocUnsafe(P>>>0),I=this.head,E=0;I;)C(I.data,$,E),E+=I.data.length,I=I.next;return $}},{key:"consume",value:function(P,$){var I;return P<this.head.data.length?(I=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?I=this.shift():I=$?this._getString(P):this._getBuffer(P),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var $=this.head,I=1,E=$.data;for(P-=E.length;$=$.next;){var F=$.data,le=P>F.length?F.length:P;if(le===F.length?E+=F:E+=F.slice(0,P),P-=le,P===0){le===F.length?(++I,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=F.slice(le));break}++I}return this.length-=I,E}},{key:"_getBuffer",value:function(P){var $=_.allocUnsafe(P),I=this.head,E=1;for(I.data.copy($),P-=I.data.length;I=I.next;){var F=I.data,le=P>F.length?F.length:P;if(F.copy($,$.length-P,0,le),P-=le,P===0){le===F.length?(++E,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=F.slice(le));break}++E}return this.length-=E,$}},{key:M,value:function(P,$){return S(this,t({},$,{depth:0,customInspect:!1}))}}]),T}(),buffer_list}function destroy(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return o||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,e)):process.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(f){!t&&f?r._writableState?r._writableState.errorEmitted?process.nextTick(emitCloseNT,r):(r._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,r,f)):process.nextTick(emitErrorAndCloseNT,r,f):t?(process.nextTick(emitCloseNT,r),t(f)):process.nextTick(emitCloseNT,r)}),this)}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy(e,t){var r=e._readableState,o=e._writableState;r&&r.autoDestroy||o&&o.autoDestroy?e.destroy(t):e.emit("error",t)}var destroy_1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var codes={};function createErrorType(e,t,r){r||(r=Error);function o(f,g,_){return typeof t=="string"?t:t(f,g,_)}var u=function(f){_inheritsLoose(g,f);function g(_,w,S){return f.call(this,o(_,w,S))||this}return g}(r);u.prototype.name=r.name,u.prototype.code=e,codes[e]=u}function oneOf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(o){return String(o)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function includes(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(e,t,r){var o;typeof t=="string"&&startsWith(t,"not ")?(o="must not be",t=t.replace(/^not /,"")):o="must be";var u;if(endsWith(e," argument"))u="The ".concat(e," ").concat(o," ").concat(oneOf(t,"type"));else{var f=includes(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(f," ").concat(o," ").concat(oneOf(t,"type"))}return u+=". Received type ".concat(typeof r),u},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function getHighWaterMark(e,t,r,o){var u=highWaterMarkFrom(t,o,r);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var f=o?r:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(f,u)}return Math.floor(u)}return e.objectMode?16:16*1024}var state={getHighWaterMark},browser=deprecate;function deprecate(e,t){if(config("noDeprecation"))return e;var r=!1;function o(){if(!r){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return o}function config(e){try{if(!globalThis.localStorage)return!1}catch{return!1}var t=globalThis.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=ie;function e($e){var Re=this;this.next=null,this.entry=null,this.finish=function(){kt(Re,$e)}}var t;ie.WritableState=te;var r={deprecate:browser},o=streamBrowser,u=buffer.Buffer,f=globalThis.Uint8Array||function(){};function g($e){return u.from($e)}function _($e){return u.isBuffer($e)||$e instanceof f}var w=destroy_1,S=state,M=S.getHighWaterMark,C=errorsBrowser.codes,T=C.ERR_INVALID_ARG_TYPE,k=C.ERR_METHOD_NOT_IMPLEMENTED,P=C.ERR_MULTIPLE_CALLBACK,$=C.ERR_STREAM_CANNOT_PIPE,I=C.ERR_STREAM_DESTROYED,E=C.ERR_STREAM_NULL_VALUES,F=C.ERR_STREAM_WRITE_AFTER_END,le=C.ERR_UNKNOWN_ENCODING,W=w.errorOrDestroy;inherits_browserExports(ie,o);function ae(){}function te($e,Re,at){t=t||require_stream_duplex(),$e=$e||{},typeof at!="boolean"&&(at=Re instanceof t),this.objectMode=!!$e.objectMode,at&&(this.objectMode=this.objectMode||!!$e.writableObjectMode),this.highWaterMark=M(this,$e,"writableHighWaterMark",at),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var At=$e.decodeStrings===!1;this.decodeStrings=!At,this.defaultEncoding=$e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ut){Y(Re,Ut)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=$e.emitClose!==!1,this.autoDestroy=!!$e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}te.prototype.getBuffer=function(){for(var Re=this.bufferedRequest,at=[];Re;)at.push(Re),Re=Re.next;return at},function(){try{Object.defineProperty(te.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var oe;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(oe=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(Re){return oe.call(this,Re)?!0:this!==ie?!1:Re&&Re._writableState instanceof te}})):oe=function(Re){return Re instanceof this};function ie($e){t=t||require_stream_duplex();var Re=this instanceof t;if(!Re&&!oe.call(ie,this))return new ie($e);this._writableState=new te($e,this,Re),this.writable=!0,$e&&(typeof $e.write=="function"&&(this._write=$e.write),typeof $e.writev=="function"&&(this._writev=$e.writev),typeof $e.destroy=="function"&&(this._destroy=$e.destroy),typeof $e.final=="function"&&(this._final=$e.final)),o.call(this)}ie.prototype.pipe=function(){W(this,new $)};function Ee($e,Re){var at=new F;W($e,at),process.nextTick(Re,at)}function D($e,Re,at,At){var Ut;return at===null?Ut=new E:typeof at!="string"&&!Re.objectMode&&(Ut=new T("chunk",["string","Buffer"],at)),Ut?(W($e,Ut),process.nextTick(At,Ut),!1):!0}ie.prototype.write=function($e,Re,at){var At=this._writableState,Ut=!1,he=!At.objectMode&&_($e);return he&&!u.isBuffer($e)&&($e=g($e)),typeof Re=="function"&&(at=Re,Re=null),he?Re="buffer":Re||(Re=At.defaultEncoding),typeof at!="function"&&(at=ae),At.ending?Ee(this,at):(he||D(this,At,$e,at))&&(At.pendingcb++,Ut=z(this,At,he,$e,Re,at)),Ut},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){var $e=this._writableState;$e.corked&&($e.corked--,!$e.writing&&!$e.corked&&!$e.bufferProcessing&&$e.bufferedRequest&&Te(this,$e))},ie.prototype.setDefaultEncoding=function(Re){if(typeof Re=="string"&&(Re=Re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Re+"").toLowerCase())>-1))throw new le(Re);return this._writableState.defaultEncoding=Re,this},Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function me($e,Re,at){return!$e.objectMode&&$e.decodeStrings!==!1&&typeof Re=="string"&&(Re=u.from(Re,at)),Re}Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z($e,Re,at,At,Ut,he){if(!at){var ue=me(Re,At,Ut);At!==ue&&(at=!0,Ut="buffer",At=ue)}var tt=Re.objectMode?1:At.length;Re.length+=tt;var Je=Re.length<Re.highWaterMark;if(Je||(Re.needDrain=!0),Re.writing||Re.corked){var Bt=Re.lastBufferedRequest;Re.lastBufferedRequest={chunk:At,encoding:Ut,isBuf:at,callback:he,next:null},Bt?Bt.next=Re.lastBufferedRequest:Re.bufferedRequest=Re.lastBufferedRequest,Re.bufferedRequestCount+=1}else pe($e,Re,!1,tt,At,Ut,he);return Je}function pe($e,Re,at,At,Ut,he,ue){Re.writelen=At,Re.writecb=ue,Re.writing=!0,Re.sync=!0,Re.destroyed?Re.onwrite(new I("write")):at?$e._writev(Ut,Re.onwrite):$e._write(Ut,he,Re.onwrite),Re.sync=!1}function we($e,Re,at,At,Ut){--Re.pendingcb,at?(process.nextTick(Ut,At),process.nextTick(wt,$e,Re),$e._writableState.errorEmitted=!0,W($e,At)):(Ut(At),$e._writableState.errorEmitted=!0,W($e,At),wt($e,Re))}function Q($e){$e.writing=!1,$e.writecb=null,$e.length-=$e.writelen,$e.writelen=0}function Y($e,Re){var at=$e._writableState,At=at.sync,Ut=at.writecb;if(typeof Ut!="function")throw new P;if(Q(at),Re)we($e,at,At,Re,Ut);else{var he=De(at)||$e.destroyed;!he&&!at.corked&&!at.bufferProcessing&&at.bufferedRequest&&Te($e,at),At?process.nextTick(G,$e,at,he,Ut):G($e,at,he,Ut)}}function G($e,Re,at,At){at||q($e,Re),Re.pendingcb--,At(),wt($e,Re)}function q($e,Re){Re.length===0&&Re.needDrain&&(Re.needDrain=!1,$e.emit("drain"))}function Te($e,Re){Re.bufferProcessing=!0;var at=Re.bufferedRequest;if($e._writev&&at&&at.next){var At=Re.bufferedRequestCount,Ut=new Array(At),he=Re.corkedRequestsFree;he.entry=at;for(var ue=0,tt=!0;at;)Ut[ue]=at,at.isBuf||(tt=!1),at=at.next,ue+=1;Ut.allBuffers=tt,pe($e,Re,!0,Re.length,Ut,"",he.finish),Re.pendingcb++,Re.lastBufferedRequest=null,he.next?(Re.corkedRequestsFree=he.next,he.next=null):Re.corkedRequestsFree=new e(Re),Re.bufferedRequestCount=0}else{for(;at;){var Je=at.chunk,Bt=at.encoding,Ht=at.callback,Xt=Re.objectMode?1:Je.length;if(pe($e,Re,!1,Xt,Je,Bt,Ht),at=at.next,Re.bufferedRequestCount--,Re.writing)break}at===null&&(Re.lastBufferedRequest=null)}Re.bufferedRequest=at,Re.bufferProcessing=!1}ie.prototype._write=function($e,Re,at){at(new k("_write()"))},ie.prototype._writev=null,ie.prototype.end=function($e,Re,at){var At=this._writableState;return typeof $e=="function"?(at=$e,$e=null,Re=null):typeof Re=="function"&&(at=Re,Re=null),$e!=null&&this.write($e,Re),At.corked&&(At.corked=1,this.uncork()),At.ending||Et(this,At,at),this},Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function De($e){return $e.ending&&$e.length===0&&$e.bufferedRequest===null&&!$e.finished&&!$e.writing}function nt($e,Re){$e._final(function(at){Re.pendingcb--,at&&W($e,at),Re.prefinished=!0,$e.emit("prefinish"),wt($e,Re)})}function ft($e,Re){!Re.prefinished&&!Re.finalCalled&&(typeof $e._final=="function"&&!Re.destroyed?(Re.pendingcb++,Re.finalCalled=!0,process.nextTick(nt,$e,Re)):(Re.prefinished=!0,$e.emit("prefinish")))}function wt($e,Re){var at=De(Re);if(at&&(ft($e,Re),Re.pendingcb===0&&(Re.finished=!0,$e.emit("finish"),Re.autoDestroy))){var At=$e._readableState;(!At||At.autoDestroy&&At.endEmitted)&&$e.destroy()}return at}function Et($e,Re,at){Re.ending=!0,wt($e,Re),at&&(Re.finished?process.nextTick(at):$e.once("finish",at)),Re.ended=!0,$e.writable=!1}function kt($e,Re,at){var At=$e.entry;for($e.entry=null;At;){var Ut=At.callback;Re.pendingcb--,Ut(at),At=At.next}Re.corkedRequestsFree.next=$e}return Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Re){this._writableState&&(this._writableState.destroyed=Re)}}),ie.prototype.destroy=w.destroy,ie.prototype._undestroy=w.undestroy,ie.prototype._destroy=function($e,Re){Re($e)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var e=Object.keys||function(S){var M=[];for(var C in S)M.push(C);return M};_stream_duplex=g;var t=require_stream_readable(),r=require_stream_writable();inherits_browserExports(g,t);for(var o=e(r.prototype),u=0;u<o.length;u++){var f=o[u];g.prototype[f]||(g.prototype[f]=r.prototype[f])}function g(S){if(!(this instanceof g))return new g(S);t.call(this,S),r.call(this,S),this.allowHalfOpen=!0,S&&(S.readable===!1&&(this.readable=!1),S.writable===!1&&(this.writable=!1),S.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||process.nextTick(w,this)}function w(S){S.end()}return Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(M){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=M,this._writableState.destroyed=M)}}),_stream_duplex}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var e=safeBufferExports.Buffer,t=e.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var F;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(F)return;E=(""+E).toLowerCase(),F=!0}}function o(E){var F=r(E);if(typeof F!="string"&&(e.isEncoding===t||!t(E)))throw new Error("Unknown encoding: "+E);return F||E}string_decoder.StringDecoder=u;function u(E){this.encoding=o(E);var F;switch(this.encoding){case"utf16le":this.text=C,this.end=T,F=4;break;case"utf8":this.fillLast=w,F=4;break;case"base64":this.text=k,this.end=P,F=3;break;default:this.write=$,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(F)}u.prototype.write=function(E){if(E.length===0)return"";var F,le;if(this.lastNeed){if(F=this.fillLast(E),F===void 0)return"";le=this.lastNeed,this.lastNeed=0}else le=0;return le<E.length?F?F+this.text(E,le):this.text(E,le):F||""},u.prototype.end=M,u.prototype.text=S,u.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function f(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function g(E,F,le){var W=F.length-1;if(W<le)return 0;var ae=f(F[W]);return ae>=0?(ae>0&&(E.lastNeed=ae-1),ae):--W<le||ae===-2?0:(ae=f(F[W]),ae>=0?(ae>0&&(E.lastNeed=ae-2),ae):--W<le||ae===-2?0:(ae=f(F[W]),ae>=0?(ae>0&&(ae===2?ae=0:E.lastNeed=ae-3),ae):0))}function _(E,F,le){if((F[0]&192)!==128)return E.lastNeed=0,"�";if(E.lastNeed>1&&F.length>1){if((F[1]&192)!==128)return E.lastNeed=1,"�";if(E.lastNeed>2&&F.length>2&&(F[2]&192)!==128)return E.lastNeed=2,"�"}}function w(E){var F=this.lastTotal-this.lastNeed,le=_(this,E);if(le!==void 0)return le;if(this.lastNeed<=E.length)return E.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,F,0,E.length),this.lastNeed-=E.length}function S(E,F){var le=g(this,E,F);if(!this.lastNeed)return E.toString("utf8",F);this.lastTotal=le;var W=E.length-(le-this.lastNeed);return E.copy(this.lastChar,0,W),E.toString("utf8",F,W)}function M(E){var F=E&&E.length?this.write(E):"";return this.lastNeed?F+"�":F}function C(E,F){if((E.length-F)%2===0){var le=E.toString("utf16le",F);if(le){var W=le.charCodeAt(le.length-1);if(W>=55296&&W<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],le.slice(0,-1)}return le}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",F,E.length-1)}function T(E){var F=E&&E.length?this.write(E):"";if(this.lastNeed){var le=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,le)}return F}function k(E,F){var le=(E.length-F)%3;return le===0?E.toString("base64",F):(this.lastNeed=3-le,this.lastTotal=3,le===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",F,E.length-le))}function P(E){var F=E&&E.length?this.write(E):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function $(E){return E.toString(this.encoding)}function I(E){return E&&E.length?this.write(E):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];e.apply(this,o)}}}function noop$1(){}function isRequest$1(e){return e.setHeader&&typeof e.abort=="function"}function eos$1(e,t,r){if(typeof t=="function")return eos$1(e,null,t);t||(t={}),r=once$1(r||noop$1);var o=t.readable||t.readable!==!1&&e.readable,u=t.writable||t.writable!==!1&&e.writable,f=function(){e.writable||_()},g=e._writableState&&e._writableState.finished,_=function(){u=!1,g=!0,o||r.call(e)},w=e._readableState&&e._readableState.endEmitted,S=function(){o=!1,w=!0,u||r.call(e)},M=function(P){r.call(e,P)},C=function(){var P;if(o&&!w)return(!e._readableState||!e._readableState.ended)&&(P=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,P);if(u&&!g)return(!e._writableState||!e._writableState.ended)&&(P=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,P)},T=function(){e.req.on("finish",_)};return isRequest$1(e)?(e.on("complete",_),e.on("abort",C),e.req?T():e.on("request",T)):u&&!e._writableState&&(e.on("end",f),e.on("close",f)),e.on("end",S),e.on("finish",_),t.error!==!1&&e.on("error",M),e.on("close",C),function(){e.removeListener("complete",_),e.removeListener("abort",C),e.removeListener("request",T),e.req&&e.req.removeListener("finish",_),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",_),e.removeListener("end",S),e.removeListener("error",M),e.removeListener("close",C)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var e;function t(E,F,le){return F in E?Object.defineProperty(E,F,{value:le,enumerable:!0,configurable:!0,writable:!0}):E[F]=le,E}var r=endOfStream,o=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),g=Symbol("ended"),_=Symbol("lastPromise"),w=Symbol("handlePromise"),S=Symbol("stream");function M(E,F){return{value:E,done:F}}function C(E){var F=E[o];if(F!==null){var le=E[S].read();le!==null&&(E[_]=null,E[o]=null,E[u]=null,F(M(le,!1)))}}function T(E){process.nextTick(C,E)}function k(E,F){return function(le,W){E.then(function(){if(F[g]){le(M(void 0,!0));return}F[w](le,W)},W)}}var P=Object.getPrototypeOf(function(){}),$=Object.setPrototypeOf((e={get stream(){return this[S]},next:function(){var F=this,le=this[f];if(le!==null)return Promise.reject(le);if(this[g])return Promise.resolve(M(void 0,!0));if(this[S].destroyed)return new Promise(function(oe,ie){process.nextTick(function(){F[f]?ie(F[f]):oe(M(void 0,!0))})});var W=this[_],ae;if(W)ae=new Promise(k(W,this));else{var te=this[S].read();if(te!==null)return Promise.resolve(M(te,!1));ae=new Promise(this[w])}return this[_]=ae,ae}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var F=this;return new Promise(function(le,W){F[S].destroy(null,function(ae){if(ae){W(ae);return}le(M(void 0,!0))})})}),e),P),I=function(F){var le,W=Object.create($,(le={},t(le,S,{value:F,writable:!0}),t(le,o,{value:null,writable:!0}),t(le,u,{value:null,writable:!0}),t(le,f,{value:null,writable:!0}),t(le,g,{value:F._readableState.endEmitted,writable:!0}),t(le,w,{value:function(te,oe){var ie=W[S].read();ie?(W[_]=null,W[o]=null,W[u]=null,te(M(ie,!1))):(W[o]=te,W[u]=oe)},writable:!0}),le));return W[_]=null,r(F,function(ae){if(ae&&ae.code!=="ERR_STREAM_PREMATURE_CLOSE"){var te=W[u];te!==null&&(W[_]=null,W[o]=null,W[u]=null,te(ae)),W[f]=ae;return}var oe=W[o];oe!==null&&(W[_]=null,W[o]=null,W[u]=null,oe(M(void 0,!0))),W[g]=!0}),F.on("readable",T.bind(null,W)),W};return async_iterator=I,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=Ee;var e;Ee.ReadableState=ie,eventsExports.EventEmitter;var t=function(ue,tt){return ue.listeners(tt).length},r=streamBrowser,o=buffer.Buffer,u=globalThis.Uint8Array||function(){};function f(he){return o.from(he)}function g(he){return o.isBuffer(he)||he instanceof u}var _=require$$3,w;_&&_.debuglog?w=_.debuglog("stream"):w=function(){};var S=requireBuffer_list(),M=destroy_1,C=state,T=C.getHighWaterMark,k=errorsBrowser.codes,P=k.ERR_INVALID_ARG_TYPE,$=k.ERR_STREAM_PUSH_AFTER_EOF,I=k.ERR_METHOD_NOT_IMPLEMENTED,E=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,F,le,W;inherits_browserExports(Ee,r);var ae=M.errorOrDestroy,te=["error","close","destroy","pause","resume"];function oe(he,ue,tt){if(typeof he.prependListener=="function")return he.prependListener(ue,tt);!he._events||!he._events[ue]?he.on(ue,tt):Array.isArray(he._events[ue])?he._events[ue].unshift(tt):he._events[ue]=[tt,he._events[ue]]}function ie(he,ue,tt){e=e||require_stream_duplex(),he=he||{},typeof tt!="boolean"&&(tt=ue instanceof e),this.objectMode=!!he.objectMode,tt&&(this.objectMode=this.objectMode||!!he.readableObjectMode),this.highWaterMark=T(this,he,"readableHighWaterMark",tt),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=he.emitClose!==!1,this.autoDestroy=!!he.autoDestroy,this.destroyed=!1,this.defaultEncoding=he.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,he.encoding&&(F||(F=requireString_decoder().StringDecoder),this.decoder=new F(he.encoding),this.encoding=he.encoding)}function Ee(he){if(e=e||require_stream_duplex(),!(this instanceof Ee))return new Ee(he);var ue=this instanceof e;this._readableState=new ie(he,this,ue),this.readable=!0,he&&(typeof he.read=="function"&&(this._read=he.read),typeof he.destroy=="function"&&(this._destroy=he.destroy)),r.call(this)}Object.defineProperty(Ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ue){this._readableState&&(this._readableState.destroyed=ue)}}),Ee.prototype.destroy=M.destroy,Ee.prototype._undestroy=M.undestroy,Ee.prototype._destroy=function(he,ue){ue(he)},Ee.prototype.push=function(he,ue){var tt=this._readableState,Je;return tt.objectMode?Je=!0:typeof he=="string"&&(ue=ue||tt.defaultEncoding,ue!==tt.encoding&&(he=o.from(he,ue),ue=""),Je=!0),D(this,he,ue,!1,Je)},Ee.prototype.unshift=function(he){return D(this,he,null,!0,!1)};function D(he,ue,tt,Je,Bt){w("readableAddChunk",ue);var Ht=he._readableState;if(ue===null)Ht.reading=!1,Y(he,Ht);else{var Xt;if(Bt||(Xt=z(Ht,ue)),Xt)ae(he,Xt);else if(Ht.objectMode||ue&&ue.length>0)if(typeof ue!="string"&&!Ht.objectMode&&Object.getPrototypeOf(ue)!==o.prototype&&(ue=f(ue)),Je)Ht.endEmitted?ae(he,new E):me(he,Ht,ue,!0);else if(Ht.ended)ae(he,new $);else{if(Ht.destroyed)return!1;Ht.reading=!1,Ht.decoder&&!tt?(ue=Ht.decoder.write(ue),Ht.objectMode||ue.length!==0?me(he,Ht,ue,!1):Te(he,Ht)):me(he,Ht,ue,!1)}else Je||(Ht.reading=!1,Te(he,Ht))}return!Ht.ended&&(Ht.length<Ht.highWaterMark||Ht.length===0)}function me(he,ue,tt,Je){ue.flowing&&ue.length===0&&!ue.sync?(ue.awaitDrain=0,he.emit("data",tt)):(ue.length+=ue.objectMode?1:tt.length,Je?ue.buffer.unshift(tt):ue.buffer.push(tt),ue.needReadable&&G(he)),Te(he,ue)}function z(he,ue){var tt;return!g(ue)&&typeof ue!="string"&&ue!==void 0&&!he.objectMode&&(tt=new P("chunk",["string","Buffer","Uint8Array"],ue)),tt}Ee.prototype.isPaused=function(){return this._readableState.flowing===!1},Ee.prototype.setEncoding=function(he){F||(F=requireString_decoder().StringDecoder);var ue=new F(he);this._readableState.decoder=ue,this._readableState.encoding=this._readableState.decoder.encoding;for(var tt=this._readableState.buffer.head,Je="";tt!==null;)Je+=ue.write(tt.data),tt=tt.next;return this._readableState.buffer.clear(),Je!==""&&this._readableState.buffer.push(Je),this._readableState.length=Je.length,this};var pe=1073741824;function we(he){return he>=pe?he=pe:(he--,he|=he>>>1,he|=he>>>2,he|=he>>>4,he|=he>>>8,he|=he>>>16,he++),he}function Q(he,ue){return he<=0||ue.length===0&&ue.ended?0:ue.objectMode?1:he!==he?ue.flowing&&ue.length?ue.buffer.head.data.length:ue.length:(he>ue.highWaterMark&&(ue.highWaterMark=we(he)),he<=ue.length?he:ue.ended?ue.length:(ue.needReadable=!0,0))}Ee.prototype.read=function(he){w("read",he),he=parseInt(he,10);var ue=this._readableState,tt=he;if(he!==0&&(ue.emittedReadable=!1),he===0&&ue.needReadable&&((ue.highWaterMark!==0?ue.length>=ue.highWaterMark:ue.length>0)||ue.ended))return w("read: emitReadable",ue.length,ue.ended),ue.length===0&&ue.ended?at(this):G(this),null;if(he=Q(he,ue),he===0&&ue.ended)return ue.length===0&&at(this),null;var Je=ue.needReadable;w("need readable",Je),(ue.length===0||ue.length-he<ue.highWaterMark)&&(Je=!0,w("length less than watermark",Je)),ue.ended||ue.reading?(Je=!1,w("reading or ended",Je)):Je&&(w("do read"),ue.reading=!0,ue.sync=!0,ue.length===0&&(ue.needReadable=!0),this._read(ue.highWaterMark),ue.sync=!1,ue.reading||(he=Q(tt,ue)));var Bt;return he>0?Bt=Re(he,ue):Bt=null,Bt===null?(ue.needReadable=ue.length<=ue.highWaterMark,he=0):(ue.length-=he,ue.awaitDrain=0),ue.length===0&&(ue.ended||(ue.needReadable=!0),tt!==he&&ue.ended&&at(this)),Bt!==null&&this.emit("data",Bt),Bt};function Y(he,ue){if(w("onEofChunk"),!ue.ended){if(ue.decoder){var tt=ue.decoder.end();tt&&tt.length&&(ue.buffer.push(tt),ue.length+=ue.objectMode?1:tt.length)}ue.ended=!0,ue.sync?G(he):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,q(he)))}}function G(he){var ue=he._readableState;w("emitReadable",ue.needReadable,ue.emittedReadable),ue.needReadable=!1,ue.emittedReadable||(w("emitReadable",ue.flowing),ue.emittedReadable=!0,process.nextTick(q,he))}function q(he){var ue=he._readableState;w("emitReadable_",ue.destroyed,ue.length,ue.ended),!ue.destroyed&&(ue.length||ue.ended)&&(he.emit("readable"),ue.emittedReadable=!1),ue.needReadable=!ue.flowing&&!ue.ended&&ue.length<=ue.highWaterMark,$e(he)}function Te(he,ue){ue.readingMore||(ue.readingMore=!0,process.nextTick(De,he,ue))}function De(he,ue){for(;!ue.reading&&!ue.ended&&(ue.length<ue.highWaterMark||ue.flowing&&ue.length===0);){var tt=ue.length;if(w("maybeReadMore read 0"),he.read(0),tt===ue.length)break}ue.readingMore=!1}Ee.prototype._read=function(he){ae(this,new I("_read()"))},Ee.prototype.pipe=function(he,ue){var tt=this,Je=this._readableState;switch(Je.pipesCount){case 0:Je.pipes=he;break;case 1:Je.pipes=[Je.pipes,he];break;default:Je.pipes.push(he);break}Je.pipesCount+=1,w("pipe count=%d opts=%j",Je.pipesCount,ue);var Bt=(!ue||ue.end!==!1)&&he!==process.stdout&&he!==process.stderr,Ht=Bt?Pt:ii;Je.endEmitted?process.nextTick(Ht):tt.once("end",Ht),he.on("unpipe",Xt);function Xt(K,O){w("onunpipe"),K===tt&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,ki())}function Pt(){w("onend"),he.end()}var Xr=nt(tt);he.on("drain",Xr);var Zr=!1;function ki(){w("cleanup"),he.removeListener("close",Si),he.removeListener("finish",Ir),he.removeListener("drain",Xr),he.removeListener("error",V),he.removeListener("unpipe",Xt),tt.removeListener("end",Pt),tt.removeListener("end",ii),tt.removeListener("data",Ve),Zr=!0,Je.awaitDrain&&(!he._writableState||he._writableState.needDrain)&&Xr()}tt.on("data",Ve);function Ve(K){w("ondata");var O=he.write(K);w("dest.write",O),O===!1&&((Je.pipesCount===1&&Je.pipes===he||Je.pipesCount>1&&Ut(Je.pipes,he)!==-1)&&!Zr&&(w("false write response, pause",Je.awaitDrain),Je.awaitDrain++),tt.pause())}function V(K){w("onerror",K),ii(),he.removeListener("error",V),t(he,"error")===0&&ae(he,K)}oe(he,"error",V);function Si(){he.removeListener("finish",Ir),ii()}he.once("close",Si);function Ir(){w("onfinish"),he.removeListener("close",Si),ii()}he.once("finish",Ir);function ii(){w("unpipe"),tt.unpipe(he)}return he.emit("pipe",tt),Je.flowing||(w("pipe resume"),tt.resume()),he};function nt(he){return function(){var tt=he._readableState;w("pipeOnDrain",tt.awaitDrain),tt.awaitDrain&&tt.awaitDrain--,tt.awaitDrain===0&&t(he,"data")&&(tt.flowing=!0,$e(he))}}Ee.prototype.unpipe=function(he){var ue=this._readableState,tt={hasUnpiped:!1};if(ue.pipesCount===0)return this;if(ue.pipesCount===1)return he&&he!==ue.pipes?this:(he||(he=ue.pipes),ue.pipes=null,ue.pipesCount=0,ue.flowing=!1,he&&he.emit("unpipe",this,tt),this);if(!he){var Je=ue.pipes,Bt=ue.pipesCount;ue.pipes=null,ue.pipesCount=0,ue.flowing=!1;for(var Ht=0;Ht<Bt;Ht++)Je[Ht].emit("unpipe",this,{hasUnpiped:!1});return this}var Xt=Ut(ue.pipes,he);return Xt===-1?this:(ue.pipes.splice(Xt,1),ue.pipesCount-=1,ue.pipesCount===1&&(ue.pipes=ue.pipes[0]),he.emit("unpipe",this,tt),this)},Ee.prototype.on=function(he,ue){var tt=r.prototype.on.call(this,he,ue),Je=this._readableState;return he==="data"?(Je.readableListening=this.listenerCount("readable")>0,Je.flowing!==!1&&this.resume()):he==="readable"&&!Je.endEmitted&&!Je.readableListening&&(Je.readableListening=Je.needReadable=!0,Je.flowing=!1,Je.emittedReadable=!1,w("on readable",Je.length,Je.reading),Je.length?G(this):Je.reading||process.nextTick(wt,this)),tt},Ee.prototype.addListener=Ee.prototype.on,Ee.prototype.removeListener=function(he,ue){var tt=r.prototype.removeListener.call(this,he,ue);return he==="readable"&&process.nextTick(ft,this),tt},Ee.prototype.removeAllListeners=function(he){var ue=r.prototype.removeAllListeners.apply(this,arguments);return(he==="readable"||he===void 0)&&process.nextTick(ft,this),ue};function ft(he){var ue=he._readableState;ue.readableListening=he.listenerCount("readable")>0,ue.resumeScheduled&&!ue.paused?ue.flowing=!0:he.listenerCount("data")>0&&he.resume()}function wt(he){w("readable nexttick read 0"),he.read(0)}Ee.prototype.resume=function(){var he=this._readableState;return he.flowing||(w("resume"),he.flowing=!he.readableListening,Et(this,he)),he.paused=!1,this};function Et(he,ue){ue.resumeScheduled||(ue.resumeScheduled=!0,process.nextTick(kt,he,ue))}function kt(he,ue){w("resume",ue.reading),ue.reading||he.read(0),ue.resumeScheduled=!1,he.emit("resume"),$e(he),ue.flowing&&!ue.reading&&he.read(0)}Ee.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function $e(he){var ue=he._readableState;for(w("flow",ue.flowing);ue.flowing&&he.read()!==null;);}Ee.prototype.wrap=function(he){var ue=this,tt=this._readableState,Je=!1;he.on("end",function(){if(w("wrapped end"),tt.decoder&&!tt.ended){var Xt=tt.decoder.end();Xt&&Xt.length&&ue.push(Xt)}ue.push(null)}),he.on("data",function(Xt){if(w("wrapped data"),tt.decoder&&(Xt=tt.decoder.write(Xt)),!(tt.objectMode&&Xt==null)&&!(!tt.objectMode&&(!Xt||!Xt.length))){var Pt=ue.push(Xt);Pt||(Je=!0,he.pause())}});for(var Bt in he)this[Bt]===void 0&&typeof he[Bt]=="function"&&(this[Bt]=function(Pt){return function(){return he[Pt].apply(he,arguments)}}(Bt));for(var Ht=0;Ht<te.length;Ht++)he.on(te[Ht],this.emit.bind(this,te[Ht]));return this._read=function(Xt){w("wrapped _read",Xt),Je&&(Je=!1,he.resume())},this},typeof Symbol=="function"&&(Ee.prototype[Symbol.asyncIterator]=function(){return le===void 0&&(le=requireAsync_iterator()),le(this)}),Object.defineProperty(Ee.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ee.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ee.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}}),Ee._fromList=Re,Object.defineProperty(Ee.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Re(he,ue){if(ue.length===0)return null;var tt;return ue.objectMode?tt=ue.buffer.shift():!he||he>=ue.length?(ue.decoder?tt=ue.buffer.join(""):ue.buffer.length===1?tt=ue.buffer.first():tt=ue.buffer.concat(ue.length),ue.buffer.clear()):tt=ue.buffer.consume(he,ue.decoder),tt}function at(he){var ue=he._readableState;w("endReadable",ue.endEmitted),ue.endEmitted||(ue.ended=!0,process.nextTick(At,ue,he))}function At(he,ue){if(w("endReadableNT",he.endEmitted,he.length),!he.endEmitted&&he.length===0&&(he.endEmitted=!0,ue.readable=!1,ue.emit("end"),he.autoDestroy)){var tt=ue._writableState;(!tt||tt.autoDestroy&&tt.finished)&&ue.destroy()}}typeof Symbol=="function"&&(Ee.from=function(he,ue){return W===void 0&&(W=requireFromBrowser()),W(Ee,he,ue)});function Ut(he,ue){for(var tt=0,Je=he.length;tt<Je;tt++)if(he[tt]===ue)return tt;return-1}return _stream_readable}var _stream_transform=Transform$1,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex();inherits_browserExports(Transform$1,Duplex);function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var o=r.writecb;if(o===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),o(e);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function Transform$1(e){if(!(this instanceof Transform$1))return new Transform$1(e);Duplex.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){done(e,t,r)}):done(this,null,null)}Transform$1.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)};Transform$1.prototype._transform=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$1.prototype._write=function(e,t,r){var o=this._transformState;if(o.writecb=r,o.writechunk=e,o.writeencoding=t,!o.transforming){var u=this._readableState;(o.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}};Transform$1.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Transform$1.prototype._destroy=function(e,t){Duplex.prototype._destroy.call(this,e,function(r){t(r)})};function done(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(e._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return e.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform;inherits_browserExports(PassThrough,Transform);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}PassThrough.prototype._transform=function(e,t,r){r(null,e)};var eos;function once(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort=="function"}function destroyer(e,t,r,o){o=once(o);var u=!1;e.on("close",function(){u=!0}),eos===void 0&&(eos=endOfStream),eos(e,{readable:t,writable:r},function(g){if(g)return o(g);u=!0,o()});var f=!1;return function(g){if(!u&&!f){if(f=!0,isRequest(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();o(g||new ERR_STREAM_DESTROYED("pipe"))}}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){return!e.length||typeof e[e.length-1]!="function"?noop:e.pop()}function pipeline(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=popCallback(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ERR_MISSING_ARGS("streams");var u,f=t.map(function(g,_){var w=_<t.length-1,S=_>0;return destroyer(g,w,S,function(M){u||(u=M),M&&f.forEach(call),!w&&(f.forEach(call),o(u))})});return t.reduce(pipe)}var pipeline_1=pipeline;(function(e,t){t=e.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=_stream_transform,t.PassThrough=_stream_passthrough,t.finished=endOfStream,t.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let promise;var queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):e=>(promise||(promise=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));function assign(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function createError(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return assign(e,r)}catch{r.message=e.message,r.stack=e.stack;const u=function(){};return u.prototype=Object.create(Object.getPrototypeOf(e)),assign(new u,r)}}var errCode$1=createError;/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const debug=browserExports$1("simple-peer"),getBrowserRTC=getBrowserRtc,randombytes=browserExports,stream=readableBrowserExports,queueMicrotask$1=queueMicrotask_1,errCode=errCode$1,{Buffer:Buffer$1}=buffer,MAX_BUFFERED_AMOUNT=64*1024,ICECOMPLETE_TIMEOUT=5*1e3,CHANNEL_CLOSING_TIMEOUT=5*1e3;function filterTrickle(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function warn(e){console.warn(e)}class Peer extends stream.Duplex{constructor(t){if(t=Object.assign({allowHalfOpen:!1},t),super(t),this._id=randombytes(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||randombytes(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||Peer.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},Peer.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(r=>r),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=t.trickle!==void 0?t.trickle:!0,this.allowHalfTrickle=t.allowHalfTrickle!==void 0?t.allowHalfTrickle:!1,this.iceCompleteTimeout=t.iceCompleteTimeout||ICECOMPLETE_TIMEOUT,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&typeof t.wrtc=="object"?t.wrtc:getBrowserRTC(),!this._wrtc)throw errCode(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(r){this.destroy(errCode(r,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(r=>{this.destroy(errCode(r,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this.streams&&this.streams.forEach(r=>{this.addStream(r)}),this._pc.ontrack=r=>{this._onTrack(r)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof t=="string")try{t=JSON.parse(t)}catch{t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.destroy(errCode(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!t.sdp&&!t.candidate&&!t.renegotiate&&!t.transceiverRequest&&this.destroy(errCode(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(t){const r=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(r).catch(o=>{!r.address||r.address.endsWith(".local")?warn("Ignoring unsupported ICE candidate."):this.destroy(errCode(o,"ERR_ADD_ICE_CANDIDATE"))})}send(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(t)}}addTransceiver(t,r){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,r),this._needsNegotiation()}catch(o){this.destroy(errCode(o,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:r}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(r=>{this.addTrack(r,t)})}}addTrack(t,r){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const o=this._senderMap.get(t)||new Map;let u=o.get(r);if(!u)u=this._pc.addTrack(t,r),o.set(r,u),this._senderMap.set(t,o),this._needsNegotiation();else throw u.removed?errCode(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):errCode(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(t,r,o){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const u=this._senderMap.get(t),f=u?u.get(o):null;if(!f)throw errCode(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");r&&this._senderMap.set(r,u),f.replaceTrack!=null?f.replaceTrack(r):this.destroy(errCode(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,r){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const o=this._senderMap.get(t),u=o?o.get(r):null;if(!u)throw errCode(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{u.removed=!0,this._pc.removeTrack(u)}catch(f){f.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(u):this.destroy(errCode(f,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(r=>{this.removeTrack(r,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,queueMicrotask$1(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",t&&(t.message||t)),queueMicrotask$1(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),r()}))}_setupData(t){if(!t.channel)return this.destroy(errCode(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=MAX_BUFFERED_AMOUNT),this.channelName=this._channel.label,this._channel.onmessage=o=>{this._onChannelMessage(o)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=o=>{const u=o.error instanceof Error?o.error:new Error(`Datachannel error: ${o.message} ${o.filename}:${o.lineno}:${o.colno}`);this.destroy(errCode(u,"ERR_DATA_CHANNEL"))};let r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},CHANNEL_CLOSING_TIMEOUT)}_read(){}_write(t,r,o){if(this.destroyed)return o(errCode(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(u){return this.destroy(errCode(u,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=o):o(null)}else this._debug("write before connect"),this._chunk=t,this._cb=o}_onFinish(){if(this.destroyed)return;const t=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=filterTrickle(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const r=()=>{if(this.destroyed)return;const f=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:f.type,sdp:f.sdp})},o=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},u=f=>{this.destroy(errCode(f,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(o).catch(u)}).catch(t=>{this.destroy(errCode(t,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{!t.mid&&t.sender.track&&!t.requested&&(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=filterTrickle(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const r=()=>{if(this.destroyed)return;const f=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:f.type,sdp:f.sdp}),this.initiator||this._requestMissingTransceivers()},o=()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},u=f=>{this.destroy(errCode(f,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(o).catch(u)}).catch(t=>{this.destroy(errCode(t,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(errCode(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const t=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,r),this.emit("iceStateChange",t,r),(t==="connected"||t==="completed")&&(this._pcReady=!0,this._maybeReady()),t==="failed"&&this.destroy(errCode(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),t==="closed"&&this.destroy(errCode(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(t){const r=o=>(Object.prototype.toString.call(o.values)==="[object Array]"&&o.values.forEach(u=>{Object.assign(o,u)}),o);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(o=>{const u=[];o.forEach(f=>{u.push(r(f))}),t(null,u)},o=>t(o)):this._pc.getStats.length>0?this._pc.getStats(o=>{if(this.destroyed)return;const u=[];o.result().forEach(f=>{const g={};f.names().forEach(_=>{g[_]=f.stat(_)}),g.id=f.id,g.type=f.type,g.timestamp=f.timestamp,u.push(r(g))}),t(null,u)},o=>t(o)):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const t=()=>{this.destroyed||this.getStats((r,o)=>{if(this.destroyed)return;r&&(o=[]);const u={},f={},g={};let _=!1;o.forEach(S=>{(S.type==="remotecandidate"||S.type==="remote-candidate")&&(u[S.id]=S),(S.type==="localcandidate"||S.type==="local-candidate")&&(f[S.id]=S),(S.type==="candidatepair"||S.type==="candidate-pair")&&(g[S.id]=S)});const w=S=>{_=!0;let M=f[S.localCandidateId];M&&(M.ip||M.address)?(this.localAddress=M.ip||M.address,this.localPort=Number(M.port)):M&&M.ipAddress?(this.localAddress=M.ipAddress,this.localPort=Number(M.portNumber)):typeof S.googLocalAddress=="string"&&(M=S.googLocalAddress.split(":"),this.localAddress=M[0],this.localPort=Number(M[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let C=u[S.remoteCandidateId];C&&(C.ip||C.address)?(this.remoteAddress=C.ip||C.address,this.remotePort=Number(C.port)):C&&C.ipAddress?(this.remoteAddress=C.ipAddress,this.remotePort=Number(C.portNumber)):typeof S.googRemoteAddress=="string"&&(C=S.googRemoteAddress.split(":"),this.remoteAddress=C[0],this.remotePort=Number(C[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(o.forEach(S=>{S.type==="transport"&&S.selectedCandidatePairId&&w(g[S.selectedCandidatePairId]),(S.type==="googCandidatePair"&&S.googActiveConnection==="true"||(S.type==="candidatepair"||S.type==="candidate-pair")&&S.selected)&&w(S)}),!_&&(!Object.keys(g).length||Object.keys(f).length)){setTimeout(t,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(M){return this.destroy(errCode(M,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const S=this._cb;this._cb=null,S(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):!t.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=Buffer$1.from(r)),this.push(r)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const t=this._cb;this._cb=null,t(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach(r=>{this._debug("on track"),this.emit("track",t.track,r),this._remoteTracks.push({track:t.track,stream:r}),!this._remoteStreams.some(o=>o.id===r.id)&&(this._remoteStreams.push(r),queueMicrotask$1(()=>{this._debug("on stream"),this.emit("stream",r)}))})}_debug(){const t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],debug.apply(null,t)}}Peer.WEBRTC_SUPPORT=!!getBrowserRTC();Peer.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:globalThis.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Peer.channelConfig={};var simplePeer=Peer;const SimplePeer=getDefaultExportFromCjs(simplePeer);var lib={exports:{}},seed=1;function getNextValue(){return seed=(seed*9301+49297)%233280,seed/233280}function setSeed$1(e){seed=e}var randomFromSeed$1={nextValue:getNextValue,seed:setSeed$1},randomFromSeed=randomFromSeed$1,ORIGINAL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",alphabet$2,previousSeed,shuffled;function reset(){shuffled=!1}function setCharacters(e){if(!e){alphabet$2!==ORIGINAL&&(alphabet$2=ORIGINAL,reset());return}if(e!==alphabet$2){if(e.length!==ORIGINAL.length)throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(r,o,u){return o!==u.lastIndexOf(r)});if(t.length)throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. These characters were not unique: "+t.join(", "));alphabet$2=e,reset()}}function characters(e){return setCharacters(e),alphabet$2}function setSeed(e){randomFromSeed.seed(e),previousSeed!==e&&(reset(),previousSeed=e)}function shuffle(){alphabet$2||setCharacters(ORIGINAL);for(var e=alphabet$2.split(""),t=[],r=randomFromSeed.nextValue(),o;e.length>0;)r=randomFromSeed.nextValue(),o=Math.floor(r*e.length),t.push(e.splice(o,1)[0]);return t.join("")}function getShuffled(){return shuffled||(shuffled=shuffle(),shuffled)}function lookup(e){var t=getShuffled();return t[e]}function get(){return alphabet$2||ORIGINAL}var alphabet_1={get,characters,seed:setSeed,lookup,shuffled:getShuffled},crypto=typeof window=="object"&&(window.crypto||window.msCrypto),randomByte;!crypto||!crypto.getRandomValues?randomByte=function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(Math.random()*256));return t}:randomByte=function(e){return crypto.getRandomValues(new Uint8Array(e))};var randomByteBrowser=randomByte,format_browser=function(e,t,r){for(var o=(2<<Math.log(t.length-1)/Math.LN2)-1,u=-~(1.6*o*r/t.length),f="";;)for(var g=e(u),_=u;_--;)if(f+=t[g[_]&o]||"",f.length===+r)return f},alphabet$1=alphabet_1,random=randomByteBrowser,format=format_browser;function generate$2(e){for(var t=0,r,o="";!r;)o=o+format(random,alphabet$1.get(),1),r=e<Math.pow(16,t+1),t++;return o}var generate_1=generate$2,generate$1=generate_1,REDUCE_TIME=1567752802062,version$1=7,counter,previousSeconds;function build(e){var t="",r=Math.floor((Date.now()-REDUCE_TIME)*.001);return r===previousSeconds?counter++:(counter=0,previousSeconds=r),t=t+generate$1(version$1),t=t+generate$1(e),counter>0&&(t=t+generate$1(counter)),t=t+generate$1(r),t}var build_1=build,alphabet=alphabet_1;function isShortId(e){if(!e||typeof e!="string"||e.length<6)return!1;var t=new RegExp("[^"+alphabet.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!t.test(e)}var isValid=isShortId;(function(e){var t=alphabet_1,r=build_1,o=isValid,u=0;function f(S){return t.seed(S),e.exports}function g(S){return u=S,e.exports}function _(S){return S!==void 0&&t.characters(S),t.shuffled()}function w(){return r(u)}e.exports=w,e.exports.generate=w,e.exports.seed=f,e.exports.worker=g,e.exports.characters=_,e.exports.isValid=o})(lib);var libExports=lib.exports,shortid=libExports;const shortid$1=getDefaultExportFromCjs(shortid);var extend=Object.assign,PatchBay=function(e){this.signaller=io(e.server),this.id=e.id||shortid$1.generate(),this.stream=e.stream||null,this._peerOptions=e.peerOptions||{},this._room=e.room,this.settings.shareMediaWhenRequested=!0,this.settings.shareMediaWhenInitiating=!1,this.settings.requestMediaWhenInitiating=!0,this.settings.autoconnect=!1,this.peers={},this.rtcPeers={},this.signaller.on("ready",this._readyForSignalling.bind(this)),this.signaller.on("message",this._handleMessage.bind(this)),this.signaller.on("broadcast",this._receivedBroadcast.bind(this)),this.signaller.emit("join",this._room,{uuid:this.id}),this.signaller.on("new peer",this._newPeer.bind(this))};inherits$1(PatchBay,eventsExports.EventEmitter);PatchBay.prototype.sendToAll=function(e){Object.keys(this.rtcPeers).forEach(function(t){this.rtcPeers[t].send(e)},this)};PatchBay.prototype.sendToPeer=function(e,t){e in this.rtcPeers&&this.rtcPeers[e].send(t)};PatchBay.prototype.reinitAll=function(){Object.keys(this.rtcPeers).forEach(function(e){this.reinitPeer(e)}.bind(this))};PatchBay.prototype.initRtcPeer=function(e,t){this.emit("new peer",{id:e});var r=t;this.iceServers&&(t.config={iceServers:this.iceServers}),t.initiator===!0?(this.stream!=null&&this.settings.shareMediaWhenInitiating===!0&&(r.stream=this.stream),this.settings.requestMediaWhenInitiating===!0&&(r.offerConstraints={offerToReceiveVideo:!0,offerToReceiveAudio:!0})):this.settings.shareMediaWhenRequested===!0&&this.stream!=null&&(r.stream=this.stream);var o=extend(this._peerOptions,r);this.rtcPeers[e]=new SimplePeer(o),this._attachPeerEvents(this.rtcPeers[e],e)};PatchBay.prototype.reinitRtcConnection=function(e,t){this.rtcPeers[e]._destroy(null,function(r){this.initRtcPeer(e,{stream:this.stream,initiator:!0})}.bind(this))};PatchBay.prototype._newPeer=function(e){this.peers[e]={rtcPeer:null},this.emit("new peer",e)};PatchBay.prototype._readyForSignalling=function({peers:e,servers:t}){e.forEach(r=>{this._newPeer(r)}),t&&(this.iceServers=t),this.emit("ready")};PatchBay.prototype.initConnectionFromId=function(e,t){e in this.rtcPeers?(console.log("Already connected to..",e,this.rtcPeers),this.rtcPeers[e].initiator===!1&&this.reinitRtcConnection(e)):this.initRtcPeer(e,{initiator:!0})};PatchBay.prototype._handleMessage=function(e){e.type==="signal"?this._handleSignal(e):this.emit("message",e)};PatchBay.prototype._handleSignal=function(e){this.rtcPeers[e.id]||this.initRtcPeer(e.id,{initiator:!1}),this.rtcPeers[e.id].signal(e.message)};PatchBay.prototype._receivedBroadcast=function(e){this.emit("broadcast",e)};PatchBay.prototype.broadcast=function(e){this.signaller.emit("broadcast",e)};PatchBay.prototype._attachPeerEvents=function(e,t){e.on("signal",function(r,o){this.signaller.emit("message",{id:r,message:o,type:"signal"})}.bind(this,t)),e.on("stream",function(r,o){this.rtcPeers[r].stream=o,this.emit("stream",r,o)}.bind(this,t)),e.on("connect",function(r){this.emit("connect",r)}.bind(this,t)),e.on("data",function(r,o){this.emit("data",{id:r,data:JSON.parse(o)})}.bind(this,t)),e.on("close",function(r){delete this.rtcPeers[r],this.emit("close",r)}.bind(this,t)),e.on("error",function(r){console.warn("simple peer error",r)})};PatchBay.prototype._destroy=function(){Object.values(this.rtcPeers).forEach(function(e){e.destroy()}),this.signaller.close()};var PBLive=function(){this.session={},this.nickFromId={},this.idFromNick={},this.loadFromStorage()};inherits$1(PBLive,PatchBay);PBLive.prototype.init=function(e,t){this.settings={server:t.server||"https://patch-bay.glitch.me/",room:t.room||"patch-bay",stream:e},this.makeGlobal=t.makeGlobal||!0,this.setPageTitle=t.setTitle||!0,this.session.id&&(this.settings.id=this.session.id),PatchBay.call(this,this.settings),this.makeGlobal&&(window.pb=this),this.on("ready",()=>{this.nick||(this.session.nick?this.setName(this.session.nick):(this.session.id=this.id,this.setName(this.session.id)))}),this.on("broadcast",this._processBroadcast.bind(this)),this.on("new peer",this.handleNewPeer.bind(this)),window.onbeforeunload=()=>{this.session.id=window.pb.id,this.session.nick=this.nick,sessionStorage.setItem("pb",JSON.stringify(this.session))};var r=this;this.on("stream",function(o,u){console.log("got stream!",o,u);const f=document.createElement("video");"srcObject"in f?f.srcObject=u:f.src=window.URL.createObjectURL(u),f.addEventListener("loadedmetadata",()=>{f.play(),r.video=f,r.emit("got video",r.nickFromId[o],f)})})};PBLive.prototype.loadFromStorage=function(){sessionStorage.getItem("pb")!==null&&(this.session=JSON.parse(sessionStorage.getItem("pb")))};PBLive.prototype.initSource=function(e,t){this.initConnectionFromId(this.idFromNick[e],t)};PBLive.prototype.handleNewPeer=function(e){this.nickFromId[e]=e,this.idFromNick[e]=e,this.nick&&this.broadcast({type:"update-nick",id:this.id,nick:this.nick})};PBLive.prototype.list=function(){var e=Object.keys(this.idFromNick);return console.log(e),Object.keys(this.idFromNick)};PBLive.prototype.setName=function(e){this.broadcast({type:"update-nick",id:this.id,nick:e,previous:this.nick}),this.nick=e,this.setPageTitle&&(document.title=e)};PBLive.prototype._processBroadcast=function(e){e.type==="update-nick"&&e.previous!==e.nick&&(delete this.idFromNick[this.nickFromId[e.id]],this.nickFromId[e.id]=e.nick,this.idFromNick[e.nick]=e.id,e.previous)};class Hydra extends Component{constructor(t,r,o){super(t),this.local=r.components[t]={},r.hydra=this,this.emit=o}load(t){let o=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream?"highp":"mediump";const u=new PBLive,f=new HydraRenderer({pb:u,detectAudio:!0,canvas:t.querySelector("canvas"),precision:o});this.hydra=f,osc().out(),u.init(f.captureStream,{server:window.location.origin,room:"iclc"}),window.P5=P5,window.pb=u,this.emit("hydra loaded")}update(t){return!1}createElement({width:t=window.innerWidth,height:r=window.innerHeight}={}){return html$2`<div style="width:100%;height:100%;">
        <canvas class="bg-black" style="imageRendering:pixelated; width:100%;height:100%" width="${t}" height="${r}"></canvas></div>`}}var codemirror$1={exports:{}},hasRequiredCodemirror;function requireCodemirror(){return hasRequiredCodemirror||(hasRequiredCodemirror=1,function(e,t){var r=r||{};r.scope={},r.findInternal=function(o,u,f){o instanceof String&&(o=String(o));for(var g=o.length,_=0;_<g;_++){var w=o[_];if(u.call(f,w,_,o))return{i:_,v:w}}return{i:-1,v:void 0}},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.SIMPLE_FROUND_POLYFILL=!1,r.ISOLATE_POLYFILLS=!1,r.FORCE_POLYFILL_PROMISE=!1,r.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,r.defineProperty=r.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){return o==Array.prototype||o==Object.prototype||(o[u]=f.value),o},r.getGlobal=function(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof globalThis=="object"&&globalThis];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find globalThis object")},r.global=r.getGlobal(commonjsGlobal),r.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",r.TRUST_ES6_POLYFILLS=!r.ISOLATE_POLYFILLS||r.IS_SYMBOL_NATIVE,r.polyfills={},r.propertyToPolyfillSymbol={},r.POLYFILL_PREFIX="$jscp$",r.polyfill=function(o,u,f,g){u&&(r.ISOLATE_POLYFILLS?r.polyfillIsolated(o,u,f,g):r.polyfillUnisolated(o,u,f,g))},r.polyfillUnisolated=function(o,u,f,g){for(f=r.global,o=o.split("."),g=0;g<o.length-1;g++){var _=o[g];if(!(_ in f))return;f=f[_]}o=o[o.length-1],g=f[o],u=u(g),u!=g&&u!=null&&r.defineProperty(f,o,{configurable:!0,writable:!0,value:u})},r.polyfillIsolated=function(o,u,f,g){var _=o.split(".");o=_.length===1,g=_[0],g=!o&&g in r.polyfills?r.polyfills:r.global;for(var w=0;w<_.length-1;w++){var S=_[w];if(!(S in g))return;g=g[S]}_=_[_.length-1],f=r.IS_SYMBOL_NATIVE&&f==="es6"?g[_]:null,u=u(f),u!=null&&(o?r.defineProperty(r.polyfills,_,{configurable:!0,writable:!0,value:u}):u!==f&&(r.propertyToPolyfillSymbol[_]===void 0&&(f=1e9*Math.random()>>>0,r.propertyToPolyfillSymbol[_]=r.IS_SYMBOL_NATIVE?r.global.Symbol(_):r.POLYFILL_PREFIX+f+"$"+_),r.defineProperty(g,r.propertyToPolyfillSymbol[_],{configurable:!0,writable:!0,value:u})))},r.polyfill("Array.prototype.find",function(o){return o||function(u,f){return r.findInternal(this,u,f).v}},"es6","es3"),function(o,u){e.exports=u()}(commonjsGlobal,function(){function o(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}function u(n){for(var l=n.childNodes.length;0<l;--l)n.removeChild(n.firstChild);return n}function f(n,l){return u(n).appendChild(l)}function g(n,l,p,c){if(n=document.createElement(n),p&&(n.className=p),c&&(n.style.cssText=c),typeof l=="string")n.appendChild(document.createTextNode(l));else if(l)for(p=0;p<l.length;++p)n.appendChild(l[p]);return n}function _(n,l,p,c){return n=g(n,l,p,c),n.setAttribute("role","presentation"),n}function w(n,l){if(l.nodeType==3&&(l=l.parentNode),n.contains)return n.contains(l);do if(l.nodeType==11&&(l=l.host),l==n)return!0;while(l=l.parentNode)}function S(){try{var n=document.activeElement}catch{n=document.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function M(n,l){var p=n.className;o(l).test(p)||(n.className+=(p?" ":"")+l)}function C(n,l){n=n.split(" ");for(var p=0;p<n.length;p++)n[p]&&!o(n[p]).test(l)&&(l+=" "+n[p]);return l}function T(n){var l=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,l)}}function k(n,l,p){l||(l={});for(var c in n)!n.hasOwnProperty(c)||p===!1&&l.hasOwnProperty(c)||(l[c]=n[c]);return l}function P(n,l,p,c,v){for(l==null&&(l=n.search(/[^\s\u00a0]/),l==-1&&(l=n.length)),c=c||0,v=v||0;;){var b=n.indexOf("	",c);if(0>b||b>=l)return v+(l-c);v+=b-c,v+=p-v%p,c=b+1}}function $(n,l){for(var p=0;p<n.length;++p)if(n[p]==l)return p;return-1}function I(n,l,p){for(var c=0,v=0;;){var b=n.indexOf("	",c);b==-1&&(b=n.length);var A=b-c;if(b==n.length||v+A>=l)return c+Math.min(A,l-v);if(v+=b-c,v+=p-v%p,c=b+1,v>=l)return c}}function E(n){for(;Ps.length<=n;)Ps.push(F(Ps)+" ");return Ps[n]}function F(n){return n[n.length-1]}function le(n,l){for(var p=[],c=0;c<n.length;c++)p[c]=l(n[c],c);return p}function W(n,l,p){for(var c=0,v=p(l);c<n.length&&p(n[c])<=v;)c++;n.splice(c,0,l)}function ae(){}function te(n,l){return Object.create?n=Object.create(n):(ae.prototype=n,n=new ae),l&&k(l,n),n}function oe(n){return/\w/.test(n)||""<n&&(n.toUpperCase()!=n.toLowerCase()||hl.test(n))}function ie(n,l){return l?-1<l.source.indexOf("\\w")&&oe(n)?!0:l.test(n):oe(n)}function Ee(n){for(var l in n)if(n.hasOwnProperty(l)&&n[l])return!1;return!0}function D(n){return 768<=n.charCodeAt(0)&&pl.test(n)}function me(n,l,p){for(;(0>p?0<l:l<n.length)&&D(n.charAt(l));)l+=p;return l}function z(n,l,p){for(var c=l>p?-1:1;;){if(l==p)return l;var v=(l+p)/2;if(v=0>c?Math.ceil(v):Math.floor(v),v==l)return n(v)?l:p;n(v)?p=v:l=v+c}}function pe(n,l,p,c){if(!n)return c(l,p,"ltr",0);for(var v=!1,b=0;b<n.length;++b){var A=n[b];(A.from<p&&A.to>l||l==p&&A.to==l)&&(c(Math.max(A.from,l),Math.min(A.to,p),A.level==1?"rtl":"ltr",b),v=!0)}v||c(l,p,"ltr")}function we(n,l,p){var c;us=null;for(var v=0;v<n.length;++v){var b=n[v];if(b.from<l&&b.to>l)return v;b.to==l&&(b.from!=b.to&&p=="before"?c=v:us=v),b.from==l&&(b.from!=b.to&&p!="before"?c=v:us=v)}return c??us}function Q(n,l){var p=n.order;return p==null&&(p=n.order=dl(n.text,l)),p}function Y(n,l,p){if(n.removeEventListener)n.removeEventListener(l,p,!1);else if(n.detachEvent)n.detachEvent("on"+l,p);else{var c=(n=n._handlers)&&n[l];c&&(p=$(c,p),-1<p&&(n[l]=c.slice(0,p).concat(c.slice(p+1))))}}function G(n,l){var p=n._handlers&&n._handlers[l]||fs;if(p.length)for(var c=Array.prototype.slice.call(arguments,2),v=0;v<p.length;++v)p[v].apply(null,c)}function q(n,l,p){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),G(n,p||l.type,n,l),Et(l)||l.codemirrorIgnore}function Te(n){var l=n._handlers&&n._handlers.cursorActivity;if(l){n=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]);for(var p=0;p<l.length;++p)$(n,l[p])==-1&&n.push(l[p])}}function De(n,l){return 0<(n._handlers&&n._handlers[l]||fs).length}function nt(n){n.prototype.on=function(l,p){Gt(this,l,p)},n.prototype.off=function(l,p){Y(this,l,p)}}function ft(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function wt(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function Et(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==0}function kt(n){ft(n),wt(n)}function $e(n){var l=n.which;return l==null&&(n.button&1?l=1:n.button&2?l=3:n.button&4&&(l=2)),Ni&&n.ctrlKey&&l==1&&(l=3),l}function Re(n,l){2<arguments.length&&(l.dependencies=Array.prototype.slice.call(arguments,2)),pa[n]=l}function at(n){if(typeof n=="string"&&cs.hasOwnProperty(n))n=cs[n];else if(n&&typeof n.name=="string"&&cs.hasOwnProperty(n.name)){var l=cs[n.name];typeof l=="string"&&(l={name:l}),n=te(l,n),n.name=l.name}else{if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return at("application/xml");if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return at("application/json")}return typeof n=="string"?{name:n}:n||{name:"null"}}function At(n,l){l=at(l);var p=pa[l.name];if(!p)return At(n,"text/plain");if(n=p(n,l),hs.hasOwnProperty(l.name)){p=hs[l.name];for(var c in p)p.hasOwnProperty(c)&&(n.hasOwnProperty(c)&&(n["_"+c]=n[c]),n[c]=p[c])}if(n.name=l.name,l.helperType&&(n.helperType=l.helperType),l.modeProps)for(var v in l.modeProps)n[v]=l.modeProps[v];return n}function Ut(n,l){n=hs.hasOwnProperty(n)?hs[n]:hs[n]={},k(l,n)}function he(n,l){if(l===!0)return l;if(n.copyState)return n.copyState(l);n={};for(var p in l){var c=l[p];c instanceof Array&&(c=c.concat([])),n[p]=c}return n}function ue(n,l){for(var p;n.innerMode&&(p=n.innerMode(l),!(!p||p.mode==n));)l=p.state,n=p.mode;return p||{mode:n,state:l}}function tt(n,l,p){return n.startState?n.startState(l,p):!0}function Je(n,l){if(l-=n.first,0>l||l>=n.size)throw Error("There is no line "+(l+n.first)+" in the document.");for(;!n.lines;)for(var p=0;;++p){var c=n.children[p],v=c.chunkSize();if(l<v){n=c;break}l-=v}return n.lines[l]}function Bt(n,l,p){var c=[],v=l.line;return n.iter(l.line,p.line+1,function(b){b=b.text,v==p.line&&(b=b.slice(0,p.ch)),v==l.line&&(b=b.slice(l.ch)),c.push(b),++v}),c}function Ht(n,l,p){var c=[];return n.iter(l,p,function(v){c.push(v.text)}),c}function Xt(n,l){if(l-=n.height)for(;n;n=n.parent)n.height+=l}function Pt(n){if(n.parent==null)return null;var l=n.parent;n=$(l.lines,n);for(var p=l.parent;p;l=p,p=p.parent)for(var c=0;p.children[c]!=l;++c)n+=p.children[c].chunkSize();return n+l.first}function Xr(n,l){var p=n.first;e:do{for(var c=0;c<n.children.length;++c){var v=n.children[c],b=v.height;if(l<b){n=v;continue e}l-=b,p+=v.chunkSize()}return p}while(!n.lines);for(c=0;c<n.lines.length&&(v=n.lines[c].height,!(l<v));++c)l-=v;return p+c}function Zr(n,l){return l>=n.first&&l<n.first+n.size}function ki(n,l){return String(n.lineNumberFormatter(l+n.firstLineNumber))}function Ve(n,l,p){if(p===void 0&&(p=null),!(this instanceof Ve))return new Ve(n,l,p);this.line=n,this.ch=l,this.sticky=p}function V(n,l){return n.line-l.line||n.ch-l.ch}function Si(n,l){return n.sticky==l.sticky&&V(n,l)==0}function Ir(n){return Ve(n.line,n.ch)}function ii(n,l){return 0>V(n,l)?l:n}function K(n,l){return 0>V(n,l)?n:l}function O(n,l){if(l.line<n.first)return Ve(n.first,0);var p=n.first+n.size-1;return l.line>p?Ve(p,Je(n,p).text.length):(n=Je(n,l.line).text.length,p=l.ch,l=p==null||p>n?Ve(l.line,n):0>p?Ve(l.line,0):l,l)}function U(n,l){for(var p=[],c=0;c<l.length;c++)p[c]=O(n,l[c]);return p}function ce(n,l,p,c){var v=[n.state.modeGen],b={};vr(n,l.text,n.doc.mode,p,function(B,j){return v.push(B,j)},b,c);var A=p.state;c=function(B){p.baseTokens=v;var j=n.state.overlays[B],ee=1,be=0;p.state=!0,vr(n,l.text,j.mode,p,function(xe,Me){for(var qe=ee;be<xe;){var xt=v[ee];xt>xe&&v.splice(ee,1,xe,v[ee+1],xt),ee+=2,be=Math.min(xe,xt)}if(Me)if(j.opaque)v.splice(qe,ee-qe,xe,"overlay "+Me),ee=qe+2;else for(;qe<ee;qe+=2)xe=v[qe+1],v[qe+1]=(xe?xe+" ":"")+"overlay "+Me},b),p.state=A,p.baseTokens=null,p.baseTokenPos=1};for(var L=0;L<n.state.overlays.length;++L)c(L);return{styles:v,classes:b.bgClass||b.textClass?b:null}}function Le(n,l,p){if(!l.styles||l.styles[0]!=n.state.modeGen){var c=We(n,Pt(l)),v=l.text.length>n.options.maxHighlightLength&&he(n.doc.mode,c.state),b=ce(n,l,c);v&&(c.state=v),l.stateAfter=c.save(!v),l.styles=b.styles,b.classes?l.styleClasses=b.classes:l.styleClasses&&(l.styleClasses=null),p===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return l.styles}function We(n,l,p){var c=n.doc,v=n.display;if(!c.mode.startState)return new Wi(c,!0,l);var b=ko(n,l,p),A=b>c.first&&Je(c,b-1).stateAfter,L=A?Wi.fromSaved(c,A,b):new Wi(c,tt(c.mode),b);return c.iter(b,l,function(B){rt(n,B.text,L);var j=L.line;B.stateAfter=j==l-1||j%5==0||j>=v.viewFrom&&j<v.viewTo?L.save():null,L.nextLine()}),p&&(c.modeFrontier=L.line),L}function rt(n,l,p,c){var v=n.doc.mode;for(n=new Or(l,n.options.tabSize,p),n.start=n.pos=c||0,l==""&&jt(v,p.state);!n.eol();)or(v,n,p.state),n.start=n.pos}function jt(n,l){if(n.blankLine)return n.blankLine(l);if(n.innerMode&&(n=ue(n,l),n.mode.blankLine))return n.mode.blankLine(n.state)}function or(n,l,p,c){for(var v=0;10>v;v++){c&&(c[0]=ue(n,p).mode);var b=n.token(l,p);if(l.pos>l.start)return b}throw Error("Mode "+n.name+" failed to advance stream.")}function br(n,l,p,c){var v=n.doc,b=v.mode;l=O(v,l);var A=Je(v,l.line);p=We(n,l.line,p),n=new Or(A.text,n.options.tabSize,p);var L;for(c&&(L=[]);(c||n.pos<l.ch)&&!n.eol();){n.start=n.pos;var B=or(b,n,p.state);c&&L.push(new da(n,B,he(v.mode,p.state)))}return c?L:new da(n,B,p.state)}function hr(n,l){if(n)for(;;){var p=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;n=n.slice(0,p.index)+n.slice(p.index+p[0].length);var c=p[1]?"bgClass":"textClass";l[c]==null?l[c]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(l[c])||(l[c]+=" "+p[2])}return n}function vr(n,l,p,c,v,b,A){var L=p.flattenSpans;L==null&&(L=n.options.flattenSpans);var B=0,j=null,ee=new Or(l,n.options.tabSize,c),be=n.options.addModeClass&&[null];for(l==""&&hr(jt(p,c.state),b);!ee.eol();){if(ee.pos>n.options.maxHighlightLength){L=!1,A&&rt(n,l,c,ee.pos),ee.pos=l.length;var xe=null}else xe=hr(or(p,ee,c.state,be),b);if(be){var Me=be[0].name;Me&&(xe="m-"+(xe?Me+" "+xe:Me))}if(!L||j!=xe){for(;B<ee.start;)B=Math.min(ee.start,B+5e3),v(B,j);j=xe}ee.start=ee.pos}for(;B<ee.pos;)n=Math.min(ee.pos,B+5e3),v(n,j),B=n}function ko(n,l,p){for(var c,v,b=n.doc,A=p?-1:l-(n.doc.mode.innerMode?1e3:100);l>A;--l){if(l<=b.first)return b.first;var L=Je(b,l-1),B=L.stateAfter;if(B&&(!p||l+(B instanceof Eo?B.lookAhead:0)<=b.modeFrontier))return l;L=P(L.text,null,n.options.tabSize),(v==null||c>L)&&(v=l-1,c=L)}return v}function Ro(n,l){if(n.modeFrontier=Math.min(n.modeFrontier,l),!(n.highlightFrontier<l-10)){for(var p=n.first,c=l-1;c>p;c--){var v=Je(n,c).stateAfter;if(v&&(!(v instanceof Eo)||c+v.lookAhead<l)){p=c+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,p)}}function ps(n,l,p){this.marker=n,this.from=l,this.to=p}function Ri(n,l){if(n)for(var p=0;p<n.length;++p){var c=n[p];if(c.marker==l)return c}}function Ei(n,l){if(l.full)return null;var p=Zr(n,l.from.line)&&Je(n,l.from.line).markedSpans,c=Zr(n,l.to.line)&&Je(n,l.to.line).markedSpans;if(!p&&!c)return null;n=l.from.ch;var v=l.to.ch,b=V(l.from,l.to)==0,A;if(p)for(var L=0;L<p.length;++L){var B=p[L],j=B.marker;if(B.from==null||(j.inclusiveLeft?B.from<=n:B.from<n)||!(B.from!=n||j.type!="bookmark"||b&&B.marker.insertLeft)){var ee=B.to==null||(j.inclusiveRight?B.to>=n:B.to>n);(A||(A=[])).push(new ps(j,B.from,ee?null:B.to))}}p=A;var be;if(c)for(A=0;A<c.length;++A)L=c[A],B=L.marker,(L.to==null||(B.inclusiveRight?L.to>=v:L.to>v)||L.from==v&&B.type=="bookmark"&&(!b||L.marker.insertLeft))&&(j=L.from==null||(B.inclusiveLeft?L.from<=v:L.from<v),(be||(be=[])).push(new ps(B,j?null:L.from-v,L.to==null?null:L.to-v)));if(c=l.text.length==1,v=F(l.text).length+(c?n:0),p)for(b=0;b<p.length;++b)A=p[b],A.to==null&&(L=Ri(be,A.marker),L?c&&(A.to=L.to==null?null:L.to+v):A.to=n);if(be)for(n=0;n<be.length;++n)b=be[n],b.to!=null&&(b.to+=v),b.from==null?Ri(p,b.marker)||(b.from=v,c&&(p||(p=[])).push(b)):(b.from+=v,c&&(p||(p=[])).push(b));if(p&&(p=Vi(p)),be&&be!=p&&(be=Vi(be)),n=[p],!c){l=l.text.length-2;var xe;if(0<l&&p)for(c=0;c<p.length;++c)p[c].to==null&&(xe||(xe=[])).push(new ps(p[c].marker,null,null));for(p=0;p<l;++p)n.push(xe);n.push(be)}return n}function Vi(n){for(var l=0;l<n.length;++l){var p=n[l];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&n.splice(l--,1)}return n.length?n:null}function Lo(n,l,p){var c=null;if(n.iter(l.line,p.line+1,function(ee){if(ee.markedSpans)for(var be=0;be<ee.markedSpans.length;++be){var xe=ee.markedSpans[be].marker;!xe.readOnly||c&&$(c,xe)!=-1||(c||(c=[])).push(xe)}}),!c)return null;for(n=[{from:l,to:p}],l=0;l<c.length;++l){p=c[l];for(var v=p.find(0),b=0;b<n.length;++b){var A=n[b];if(!(0>V(A.to,v.from)||0<V(A.from,v.to))){var L=[b,1],B=V(A.from,v.from),j=V(A.to,v.to);(0>B||!p.inclusiveLeft&&!B)&&L.push({from:A.from,to:v.from}),(0<j||!p.inclusiveRight&&!j)&&L.push({from:v.to,to:A.to}),n.splice.apply(n,L),b+=L.length-3}}}return n}function Ki(n){var l=n.markedSpans;if(l){for(var p=0;p<l.length;++p)l[p].marker.detachLine(n);n.markedSpans=null}}function ei(n,l){if(l){for(var p=0;p<l.length;++p)l[p].marker.attachLine(n);n.markedSpans=l}}function ds(n,l){var p=n.lines.length-l.lines.length;if(p!=0)return p;p=n.find();var c=l.find(),v=V(p.from,c.from)||(n.inclusiveLeft?-1:0)-(l.inclusiveLeft?-1:0);return v?-v:(p=V(p.to,c.to)||(n.inclusiveRight?1:0)-(l.inclusiveRight?1:0))?p:l.id-n.id}function Bi(n,l){if(n=nn&&n.markedSpans,n){for(var p,c=0;c<n.length;++c)if(p=n[c],p.marker.collapsed&&(l?p.from:p.to)==null&&(!v||0>ds(v,p.marker)))var v=p.marker}return v}function Li(n,l,p,c,v){if(n=Je(n,l),n=nn&&n.markedSpans)for(l=0;l<n.length;++l){var b=n[l];if(b.marker.collapsed){var A=b.marker.find(0),L=V(A.from,p)||(b.marker.inclusiveLeft?-1:0)-(v.inclusiveLeft?-1:0),B=V(A.to,c)||(b.marker.inclusiveRight?1:0)-(v.inclusiveRight?1:0);if(!(0<=L&&0>=B||0>=L&&0<=B)&&(0>=L&&(b.marker.inclusiveRight&&v.inclusiveLeft?0<=V(A.to,p):0<V(A.to,p))||0<=L&&(b.marker.inclusiveRight&&v.inclusiveLeft?0>=V(A.from,c):0>V(A.from,c))))return!0}}}function fi(n){for(var l;l=Bi(n,!0);)n=l.find(-1,!0).line;return n}function Ks(n,l){n=Je(n,l);var p=fi(n);return n==p?l:Pt(p)}function Hs(n,l){if(l>n.lastLine())return l;var p=Je(n,l);if(!Hi(n,p))return l;for(;n=Bi(p,!1);)p=n.find(1,!0).line;return Pt(p)+1}function Hi(n,l){var p=nn&&l.markedSpans;if(p){for(var c,v=0;v<p.length;++v)if(c=p[v],c.marker.collapsed&&(c.from==null||!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&_n(n,l,c)))return!0}}function _n(n,l,p){if(p.to==null)return l=p.marker.find(1,!0),_n(n,l.line,Ri(l.line.markedSpans,p.marker));if(p.marker.inclusiveRight&&p.to==l.text.length)return!0;for(var c,v=0;v<l.markedSpans.length;++v)if(c=l.markedSpans[v],c.marker.collapsed&&!c.marker.widgetNode&&c.from==p.to&&(c.to==null||c.to!=p.from)&&(c.marker.inclusiveLeft||p.marker.inclusiveRight)&&_n(n,l,c))return!0}function mi(n){n=fi(n);for(var l=0,p=n.parent,c=0;c<p.lines.length;++c){var v=p.lines[c];if(v==n)break;l+=v.height}for(n=p.parent;n;p=n,n=p.parent)for(c=0;c<n.children.length&&(v=n.children[c],v!=p);++c)l+=v.height;return l}function jn(n){if(n.height==0)return 0;for(var l=n.text.length,p,c=n;p=Bi(c,!0);)p=p.find(0,!0),c=p.from.line,l+=p.from.ch-p.to.ch;for(c=n;p=Bi(c,!1);)n=p.find(0,!0),l-=c.text.length-n.from.ch,c=n.to.line,l+=c.text.length-n.to.ch;return l}function xr(n){var l=n.display;n=n.doc,l.maxLine=Je(n,n.first),l.maxLineLength=jn(l.maxLine),l.maxLineChanged=!0,n.iter(function(p){var c=jn(p);c>l.maxLineLength&&(l.maxLineLength=c,l.maxLine=p)})}function Oo(n,l){return!n||/^\s*$/.test(n)?null:(l=l.addModeClass?du:pu,l[n]||(l[n]=n.replace(/\S+/g,"cm-$&")))}function Qs(n,l){var p=_("span",null,null,oi?"padding-right: .1px":null);p={pre:_("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")},l.measure={};for(var c=0;c<=(l.rest?l.rest.length:0);c++){var v=c?l.rest[c-1]:l.line,b=void 0;p.pos=0,p.addToken=Io;var A=n.display.measure;if(fa!=null)A=fa;else{var L=f(A,document.createTextNode("AخA")),B=So(L,0,1).getBoundingClientRect();L=So(L,1,2).getBoundingClientRect(),u(A),A=B&&B.left!=B.right?fa=3>L.right-B.right:!1}A&&(b=Q(v,n.doc.direction))&&(p.addToken=wn(p.addToken,b)),p.map=[];var j=l!=n.display.externalMeasured&&Pt(v);e:{var ee=L=B=A=void 0,be=void 0,xe=void 0,Me=void 0;b=p,j=Le(n,v,j);var qe=v.markedSpans,xt=v.text,Jt=0;if(qe)for(var kr=xt.length,Nt=0,mr=1,_r="",wr=0;;){if(wr==Nt){be=ee=L=xe="",B=A=null,wr=1/0;for(var yr=[],ar=void 0,Tr=0;Tr<qe.length;++Tr){var gr=qe[Tr],Sr=gr.marker;if(Sr.type=="bookmark"&&gr.from==Nt&&Sr.widgetNode)yr.push(Sr);else if(gr.from<=Nt&&(gr.to==null||gr.to>Nt||Sr.collapsed&&gr.to==Nt&&gr.from==Nt)){if(gr.to!=null&&gr.to!=Nt&&wr>gr.to&&(wr=gr.to,ee=""),Sr.className&&(be+=" "+Sr.className),Sr.css&&(xe=(xe?xe+";":"")+Sr.css),Sr.startStyle&&gr.from==Nt&&(L+=" "+Sr.startStyle),Sr.endStyle&&gr.to==wr&&(ar||(ar=[])).push(Sr.endStyle,gr.to),Sr.title&&((A||(A={})).title=Sr.title),Sr.attributes)for(var ai in Sr.attributes)(A||(A={}))[ai]=Sr.attributes[ai];Sr.collapsed&&(!B||0>ds(B.marker,Sr))&&(B=gr)}else gr.from>Nt&&wr>gr.from&&(wr=gr.from)}if(ar)for(Tr=0;Tr<ar.length;Tr+=2)ar[Tr+1]==wr&&(ee+=" "+ar[Tr]);if(!B||B.from==Nt)for(ar=0;ar<yr.length;++ar)Ys(b,0,yr[ar]);if(B&&(B.from||0)==Nt){if(Ys(b,(B.to==null?kr+1:B.to)-Nt,B.marker,B.from==null),B.to==null)break e;B.to==Nt&&(B=!1)}}if(Nt>=kr)break;for(yr=Math.min(kr,wr);;){if(_r){if(ar=Nt+_r.length,B||(Tr=ar>yr?_r.slice(0,yr-Nt):_r,b.addToken(b,Tr,Me?Me+be:be,L,Nt+Tr.length==wr?ee:"",xe,A)),ar>=yr){_r=_r.slice(yr-Nt),Nt=yr;break}Nt=ar,L=""}_r=xt.slice(Jt,Jt=j[mr++]),Me=Oo(j[mr++],b.cm.options)}}else for(A=1;A<j.length;A+=2)b.addToken(b,xt.slice(Jt,Jt=j[A]),Oo(j[A+1],b.cm.options))}v.styleClasses&&(v.styleClasses.bgClass&&(p.bgClass=C(v.styleClasses.bgClass,p.bgClass||"")),v.styleClasses.textClass&&(p.textClass=C(v.styleClasses.textClass,p.textClass||""))),p.map.length==0&&(v=p.map,b=v.push,A=p.content,B=A.appendChild,L=n.display.measure,ua==null&&(ee=g("span","​"),f(L,g("span",[ee,document.createTextNode("x")])),L.firstChild.offsetHeight!=0&&(ua=1>=ee.offsetWidth&&2<ee.offsetHeight&&!(pr&&8>Mr))),L=ua?g("span","​"):g("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px"),L.setAttribute("cm-text",""),b.call(v,0,0,B.call(A,L))),c==0?(l.measure.map=p.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(p.map),(l.measure.caches||(l.measure.caches=[])).push({}))}return oi&&(ai=p.content.lastChild,/\bcm-tab\b/.test(ai.className)||ai.querySelector&&ai.querySelector(".cm-tab"))&&(p.content.className="cm-tab-wrap-hack"),G(n,"renderLine",n,l.line,p.pre),p.pre.className&&(p.textClass=C(p.pre.className,p.textClass||"")),p}function Ea(n){var l=g("span","•","cm-invalidchar");return l.title="\\u"+n.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Io(n,l,p,c,v,b,A){if(l){if(n.splitSpaces){var L=n.trailingSpace;if(1<l.length&&!/  /.test(l))L=l;else{for(var B="",j=0;j<l.length;j++){var ee=l.charAt(j);ee!=" "||!L||j!=l.length-1&&l.charCodeAt(j+1)!=32||(ee=" "),B+=ee,L=ee==" "}L=B}}else L=l;if(B=L,j=n.cm.state.specialChars,ee=!1,j.test(l)){L=document.createDocumentFragment();for(var be=0;;){j.lastIndex=be;var xe=j.exec(l),Me=xe?xe.index-be:l.length-be;if(Me){var qe=document.createTextNode(B.slice(be,be+Me));pr&&9>Mr?L.appendChild(g("span",[qe])):L.appendChild(qe),n.map.push(n.pos,n.pos+Me,qe),n.col+=Me,n.pos+=Me}if(!xe)break;be+=Me+1,xe[0]=="	"?(xe=n.cm.options.tabSize,xe-=n.col%xe,Me=L.appendChild(g("span",E(xe),"cm-tab")),Me.setAttribute("role","presentation"),Me.setAttribute("cm-text","	"),n.col+=xe):(xe[0]=="\r"||xe[0]==`
`?(Me=L.appendChild(g("span",xe[0]=="\r"?"␍":"␤","cm-invalidchar")),Me.setAttribute("cm-text",xe[0])):(Me=n.cm.options.specialCharPlaceholder(xe[0]),Me.setAttribute("cm-text",xe[0]),pr&&9>Mr?L.appendChild(g("span",[Me])):L.appendChild(Me)),n.col+=1),n.map.push(n.pos,n.pos+1,Me),n.pos++}}else n.col+=l.length,L=document.createTextNode(B),n.map.push(n.pos,n.pos+l.length,L),pr&&9>Mr&&(ee=!0),n.pos+=l.length;if(n.trailingSpace=B.charCodeAt(l.length-1)==32,p||c||v||ee||b||A){if(l=p||"",c&&(l+=c),v&&(l+=v),c=g("span",[L],l,b),A)for(var xt in A)A.hasOwnProperty(xt)&&xt!="style"&&xt!="class"&&c.setAttribute(xt,A[xt]);return n.content.appendChild(c)}n.content.appendChild(L)}}function wn(n,l){return function(p,c,v,b,A,L,B){v=v?v+" cm-force-border":"cm-force-border";for(var j=p.pos,ee=j+c.length;;){for(var be=void 0,xe=0;xe<l.length&&(be=l[xe],!(be.to>j&&be.from<=j));xe++);if(be.to>=ee)return n(p,c,v,b,A,L,B);n(p,c.slice(0,be.to-j),v,b,null,L,B),b=null,c=c.slice(be.to-j),j=be.to}}}function Ys(n,l,p,c){var v=!c&&p.widgetNode;v&&n.map.push(n.pos,n.pos+l,v),!c&&n.cm.display.input.needsContentAttribute&&(v||(v=n.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",p.id)),v&&(n.cm.display.input.setUneditable(v),n.content.appendChild(v)),n.pos+=l,n.trailingSpace=!1}function Gn(n,l,p){for(var c=this.line=l,v;c=Bi(c,!1);)c=c.find(1,!0).line,(v||(v=[])).push(c);this.size=(this.rest=v)?Pt(F(this.rest))-p+1:1,this.node=this.text=null,this.hidden=Hi(n,l)}function Oi(n,l,p){var c=[],v;for(v=l;v<p;)l=new Gn(n.doc,Je(n.doc,v),v),v+=l.size,c.push(l);return c}function No(n,l){if(n=n.ownsGroup)try{var p=n.delayedCallbacks,c=0;do{for(;c<p.length;c++)p[c].call(null);for(var v=0;v<n.ops.length;v++){var b=n.ops[v];if(b.cursorActivityHandlers)for(;b.cursorActivityCalled<b.cursorActivityHandlers.length;)b.cursorActivityHandlers[b.cursorActivityCalled++].call(null,b.cm)}}while(c<p.length)}finally{In=null,l(n)}}function er(n,l){var p=n._handlers&&n._handlers[l]||fs;if(p.length){var c=Array.prototype.slice.call(arguments,2);if(In)var v=In.delayedCallbacks;else Ds?v=Ds:(v=Ds=[],setTimeout(ys,0));for(var b=function(L){v.push(function(){return p[L].apply(null,c)})},A=0;A<p.length;++A)b(A)}}function ys(){var n=Ds;Ds=null;for(var l=0;l<n.length;++l)n[l]()}function Xs(n,l,p,c){for(var v=0;v<l.changes.length;v++){var b=l.changes[v];if(b=="text"){b=n;var A=l,L=A.text.className,B=$o(b,A);A.text==A.node&&(A.node=B.pre),A.text.parentNode.replaceChild(B.pre,A.text),A.text=B.pre,B.bgClass!=A.bgClass||B.textClass!=A.textClass?(A.bgClass=B.bgClass,A.textClass=B.textClass,ln(b,A)):L&&(A.text.className=L)}else if(b=="gutter")Wn(n,l,p,c);else if(b=="class")ln(n,l);else if(b=="widget"){b=n,A=l,L=c,A.alignable&&(A.alignable=null),B=o("CodeMirror-linewidget");for(var j=A.node.firstChild,ee;j;j=ee)ee=j.nextSibling,B.test(j.className)&&A.node.removeChild(j);gs(b,A,L)}}l.changes=null}function bn(n){return n.node==n.text&&(n.node=g("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),pr&&8>Mr&&(n.node.style.zIndex=2)),n.node}function $o(n,l){var p=n.display.externalMeasured;return p&&p.line==l.line?(n.display.externalMeasured=null,l.measure=p.measure,p.built):Qs(n,l)}function ln(n,l){var p=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),l.background)p?l.background.className=p:(l.background.parentNode.removeChild(l.background),l.background=null);else if(p){var c=bn(l);l.background=c.insertBefore(g("div",null,p),c.firstChild),n.display.input.setUneditable(l.background)}l.line.wrapClass?bn(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className=""),l.text.className=(l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass)||""}function Wn(n,l,p,c){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var v=bn(l);l.gutterBackground=g("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(n.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),n.display.input.setUneditable(l.gutterBackground),v.insertBefore(l.gutterBackground,l.text)}if(v=l.line.gutterMarkers,n.options.lineNumbers||v){var b=bn(l),A=l.gutter=g("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(A.setAttribute("aria-hidden","true"),n.display.input.setUneditable(A),b.insertBefore(A,l.text),l.line.gutterClass&&(A.className+=" "+l.line.gutterClass),!n.options.lineNumbers||v&&v["CodeMirror-linenumbers"]||(l.lineNumber=A.appendChild(g("div",ki(n.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),v)for(l=0;l<n.display.gutterSpecs.length;++l)p=n.display.gutterSpecs[l].className,(b=v.hasOwnProperty(p)&&v[p])&&A.appendChild(g("div",[b],"CodeMirror-gutter-elt","left: "+c.gutterLeft[p]+"px; width: "+c.gutterWidth[p]+"px"))}}function Ta(n,l,p,c){var v=$o(n,l);return l.text=l.node=v.pre,v.bgClass&&(l.bgClass=v.bgClass),v.textClass&&(l.textClass=v.textClass),ln(n,l),Wn(n,l,p,c),gs(n,l,c),l.node}function gs(n,l,p){if(Sn(n,l.line,l,p,!0),l.rest)for(var c=0;c<l.rest.length;c++)Sn(n,l.rest[c],l,p,!1)}function Sn(n,l,p,c,v){if(l.widgets){var b=bn(p),A=0;for(l=l.widgets;A<l.length;++A){var L=l[A],B=g("div",[L.node],"CodeMirror-linewidget"+(L.className?" "+L.className:""));L.handleMouseEvents||B.setAttribute("cm-ignore-events","true");var j=L,ee=B,be=c;if(j.noHScroll){(p.alignable||(p.alignable=[])).push(ee);var xe=be.wrapperWidth;ee.style.left=be.fixedPos+"px",j.coverGutter||(xe-=be.gutterTotalWidth,ee.style.paddingLeft=be.gutterTotalWidth+"px"),ee.style.width=xe+"px"}j.coverGutter&&(ee.style.zIndex=5,ee.style.position="relative",j.noHScroll||(ee.style.marginLeft=-be.gutterTotalWidth+"px")),n.display.input.setUneditable(B),v&&L.above?b.insertBefore(B,p.gutter||p.text):b.appendChild(B),er(L,"redraw")}}}function zn(n){if(n.height!=null)return n.height;var l=n.doc.cm;if(!l)return 0;if(!w(document.body,n.node)){var p="position: relative;";n.coverGutter&&(p+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),n.noHScroll&&(p+="width: "+l.display.wrapper.clientWidth+"px;"),f(l.display.measure,g("div",[n.node],null,p))}return n.height=n.node.parentNode.offsetHeight}function J(n,l){for(l=l.target||l.srcElement;l!=n.wrapper;l=l.parentNode)if(!l||l.nodeType==1&&l.getAttribute("cm-ignore-events")=="true"||l.parentNode==n.sizer&&l!=n.mover)return!0}function ye(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function He(n){if(n.cachedPaddingH)return n.cachedPaddingH;var l=f(n.measure,g("pre","x","CodeMirror-line-like"));return l=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,l={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight)},isNaN(l.left)||isNaN(l.right)||(n.cachedPaddingH=l),l}function mt(n){return 50-n.display.nativeBarWidth}function zt(n){return n.display.scroller.clientWidth-mt(n)-n.display.barWidth}function nr(n){return n.display.scroller.clientHeight-mt(n)-n.display.barHeight}function Pr(n,l,p){if(n.line==l)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var c=0;c<n.rest.length;c++)if(n.rest[c]==l)return{map:n.measure.maps[c],cache:n.measure.caches[c]};for(l=0;l<n.rest.length;l++)if(Pt(n.rest[l])>p)return{map:n.measure.maps[l],cache:n.measure.caches[l],before:!0}}}function Qi(n,l){if(l>=n.display.viewFrom&&l<n.display.viewTo)return n.display.view[Ti(n,l)];if((n=n.display.externalMeasured)&&l>=n.lineN&&l<n.lineN+n.size)return n}function En(n,l){var p=Pt(l),c=Qi(n,p);if(c&&!c.text?c=null:c&&c.changes&&(Xs(n,c,p,Oa(n)),n.curOp.forceUpdate=!0),!c){var v=fi(l);c=Pt(v),v=n.display.externalMeasured=new Gn(n.doc,v,c),v.lineN=c,c=v.built=Qs(n,v),v.text=c.pre,f(n.display.lineMeasure,c.pre),c=v}return n=Pr(c,l,p),{line:l,view:c,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function Fi(n,l,p,c,v){l.before&&(p=-1);var b=p+(c||"");if(l.cache.hasOwnProperty(b))n=l.cache[b];else{if(l.rect||(l.rect=l.view.text.getBoundingClientRect()),!l.hasHeights){var A=l.view,L=l.rect,B=n.options.lineWrapping,j=B&&zt(n);if(!A.measure.heights||B&&A.measure.width!=j){var ee=A.measure.heights=[];if(B)for(A.measure.width=j,A=A.text.firstChild.getClientRects(),B=0;B<A.length-1;B++){j=A[B];var be=A[B+1];2<Math.abs(j.bottom-be.bottom)&&ee.push((j.bottom+be.top)/2-L.top)}ee.push(L.bottom-L.top)}l.hasHeights=!0}if(ee=c,A=El(l.map,p,ee),c=A.node,L=A.start,B=A.end,p=A.collapse,c.nodeType==3){for(var xe=0;4>xe;xe++){for(;L&&D(l.line.text.charAt(A.coverStart+L));)--L;for(;A.coverStart+B<A.coverEnd&&D(l.line.text.charAt(A.coverStart+B));)++B;if(pr&&9>Mr&&L==0&&B==A.coverEnd-A.coverStart)var Me=c.parentNode.getBoundingClientRect();else{if(Me=So(c,L,B).getClientRects(),B=gl,ee=="left")for(j=0;j<Me.length&&(B=Me[j]).left==B.right;j++);else for(j=Me.length-1;0<=j&&(B=Me[j]).left==B.right;j--);Me=B}if(Me.left||Me.right||L==0)break;B=L,--L,p="right"}pr&&11>Mr&&((xe=!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI)||(ha!=null?xe=ha:(ee=f(n.display.measure,g("span","x")),xe=ee.getBoundingClientRect(),ee=So(ee,0,1).getBoundingClientRect(),xe=ha=1<Math.abs(xe.left-ee.left)),xe=!xe),xe||(xe=screen.logicalXDPI/screen.deviceXDPI,ee=screen.logicalYDPI/screen.deviceYDPI,Me={left:Me.left*xe,right:Me.right*xe,top:Me.top*ee,bottom:Me.bottom*ee}))}else 0<L&&(p=ee="right"),Me=n.options.lineWrapping&&1<(xe=c.getClientRects()).length?xe[ee=="right"?xe.length-1:0]:c.getBoundingClientRect();for(!(pr&&9>Mr)||L||Me&&(Me.left||Me.right)||(Me=(Me=c.parentNode.getClientRects()[0])?{left:Me.left,right:Me.left+bs(n.display),top:Me.top,bottom:Me.bottom}:gl),c=Me.top-l.rect.top,L=Me.bottom-l.rect.top,xe=(c+L)/2,ee=l.view.measure.heights,A=0;A<ee.length-1&&!(xe<ee[A]);A++);p={left:(p=="right"?Me.right:Me.left)-l.rect.left,right:(p=="left"?Me.left:Me.right)-l.rect.left,top:A?ee[A-1]:0,bottom:ee[A]},Me.left||Me.right||(p.bogus=!0),n.options.singleCursorHeightPerLine||(p.rtop=c,p.rbottom=L),n=p,n.bogus||(l.cache[b]=n)}return{left:n.left,right:n.right,top:v?n.rtop:n.top,bottom:v?n.rbottom:n.bottom}}function El(n,l,p){for(var c,v,b,A,L,B,j=0;j<n.length;j+=3)if(L=n[j],B=n[j+1],l<L?(v=0,b=1,A="left"):l<B?(v=l-L,b=v+1):(j==n.length-3||l==B&&n[j+3]>l)&&(b=B-L,v=b-1,l>=B&&(A="right")),v!=null){if(c=n[j+2],L==B&&p==(c.insertLeft?"left":"right")&&(A=p),p=="left"&&v==0)for(;j&&n[j-2]==n[j-3]&&n[j-1].insertLeft;)c=n[(j-=3)+2],A="left";if(p=="right"&&v==B-L)for(;j<n.length-3&&n[j+3]==n[j+4]&&!n[j+5].insertLeft;)c=n[(j+=3)+2],A="right";break}return{node:c,start:v,end:b,collapse:A,coverStart:L,coverEnd:B}}function vs(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var l=0;l<n.rest.length;l++)n.measure.caches[l]={}}function Uo(n){n.display.externalMeasure=null,u(n.display.lineMeasure);for(var l=0;l<n.display.view.length;l++)vs(n.display.view[l])}function _s(n){Uo(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function Bo(){return dn&&wo?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Tl(){return dn&&wo?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function xa(n){var l=0;if(n.widgets)for(var p=0;p<n.widgets.length;++p)n.widgets[p].above&&(l+=zn(n.widgets[p]));return l}function Fo(n,l,p,c,v){return v||(v=xa(l),p.top+=v,p.bottom+=v),c=="line"||(c||(c="local"),l=mi(l),l=c=="local"?l+n.display.lineSpace.offsetTop:l-n.display.viewOffset,(c=="page"||c=="window")&&(n=n.display.lineSpace.getBoundingClientRect(),l+=n.top+(c=="window"?0:Tl()),c=n.left+(c=="window"?0:Bo()),p.left+=c,p.right+=c),p.top+=l,p.bottom+=l),p}function xl(n,l,p){if(p=="div")return l;var c=l.left;return l=l.top,p=="page"?(c-=Bo(),l-=Tl()):p!="local"&&p||(p=n.display.sizer.getBoundingClientRect(),c+=p.left,l+=p.top),n=n.display.lineSpace.getBoundingClientRect(),{left:c-n.left,top:l-n.top}}function yi(n,l,p,c,v){c||(c=Je(n.doc,l.line));var b=c;return l=l.ch,c=Fi(n,En(n,c),l,v),Fo(n,b,c,p)}function Rr(n,l,p,c,v,b){function A(xe,Me){return xe=Fi(n,v,xe,Me?"right":"left",b),Me?xe.left=xe.right:xe.right=xe.left,Fo(n,c,xe,p)}function L(xe,Me,qe){return A(qe?xe-1:xe,B[Me].level==1!=qe)}c=c||Je(n.doc,l.line),v||(v=En(n,c));var B=Q(c,n.doc.direction),j=l.ch;if(l=l.sticky,j>=c.text.length?(j=c.text.length,l="before"):0>=j&&(j=0,l="after"),!B)return A(l=="before"?j-1:j,l=="before");var ee=we(B,j,l),be=us;return ee=L(j,ee,l=="before"),be!=null&&(ee.other=L(j,be,l!="before")),ee}function Zs(n,l){var p=0;return l=O(n.doc,l),n.options.lineWrapping||(p=bs(n.display)*l.ch),l=Je(n.doc,l.line),n=mi(l)+n.display.lineSpace.offsetTop,{left:p,right:p,top:n,bottom:n+l.height}}function Ca(n,l,p,c,v){return n=Ve(n,l,p),n.xRel=v,c&&(n.outside=c),n}function Ma(n,l,p){var c=n.doc;if(p+=n.display.viewOffset,0>p)return Ca(c.first,0,null,-1,-1);var v=Xr(c,p),b=c.first+c.size-1;if(v>b)return Ca(c.first+c.size-1,Je(c,b).text.length,null,1,1);0>l&&(l=0);for(var A=Je(c,v);;){b=gu(n,A,v,l,p);var L=void 0,B=b.ch+(0<b.xRel||0<b.outside?1:0);if(A=nn&&A.markedSpans)for(var j=0;j<A.length;++j){var ee=A[j];ee.marker.collapsed&&(ee.from==null||ee.from<B)&&(ee.to==null||ee.to>B)&&(!L||0>ds(L,ee.marker))&&(L=ee.marker)}if(!L||(b=L.find(1),b.line==v))return b;A=Je(c,v=b.line)}}function Aa(n,l,p,c){c-=xa(l),l=l.text.length;var v=z(function(b){return Fi(n,p,b-1).bottom<=c},l,0);return l=z(function(b){return Fi(n,p,b).top>c},v,l),{begin:v,end:l}}function ka(n,l,p,c){return p||(p=En(n,l)),c=Fo(n,l,Fi(n,p,c),"line").top,Aa(n,l,p,c)}function Ra(n,l,p,c){return n.bottom<=p?!1:n.top>p?!0:(c?n.left:n.right)>l}function gu(n,l,p,c,v){v-=mi(l);var b=En(n,l),A=xa(l),L=0,B=l.text.length,j=!0,ee=Q(l,n.doc.direction);ee&&(ee=(n.options.lineWrapping?vu:La)(n,l,p,b,ee,c,v),L=(j=ee.level!=1)?ee.from:ee.to-1,B=j?ee.to:ee.from-1);var be=null,xe=null;ee=z(function(qe){var xt=Fi(n,b,qe);return xt.top+=A,xt.bottom+=A,Ra(xt,c,v,!1)?(xt.top<=v&&xt.left<=c&&(be=qe,xe=xt),!0):!1},L,B);var Me=!1;return xe?(L=c-xe.left<xe.right-c,j=L==j,ee=be+(j?0:1),j=j?"after":"before",L=L?xe.left:xe.right):(j||ee!=B&&ee!=L||ee++,j=ee==0?"after":ee==l.text.length?"before":Fi(n,b,ee-(j?1:0)).bottom+A<=v==j?"after":"before",Me=Rr(n,Ve(p,ee,j),"line",l,b),L=Me.left,Me=v<Me.top?-1:v>=Me.bottom?1:0),ee=me(l.text,ee,1),Ca(p,ee,j,Me,c-L)}function La(n,l,p,c,v,b,A){var L=z(function(ee){ee=v[ee];var be=ee.level!=1;return Ra(Rr(n,Ve(p,be?ee.to:ee.from,be?"before":"after"),"line",l,c),b,A,!0)},0,v.length-1),B=v[L];if(0<L){var j=B.level!=1;j=Rr(n,Ve(p,j?B.from:B.to,j?"after":"before"),"line",l,c),Ra(j,b,A,!0)&&j.top>A&&(B=v[L-1])}return B}function vu(n,l,p,c,v,b,A){A=Aa(n,l,c,A),p=A.begin,A=A.end,/\s/.test(l.text.charAt(A-1))&&A--;for(var L=l=null,B=0;B<v.length;B++){var j=v[B];if(!(j.from>=A||j.to<=p)){var ee=Fi(n,c,j.level!=1?Math.min(A,j.to)-1:Math.max(p,j.from)).right;ee=ee<b?b-ee+1e9:ee-b,(!l||L>ee)&&(l=j,L=ee)}}return l||(l=v[v.length-1]),l.from<p&&(l={from:p,to:l.to,level:l.level}),l.to>A&&(l={from:l.from,to:A,level:l.level}),l}function ws(n){if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(mn==null){mn=g("pre",null,"CodeMirror-line-like");for(var l=0;49>l;++l)mn.appendChild(document.createTextNode("x")),mn.appendChild(g("br"));mn.appendChild(document.createTextNode("x"))}return f(n.measure,mn),l=mn.offsetHeight/50,3<l&&(n.cachedTextHeight=l),u(n.measure),l||1}function bs(n){if(n.cachedCharWidth!=null)return n.cachedCharWidth;var l=g("span","xxxxxxxxxx"),p=g("pre",[l],"CodeMirror-line-like");return f(n.measure,p),l=l.getBoundingClientRect(),l=(l.right-l.left)/10,2<l&&(n.cachedCharWidth=l),l||10}function Oa(n){for(var l=n.display,p={},c={},v=l.gutters.clientLeft,b=l.gutters.firstChild,A=0;b;b=b.nextSibling,++A){var L=n.display.gutterSpecs[A].className;p[L]=b.offsetLeft+b.clientLeft+v,c[L]=b.clientWidth}return{fixedPos:Ia(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:p,gutterWidth:c,wrapperWidth:l.wrapper.clientWidth}}function Ia(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function Cl(n){var l=ws(n.display),p=n.options.lineWrapping,c=p&&Math.max(5,n.display.scroller.clientWidth/bs(n.display)-3);return function(v){if(Hi(n.doc,v))return 0;var b=0;if(v.widgets)for(var A=0;A<v.widgets.length;A++)v.widgets[A].height&&(b+=v.widgets[A].height);return p?b+(Math.ceil(v.text.length/c)||1)*l:b+l}}function Na(n){var l=n.doc,p=Cl(n);l.iter(function(c){var v=p(c);v!=c.height&&Xt(c,v)})}function Vn(n,l,p,c){var v=n.display;if(!p&&(l.target||l.srcElement).getAttribute("cm-not-content")=="true")return null;p=v.lineSpace.getBoundingClientRect();try{var b=l.clientX-p.left,A=l.clientY-p.top}catch{return null}l=Ma(n,b,A);var L;return c&&0<l.xRel&&(L=Je(n.doc,l.line).text).length==l.ch&&(c=P(L,L.length,n.options.tabSize)-L.length,l=Ve(l.line,Math.max(0,Math.round((b-He(n.display).left)/bs(n.display))-c))),l}function Ti(n,l){if(l>=n.display.viewTo||(l-=n.display.viewFrom,0>l))return null;n=n.display.view;for(var p=0;p<n.length;p++)if(l-=n[p].size,0>l)return p}function ci(n,l,p,c){l==null&&(l=n.doc.first),p==null&&(p=n.doc.first+n.doc.size),c||(c=0);var v=n.display;if(c&&p<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>l)&&(v.updateLineNumbers=l),n.curOp.viewChanged=!0,l>=v.viewTo)nn&&Ks(n.doc,l)<v.viewTo&&Pi(n);else if(p<=v.viewFrom)nn&&Hs(n.doc,p+c)>v.viewFrom?Pi(n):(v.viewFrom+=c,v.viewTo+=c);else if(l<=v.viewFrom&&p>=v.viewTo)Pi(n);else if(l<=v.viewFrom){var b=Ss(n,p,p+c,1);b?(v.view=v.view.slice(b.index),v.viewFrom=b.lineN,v.viewTo+=c):Pi(n)}else if(p>=v.viewTo)(b=Ss(n,l,l,-1))?(v.view=v.view.slice(0,b.index),v.viewTo=b.lineN):Pi(n);else{b=Ss(n,l,l,-1);var A=Ss(n,p,p+c,1);b&&A?(v.view=v.view.slice(0,b.index).concat(Oi(n,b.lineN,A.lineN)).concat(v.view.slice(A.index)),v.viewTo+=c):Pi(n)}(n=v.externalMeasured)&&(p<n.lineN?n.lineN+=c:l<n.lineN+n.size&&(v.externalMeasured=null))}function Tn(n,l,p){n.curOp.viewChanged=!0;var c=n.display,v=n.display.externalMeasured;v&&l>=v.lineN&&l<v.lineN+v.size&&(c.externalMeasured=null),l<c.viewFrom||l>=c.viewTo||(n=c.view[Ti(n,l)],n.node!=null&&(n=n.changes||(n.changes=[]),$(n,p)==-1&&n.push(p)))}function Pi(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function Ss(n,l,p,c){var v=Ti(n,l),b=n.display.view;if(!nn||p==n.doc.first+n.doc.size)return{index:v,lineN:p};for(var A=n.display.viewFrom,L=0;L<v;L++)A+=b[L].size;if(A!=l){if(0<c){if(v==b.length-1)return null;l=A+b[v].size-l,v++}else l=A-l;p+=l}for(;Ks(n.doc,p)!=p;){if(v==(0>c?0:b.length-1))return null;p+=c*b[v-(0>c?1:0)].size,v+=c}return{index:v,lineN:p}}function $a(n){n=n.display.view;for(var l=0,p=0;p<n.length;p++){var c=n[p];c.hidden||c.node&&!c.changes||++l}return l}function Es(n){n.display.input.showSelection(n.display.input.prepareSelection())}function Ml(n,l){l===void 0&&(l=!0);var p=n.doc,c={},v=c.cursors=document.createDocumentFragment(),b=c.selection=document.createDocumentFragment(),A=n.options.$customCursor;A&&(l=!0);for(var L=0;L<p.sel.ranges.length;L++)if(l||L!=p.sel.primIndex){var B=p.sel.ranges[L];if(!(B.from().line>=n.display.viewTo||B.to().line<n.display.viewFrom)){var j=B.empty();if(A){var ee=A(n,B);ee&&eo(n,ee,v)}else(j||n.options.showCursorWhenSelecting)&&eo(n,B.head,v);j||xn(n,B,b)}}return c}function eo(n,l,p){var c=Rr(n,l,"div",null,null,!n.options.singleCursorHeightPerLine),v=p.appendChild(g("div"," ","CodeMirror-cursor"));v.style.left=c.left+"px",v.style.top=c.top+"px",v.style.height=Math.max(0,c.bottom-c.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)&&(l=yi(n,l,"div",null,null),l=l.right-l.left,v.style.width=(0<l?l:n.defaultCharWidth())+"px"),c.other&&(n=p.appendChild(g("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),n.style.display="",n.style.left=c.other.left+"px",n.style.top=c.other.top+"px",n.style.height=.85*(c.other.bottom-c.other.top)+"px")}function Ts(n,l){return n.top-l.top||n.left-l.left}function xn(n,l,p){function c(Me,qe,xt,Jt){0>qe&&(qe=0),qe=Math.round(qe),Jt=Math.round(Jt),L.appendChild(g("div",null,"CodeMirror-selected","position: absolute; left: "+Me+`px;
                             top: `+qe+"px; width: "+(xt??ee-Me)+`px;
                             height: `+(Jt-qe)+"px"))}function v(Me,qe,xt){function Jt(ar,Tr){return yi(n,Ve(Me,ar),"div",Nt,Tr)}function kr(ar,Tr,gr){return ar=ka(n,Nt,null,ar),Tr=Tr=="ltr"==(gr=="after")?"left":"right",gr=gr=="after"?ar.begin:ar.end-(/\s/.test(Nt.text.charAt(ar.end-1))?2:1),Jt(gr,Tr)[Tr]}var Nt=Je(A,Me),mr=Nt.text.length,_r,wr,yr=Q(Nt,A.direction);return pe(yr,qe||0,xt??mr,function(ar,Tr,gr,Sr){var ai=gr=="ltr",$r=Jt(ar,ai?"left":"right"),bi=Jt(Tr-1,ai?"right":"left"),Fn=qe==null&&ar==0,Pn=xt==null&&Tr==mr,Sl=Sr==0;Sr=!yr||Sr==yr.length-1,3>=bi.top-$r.top?(Tr=(be?Fn:Pn)&&Sl?j:(ai?$r:bi).left,c(Tr,$r.top,((be?Pn:Fn)&&Sr?ee:(ai?bi:$r).right)-Tr,$r.bottom)):(ai?(ai=be&&Fn&&Sl?j:$r.left,Fn=be?ee:kr(ar,gr,"before"),ar=be?j:kr(Tr,gr,"after"),Pn=be&&Pn&&Sr?ee:bi.right):(ai=be?kr(ar,gr,"before"):j,Fn=!be&&Fn&&Sl?ee:$r.right,ar=!be&&Pn&&Sr?j:bi.left,Pn=be?kr(Tr,gr,"after"):ee),c(ai,$r.top,Fn-ai,$r.bottom),$r.bottom<bi.top&&c(j,$r.bottom,null,bi.top),c(ar,bi.top,Pn-ar,bi.bottom)),(!_r||0>Ts($r,_r))&&(_r=$r),0>Ts(bi,_r)&&(_r=bi),(!wr||0>Ts($r,wr))&&(wr=$r),0>Ts(bi,wr)&&(wr=bi)}),{start:_r,end:wr}}var b=n.display,A=n.doc,L=document.createDocumentFragment(),B=He(n.display),j=B.left,ee=Math.max(b.sizerWidth,zt(n)-b.sizer.offsetLeft)-B.right,be=A.direction=="ltr";if(b=l.from(),l=l.to(),b.line==l.line)v(b.line,b.ch,l.ch);else{var xe=Je(A,b.line);B=Je(A,l.line),B=fi(xe)==fi(B),b=v(b.line,b.ch,B?xe.text.length+1:null).end,l=v(l.line,B?0:null,l.ch).start,B&&(b.top<l.top-2?(c(b.right,b.top,null,b.bottom),c(j,l.top,l.left,l.bottom)):c(b.right,b.top,l.left-b.right,b.bottom)),b.bottom<l.top&&c(j,b.bottom,null,l.top)}p.appendChild(L)}function xs(n){if(n.state.focused){var l=n.display;clearInterval(l.blinker);var p=!0;l.cursorDiv.style.visibility="",0<n.options.cursorBlinkRate?l.blinker=setInterval(function(){n.hasFocus()||Cs(n),l.cursorDiv.style.visibility=(p=!p)?"":"hidden"},n.options.cursorBlinkRate):0>n.options.cursorBlinkRate&&(l.cursorDiv.style.visibility="hidden")}}function Ua(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||Ba(n))}function Po(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&Cs(n))},100)}function Ba(n,l){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),n.options.readOnly!="nocursor"&&(n.state.focused||(G(n,"focus",n,l),n.state.focused=!0,M(n.display.wrapper,"CodeMirror-focused"),n.curOp||n.display.selForContextMenu==n.doc.sel||(n.display.input.reset(),oi&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),xs(n))}function Cs(n,l){n.state.delayingBlurEvent||(n.state.focused&&(G(n,"blur",n,l),n.state.focused=!1,en(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function Do(n){for(var l=n.display,p=l.lineDiv.offsetTop,c=Math.max(0,l.scroller.getBoundingClientRect().top),v=l.lineDiv.getBoundingClientRect().top,b=0,A=0;A<l.view.length;A++){var L=l.view[A],B=n.options.lineWrapping,j=0;if(!L.hidden){if(v+=L.line.height,pr&&8>Mr){B=L.node.offsetTop+L.node.offsetHeight;var ee=B-p;p=B}else{var be=L.node.getBoundingClientRect();ee=be.bottom-be.top,!B&&L.text.firstChild&&(j=L.text.firstChild.getBoundingClientRect().right-be.left-1)}if(B=L.line.height-ee,(.005<B||-.005>B)&&(v<c&&(b-=B),Xt(L.line,ee),Al(L.line),L.rest))for(ee=0;ee<L.rest.length;ee++)Al(L.rest[ee]);j>n.display.sizerWidth&&(j=Math.ceil(j/bs(n.display)),j>n.display.maxLineLength&&(n.display.maxLineLength=j,n.display.maxLine=L.line,n.display.maxLineChanged=!0))}}2<Math.abs(b)&&(l.scroller.scrollTop+=b)}function Al(n){if(n.widgets)for(var l=0;l<n.widgets.length;++l){var p=n.widgets[l],c=p.node.parentNode;c&&(p.height=c.offsetHeight)}}function Jo(n,l,p){var c=p&&p.top!=null?Math.max(0,p.top):n.scroller.scrollTop;c=Math.floor(c-n.lineSpace.offsetTop);var v=p&&p.bottom!=null?p.bottom:c+n.wrapper.clientHeight;if(c=Xr(l,c),v=Xr(l,v),p&&p.ensure){var b=p.ensure.from.line;p=p.ensure.to.line,b<c?(c=b,v=Xr(l,mi(Je(l,b))+n.wrapper.clientHeight)):Math.min(p,l.lastLine())>=v&&(c=Xr(l,mi(Je(l,p))-n.wrapper.clientHeight),v=p)}return{from:c,to:Math.max(v,c+1)}}function Fa(n,l){var p=n.display,c=ws(n.display);0>l.top&&(l.top=0);var v=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:p.scroller.scrollTop,b=nr(n),A={};l.bottom-l.top>b&&(l.bottom=l.top+b);var L=n.doc.height+ye(p),B=l.top<c;return c=l.bottom>L-c,l.top<v?A.scrollTop=B?0:l.top:l.bottom>v+b&&(b=Math.min(l.top,(c?L:l.bottom)-b),b!=v&&(A.scrollTop=b)),v=n.options.fixedGutter?0:p.gutters.offsetWidth,b=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:p.scroller.scrollLeft-v,n=zt(n)-p.gutters.offsetWidth,(p=l.right-l.left>n)&&(l.right=l.left+n),10>l.left?A.scrollLeft=0:l.left<b?A.scrollLeft=Math.max(0,l.left+v-(p?0:10)):l.right>n+b-3&&(A.scrollLeft=l.right+(p?0:10)-n),A}function jo(n,l){l!=null&&(Go(n),n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+l)}function Di(n){Go(n);var l=n.getCursor();n.curOp.scrollToPos={from:l,to:l,margin:n.options.cursorScrollMargin}}function to(n,l,p){l==null&&p==null||Go(n),l!=null&&(n.curOp.scrollLeft=l),p!=null&&(n.curOp.scrollTop=p)}function Go(n){var l=n.curOp.scrollToPos;if(l){n.curOp.scrollToPos=null;var p=Zs(n,l.from),c=Zs(n,l.to);Ms(n,p,c,l.margin)}}function Ms(n,l,p,c){l=Fa(n,{left:Math.min(l.left,p.left),top:Math.min(l.top,p.top)-c,right:Math.max(l.right,p.right),bottom:Math.max(l.bottom,p.bottom)+c}),to(n,l.scrollLeft,l.scrollTop)}function ro(n,l){2>Math.abs(n.doc.scrollTop-l)||(pn||Ii(n,{top:l}),Kn(n,l,!0),pn&&Ii(n),As(n,100))}function Kn(n,l,p){l=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,l)),(n.display.scroller.scrollTop!=l||p)&&(n.doc.scrollTop=l,n.display.scrollbars.setScrollTop(l),n.display.scroller.scrollTop!=l&&(n.display.scroller.scrollTop=l))}function Cn(n,l,p,c){l=Math.max(0,Math.min(l,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),(p?l==n.doc.scrollLeft:2>Math.abs(n.doc.scrollLeft-l))&&!c||(n.doc.scrollLeft=l,Vo(n),n.display.scroller.scrollLeft!=l&&(n.display.scroller.scrollLeft=l),n.display.scrollbars.setScrollLeft(l))}function Yi(n){var l=n.display,p=l.gutters.offsetWidth,c=Math.round(n.doc.height+ye(n.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:n.options.fixedGutter?p:0,docHeight:c,scrollHeight:c+mt(n)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:p}}function Hn(n,l){l||(l=Yi(n));var p=n.display.barWidth,c=n.display.barHeight;for(Mn(n,l),l=0;4>l&&p!=n.display.barWidth||c!=n.display.barHeight;l++)p!=n.display.barWidth&&n.options.lineWrapping&&Do(n),Mn(n,Yi(n)),p=n.display.barWidth,c=n.display.barHeight}function Mn(n,l){var p=n.display,c=p.scrollbars.update(l);p.sizer.style.paddingRight=(p.barWidth=c.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=c.bottom)+"px",p.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=c.bottom+"px",p.scrollbarFiller.style.width=c.right+"px"):p.scrollbarFiller.style.display="",c.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=c.bottom+"px",p.gutterFiller.style.width=l.gutterWidth+"px"):p.gutterFiller.style.display=""}function Wo(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&en(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new vl[n.options.scrollbarStyle](function(l){n.display.wrapper.insertBefore(l,n.display.scrollbarFiller),Gt(l,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,p){p=="horizontal"?Cn(n,l):ro(n,l)},n),n.display.scrollbars.addClass&&M(n.display.wrapper,n.display.scrollbars.addClass)}function Qn(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ya,markArrays:null},n=n.curOp,In?In.ops.push(n):n.ownsGroup=In={ops:[n],delayedCallbacks:[]}}function Yn(n){(n=n.curOp)&&No(n,function(l){for(var p=0;p<l.ops.length;p++)l.ops[p].cm.curOp=null;for(l=l.ops,p=0;p<l.length;p++){var c=l[p],v=c.cm,b=v.display,A=v.display;!A.scrollbarsClipped&&A.scroller.offsetWidth&&(A.nativeBarWidth=A.scroller.offsetWidth-A.scroller.clientWidth,A.heightForcer.style.height=mt(v)+"px",A.sizer.style.marginBottom=-A.nativeBarWidth+"px",A.sizer.style.borderRightWidth=mt(v)+"px",A.scrollbarsClipped=!0),c.updateMaxLine&&xr(v),c.mustUpdate=c.viewChanged||c.forceUpdate||c.scrollTop!=null||c.scrollToPos&&(c.scrollToPos.from.line<b.viewFrom||c.scrollToPos.to.line>=b.viewTo)||b.maxLineChanged&&v.options.lineWrapping,c.update=c.mustUpdate&&new $i(v,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate)}for(p=0;p<l.length;p++)c=l[p],c.updatedDisplay=c.mustUpdate&&zo(c.cm,c.update);for(p=0;p<l.length;p++)c=l[p],v=c.cm,b=v.display,c.updatedDisplay&&Do(v),c.barMeasure=Yi(v),b.maxLineChanged&&!v.options.lineWrapping&&(A=b.maxLine.text.length,A=Fi(v,En(v,b.maxLine),A,void 0),c.adjustWidthTo=A.left+3,v.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(b.scroller.clientWidth,b.sizer.offsetLeft+c.adjustWidthTo+mt(v)+v.display.barWidth),c.maxScrollLeft=Math.max(0,b.sizer.offsetLeft+c.adjustWidthTo-zt(v))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=b.input.prepareSelection());for(p=0;p<l.length;p++)c=l[p],v=c.cm,c.adjustWidthTo!=null&&(v.display.sizer.style.minWidth=c.adjustWidthTo+"px",c.maxScrollLeft<v.doc.scrollLeft&&Cn(v,Math.min(v.display.scroller.scrollLeft,c.maxScrollLeft),!0),v.display.maxLineChanged=!1),b=c.focus&&c.focus==S(),c.preparedSelection&&v.display.input.showSelection(c.preparedSelection,b),(c.updatedDisplay||c.startHeight!=v.doc.height)&&Hn(v,c.barMeasure),c.updatedDisplay&&un(v,c.barMeasure),c.selectionChanged&&xs(v),v.state.focused&&c.updateInput&&v.display.input.reset(c.typing),b&&Ua(c.cm);for(p=0;p<l.length;p++){var L=void 0;if(c=l[p],v=c.cm,b=v.display,A=v.doc,c.updatedDisplay&&kl(v,c.update),b.wheelStartX==null||c.scrollTop==null&&c.scrollLeft==null&&!c.scrollToPos||(b.wheelStartX=b.wheelStartY=null),c.scrollTop!=null&&Kn(v,c.scrollTop,c.forceScroll),c.scrollLeft!=null&&Cn(v,c.scrollLeft,!0,!0),c.scrollToPos){var B=O(A,c.scrollToPos.from),j=O(A,c.scrollToPos.to),ee=c.scrollToPos.margin;ee==null&&(ee=0),v.options.lineWrapping||B!=j||(j=B.sticky=="before"?Ve(B.line,B.ch+1,"before"):B,B=B.ch?Ve(B.line,B.sticky=="before"?B.ch-1:B.ch,"after"):B);for(var be=0;5>be;be++){var xe=!1;L=Rr(v,B);var Me=j&&j!=B?Rr(v,j):L;L={left:Math.min(L.left,Me.left),top:Math.min(L.top,Me.top)-ee,right:Math.max(L.left,Me.left),bottom:Math.max(L.bottom,Me.bottom)+ee},Me=Fa(v,L);var qe=v.doc.scrollTop,xt=v.doc.scrollLeft;if(Me.scrollTop!=null&&(ro(v,Me.scrollTop),1<Math.abs(v.doc.scrollTop-qe)&&(xe=!0)),Me.scrollLeft!=null&&(Cn(v,Me.scrollLeft),1<Math.abs(v.doc.scrollLeft-xt)&&(xe=!0)),!xe)break}j=L,q(v,"scrollCursorIntoView")||(ee=v.display,be=ee.sizer.getBoundingClientRect(),B=null,0>j.top+be.top?B=!0:j.bottom+be.top>(window.innerHeight||document.documentElement.clientHeight)&&(B=!1),B==null||fl||(j=g("div","​",null,`position: absolute;
                         top: `+(j.top-ee.viewOffset-v.display.lineSpace.offsetTop)+`px;
                         height: `+(j.bottom-j.top+mt(v)+ee.barHeight)+`px;
                         left: `+j.left+"px; width: "+Math.max(2,j.right-j.left)+"px;"),v.display.lineSpace.appendChild(j),j.scrollIntoView(B),v.display.lineSpace.removeChild(j)))}if(j=c.maybeHiddenMarkers,B=c.maybeUnhiddenMarkers,j)for(ee=0;ee<j.length;++ee)j[ee].lines.length||G(j[ee],"hide");if(B)for(j=0;j<B.length;++j)B[j].lines.length&&G(B[j],"unhide");b.wrapper.offsetHeight&&(A.scrollTop=v.display.scroller.scrollTop),c.changeObjs&&G(v,"changes",v,c.changeObjs),c.update&&c.update.finish()}})}function gi(n,l){if(n.curOp)return l();Qn(n);try{return l()}finally{Yn(n)}}function Dr(n,l){return function(){if(n.curOp)return l.apply(n,arguments);Qn(n);try{return l.apply(n,arguments)}finally{Yn(n)}}}function ni(n){return function(){if(this.curOp)return n.apply(this,arguments);Qn(this);try{return n.apply(this,arguments)}finally{Yn(this)}}}function Wr(n){return function(){var l=this.cm;if(!l||l.curOp)return n.apply(this,arguments);Qn(l);try{return n.apply(this,arguments)}finally{Yn(l)}}}function As(n,l){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(l,T(Lr,n))}function Lr(n){var l=n.doc;if(!(l.highlightFrontier>=n.display.viewTo)){var p=+new Date+n.options.workTime,c=We(n,l.highlightFrontier),v=[];l.iter(c.line,Math.min(l.first+l.size,n.display.viewTo+500),function(b){if(c.line>=n.display.viewFrom){var A=b.styles,L=b.text.length>n.options.maxHighlightLength?he(l.mode,c.state):null,B=ce(n,b,c,!0);for(L&&(c.state=L),b.styles=B.styles,L=b.styleClasses,(B=B.classes)?b.styleClasses=B:L&&(b.styleClasses=null),B=!A||A.length!=b.styles.length||L!=B&&(!L||!B||L.bgClass!=B.bgClass||L.textClass!=B.textClass),L=0;!B&&L<A.length;++L)B=A[L]!=b.styles[L];B&&v.push(c.line),b.stateAfter=c.save()}else b.text.length<=n.options.maxHighlightLength&&rt(n,b.text,c),b.stateAfter=c.line%5==0?c.save():null;if(c.nextLine(),+new Date>p)return As(n,n.options.workDelay),!0}),l.highlightFrontier=c.line,l.modeFrontier=Math.max(l.modeFrontier,c.line),v.length&&gi(n,function(){for(var b=0;b<v.length;b++)Tn(n,v[b],"text")})}}function zo(n,l){var p=n.display,c=n.doc;if(l.editorIsHidden)return Pi(n),!1;if(!l.force&&l.visible.from>=p.viewFrom&&l.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&$a(n)==0)return!1;no(n)&&(Pi(n),l.dims=Oa(n));var v=c.first+c.size,b=Math.max(l.visible.from-n.options.viewportMargin,c.first),A=Math.min(v,l.visible.to+n.options.viewportMargin);return p.viewFrom<b&&20>b-p.viewFrom&&(b=Math.max(c.first,p.viewFrom)),p.viewTo>A&&20>p.viewTo-A&&(A=Math.min(v,p.viewTo)),nn&&(b=Ks(n.doc,b),A=Hs(n.doc,A)),c=b!=p.viewFrom||A!=p.viewTo||p.lastWrapHeight!=l.wrapperHeight||p.lastWrapWidth!=l.wrapperWidth,v=n.display,v.view.length==0||b>=v.viewTo||A<=v.viewFrom?(v.view=Oi(n,b,A),v.viewFrom=b):(v.viewFrom>b?v.view=Oi(n,b,v.viewFrom).concat(v.view):v.viewFrom<b&&(v.view=v.view.slice(Ti(n,b))),v.viewFrom=b,v.viewTo<A?v.view=v.view.concat(Oi(n,v.viewTo,A)):v.viewTo>A&&(v.view=v.view.slice(0,Ti(n,A)))),v.viewTo=A,p.viewOffset=mi(Je(n.doc,p.viewFrom)),n.display.mover.style.top=p.viewOffset+"px",A=$a(n),!c&&A==0&&!l.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)?!1:(n.hasFocus()?b=null:(b=S())&&w(n.display.lineDiv,b)?(b={activeElt:b},window.getSelection&&(v=window.getSelection(),v.anchorNode&&v.extend&&w(n.display.lineDiv,v.anchorNode)&&(b.anchorNode=v.anchorNode,b.anchorOffset=v.anchorOffset,b.focusNode=v.focusNode,b.focusOffset=v.focusOffset))):b=null,4<A&&(p.lineDiv.style.display="none"),Pa(n,p.updateLineNumbers,l.dims),4<A&&(p.lineDiv.style.display=""),p.renderedView=p.view,(A=b)&&A.activeElt&&A.activeElt!=S()&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&w(document.body,A.anchorNode)&&w(document.body,A.focusNode)&&(b=window.getSelection(),v=document.createRange(),v.setEnd(A.anchorNode,A.anchorOffset),v.collapse(!1),b.removeAllRanges(),b.addRange(v),b.extend(A.focusNode,A.focusOffset))),u(p.cursorDiv),u(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,c&&(p.lastWrapHeight=l.wrapperHeight,p.lastWrapWidth=l.wrapperWidth,As(n,400)),p.updateLineNumbers=null,!0)}function kl(n,l){for(var p=l.viewport,c=!0;;c=!1){if(c&&n.options.lineWrapping&&l.oldDisplayWidth!=zt(n))c&&(l.visible=Jo(n.display,n.doc,p));else if(p&&p.top!=null&&(p={top:Math.min(n.doc.height+ye(n.display)-nr(n),p.top)}),l.visible=Jo(n.display,n.doc,p),l.visible.from>=n.display.viewFrom&&l.visible.to<=n.display.viewTo)break;if(!zo(n,l))break;Do(n),c=Yi(n),Es(n),Hn(n,c),un(n,c),l.force=!1}l.signal(n,"update",n),(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)&&(l.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function Ii(n,l){if(l=new $i(n,l),zo(n,l)){Do(n),kl(n,l);var p=Yi(n);Es(n),Hn(n,p),un(n,p),l.finish()}}function Pa(n,l,p){function c(xe){var Me=xe.nextSibling;return oi&&Ni&&n.display.currentWheelTarget==xe?xe.style.display="none":xe.parentNode.removeChild(xe),Me}var v=n.display,b=n.options.lineNumbers,A=v.lineDiv,L=A.firstChild,B=v.view;v=v.viewFrom;for(var j=0;j<B.length;j++){var ee=B[j];if(!ee.hidden)if(ee.node&&ee.node.parentNode==A){for(;L!=ee.node;)L=c(L);L=b&&l!=null&&l<=v&&ee.lineNumber,ee.changes&&(-1<$(ee.changes,"gutter")&&(L=!1),Xs(n,ee,v,p)),L&&(u(ee.lineNumber),ee.lineNumber.appendChild(document.createTextNode(ki(n.options,v)))),L=ee.node.nextSibling}else{var be=Ta(n,ee,v,p);A.insertBefore(be,L)}v+=ee.size}for(;L;)L=c(L)}function ks(n){n.sizer.style.marginLeft=n.gutters.offsetWidth+"px",er(n,"gutterChanged",n)}function un(n,l){n.display.sizer.style.minHeight=l.docHeight+"px",n.display.heightForcer.style.top=l.docHeight+"px",n.display.gutters.style.height=l.docHeight+n.display.barHeight+mt(n)+"px"}function Vo(n){var l=n.display,p=l.view;if(l.alignWidgets||l.gutters.firstChild&&n.options.fixedGutter){for(var c=Ia(l)-l.scroller.scrollLeft+n.doc.scrollLeft,v=l.gutters.offsetWidth,b=c+"px",A=0;A<p.length;A++)if(!p[A].hidden){n.options.fixedGutter&&(p[A].gutter&&(p[A].gutter.style.left=b),p[A].gutterBackground&&(p[A].gutterBackground.style.left=b));var L=p[A].alignable;if(L)for(var B=0;B<L.length;B++)L[B].style.left=b}n.options.fixedGutter&&(l.gutters.style.left=c+v+"px")}}function no(n){if(!n.options.lineNumbers)return!1;var l=n.doc;l=ki(n.options,l.first+l.size-1);var p=n.display;if(l.length!=p.lineNumChars){var c=p.measure.appendChild(g("div",[g("div",l)],"CodeMirror-linenumber CodeMirror-gutter-elt")),v=c.firstChild.offsetWidth;return c=c.offsetWidth-v,p.lineGutter.style.width="",p.lineNumInnerWidth=Math.max(v,p.lineGutter.offsetWidth-c)+1,p.lineNumWidth=p.lineNumInnerWidth+c,p.lineNumChars=p.lineNumInnerWidth?l.length:-1,p.lineGutter.style.width=p.lineNumWidth+"px",ks(n.display),!0}return!1}function qn(n,l){for(var p=[],c=!1,v=0;v<n.length;v++){var b=n[v],A=null;if(typeof b!="string"&&(A=b.style,b=b.className),b=="CodeMirror-linenumbers")if(l)c=!0;else continue;p.push({className:b,style:A})}return l&&!c&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function so(n){var l=n.gutters,p=n.gutterSpecs;u(l),n.lineGutter=null;for(var c=0;c<p.length;++c){var v=p[c],b=v.className;v=v.style;var A=l.appendChild(g("div",null,"CodeMirror-gutter "+b));v&&(A.style.cssText=v),b=="CodeMirror-linenumbers"&&(n.lineGutter=A,A.style.width=(n.lineNumWidth||1)+"px")}l.style.display=p.length?"":"none",ks(n)}function Rs(n){so(n.display),ci(n),Vo(n)}function Da(n,l,p,c){this.input=p,this.scrollbarFiller=g("div",null,"CodeMirror-scrollbar-filler"),this.scrollbarFiller.setAttribute("cm-not-content","true"),this.gutterFiller=g("div",null,"CodeMirror-gutter-filler"),this.gutterFiller.setAttribute("cm-not-content","true"),this.lineDiv=_("div",null,"CodeMirror-code"),this.selectionDiv=g("div",null,null,"position: relative; z-index: 1"),this.cursorDiv=g("div",null,"CodeMirror-cursors"),this.measure=g("div",null,"CodeMirror-measure"),this.lineMeasure=g("div",null,"CodeMirror-measure"),this.lineSpace=_("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var v=_("div",[this.lineSpace],"CodeMirror-lines");this.mover=g("div",[v],null,"position: relative"),this.sizer=g("div",[this.mover],"CodeMirror-sizer"),this.sizerWidth=null,this.heightForcer=g("div",null,null,"position: absolute; height: 50px; width: 1px;"),this.gutters=g("div",null,"CodeMirror-gutters"),this.lineGutter=null,this.scroller=g("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll"),this.scroller.setAttribute("tabIndex","-1"),this.wrapper=g("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror"),this.wrapper.setAttribute("translate","no"),pr&&8>Mr&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0),oi||pn&&bo||(this.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(this.wrapper):n(this.wrapper)),this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=l.first,this.view=[],this.externalMeasured=this.renderedView=null,this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0,this.updateLineNumbers=null,this.nativeBarWidth=this.barHeight=this.barWidth=0,this.scrollbarsClipped=!1,this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null,this.alignWidgets=!1,this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null,this.maxLineLength=0,this.maxLineChanged=!1,this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null,this.shift=!1,this.activeTouch=this.selForContextMenu=null,this.gutterSpecs=qn(c.gutters,c.lineNumbers),so(this),p.init(this)}function Ja(n){var l=n.wheelDeltaX,p=n.wheelDeltaY;return l==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(l=n.detail),p==null&&n.detail&&n.axis==n.VERTICAL_AXIS?p=n.detail:p==null&&(p=n.wheelDelta),{x:l,y:p}}function _u(n){return n=Ja(n),n.x*=di,n.y*=di,n}function Rl(n,l){var p=Ja(l),c=p.x;p=p.y;var v=di;l.deltaMode===0&&(c=l.deltaX,p=l.deltaY,v=1);var b=n.display,A=b.scroller,L=A.scrollWidth>A.clientWidth,B=A.scrollHeight>A.clientHeight;if(c&&L||p&&B){if(p&&Ni&&oi){L=l.target;var j=b.view;e:for(;L!=A;L=L.parentNode)for(var ee=0;ee<j.length;ee++)if(j[ee].node==L){n.display.currentWheelTarget=L;break e}}!c||pn||Gi||v==null?(p&&v!=null&&(v*=p,B=n.doc.scrollTop,L=B+b.wrapper.clientHeight,0>v?B=Math.max(0,B+v-50):L=Math.min(n.doc.height,L+v+50),Ii(n,{top:B,bottom:L})),20>Nn&&l.deltaMode!==0&&(b.wheelStartX==null?(b.wheelStartX=A.scrollLeft,b.wheelStartY=A.scrollTop,b.wheelDX=c,b.wheelDY=p,setTimeout(function(){if(b.wheelStartX!=null){var be=A.scrollLeft-b.wheelStartX,xe=A.scrollTop-b.wheelStartY;be=xe&&b.wheelDY&&xe/b.wheelDY||be&&b.wheelDX&&be/b.wheelDX,b.wheelStartX=b.wheelStartY=null,be&&(di=(di*Nn+be)/(Nn+1),++Nn)}},200)):(b.wheelDX+=c,b.wheelDY+=p))):(p&&B&&ro(n,Math.max(0,A.scrollTop+p*v)),Cn(n,Math.max(0,A.scrollLeft+c*v)),(!p||p&&B)&&ft(l),b.wheelStartX=null)}}function Ji(n,l,p){n=n&&n.options.selectionsMayTouch,p=l[p],l.sort(function(B,j){return V(B.from(),j.from())}),p=$(l,p);for(var c=1;c<l.length;c++){var v=l[c],b=l[c-1],A=V(b.to(),v.from());if(n&&!v.empty()?0<A:0<=A){A=K(b.from(),v.from());var L=ii(b.to(),v.to());v=b.empty()?v.from()==v.head:b.from()==b.head,c<=p&&--p,l.splice(--c,2,new ur(v?L:A,v?A:L))}}return new ti(l,p)}function fn(n,l){return new ti([new ur(n,l||n)],0)}function qi(n){return n.text?Ve(n.from.line+n.text.length-1,F(n.text).length+(n.text.length==1?n.from.ch:0)):n.to}function oo(n,l){if(0>V(n,l.from))return n;if(0>=V(n,l.to))return qi(l);var p=n.line+l.text.length-(l.to.line-l.from.line)-1,c=n.ch;return n.line==l.to.line&&(c+=qi(l).ch-l.to.ch),Ve(p,c)}function ao(n,l){for(var p=[],c=0;c<n.sel.ranges.length;c++){var v=n.sel.ranges[c];p.push(new ur(oo(v.anchor,l),oo(v.head,l)))}return Ji(n.cm,p,n.sel.primIndex)}function Ko(n,l,p){return n.line==l.line?Ve(p.line,n.ch-l.ch+p.ch):Ve(p.line+(n.line-l.line),n.ch)}function An(n){n.doc.mode=At(n.options,n.doc.modeOption),Xn(n)}function Xn(n){n.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,As(n,100),n.state.modeGen++,n.curOp&&ci(n)}function Ho(n,l){return l.from.ch==0&&l.to.ch==0&&F(l.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function lo(n,l,p,c){function v(qe,xt,Jt){qe.text=xt,qe.stateAfter&&(qe.stateAfter=null),qe.styles&&(qe.styles=null),qe.order!=null&&(qe.order=null),Ki(qe),ei(qe,Jt),xt=c?c(qe):1,xt!=qe.height&&Xt(qe,xt),er(qe,"change",qe,l)}function b(qe,xt){for(var Jt=[];qe<xt;++qe)Jt.push(new On(B[qe],p?p[qe]:null,c));return Jt}var A=l.from,L=l.to,B=l.text,j=Je(n,A.line),ee=Je(n,L.line),be=F(B),xe=p?p[B.length-1]:null,Me=L.line-A.line;l.full?(n.insert(0,b(0,B.length)),n.remove(B.length,n.size-B.length)):Ho(n,l)?(L=b(0,B.length-1),v(ee,ee.text,xe),Me&&n.remove(A.line,Me),L.length&&n.insert(A.line,L)):j==ee?B.length==1?v(j,j.text.slice(0,A.ch)+be+j.text.slice(L.ch),xe):(Me=b(1,B.length-1),Me.push(new On(be+j.text.slice(L.ch),xe,c)),v(j,j.text.slice(0,A.ch)+B[0],p?p[0]:null),n.insert(A.line+1,Me)):B.length==1?(v(j,j.text.slice(0,A.ch)+B[0]+ee.text.slice(L.ch),p?p[0]:null),n.remove(A.line+1,Me)):(v(j,j.text.slice(0,A.ch)+B[0],p?p[0]:null),v(ee,be+ee.text.slice(L.ch),xe),xe=b(1,B.length-1),1<Me&&n.remove(A.line+1,Me-1),n.insert(A.line+1,xe)),er(n,"change",n,l)}function Xi(n,l,p){function c(v,b,A){if(v.linked)for(var L=0;L<v.linked.length;++L){var B=v.linked[L];if(B.doc!=b){var j=A&&B.sharedHist;(!p||j)&&(l(B.doc,j),c(B.doc,v,j))}}}c(n,null,!0)}function ja(n,l){if(l.cm)throw Error("This document is already in use.");n.doc=l,l.cm=n,Na(n),An(n),Ga(n),n.options.direction=l.direction,n.options.lineWrapping||xr(n),n.options.mode=l.modeOption,ci(n)}function Ga(n){(n.doc.direction=="rtl"?M:en)(n.display.lineDiv,"CodeMirror-rtl")}function Ll(n){gi(n,function(){Ga(n),ci(n)})}function uo(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function Qo(n,l){var p={from:Ir(l.from),to:qi(l),text:Bt(n,l.from,l.to)};return Zn(n,p,l.from.line,l.to.line+1),Xi(n,function(c){return Zn(c,p,l.from.line,l.to.line+1)},!0),p}function Wa(n){for(;n.length&&F(n).ranges;)n.pop()}function za(n,l,p,c){var v=n.history;v.undone.length=0;var b=+new Date,A;if(A=v.lastOp==c||v.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&v.lastModTime>b-(n.cm?n.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*")){if(v.lastOp==c){Wa(v.done);var L=F(v.done)}else v.done.length&&!F(v.done).ranges?L=F(v.done):1<v.done.length&&!v.done[v.done.length-2].ranges?(v.done.pop(),L=F(v.done)):L=void 0;A=L}if(A){var B=F(L.changes);V(l.from,l.to)==0&&V(l.from,B.to)==0?B.to=qi(l):L.changes.push(Qo(n,l))}else for((L=F(v.done))&&L.ranges||fo(n.sel,v.done),L={changes:[Qo(n,l)],generation:v.generation},v.done.push(L);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift();v.done.push(p),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=b,v.lastOp=v.lastSelOp=c,v.lastOrigin=v.lastSelOrigin=l.origin,B||G(n,"historyAdded")}function fo(n,l){var p=F(l);p&&p.ranges&&p.equals(n)||l.push(n)}function Zn(n,l,p,c){var v=l["spans_"+n.id],b=0;n.iter(Math.max(n.first,p),Math.min(n.first+n.size,c),function(A){A.markedSpans&&((v||(v=l["spans_"+n.id]={}))[b]=A.markedSpans),++b})}function Yo(n,l){var p;if(p=l["spans_"+n.id]){for(var c=[],v=0;v<l.text.length;++v){var b=c,A=b.push,L=void 0,B=p[v];if(B){for(var j=0;j<B.length;++j)B[j].marker.explicitlyCleared?L||(L=B.slice(0,j)):L&&L.push(B[j]);L=L?L.length?L:null:B}else L=null;A.call(b,L)}p=c}else p=null;if(n=Ei(n,l),!p)return n;if(!n)return p;for(l=0;l<p.length;++l)if(c=p[l],v=n[l],c&&v)e:for(b=0;b<v.length;++b){for(A=v[b],L=0;L<c.length;++L)if(c[L].marker==A.marker)continue e;c.push(A)}else v&&(p[l]=v);return p}function kn(n,l,p){for(var c=[],v=0;v<n.length;++v){var b=n[v];if(b.ranges)c.push(p?ti.prototype.deepCopy.call(b):b);else{b=b.changes;var A=[];c.push({changes:A});for(var L=0;L<b.length;++L){var B=b[L],j;if(A.push({from:B.from,to:B.to,text:B.text}),l)for(var ee in B)(j=ee.match(/^spans_(\d+)$/))&&-1<$(l,Number(j[1]))&&(F(A)[ee]=B[ee],delete B[ee])}}}return c}function es(n,l,p,c){return c?(n=n.anchor,p&&(c=0>V(l,n),c!=0>V(p,n)?(n=l,l=p):c!=0>V(l,p)&&(l=p)),new ur(n,l)):new ur(p||l,l)}function qo(n,l,p,c,v){v==null&&(v=n.cm&&(n.cm.display.shift||n.extend)),Qr(n,new ti([es(n.sel.primary(),l,p,v)],0),c)}function Ol(n,l,p){for(var c=[],v=n.cm&&(n.cm.display.shift||n.extend),b=0;b<n.sel.ranges.length;b++)c[b]=es(n.sel.ranges[b],l[b],null,v);l=Ji(n.cm,c,n.sel.primIndex),Qr(n,l,p)}function Va(n,l,p,c){var v=n.sel.ranges.slice(0);v[l]=p,Qr(n,Ji(n.cm,v,n.sel.primIndex),c)}function Ka(n,l,p){return p={ranges:l.ranges,update:function(c){this.ranges=[];for(var v=0;v<c.length;v++)this.ranges[v]=new ur(O(n,c[v].anchor),O(n,c[v].head))},origin:p&&p.origin},G(n,"beforeSelectionChange",n,p),n.cm&&G(n.cm,"beforeSelectionChange",n.cm,p),p.ranges!=l.ranges?Ji(n.cm,p.ranges,p.ranges.length-1):l}function Il(n,l,p){var c=n.history.done,v=F(c);v&&v.ranges?(c[c.length-1]=l,Xo(n,l,p)):Qr(n,l,p)}function Qr(n,l,p){Xo(n,l,p),l=n.sel;var c=n.cm?n.cm.curOp.id:NaN,v=n.history,b=p&&p.origin,A;if(!(A=c==v.lastSelOp)&&(A=b&&v.lastSelOrigin==b)&&!(A=v.lastModTime==v.lastSelTime&&v.lastOrigin==b)){A=F(v.done);var L=b.charAt(0);A=L=="*"||L=="+"&&A.ranges.length==l.ranges.length&&A.somethingSelected()==l.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}A?v.done[v.done.length-1]=l:fo(l,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=b,v.lastSelOp=c,p&&p.clearRedo!==!1&&Wa(v.undone)}function Xo(n,l,p){(De(n,"beforeSelectionChange")||n.cm&&De(n.cm,"beforeSelectionChange"))&&(l=Ka(n,l,p));var c=p&&p.bias||(0>V(l.primary().head,n.sel.primary().head)?-1:1);Zo(n,ea(n,l,c,!0)),p&&p.scroll===!1||!n.cm||n.cm.getOption("readOnly")=="nocursor"||Di(n.cm)}function Zo(n,l){l.equals(n.sel)||(n.sel=l,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,Te(n.cm)),er(n,"cursorActivity",n))}function Nl(n){Zo(n,ea(n,n.sel,null,!1))}function ea(n,l,p,c){for(var v,b=0;b<l.ranges.length;b++){var A=l.ranges[b],L=l.ranges.length==n.sel.ranges.length&&n.sel.ranges[b],B=co(n,A.anchor,L&&L.anchor,p,c);L=co(n,A.head,L&&L.head,p,c),(v||B!=A.anchor||L!=A.head)&&(v||(v=l.ranges.slice(0,b)),v[b]=new ur(B,L))}return v?Ji(n.cm,v,l.primIndex):l}function ts(n,l,p,c,v){var b=Je(n,l.line);if(b.markedSpans)for(var A=0;A<b.markedSpans.length;++A){var L=b.markedSpans[A],B=L.marker,j="selectLeft"in B?!B.selectLeft:B.inclusiveLeft,ee="selectRight"in B?!B.selectRight:B.inclusiveRight;if((L.from==null||(j?L.from<=l.ch:L.from<l.ch))&&(L.to==null||(ee?L.to>=l.ch:L.to>l.ch))){if(v&&(G(B,"beforeCursorEnter"),B.explicitlyCleared))if(b.markedSpans){--A;continue}else break;if(B.atomic)return p&&(A=B.find(0>c?1:-1),L=void 0,(0>c?ee:j)&&(A=ta(n,A,-c,A&&A.line==l.line?b:null)),A&&A.line==l.line&&(L=V(A,p))&&(0>c?0>L:0<L))?ts(n,A,l,c,v):(p=B.find(0>c?-1:1),(0>c?j:ee)&&(p=ta(n,p,c,p.line==l.line?b:null)),p?ts(n,p,l,c,v):null)}}return l}function co(n,l,p,c,v){return c=c||1,l=ts(n,l,p,c,v)||!v&&ts(n,l,p,c,!0)||ts(n,l,p,-c,v)||!v&&ts(n,l,p,-c,!0),l||(n.cantEdit=!0,Ve(n.first,0))}function ta(n,l,p,c){return 0>p&&l.ch==0?l.line>n.first?O(n,Ve(l.line-1)):null:0<p&&l.ch==(c||Je(n,l.line)).text.length?l.line<n.first+n.size-1?Ve(l.line+1,0):null:new Ve(l.line,l.ch+p)}function $l(n){n.setSelection(Ve(n.firstLine(),0),Ve(n.lastLine()),pi)}function ho(n,l,p){var c={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return c.canceled=!0}};return p&&(c.update=function(v,b,A,L){v&&(c.from=O(n,v)),b&&(c.to=O(n,b)),A&&(c.text=A),L!==void 0&&(c.origin=L)}),G(n,"beforeChange",n,c),n.cm&&G(n.cm,"beforeChange",n.cm,c),c.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function Ls(n,l,p){if(n.cm){if(!n.cm.curOp)return Dr(n.cm,Ls)(n,l,p);if(n.cm.state.suppressEdits)return}if(!((De(n,"beforeChange")||n.cm&&De(n.cm,"beforeChange"))&&(l=ho(n,l,!0),!l)))if(p=ma&&!p&&Lo(n,l.from,l.to))for(var c=p.length-1;0<=c;--c)Ul(n,{from:p[c].from,to:p[c].to,text:c?[""]:l.text,origin:l.origin});else Ul(n,l)}function Ul(n,l){if(l.text.length!=1||l.text[0]!=""||V(l.from,l.to)!=0){var p=ao(n,l);za(n,l,p,n.cm?n.cm.curOp.id:NaN),po(n,l,p,Ei(n,l));var c=[];Xi(n,function(v,b){b||$(c,v.history)!=-1||(Fl(v.history,l),c.push(v.history)),po(v,l,null,Ei(v,l))})}}function ra(n,l,p){var c=n.cm&&n.cm.state.suppressEdits;if(!c||p){for(var v=n.history,b,A=n.sel,L=l=="undo"?v.done:v.undone,B=l=="undo"?v.undone:v.done,j=0;j<L.length&&(b=L[j],p?!b.ranges||b.equals(n.sel):b.ranges);j++);if(j!=L.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(b=L.pop(),b.ranges){if(fo(b,B),p&&!b.equals(n.sel)){Qr(n,b,{clearRedo:!1});return}A=b}else{if(c){L.push(b);return}break}var ee=[];fo(A,B),B.push({changes:ee,generation:v.generation}),v.generation=b.generation||++v.maxGeneration;var be=De(n,"beforeChange")||n.cm&&De(n.cm,"beforeChange");for(p=function(xe){var Me=b.changes[xe];if(Me.origin=l,be&&!ho(n,Me,!1))return L.length=0,{};ee.push(Qo(n,Me));var qe=xe?ao(n,Me):F(L);po(n,Me,qe,Yo(n,Me)),!xe&&n.cm&&n.cm.scrollIntoView({from:Me.from,to:qi(Me)});var xt=[];Xi(n,function(Jt,kr){kr||$(xt,Jt.history)!=-1||(Fl(Jt.history,Me),xt.push(Jt.history)),po(Jt,Me,null,Yo(Jt,Me))})},c=b.changes.length-1;0<=c;--c)if(v=p(c))return v.v}}}function Bl(n,l){if(l!=0&&(n.first+=l,n.sel=new ti(le(n.sel.ranges,function(v){return new ur(Ve(v.anchor.line+l,v.anchor.ch),Ve(v.head.line+l,v.head.ch))}),n.sel.primIndex),n.cm)){ci(n.cm,n.first,n.first-l,l);for(var p=n.cm.display,c=p.viewFrom;c<p.viewTo;c++)Tn(n.cm,c,"gutter")}}function po(n,l,p,c){if(n.cm&&!n.cm.curOp)return Dr(n.cm,po)(n,l,p,c);if(l.to.line<n.first)Bl(n,l.text.length-1-(l.to.line-l.from.line));else if(!(l.from.line>n.lastLine())){if(l.from.line<n.first){var v=l.text.length-1-(n.first-l.from.line);Bl(n,v),l={from:Ve(n.first,0),to:Ve(l.to.line+v,l.to.ch),text:[F(l.text)],origin:l.origin}}v=n.lastLine(),l.to.line>v&&(l={from:l.from,to:Ve(v,Je(n,v).text.length),text:[l.text[0]],origin:l.origin}),l.removed=Bt(n,l.from,l.to),p||(p=ao(n,l)),n.cm?wu(n.cm,l,c):lo(n,l,c),Xo(n,p,pi),n.cantEdit&&co(n,Ve(n.firstLine(),0))&&(n.cantEdit=!1)}}function wu(n,l,p){var c=n.doc,v=n.display,b=l.from,A=l.to,L=!1,B=b.line;n.options.lineWrapping||(B=Pt(fi(Je(c,b.line))),c.iter(B,A.line+1,function(j){if(j==v.maxLine)return L=!0})),-1<c.sel.contains(l.from,l.to)&&Te(n),lo(c,l,p,Cl(n)),n.options.lineWrapping||(c.iter(B,b.line+l.text.length,function(j){var ee=jn(j);ee>v.maxLineLength&&(v.maxLine=j,v.maxLineLength=ee,v.maxLineChanged=!0,L=!1)}),L&&(n.curOp.updateMaxLine=!0)),Ro(c,b.line),As(n,400),p=l.text.length-(A.line-b.line)-1,l.full?ci(n):b.line!=A.line||l.text.length!=1||Ho(n.doc,l)?ci(n,b.line,A.line+1,p):Tn(n,b.line,"text"),p=De(n,"changes"),((c=De(n,"change"))||p)&&(l={from:b,to:A,text:l.text,removed:l.removed,origin:l.origin},c&&er(n,"change",n,l),p&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(l)),n.display.selForContextMenu=null}function Os(n,l,p,c,v){c||(c=p),0>V(c,p)&&(c=[c,p],p=c[0],c=c[1]),typeof l=="string"&&(l=n.splitLines(l)),Ls(n,{from:p,to:c,text:l,origin:v})}function Ha(n,l,p,c){p<n.line?n.line+=c:l<n.line&&(n.line=l,n.ch=0)}function Is(n,l,p,c){for(var v=0;v<n.length;++v){var b=n[v],A=!0;if(b.ranges)for(b.copied||(b=n[v]=b.deepCopy(),b.copied=!0),A=0;A<b.ranges.length;A++)Ha(b.ranges[A].anchor,l,p,c),Ha(b.ranges[A].head,l,p,c);else{for(var L=0;L<b.changes.length;++L){var B=b.changes[L];if(p<B.from.line)B.from=Ve(B.from.line+c,B.from.ch),B.to=Ve(B.to.line+c,B.to.ch);else if(l<=B.to.line){A=!1;break}}A||(n.splice(0,v+1),v=0)}}}function Fl(n,l){var p=l.from.line,c=l.to.line;l=l.text.length-(c-p)-1,Is(n.done,p,c,l),Is(n.undone,p,c,l)}function Rn(n,l,p,c){var v=l,b=l;return typeof l=="number"?b=Je(n,Math.max(n.first,Math.min(l,n.first+n.size-1))):v=Pt(l),v==null?null:(c(b,v)&&n.cm&&Tn(n.cm,v,p),b)}function si(n){this.lines=n,this.parent=null;for(var l=0,p=0;p<n.length;++p)n[p].parent=this,l+=n[p].height;this.height=l}function Zi(n){this.children=n;for(var l=0,p=0,c=0;c<n.length;++c){var v=n[c];l+=v.chunkSize(),p+=v.height,v.parent=this}this.size=l,this.height=p,this.parent=null}function Pl(n,l,p,c){var v=new zi(n,p,c),b=n.cm;return b&&v.noHScroll&&(b.display.alignWidgets=!0),Rn(n,l,"widget",function(A){var L=A.widgets||(A.widgets=[]);return v.insertAt==null?L.push(v):L.splice(Math.min(L.length,Math.max(0,v.insertAt)),0,v),v.line=A,b&&!Hi(n,A)&&(L=mi(A)<n.scrollTop,Xt(A,A.height+zn(v)),L&&jo(b,v.height),b.curOp.forceUpdate=!0),!0}),b&&er(b,"lineWidgetAdded",b,v,typeof l=="number"?l:Pt(l)),v}function rs(n,l,p,c,v){if(c&&c.shared)return Dl(n,l,p,c,v);if(n.cm&&!n.cm.curOp)return Dr(n.cm,rs)(n,l,p,c,v);var b=new vi(n,v);if(v=V(l,p),c&&k(c,b,!1),0<v||v==0&&b.clearWhenEmpty!==!1)return b;if(b.replacedWith&&(b.collapsed=!0,b.widgetNode=_("span",[b.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||b.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(b.widgetNode.insertLeft=!0)),b.collapsed){if(Li(n,l.line,l,p,b)||l.line!=p.line&&Li(n,p.line,l,p,b))throw Error("Inserting collapsed marker partially overlapping an existing one");nn=!0}b.addToHistory&&za(n,{from:l,to:p,origin:"markText"},n.sel,NaN);var A=l.line,L=n.cm,B;if(n.iter(A,p.line+1,function(j){L&&b.collapsed&&!L.options.lineWrapping&&fi(j)==L.display.maxLine&&(B=!0),b.collapsed&&A!=l.line&&Xt(j,0);var ee=new ps(b,A==l.line?l.ch:null,A==p.line?p.ch:null),be=n.cm&&n.cm.curOp;(be=be&&window.WeakSet&&(be.markedSpans||(be.markedSpans=new WeakSet)))&&be.has(j.markedSpans)?j.markedSpans.push(ee):(j.markedSpans=j.markedSpans?j.markedSpans.concat([ee]):[ee],be&&be.add(j.markedSpans)),ee.marker.attachLine(j),++A}),b.collapsed&&n.iter(l.line,p.line+1,function(j){Hi(n,j)&&Xt(j,0)}),b.clearOnEnter&&Gt(b,"beforeCursorEnter",function(){return b.clear()}),b.readOnly&&(ma=!0,(n.history.done.length||n.history.undone.length)&&n.clearHistory()),b.collapsed&&(b.id=++$n,b.atomic=!0),L){if(B&&(L.curOp.updateMaxLine=!0),b.collapsed)ci(L,l.line,p.line+1);else if(b.className||b.startStyle||b.endStyle||b.css||b.attributes||b.title)for(c=l.line;c<=p.line;c++)Tn(L,c,"text");b.atomic&&Nl(L.doc),er(L,"markerAdded",L,b)}return b}function Dl(n,l,p,c,v){c=k(c),c.shared=!1;var b=[rs(n,l,p,c,v)],A=b[0],L=c.widgetNode;return Xi(n,function(B){L&&(c.widgetNode=L.cloneNode(!0)),b.push(rs(B,O(B,l),O(B,p),c,v));for(var j=0;j<B.linked.length;++j)if(B.linked[j].isParent)return;A=F(b)}),new Un(b,A)}function Qa(n){return n.findMarks(Ve(n.first,0),n.clipPos(Ve(n.lastLine())),function(l){return l.parent})}function Jl(n){for(var l=function(c){c=n[c];var v=[c.primary.doc];Xi(c.primary.doc,function(L){return v.push(L)});for(var b=0;b<c.markers.length;b++){var A=c.markers[b];$(v,A.doc)==-1&&(A.parent=null,c.markers.splice(b--,1))}},p=0;p<n.length;p++)l(p)}function jl(n){var l=this;if(Gl(l),!q(l,n)&&!J(l.display,n)){ft(n),pr&&(va=+new Date);var p=Vn(l,n,!0),c=n.dataTransfer.files;if(p&&!l.isReadOnly())if(c&&c.length&&window.FileReader&&window.File)for(var v=c.length,b=Array(v),A=0,L=function(){++A==v&&Dr(l,function(){p=O(l.doc,p);var ee={from:p,to:p,text:l.doc.splitLines(b.filter(function(be){return be!=null}).join(l.doc.lineSeparator())),origin:"paste"};Ls(l.doc,ee),Il(l.doc,fn(O(l.doc,p),O(l.doc,qi(ee))))})()},B=function(ee,be){if(l.options.allowDropFileTypes&&$(l.options.allowDropFileTypes,ee.type)==-1)L();else{var xe=new FileReader;xe.onerror=function(){return L()},xe.onload=function(){var Me=xe.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Me)||(b[be]=Me),L()},xe.readAsText(ee)}},j=0;j<c.length;j++)B(c[j],j);else if(l.state.draggingText&&-1<l.doc.sel.contains(p))l.state.draggingText(n),setTimeout(function(){return l.display.input.focus()},20);else try{if(B=n.dataTransfer.getData("Text")){if(l.state.draggingText&&!l.state.draggingText.copy&&(j=l.listSelections()),Xo(l.doc,fn(p,p)),j)for(c=0;c<j.length;++c)Os(l.doc,"",j[c].anchor,j[c].head,"drag");l.replaceSelection(B,"around","paste"),l.display.input.focus()}}catch{}}}function Gl(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function is(n){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),p=[],c=0;c<l.length;c++){var v=l[c].CodeMirror;v&&p.push(v)}p.length&&p[0].operation(function(){for(var b=0;b<p.length;b++)n(p[b])})}}function Yr(){var n;Gt(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null,is(Wl)},100))}),Gt(window,"blur",function(){return is(Cs)})}function Wl(n){var l=n.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,n.setSize()}function zl(n){var l=n.split(/-(?!$)/);n=l[l.length-1];for(var p,c,v,b,A=0;A<l.length-1;A++){var L=l[A];if(/^(cmd|meta|m)$/i.test(L))b=!0;else if(/^a(lt)?$/i.test(L))p=!0;else if(/^(c|ctrl|control)$/i.test(L))c=!0;else if(/^s(hift)?$/i.test(L))v=!0;else throw Error("Unrecognized modifier name: "+L)}return p&&(n="Alt-"+n),c&&(n="Ctrl-"+n),b&&(n="Cmd-"+n),v&&(n="Shift-"+n),n}function ns(n){var l={},p;for(p in n)if(n.hasOwnProperty(p)){var c=n[p];if(!/^(name|fallthrough|(de|at)tach)$/.test(p)){if(c!="...")for(var v=le(p.split(" "),zl),b=0;b<v.length;b++){if(b==v.length-1)var A=v.join(" "),L=c;else A=v.slice(0,b+1).join(" "),L="...";var B=l[A];if(!B)l[A]=L;else if(B!=L)throw Error("Inconsistent bindings for "+A)}delete n[p]}}for(var j in l)n[j]=l[j];return n}function ss(n,l,p,c){l=ia(l);var v=l.call?l.call(n,c):l[n];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&p(v))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return ss(n,l.fallthrough,p,c);for(v=0;v<l.fallthrough.length;v++){var b=ss(n,l.fallthrough[v],p,c);if(b)return b}}}function Ya(n){return n=typeof n=="string"?n:Ci[n.keyCode],n=="Ctrl"||n=="Alt"||n=="Shift"||n=="Mod"}function Vl(n,l,p){var c=n;return l.altKey&&c!="Alt"&&(n="Alt-"+n),(Fs?l.metaKey:l.ctrlKey)&&c!="Ctrl"&&(n="Ctrl-"+n),(Fs?l.ctrlKey:l.metaKey)&&c!="Mod"&&(n="Cmd-"+n),!p&&l.shiftKey&&c!="Shift"&&(n="Shift-"+n),n}function Kl(n,l){if(Gi&&n.keyCode==34&&n.char)return!1;var p=Ci[n.keyCode];return p==null||n.altGraphKey?!1:(n.keyCode==3&&n.code&&(p=n.code),Vl(p,n,l))}function ia(n){return typeof n=="string"?Js[n]:n}function Ns(n,l){for(var p=n.doc.sel.ranges,c=[],v=0;v<p.length;v++){for(var b=l(p[v]);c.length&&0>=V(b.from,F(c).to);){var A=c.pop();if(0>V(A.from,b.from)){b.from=A.from;break}}c.push(b)}gi(n,function(){for(var L=c.length-1;0<=L;L--)Os(n.doc,"",c[L].from,c[L].to,"+delete");Di(n)})}function mo(n,l,p){return l=me(n.text,l+p,p),0>l||l>n.text.length?null:l}function na(n,l,p){return n=mo(n,l.ch,p),n==null?null:new Ve(l.line,n,0>p?"after":"before")}function qa(n,l,p,c,v){if(n&&(l.doc.direction=="rtl"&&(v=-v),n=Q(p,l.doc.direction))){n=0>v?F(n):n[0];var b=0>v==(n.level==1)?"after":"before";if(0<n.level||l.doc.direction=="rtl"){var A=En(l,p),L=0>v?p.text.length-1:0,B=Fi(l,A,L).top;L=z(function(j){return Fi(l,A,j).top==B},0>v==(n.level==1)?n.from:n.to-1,L),b=="before"&&(L=mo(p,L,1))}else L=0>v?n.to:n.from;return new Ve(c,L,b)}return new Ve(c,0>v?p.text.length:0,0>v?"before":"after")}function Hl(n,l,p,c){var v=Q(l,n.doc.direction);if(!v)return na(l,p,c);p.ch>=l.text.length?(p.ch=l.text.length,p.sticky="before"):0>=p.ch&&(p.ch=0,p.sticky="after");var b=we(v,p.ch,p.sticky),A=v[b];if(n.doc.direction=="ltr"&&A.level%2==0&&(0<c?A.to>p.ch:A.from<p.ch))return na(l,p,c);var L=function(Me,qe){return mo(l,Me instanceof Ve?Me.ch:Me,qe)},B,j=function(Me){return n.options.lineWrapping?(B=B||En(n,l),ka(n,l,B,Me)):{begin:0,end:l.text.length}},ee=j(p.sticky=="before"?L(p,-1):p.ch);if(n.doc.direction=="rtl"||A.level==1){var be=A.level==1==0>c,xe=L(p,be?1:-1);if(xe!=null&&(be?xe<=A.to&&xe<=ee.end:xe>=A.from&&xe>=ee.begin))return new Ve(p.line,xe,be?"before":"after")}return A=function(Me,qe,xt){for(var Jt=function(_r,wr){return wr?new Ve(p.line,L(_r,1),"before"):new Ve(p.line,_r,"after")};0<=Me&&Me<v.length;Me+=qe){var kr=v[Me],Nt=0<qe==(kr.level!=1),mr=Nt?xt.begin:L(xt.end,-1);if(kr.from<=mr&&mr<kr.to||(mr=Nt?kr.from:L(kr.to,-1),xt.begin<=mr&&mr<xt.end))return Jt(mr,Nt)}},(b=A(b+c,c,ee))?b:(ee=0<c?ee.end:L(ee.begin,-1),ee==null||0<c&&ee==l.text.length||!(b=A(0<c?0:v.length-1,c,j(ee)))?null:b)}function Xa(n,l){var p=Je(n.doc,l),c=fi(p);return c!=p&&(l=Pt(c)),qa(!0,n,c,l,1)}function Ql(n,l){var p=Xa(n,l.line),c=Je(n.doc,p.line);return n=Q(c,n.doc.direction),n&&n[0].level!=0?p:(c=Math.max(p.ch,c.text.search(/\S/)),Ve(p.line,l.line==p.line&&l.ch<=c&&l.ch?0:c,p.sticky))}function os(n,l,p){if(typeof l=="string"&&(l=Gs[l],!l))return!1;n.display.input.ensurePolled();var c=n.display.shift,v=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),p&&(n.display.shift=!1),v=l(n)!=aa}finally{n.display.shift=c,n.state.suppressEdits=!1}return v}function yo(n,l,p,c){var v=n.state.keySeq;if(v){if(Ya(l))return"handled";if(/'$/.test(l)?n.state.keySeq=null:mu.set(50,function(){n.state.keySeq==v&&(n.state.keySeq=null,n.display.input.reset())}),cn(n,v+" "+l,p,c))return!0}return cn(n,l,p,c)}function cn(n,l,p,c){e:{for(var v=0;v<n.state.keyMaps.length;v++){var b=ss(l,n.state.keyMaps[v],c,n);if(b){c=b;break e}}c=n.options.extraKeys&&ss(l,n.options.extraKeys,c,n)||ss(l,n.options.keyMap,c,n)}return c=="multi"&&(n.state.keySeq=l),c=="handled"&&er(n,"keyHandled",n,l,p),(c=="handled"||c=="multi")&&(ft(p),xs(n)),!!c}function go(n,l){var p=Kl(l,!0);return p?l.shiftKey&&!n.state.keySeq?yo(n,"Shift-"+p,l,function(c){return os(n,c,!0)})||yo(n,p,l,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return os(n,c)}):yo(n,p,l,function(c){return os(n,c)}):!1}function Yl(n,l,p){return yo(n,"'"+p+"'",l,function(c){return os(n,c,!0)})}function Za(n){if((!n.target||n.target==this.display.input.getField())&&(this.curOp.focus=S(),!q(this,n))){pr&&11>Mr&&n.keyCode==27&&(n.returnValue=!1);var l=n.keyCode;this.display.shift=l==16||n.shiftKey;var p=go(this,n);Gi&&(_l=p?l:null,!p&&l==88&&!yl&&(Ni?n.metaKey:n.ctrlKey)&&this.replaceSelection("",null,"cut")),pn&&!Ni&&!p&&l==46&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),l!=18||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||ql(this)}}function ql(n){function l(c){c.keyCode!=18&&c.altKey||(en(p,"CodeMirror-crosshair"),Y(document,"keyup",l),Y(document,"mouseover",l))}var p=n.display.lineDiv;M(p,"CodeMirror-crosshair"),Gt(document,"keyup",l),Gt(document,"mouseover",l)}function el(n){n.keyCode==16&&(this.doc.sel.shift=!1),q(this,n)}function tl(n){if(!(n.target&&n.target!=this.display.input.getField()||J(this.display,n)||q(this,n)||n.ctrlKey&&!n.altKey||Ni&&n.metaKey)){var l=n.keyCode,p=n.charCode;Gi&&l==_l?(_l=null,ft(n)):(!Gi||n.which&&!(10>n.which)||!go(this,n))&&(l=String.fromCharCode(p??l),l!="\b"&&!Yl(this,n,l)&&this.display.input.onKeyPress(n))}}function Xl(n,l){var p=+new Date;return Co&&Co.compare(p,n,l)?(xo=Co=null,"triple"):xo&&xo.compare(p,n,l)?(Co=new Bn(p,n,l),xo=null,"double"):(xo=new Bn(p,n,l),Co=null,"single")}function rl(n){var l=this.display;if(!(q(this,n)||l.activeTouch&&l.input.supportsTouch())){if(l.input.ensurePolled(),l.shift=n.shiftKey,J(l,n))oi||(l.scroller.draggable=!1,setTimeout(function(){return l.scroller.draggable=!0},100));else if(!$s(this,n,"gutterClick",!0)){var p=Vn(this,n),c=$e(n),v=p?Xl(p,c):"single";window.focus(),c==1&&this.state.selectingText&&this.state.selectingText(n),(!p||!Zl(this,c,p,v,n))&&(c==1?p?eu(this,p,v,n):(n.target||n.srcElement)==l.scroller&&ft(n):c==2?(p&&qo(this.doc,p),setTimeout(function(){return l.input.focus()},20)):c==3&&(cl?this.display.input.onContextMenu(n):Po(this)))}}}function Zl(n,l,p,c,v){var b="Click";return c=="double"?b="Double"+b:c=="triple"&&(b="Triple"+b),yo(n,Vl((l==1?"Left":l==2?"Middle":"Right")+b,v),v,function(A){if(typeof A=="string"&&(A=Gs[A]),!A)return!1;var L=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),L=A(n,p)!=aa}finally{n.state.suppressEdits=!1}return L})}function eu(n,l,p,c){pr?setTimeout(T(Ua,n),0):n.curOp.focus=S();var v=n.getOption("configureMouse");v=v?v(n,p,c):{},v.unit==null&&(v.unit=(xu?c.shiftKey&&c.metaKey:c.altKey)?"rectangle":p=="single"?"char":p=="double"?"word":"line"),(v.extend==null||n.doc.extend)&&(v.extend=n.doc.extend||c.shiftKey),v.addNew==null&&(v.addNew=Ni?c.metaKey:c.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(Ni?c.altKey:c.ctrlKey));var b=n.doc.sel,A;n.options.dragDrop&&hu&&!n.isReadOnly()&&p=="single"&&-1<(A=b.contains(l))&&(0>V((A=b.ranges[A]).from(),l)||0<l.xRel)&&(0<V(A.to(),l)||0>l.xRel)?ji(n,c,l,v):bu(n,c,l,v)}function ji(n,l,p,c){var v=n.display,b=!1,A=Dr(n,function(j){oi&&(v.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:Po(n)),Y(v.wrapper.ownerDocument,"mouseup",A),Y(v.wrapper.ownerDocument,"mousemove",L),Y(v.scroller,"dragstart",B),Y(v.scroller,"drop",A),b||(ft(j),c.addNew||qo(n.doc,p,null,null,c.extend),oi&&!oa||pr&&Mr==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),L=function(j){b=b||10<=Math.abs(l.clientX-j.clientX)+Math.abs(l.clientY-j.clientY)},B=function(){return b=!0};oi&&(v.scroller.draggable=!0),n.state.draggingText=A,A.copy=!c.moveOnDrag,Gt(v.wrapper.ownerDocument,"mouseup",A),Gt(v.wrapper.ownerDocument,"mousemove",L),Gt(v.scroller,"dragstart",B),Gt(v.scroller,"drop",A),n.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function il(n,l,p){return p=="char"?new ur(l,l):p=="word"?n.findWordAt(l):p=="line"?new ur(Ve(l.line,0),O(n.doc,Ve(l.line+1,0))):(n=p(n,l),new ur(n.from,n.to))}function bu(n,l,p,c){function v(Nt){if(V(Me,Nt)!=0)if(Me=Nt,c.unit=="rectangle"){var mr=[],_r=n.options.tabSize,wr=P(Je(B,p.line).text,p.ch,_r),yr=P(Je(B,Nt.line).text,Nt.ch,_r),ar=Math.min(wr,yr);wr=Math.max(wr,yr),yr=Math.min(p.line,Nt.line);for(var Tr=Math.min(n.lastLine(),Math.max(p.line,Nt.line));yr<=Tr;yr++){var gr=Je(B,yr).text,Sr=I(gr,ar,_r);ar==wr?mr.push(new ur(Ve(yr,Sr),Ve(yr,Sr))):gr.length>Sr&&mr.push(new ur(Ve(yr,Sr),Ve(yr,I(gr,wr,_r))))}mr.length||mr.push(new ur(p,p)),Qr(B,Ji(n,j.ranges.slice(0,be).concat(mr),be),{origin:"*mouse",scroll:!1}),n.scrollIntoView(Nt)}else mr=xe,ar=il(n,Nt,c.unit),Nt=mr.anchor,0<V(ar.anchor,Nt)?(_r=ar.head,Nt=K(mr.from(),ar.anchor)):(_r=ar.anchor,Nt=ii(mr.to(),ar.head)),mr=j.ranges.slice(0),mr[be]=hn(n,new ur(O(B,Nt),_r)),Qr(B,Ji(n,mr,be),la)}function b(Nt){var mr=++xt,_r=Vn(n,Nt,!0,c.unit=="rectangle");if(_r)if(V(_r,Me)!=0){n.curOp.focus=S(),v(_r);var wr=Jo(L,B);(_r.line>=wr.to||_r.line<wr.from)&&setTimeout(Dr(n,function(){xt==mr&&b(Nt)}),150)}else{var yr=Nt.clientY<qe.top?-20:Nt.clientY>qe.bottom?20:0;yr&&setTimeout(Dr(n,function(){xt==mr&&(L.scroller.scrollTop+=yr,b(Nt))}),50)}}function A(Nt){n.state.selectingText=!1,xt=1/0,Nt&&(ft(Nt),L.input.focus()),Y(L.wrapper.ownerDocument,"mousemove",Jt),Y(L.wrapper.ownerDocument,"mouseup",kr),B.history.lastSelOrigin=null}pr&&Po(n);var L=n.display,B=n.doc;ft(l);var j=B.sel,ee=j.ranges;if(c.addNew&&!c.extend)var be=B.sel.contains(p),xe=-1<be?ee[be]:new ur(p,p);else xe=B.sel.primary(),be=B.sel.primIndex;c.unit=="rectangle"?(c.addNew||(xe=new ur(p,p)),p=Vn(n,l,!0,!0),be=-1):(l=il(n,p,c.unit),xe=c.extend?es(xe,l.anchor,l.head,c.extend):l),c.addNew?be==-1?(be=ee.length,Qr(B,Ji(n,ee.concat([xe]),be),{scroll:!1,origin:"*mouse"})):1<ee.length&&ee[be].empty()&&c.unit=="char"&&!c.extend?(Qr(B,Ji(n,ee.slice(0,be).concat(ee.slice(be+1)),0),{scroll:!1,origin:"*mouse"}),j=B.sel):Va(B,be,xe,la):(be=0,Qr(B,new ti([xe],0),la),j=B.sel);var Me=p,qe=L.wrapper.getBoundingClientRect(),xt=0,Jt=Dr(n,function(Nt){Nt.buttons!==0&&$e(Nt)?b(Nt):A(Nt)}),kr=Dr(n,A);n.state.selectingText=kr,Gt(L.wrapper.ownerDocument,"mousemove",Jt),Gt(L.wrapper.ownerDocument,"mouseup",kr)}function hn(n,l){var p=l.anchor,c=l.head,v=Je(n.doc,p.line);if(V(p,c)==0&&p.sticky==c.sticky||(v=Q(v),!v))return l;var b=we(v,p.ch,p.sticky),A=v[b];if(A.from!=p.ch&&A.to!=p.ch)return l;var L=b+(A.from==p.ch==(A.level!=1)?0:1);return L==0||L==v.length?l:(c.line!=p.line?n=0<(c.line-p.line)*(n.doc.direction=="ltr"?1:-1):(n=we(v,c.ch,c.sticky),b=n-b||(c.ch-p.ch)*(A.level==1?-1:1),n=n==L-1||n==L?0>b:0<b),v=v[L+(n?-1:0)],v=(L=n==(v.level==1))?v.from:v.to,L=L?"after":"before",p.ch==v&&p.sticky==L?l:new ur(new Ve(p.line,v,L),c))}function $s(n,l,p,c){if(l.touches)var v=l.touches[0].clientX,b=l.touches[0].clientY;else try{v=l.clientX,b=l.clientY}catch{return!1}if(v>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;c&&ft(l),c=n.display;var A=c.lineDiv.getBoundingClientRect();if(b>A.bottom||!De(n,p))return Et(l);for(b-=A.top-c.viewOffset,A=0;A<n.display.gutterSpecs.length;++A){var L=c.gutters.childNodes[A];if(L&&L.getBoundingClientRect().right>=v)return v=Xr(n.doc,b),G(n,p,n,v,n.display.gutterSpecs[A].className,l),Et(l)}}function Ln(n,l){var p;(p=J(n.display,l))||(p=De(n,"gutterContextMenu")?$s(n,l,"gutterContextMenu",!1):!1),!p&&!q(n,l,"contextmenu")&&!cl&&n.display.input.onContextMenu(l)}function vo(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),_s(n)}function tu(n,l,p){!l!=!(p&&p!=Ws)&&(p=n.display.dragFunctions,l=l?Gt:Y,l(n.display.scroller,"dragstart",p.start),l(n.display.scroller,"dragenter",p.enter),l(n.display.scroller,"dragover",p.over),l(n.display.scroller,"dragleave",p.leave),l(n.display.scroller,"drop",p.drop))}function ru(n){n.options.lineWrapping?(M(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(en(n.display.wrapper,"CodeMirror-wrap"),xr(n)),Na(n),ci(n),_s(n),setTimeout(function(){return Hn(n)},100)}function Cr(n,l){var p=this;if(!(this instanceof Cr))return new Cr(n,l);this.options=l=l?k(l):{},k(wl,l,!1);var c=l.value;typeof c=="string"?c=new zr(c,l.mode,null,l.lineSeparator,l.direction):l.mode&&(c.modeOption=l.mode),this.doc=c;var v=new Cr.inputStyles[l.inputStyle](this);n=this.display=new Da(n,c,v,l),n.wrapper.CodeMirror=this,vo(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new xi,keySeq:null,specialChars:null},l.autofocus&&!bo&&n.input.focus(),pr&&11>Mr&&setTimeout(function(){return p.display.input.reset(!0)},20),iu(this),_a||(Yr(),_a=!0),Qn(this),this.curOp.forceUpdate=!0,ja(this,c),l.autofocus&&!bo||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Ba(p)},20):Cs(this);for(var b in ba)ba.hasOwnProperty(b)&&ba[b](this,l[b],Ws);for(no(this),l.finishInit&&l.finishInit(this),c=0;c<bl.length;++c)bl[c](this);Yn(this),oi&&l.lineWrapping&&getComputedStyle(n.lineDiv).textRendering=="optimizelegibility"&&(n.lineDiv.style.textRendering="auto")}function iu(n){function l(){c.activeTouch&&(v=setTimeout(function(){return c.activeTouch=null},1e3),b=c.activeTouch,b.end=+new Date)}function p(L,B){if(B.left==null)return!0;var j=B.left-L.left;return L=B.top-L.top,400<j*j+L*L}var c=n.display;Gt(c.scroller,"mousedown",Dr(n,rl)),pr&&11>Mr?Gt(c.scroller,"dblclick",Dr(n,function(L){if(!q(n,L)){var B=Vn(n,L);!B||$s(n,L,"gutterClick",!0)||J(n.display,L)||(ft(L),L=n.findWordAt(B),qo(n.doc,L.anchor,L.head))}})):Gt(c.scroller,"dblclick",function(L){return q(n,L)||ft(L)}),Gt(c.scroller,"contextmenu",function(L){return Ln(n,L)}),Gt(c.input.getField(),"contextmenu",function(L){c.scroller.contains(L.target)||Ln(n,L)});var v,b={end:0};Gt(c.scroller,"touchstart",function(L){var B;(B=!q(n,L))&&(L.touches.length!=1?B=!1:(B=L.touches[0],B=1>=B.radiusX&&1>=B.radiusY),B=!B),B&&!$s(n,L,"gutterClick",!0)&&(c.input.ensurePolled(),clearTimeout(v),B=+new Date,c.activeTouch={start:B,moved:!1,prev:300>=B-b.end?b:null},L.touches.length==1&&(c.activeTouch.left=L.touches[0].pageX,c.activeTouch.top=L.touches[0].pageY))}),Gt(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),Gt(c.scroller,"touchend",function(L){var B=c.activeTouch;if(B&&!J(c,L)&&B.left!=null&&!B.moved&&300>new Date-B.start){var j=n.coordsChar(c.activeTouch,"page");B=!B.prev||p(B,B.prev)?new ur(j,j):!B.prev.prev||p(B,B.prev.prev)?n.findWordAt(j):new ur(Ve(j.line,0),O(n.doc,Ve(j.line+1,0))),n.setSelection(B.anchor,B.head),n.focus(),ft(L)}l()}),Gt(c.scroller,"touchcancel",l),Gt(c.scroller,"scroll",function(){c.scroller.clientHeight&&(ro(n,c.scroller.scrollTop),Cn(n,c.scroller.scrollLeft,!0),G(n,"scroll",n))}),Gt(c.scroller,"mousewheel",function(L){return Rl(n,L)}),Gt(c.scroller,"DOMMouseScroll",function(L){return Rl(n,L)}),Gt(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(L){q(n,L)||kt(L)},over:function(L){if(!q(n,L)){var B=Vn(n,L);if(B){var j=document.createDocumentFragment();eo(n,B,j),n.display.dragCursor||(n.display.dragCursor=g("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),f(n.display.dragCursor,j)}kt(L)}},start:function(L){if(pr&&(!n.state.draggingText||100>+new Date-va))kt(L);else if(!q(n,L)&&!J(n.display,L)&&(L.dataTransfer.setData("Text",n.getSelection()),L.dataTransfer.effectAllowed="copyMove",L.dataTransfer.setDragImage&&!oa)){var B=g("img",null,null,"position: fixed; left: 0; top: 0;");B.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Gi&&(B.width=B.height=1,n.display.wrapper.appendChild(B),B._top=B.offsetTop),L.dataTransfer.setDragImage(B,0,0),Gi&&B.parentNode.removeChild(B)}},drop:Dr(n,jl),leave:function(L){q(n,L)||Gl(n)}};var A=c.input.getField();Gt(A,"keyup",function(L){return el.call(n,L)}),Gt(A,"keydown",Dr(n,Za)),Gt(A,"keypress",Dr(n,tl)),Gt(A,"focus",function(L){return Ba(n,L)}),Gt(A,"blur",function(L){return Cs(n,L)})}function Us(n,l,p,c){var v=n.doc,b;p==null&&(p="add"),p=="smart"&&(v.mode.indent?b=We(n,l).state:p="prev");var A=n.options.tabSize,L=Je(v,l),B=P(L.text,null,A);L.stateAfter&&(L.stateAfter=null);var j=L.text.match(/^\s*/)[0];if(!c&&!/\S/.test(L.text)){var ee=0;p="not"}else if(p=="smart"&&(ee=v.mode.indent(b,L.text.slice(j.length),L.text),ee==aa||150<ee)){if(!c)return;p="prev"}if(p=="prev"?ee=l>v.first?P(Je(v,l-1).text,null,A):0:p=="add"?ee=B+n.options.indentUnit:p=="subtract"?ee=B-n.options.indentUnit:typeof p=="number"&&(ee=B+p),ee=Math.max(0,ee),p="",c=0,n.options.indentWithTabs)for(n=Math.floor(ee/A);n;--n)c+=A,p+="	";if(c<ee&&(p+=E(ee-c)),p!=j)return Os(v,p,Ve(l,0),Ve(l,j.length),"+input"),L.stateAfter=null,!0;for(A=0;A<v.sel.ranges.length;A++)if(L=v.sel.ranges[A],L.head.line==l&&L.head.ch<j.length){l=Ve(l,j.length),Va(v,A,new ur(l,l));break}}function nl(n,l,p,c,v){var b=n.doc;n.display.shift=!1,c||(c=b.sel);var A=+new Date-200,L=v=="paste"||n.state.pasteIncoming>A,B=ca(l),j=null;if(L&&1<c.ranges.length)if(wi&&wi.text.join(`
`)==l){if(c.ranges.length%wi.text.length==0){j=[];for(var ee=0;ee<wi.text.length;ee++)j.push(b.splitLines(wi.text[ee]))}}else B.length==c.ranges.length&&n.options.pasteLinesPerSelection&&(j=le(B,function(xt){return[xt]}));ee=n.curOp.updateInput;for(var be=c.ranges.length-1;0<=be;be--){var xe=c.ranges[be],Me=xe.from(),qe=xe.to();xe.empty()&&(p&&0<p?Me=Ve(Me.line,Me.ch-p):n.state.overwrite&&!L?qe=Ve(qe.line,Math.min(Je(b,qe.line).text.length,qe.ch+F(B).length)):L&&wi&&wi.lineWise&&wi.text.join(`
`)==B.join(`
`)&&(Me=qe=Ve(Me.line,0))),xe={from:Me,to:qe,text:j?j[be%j.length]:B,origin:v||(L?"paste":n.state.cutIncoming>A?"cut":"+input")},Ls(n.doc,xe),er(n,"inputRead",n,xe)}l&&!L&&su(n,l),Di(n),2>n.curOp.updateInput&&(n.curOp.updateInput=ee),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function nu(n,l){var p=n.clipboardData&&n.clipboardData.getData("Text");if(p)return n.preventDefault(),l.isReadOnly()||l.options.disableInput||gi(l,function(){return nl(l,p,0,null,"paste")}),!0}function su(n,l){if(n.options.electricChars&&n.options.smartIndent)for(var p=n.doc.sel,c=p.ranges.length-1;0<=c;c--){var v=p.ranges[c];if(!(100<v.head.ch||c&&p.ranges[c-1].head.line==v.head.line)){var b=n.getModeAt(v.head),A=!1;if(b.electricChars){for(var L=0;L<b.electricChars.length;L++)if(-1<l.indexOf(b.electricChars.charAt(L))){A=Us(n,v.head.line,"smart");break}}else b.electricInput&&b.electricInput.test(Je(n.doc,v.head.line).text.slice(0,v.head.ch))&&(A=Us(n,v.head.line,"smart"));A&&er(n,"electricInput",n,v.head.line)}}}function ou(n){for(var l=[],p=[],c=0;c<n.doc.sel.ranges.length;c++){var v=n.doc.sel.ranges[c].head.line;v={anchor:Ve(v,0),head:Ve(v+1,0)},p.push(v),l.push(n.getRange(v.anchor,v.head))}return{text:l,ranges:p}}function au(n,l,p,c){n.setAttribute("autocorrect",p?"":"off"),n.setAttribute("autocapitalize",c?"":"off"),n.setAttribute("spellcheck",!!l)}function lu(){var n=g("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=g("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return oi?n.style.width="1000px":n.setAttribute("wrap","off"),_o&&(n.style.border="1px solid black"),au(n),l}function sl(n,l,p,c,v){function b(xt){if(c=="codepoint"){var Jt=B.text.charCodeAt(l.ch+(0<p?0:-1));Jt=isNaN(Jt)?null:new Ve(l.line,Math.max(0,Math.min(B.text.length,l.ch+p*((0<p?55296<=Jt&&56320>Jt:56320<=Jt&&57343>Jt)?2:1))),-p)}else Jt=v?Hl(n.cm,B,l,p):na(B,l,p);if(Jt==null)if((xt=!xt)&&(xt=l.line+j,xt<n.first||xt>=n.first+n.size?xt=!1:(l=new Ve(xt,l.ch,l.sticky),xt=B=Je(n,xt))),xt)l=qa(v,n.cm,B,l.line,j);else return!1;else l=Jt;return!0}var A=l,L=p,B=Je(n,l.line),j=v&&n.direction=="rtl"?-p:p;if(c=="char"||c=="codepoint")b();else if(c=="column")b(!0);else if(c=="word"||c=="group")for(var ee=null,be=c=="group",xe=n.cm&&n.cm.getHelper(l,"wordChars"),Me=!0;!(0>p)||b(!Me);Me=!1){var qe=B.text.charAt(l.ch)||`
`;if(qe=ie(qe,xe)?"w":be&&qe==`
`?"n":!be||/\s/.test(qe)?null:"p",!be||Me||qe||(qe="s"),ee&&ee!=qe){0>p&&(p=1,b(),l.sticky="after");break}if(qe&&(ee=qe),0<p&&!b(!Me))break}return L=co(n,l,A,L,!0),Si(A,L)&&(L.hitSide=!0),L}function ol(n,l,p,c){var v=n.doc,b=l.left;if(c=="page"){var A=Math.max(Math.min(n.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*ws(n.display),3);A=(0<p?l.bottom:l.top)+p*A}else c=="line"&&(A=0<p?l.bottom+3:l.top-3);for(;l=Ma(n,b,A),!!l.outside;){if(0>p?0>=A:A>=v.height){l.hitSide=!0;break}A+=5*p}return l}function al(n,l){var p=Qi(n,l.line);if(!p||p.hidden)return null;var c=Je(n.doc,l.line);return p=Pr(p,c,l.line),n=Q(c,n.doc.direction),c="left",n&&(c=we(n,l.ch)%2?"right":"left"),l=El(p.map,l.ch,c),l.offset=l.collapse=="right"?l.end:l.start,l}function Su(n){for(;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}function Bs(n,l){return l&&(n.bad=!0),n}function ll(n,l,p,c,v){function b(Me){return function(qe){return qe.id==Me}}function A(){ee&&(j+=be,xe&&(j+=be),ee=xe=!1)}function L(Me){Me&&(A(),j+=Me)}function B(Me){if(Me.nodeType==1){var qe=Me.getAttribute("cm-text");if(qe)L(qe);else{qe=Me.getAttribute("cm-marker");var xt;if(qe)Me=n.findMarks(Ve(c,0),Ve(v+1,0),b(+qe)),Me.length&&(xt=Me[0].find(0))&&L(Bt(n.doc,xt.from,xt.to).join(be));else if(Me.getAttribute("contenteditable")!="false"&&(xt=/^(pre|div|p|li|table|br)$/i.test(Me.nodeName),/^br$/i.test(Me.nodeName)||Me.textContent.length!=0)){for(xt&&A(),qe=0;qe<Me.childNodes.length;qe++)B(Me.childNodes[qe]);/^(pre|p)$/i.test(Me.nodeName)&&(xe=!0),xt&&(ee=!0)}}}else Me.nodeType==3&&L(Me.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var j="",ee=!1,be=n.doc.lineSeparator(),xe=!1;B(l),l!=p;)l=l.nextSibling,xe=!1;return j}function as(n,l,p){if(l==n.display.lineDiv){var c=n.display.lineDiv.childNodes[p];if(!c)return Bs(n.clipPos(Ve(n.display.viewTo-1)),!0);l=null,p=0}else for(c=l;;c=c.parentNode){if(!c||c==n.display.lineDiv)return null;if(c.parentNode&&c.parentNode==n.display.lineDiv)break}for(var v=0;v<n.display.view.length;v++){var b=n.display.view[v];if(b.node==c)return Eu(b,l,p)}}function Eu(n,l,p){function c(ee,be,xe){for(var Me=-1;Me<(j?j.length:0);Me++)for(var qe=0>Me?B.map:j[Me],xt=0;xt<qe.length;xt+=3){var Jt=qe[xt+2];if(Jt==ee||Jt==be)return be=Pt(0>Me?n.line:n.rest[Me]),Me=qe[xt]+xe,(0>xe||Jt!=ee)&&(Me=qe[xt+(xe?1:0)]),Ve(be,Me)}}var v=n.text.firstChild,b=!1;if(!l||!w(v,l))return Bs(Ve(Pt(n.line),0),!0);if(l==v&&(b=!0,l=v.childNodes[p],p=0,!l))return p=n.rest?F(n.rest):n.line,Bs(Ve(Pt(p),p.text.length),b);var A=l.nodeType==3?l:null,L=l;for(A||l.childNodes.length!=1||l.firstChild.nodeType!=3||(A=l.firstChild,p&&(p=A.nodeValue.length));L.parentNode!=v;)L=L.parentNode;var B=n.measure,j=B.maps;if(l=c(A,L,p))return Bs(l,b);for(v=L.nextSibling,A=A?A.nodeValue.length-p:0;v;v=v.nextSibling){if(l=c(v,v.firstChild,0))return Bs(Ve(l.line,l.ch-A),b);A+=v.textContent.length}for(L=L.previousSibling;L;L=L.previousSibling){if(l=c(L,L.firstChild,-1))return Bs(Ve(l.line,l.ch+p),b);p+=L.textContent.length}}var hi=navigator.userAgent,uu=navigator.platform,pn=/gecko\/\d/i.test(hi),fu=/MSIE \d/.test(hi),ul=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hi),sa=/Edge\/(\d+)/.exec(hi),pr=fu||ul||sa,Mr=pr&&(fu?document.documentMode||6:+(sa||ul)[1]),oi=!sa&&/WebKit\//.test(hi),Tu=oi&&/Qt\/\d+\.\d+/.test(hi),dn=!sa&&/Chrome\//.test(hi),Gi=/Opera\//.test(hi),oa=/Apple Computer/.test(navigator.vendor),cu=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(hi),fl=/PhantomJS/.test(hi),_o=oa&&(/Mobile\/\w+/.test(hi)||2<navigator.maxTouchPoints),wo=/Android/.test(hi),bo=_o||wo||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(hi),Ni=_o||/Mac/.test(uu),xu=/\bCrOS\b/.test(hi),Cu=/win/i.test(uu),ls=Gi&&hi.match(/Version\/(\d*\.\d*)/);ls&&(ls=Number(ls[1])),ls&&15<=ls&&(Gi=!1,oi=!0);var Fs=Ni&&(Tu||Gi&&(ls==null||12.11>ls)),cl=pn||pr&&9<=Mr,en=function(n,l){var p=n.className;if(l=o(l).exec(p)){var c=p.slice(l.index+l[0].length);n.className=p.slice(0,l.index)+(c?l[1]+c:"")}},So=document.createRange?function(n,l,p,c){var v=document.createRange();return v.setEnd(c||n,p),v.setStart(n,l),v}:function(n,l,p){var c=document.body.createTextRange();try{c.moveToElementText(n.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",p),c.moveStart("character",l),c},tn=function(n){n.select()};_o?tn=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:pr&&(tn=function(n){try{n.select()}catch{}});var xi=function(){this.f=this.id=null,this.time=0,this.handler=T(this.onTimeout,this)};xi.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},xi.prototype.set=function(n,l){this.f=l,l=+new Date+n,(!this.id||l<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=l)};var aa={toString:function(){return"CodeMirror.Pass"}},pi={scroll:!1},la={origin:"*mouse"},rn={origin:"+move"},Ps=[""],hl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,pl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,us=null,dl=function(){function n(A,L,B){this.level=A,this.from=L,this.to=B}var l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,p=/[stwN]/,c=/[LRr]/,v=/[Lb1n]/,b=/[1n]/;return function(A,L){var B=L=="ltr"?"L":"R";if(A.length==0||L=="ltr"&&!l.test(A))return!1;for(var j=A.length,ee=[],be=0;be<j;++be){var xe=ee,Me=xe.push,qe=A.charCodeAt(be);qe=247>=qe?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(qe):1424<=qe&&1524>=qe?"R":1536<=qe&&1785>=qe?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(qe-1536):1774<=qe&&2220>=qe?"r":8192<=qe&&8203>=qe?"w":qe==8204?"b":"L",Me.call(xe,qe)}for(be=0,xe=B;be<j;++be)Me=ee[be],Me=="m"?ee[be]=xe:xe=Me;for(be=0,xe=B;be<j;++be)Me=ee[be],Me=="1"&&xe=="r"?ee[be]="n":c.test(Me)&&(xe=Me,Me=="r"&&(ee[be]="R"));for(be=1,xe=ee[0];be<j-1;++be)Me=ee[be],Me=="+"&&xe=="1"&&ee[be+1]=="1"?ee[be]="1":Me!=","||xe!=ee[be+1]||xe!="1"&&xe!="n"||(ee[be]=xe),xe=Me;for(be=0;be<j;++be)if(xe=ee[be],xe==",")ee[be]="N";else if(xe=="%"){for(xe=be+1;xe<j&&ee[xe]=="%";++xe);for(Me=be&&ee[be-1]=="!"||xe<j&&ee[xe]=="1"?"1":"N";be<xe;++be)ee[be]=Me;be=xe-1}for(be=0,xe=B;be<j;++be)Me=ee[be],xe=="L"&&Me=="1"?ee[be]="L":c.test(Me)&&(xe=Me);for(xe=0;xe<j;++xe)if(p.test(ee[xe])){for(be=xe+1;be<j&&p.test(ee[be]);++be);for(Me=(xe?ee[xe-1]:B)=="L",Me=Me==((be<j?ee[be]:B)=="L")?Me?"L":"R":B;xe<be;++xe)ee[xe]=Me;xe=be-1}B=[];var xt;for(be=0;be<j;)if(v.test(ee[be])){for(xe=be,++be;be<j&&v.test(ee[be]);++be);B.push(new n(0,xe,be))}else{var Jt=be;for(xe=B.length,Me=L=="rtl"?1:0,++be;be<j&&ee[be]!="L";++be);for(qe=Jt;qe<be;)if(b.test(ee[qe])){for(Jt<qe&&(B.splice(xe,0,new n(1,Jt,qe)),xe+=Me),Jt=qe,++qe;qe<be&&b.test(ee[qe]);++qe);B.splice(xe,0,new n(2,Jt,qe)),xe+=Me,Jt=qe}else++qe;Jt<be&&B.splice(xe,0,new n(1,Jt,be))}return L=="ltr"&&(B[0].level==1&&(xt=A.match(/^\s+/))&&(B[0].from=xt[0].length,B.unshift(new n(0,0,xt[0].length))),F(B).level==1&&(xt=A.match(/\s+$/))&&(F(B).to-=xt[0].length,B.push(new n(0,j-xt[0].length,j)))),L=="rtl"?B.reverse():B}}(),fs=[],Gt=function(n,l,p){n.addEventListener?n.addEventListener(l,p,!1):n.attachEvent?n.attachEvent("on"+l,p):(n=n._handlers||(n._handlers={}),n[l]=(n[l]||fs).concat(p))},hu=function(){if(pr&&9>Mr)return!1;var n=g("div");return"draggable"in n||"dragDrop"in n}(),ua,fa,ca=`

b`.split(/\n/).length!=3?function(n){for(var l=0,p=[],c=n.length;l<=c;){var v=n.indexOf(`
`,l);v==-1&&(v=n.length);var b=n.slice(l,n.charAt(v-1)=="\r"?v-1:v),A=b.indexOf("\r");A!=-1?(p.push(b.slice(0,A)),l+=A+1):(p.push(b),l=v+1)}return p}:function(n){return n.split(/\r\n?|\n/)},ml=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){try{var l=n.ownerDocument.selection.createRange()}catch{}return l&&l.parentElement()==n?l.compareEndPoints("StartToEnd",l)!=0:!1},yl=function(){var n=g("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),typeof n.oncopy=="function")}(),ha=null,pa={},cs={},hs={},Or=function(n,l,p){this.pos=this.start=0,this.string=n,this.tabSize=l||8,this.lineStart=this.lastColumnPos=this.lastColumnValue=0,this.lineOracle=p};Or.prototype.eol=function(){return this.pos>=this.string.length},Or.prototype.sol=function(){return this.pos==this.lineStart},Or.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Or.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Or.prototype.eat=function(n){var l=this.string.charAt(this.pos);if(typeof n=="string"?l==n:l&&(n.test?n.test(l):n(l)))return++this.pos,l},Or.prototype.eatWhile=function(n){for(var l=this.pos;this.eat(n););return this.pos>l},Or.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},Or.prototype.skipToEnd=function(){this.pos=this.string.length},Or.prototype.skipTo=function(n){if(n=this.string.indexOf(n,this.pos),-1<n)return this.pos=n,!0},Or.prototype.backUp=function(n){this.pos-=n},Or.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Or.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Or.prototype.match=function(n,l,p){if(typeof n=="string"){var c=function(b){return p?b.toLowerCase():b},v=this.string.substr(this.pos,n.length);if(c(v)==c(n))return l!==!1&&(this.pos+=n.length),!0}else return(n=this.string.slice(this.pos).match(n))&&0<n.index?null:(n&&l!==!1&&(this.pos+=n[0].length),n)},Or.prototype.current=function(){return this.string.slice(this.start,this.pos)},Or.prototype.hideFirstChars=function(n,l){this.lineStart+=n;try{return l()}finally{this.lineStart-=n}},Or.prototype.lookAhead=function(n){var l=this.lineOracle;return l&&l.lookAhead(n)},Or.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};var Eo=function(n,l){this.state=n,this.lookAhead=l},Wi=function(n,l,p,c){this.state=l,this.doc=n,this.line=p,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};Wi.prototype.lookAhead=function(n){var l=this.doc.getLine(this.line+n);return l!=null&&n>this.maxLookAhead&&(this.maxLookAhead=n),l},Wi.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},Wi.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Wi.fromSaved=function(n,l,p){return l instanceof Eo?new Wi(n,he(n.mode,l.state),p,l.lookAhead):new Wi(n,he(n.mode,l),p)},Wi.prototype.save=function(n){return n=n!==!1?he(this.doc.mode,this.state):this.state,0<this.maxLookAhead?new Eo(n,this.maxLookAhead):n};var da=function(n,l,p){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=l||null,this.state=p},ma=!1,nn=!1,On=function(n,l,p){this.text=n,ei(this,l),this.height=p?p(this):1};On.prototype.lineNo=function(){return Pt(this)},nt(On);var pu={},du={},In=null,Ds=null,gl={left:0,right:0,top:0,bottom:0},mn,yn=function(n,l,p){this.cm=p;var c=this.vert=g("div",[g("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=g("div",[g("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=v.tabIndex=-1,n(c),n(v),Gt(c,"scroll",function(){c.clientHeight&&l(c.scrollTop,"vertical")}),Gt(v,"scroll",function(){v.clientWidth&&l(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,pr&&8>Mr&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};yn.prototype.update=function(n){var l=n.scrollWidth>n.clientWidth+1,p=n.scrollHeight>n.clientHeight+1,c=n.nativeBarWidth;return p?(this.vert.style.display="block",this.vert.style.bottom=l?c+"px":"0",this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+(n.viewHeight-(l?c:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),l?(this.horiz.style.display="block",this.horiz.style.right=p?c+"px":"0",this.horiz.style.left=n.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+(n.viewWidth-n.barLeft-(p?c:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&0<n.clientHeight&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?c:0,bottom:l?c:0}},yn.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},yn.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},yn.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Ni&&!cu?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new xi,this.disableVert=new xi},yn.prototype.enableZeroWidthBar=function(n,l,p){function c(){var v=n.getBoundingClientRect();(p=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1))!=n?n.style.pointerEvents="none":l.set(1e3,c)}n.style.pointerEvents="auto",l.set(1e3,c)},yn.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var gn=function(){};gn.prototype.update=function(){return{bottom:0,right:0}},gn.prototype.setScrollLeft=function(){},gn.prototype.setScrollTop=function(){},gn.prototype.clear=function(){};var vl={native:yn,null:gn},ya=0,$i=function(n,l,p){var c=n.display;this.viewport=l,this.visible=Jo(c,n.doc,l),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=zt(n),this.force=p,this.dims=Oa(n),this.events=[]};$i.prototype.signal=function(n,l){De(n,l)&&this.events.push(arguments)},$i.prototype.finish=function(){for(var n=0;n<this.events.length;n++)G.apply(null,this.events[n])};var Nn=0,di=null;pr?di=-.53:pn?di=15:dn?di=-.7:oa&&(di=-1/3);var ti=function(n,l){this.ranges=n,this.primIndex=l};ti.prototype.primary=function(){return this.ranges[this.primIndex]},ti.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var p=this.ranges[l],c=n.ranges[l];if(!Si(p.anchor,c.anchor)||!Si(p.head,c.head))return!1}return!0},ti.prototype.deepCopy=function(){for(var n=[],l=0;l<this.ranges.length;l++)n[l]=new ur(Ir(this.ranges[l].anchor),Ir(this.ranges[l].head));return new ti(n,this.primIndex)},ti.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},ti.prototype.contains=function(n,l){l||(l=n);for(var p=0;p<this.ranges.length;p++){var c=this.ranges[p];if(0<=V(l,c.from())&&0>=V(n,c.to()))return p}return-1};var ur=function(n,l){this.anchor=n,this.head=l};ur.prototype.from=function(){return K(this.anchor,this.head)},ur.prototype.to=function(){return ii(this.anchor,this.head)},ur.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},si.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,l){for(var p=n,c=n+l;p<c;++p){var v=this.lines[p];this.height-=v.height;var b=v;b.parent=null,Ki(b),er(v,"delete")}this.lines.splice(n,l)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,l,p){for(this.height+=p,this.lines=this.lines.slice(0,n).concat(l).concat(this.lines.slice(n)),n=0;n<l.length;++n)l[n].parent=this},iterN:function(n,l,p){for(l=n+l;n<l;++n)if(p(this.lines[n]))return!0}},Zi.prototype={chunkSize:function(){return this.size},removeInner:function(n,l){this.size-=l;for(var p=0;p<this.children.length;++p){var c=this.children[p],v=c.chunkSize();if(n<v){var b=Math.min(l,v-n),A=c.height;if(c.removeInner(n,b),this.height-=A-c.height,v==b&&(this.children.splice(p--,1),c.parent=null),(l-=b)==0)break;n=0}else n-=v}25>this.size-l&&(1<this.children.length||!(this.children[0]instanceof si))&&(n=[],this.collapse(n),this.children=[new si(n)],this.children[0].parent=this)},collapse:function(n){for(var l=0;l<this.children.length;++l)this.children[l].collapse(n)},insertInner:function(n,l,p){this.size+=l.length,this.height+=p;for(var c=0;c<this.children.length;++c){var v=this.children[c],b=v.chunkSize();if(n<=b){if(v.insertInner(n,l,p),v.lines&&50<v.lines.length){for(l=n=v.lines.length%25+25;l<v.lines.length;)p=new si(v.lines.slice(l,l+=25)),v.height-=p.height,this.children.splice(++c,0,p),p.parent=this;v.lines=v.lines.slice(0,n),this.maybeSpill()}break}n-=b}},maybeSpill:function(){if(!(10>=this.children.length)){var n=this;do{var l=n.children.splice(n.children.length-5,5);if(l=new Zi(l),n.parent){n.size-=l.size,n.height-=l.height;var p=$(n.parent.children,n);n.parent.children.splice(p+1,0,l)}else p=new Zi(n.children),p.parent=n,n.children=[p,l],n=p;l.parent=n.parent}while(10<n.children.length);n.parent.maybeSpill()}},iterN:function(n,l,p){for(var c=0;c<this.children.length;++c){var v=this.children[c],b=v.chunkSize();if(n<b){if(b=Math.min(l,b-n),v.iterN(n,b,p))return!0;if((l-=b)==0)break;n=0}else n-=b}}};var zi=function(n,l,p){if(p)for(var c in p)p.hasOwnProperty(c)&&(this[c]=p[c]);this.doc=n,this.node=l};zi.prototype.clear=function(){var n=this.doc.cm,l=this.line.widgets,p=this.line,c=Pt(p);if(c!=null&&l){for(var v=0;v<l.length;++v)l[v]==this&&l.splice(v--,1);l.length||(p.widgets=null);var b=zn(this);Xt(p,Math.max(0,p.height-b)),n&&(gi(n,function(){var A=-b;mi(p)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&jo(n,A),Tn(n,c,"widget")}),er(n,"lineWidgetCleared",n,this,c))}},zi.prototype.changed=function(){var n=this,l=this.height,p=this.doc.cm,c=this.line;this.height=null;var v=zn(this)-l;v&&(Hi(this.doc,c)||Xt(c,c.height+v),p&&gi(p,function(){p.curOp.forceUpdate=!0,mi(c)<(p.curOp&&p.curOp.scrollTop||p.doc.scrollTop)&&jo(p,v),er(p,"lineWidgetChanged",p,n,Pt(c))}))},nt(zi);var $n=0,vi=function(n,l){this.lines=[],this.type=l,this.doc=n,this.id=++$n};vi.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,l=n&&!n.curOp;if(l&&Qn(n),De(this,"clear")){var p=this.find();p&&er(this,"clear",p.from,p.to)}for(var c=p=null,v=0;v<this.lines.length;++v){var b=this.lines[v],A=Ri(b.markedSpans,this);n&&!this.collapsed?Tn(n,Pt(b),"text"):n&&(A.to!=null&&(c=Pt(b)),A.from!=null&&(p=Pt(b)));for(var L=b,B=void 0,j=b.markedSpans,ee=A,be=0;be<j.length;++be)j[be]!=ee&&(B||(B=[])).push(j[be]);L.markedSpans=B,A.from==null&&this.collapsed&&!Hi(this.doc,b)&&n&&Xt(b,ws(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(v=0;v<this.lines.length;++v)b=fi(this.lines[v]),A=jn(b),A>n.display.maxLineLength&&(n.display.maxLine=b,n.display.maxLineLength=A,n.display.maxLineChanged=!0);p!=null&&n&&this.collapsed&&ci(n,p,c+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&Nl(n.doc)),n&&er(n,"markerCleared",n,this,p,c),l&&Yn(n),this.parent&&this.parent.clear()}},vi.prototype.find=function(n,l){n==null&&this.type=="bookmark"&&(n=1);for(var p,c,v=0;v<this.lines.length;++v){var b=this.lines[v],A=Ri(b.markedSpans,this);if(A.from!=null&&(p=Ve(l?b:Pt(b),A.from),n==-1))return p;if(A.to!=null&&(c=Ve(l?b:Pt(b),A.to),n==1))return c}return p&&{from:p,to:c}},vi.prototype.changed=function(){var n=this,l=this.find(-1,!0),p=this,c=this.doc.cm;l&&c&&gi(c,function(){var v=l.line,b=Pt(l.line);(b=Qi(c,b))&&(vs(b),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,Hi(p.doc,v)||p.height==null||(b=p.height,p.height=null,(b=zn(p)-b)&&Xt(v,v.height+b)),er(c,"markerChanged",c,n)})},vi.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;l.maybeHiddenMarkers&&$(l.maybeHiddenMarkers,this)!=-1||(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},vi.prototype.detachLine=function(n){this.lines.splice($(this.lines,n),1),!this.lines.length&&this.doc.cm&&(n=this.doc.cm.curOp,(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this))},nt(vi);var Un=function(n,l){for(this.markers=n,this.primary=l,l=0;l<n.length;++l)n[l].parent=this};Un.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();er(this,"clear")}},Un.prototype.find=function(n,l){return this.primary.find(n,l)},nt(Un);var ga=0,zr=function(n,l,p,c,v){if(!(this instanceof zr))return new zr(n,l,p,c,v);p==null&&(p=0),Zi.call(this,[new si([new On("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p,p=Ve(p,0),this.sel=fn(p),this.history=new uo(null),this.id=++ga,this.modeOption=l,this.lineSep=c,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof n=="string"&&(n=this.splitLines(n)),lo(this,{from:p,to:p,text:n}),Qr(this,fn(p),pi)};zr.prototype=te(Zi.prototype,{constructor:zr,iter:function(n,l,p){p?this.iterN(n-this.first,l-n,p):this.iterN(this.first,this.first+this.size,n)},insert:function(n,l){for(var p=0,c=0;c<l.length;++c)p+=l[c].height;this.insertInner(n-this.first,l,p)},remove:function(n,l){this.removeInner(n-this.first,l)},getValue:function(n){var l=Ht(this,this.first,this.first+this.size);return n===!1?l:l.join(n||this.lineSeparator())},setValue:Wr(function(n){var l=Ve(this.first,0),p=this.first+this.size-1;Ls(this,{from:l,to:Ve(p,Je(this,p).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&to(this.cm,0,0),Qr(this,fn(l),pi)}),replaceRange:function(n,l,p,c){l=O(this,l),p=p?O(this,p):l,Os(this,n,l,p,c)},getRange:function(n,l,p){return n=Bt(this,O(this,n),O(this,l)),p===!1?n:p===""?n.join(""):n.join(p||this.lineSeparator())},getLine:function(n){return(n=this.getLineHandle(n))&&n.text},getLineHandle:function(n){if(Zr(this,n))return Je(this,n)},getLineNumber:function(n){return Pt(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=Je(this,n)),fi(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return O(this,n)},getCursor:function(n){var l=this.sel.primary();return n==null||n=="head"?l.head:n=="anchor"?l.anchor:n=="end"||n=="to"||n===!1?l.to():l.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Wr(function(n,l,p){n=O(this,typeof n=="number"?Ve(n,l||0):n),Qr(this,fn(n,null),p)}),setSelection:Wr(function(n,l,p){var c=O(this,n);n=O(this,l||n),Qr(this,fn(c,n),p)}),extendSelection:Wr(function(n,l,p){qo(this,O(this,n),l&&O(this,l),p)}),extendSelections:Wr(function(n,l){Ol(this,U(this,n),l)}),extendSelectionsBy:Wr(function(n,l){n=le(this.sel.ranges,n),Ol(this,U(this,n),l)}),setSelections:Wr(function(n,l,p){if(n.length){for(var c=[],v=0;v<n.length;v++)c[v]=new ur(O(this,n[v].anchor),O(this,n[v].head||n[v].anchor));l==null&&(l=Math.min(n.length-1,this.sel.primIndex)),Qr(this,Ji(this.cm,c,l),p)}}),addSelection:Wr(function(n,l,p){var c=this.sel.ranges.slice(0);c.push(new ur(O(this,n),O(this,l||n))),Qr(this,Ji(this.cm,c,c.length-1),p)}),getSelection:function(n){for(var l=this.sel.ranges,p,c=0;c<l.length;c++){var v=Bt(this,l[c].from(),l[c].to());p=p?p.concat(v):v}return n===!1?p:p.join(n||this.lineSeparator())},getSelections:function(n){for(var l=[],p=this.sel.ranges,c=0;c<p.length;c++){var v=Bt(this,p[c].from(),p[c].to());n!==!1&&(v=v.join(n||this.lineSeparator())),l[c]=v}return l},replaceSelection:function(n,l,p){for(var c=[],v=0;v<this.sel.ranges.length;v++)c[v]=n;this.replaceSelections(c,l,p||"+input")},replaceSelections:Wr(function(n,l,p){for(var c=[],v=this.sel,b=0;b<v.ranges.length;b++){var A=v.ranges[b];c[b]={from:A.from(),to:A.to(),text:this.splitLines(n[b]),origin:p}}if(n=l&&l!="end"){for(n=[],v=p=Ve(this.first,0),b=0;b<c.length;b++){var L=c[b];A=Ko(L.from,p,v);var B=Ko(qi(L),p,v);p=L.to,v=B,l=="around"?(L=this.sel.ranges[b],L=0>V(L.head,L.anchor),n[b]=new ur(L?B:A,L?A:B)):n[b]=new ur(A,A)}n=new ti(n,this.sel.primIndex)}for(l=n,n=c.length-1;0<=n;n--)Ls(this,c[n]);l?Il(this,l):this.cm&&Di(this.cm)}),undo:Wr(function(){ra(this,"undo")}),redo:Wr(function(){ra(this,"redo")}),undoSelection:Wr(function(){ra(this,"undo",!0)}),redoSelection:Wr(function(){ra(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,l=0,p=0,c=0;c<n.done.length;c++)n.done[c].ranges||++l;for(c=0;c<n.undone.length;c++)n.undone[c].ranges||++p;return{undo:l,redo:p}},clearHistory:function(){var n=this;this.history=new uo(this.history),Xi(this,function(l){return l.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:kn(this.history.done),undone:kn(this.history.undone)}},setHistory:function(n){var l=this.history=new uo(this.history);l.done=kn(n.done.slice(0),null,!0),l.undone=kn(n.undone.slice(0),null,!0)},setGutterMarker:Wr(function(n,l,p){return Rn(this,n,"gutter",function(c){var v=c.gutterMarkers||(c.gutterMarkers={});return v[l]=p,!p&&Ee(v)&&(c.gutterMarkers=null),!0})}),clearGutter:Wr(function(n){var l=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[n]&&Rn(l,p,"gutter",function(){return p.gutterMarkers[n]=null,Ee(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(n){if(typeof n=="number"){if(!Zr(this,n))return null;var l=n;if(n=Je(this,n),!n)return null}else if(l=Pt(n),l==null)return null;return{line:l,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:Wr(function(n,l,p){return Rn(this,n,l=="gutter"?"gutter":"class",function(c){var v=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(c[v]){if(o(p).test(c[v]))return!1;c[v]+=" "+p}else c[v]=p;return!0})}),removeLineClass:Wr(function(n,l,p){return Rn(this,n,l=="gutter"?"gutter":"class",function(c){var v=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",b=c[v];if(b)if(p==null)c[v]=null;else{var A=b.match(o(p));if(!A)return!1;var L=A.index+A[0].length;c[v]=b.slice(0,A.index)+(A.index&&L!=b.length?" ":"")+b.slice(L)||null}else return!1;return!0})}),addLineWidget:Wr(function(n,l,p){return Pl(this,n,l,p)}),removeLineWidget:function(n){n.clear()},markText:function(n,l,p){return rs(this,O(this,n),O(this,l),p,p&&p.type||"range")},setBookmark:function(n,l){return l={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents},n=O(this,n),rs(this,n,n,l,"bookmark")},findMarksAt:function(n){n=O(this,n);var l=[],p=Je(this,n.line).markedSpans;if(p)for(var c=0;c<p.length;++c){var v=p[c];(v.from==null||v.from<=n.ch)&&(v.to==null||v.to>=n.ch)&&l.push(v.marker.parent||v.marker)}return l},findMarks:function(n,l,p){n=O(this,n),l=O(this,l);var c=[],v=n.line;return this.iter(n.line,l.line+1,function(b){if(b=b.markedSpans)for(var A=0;A<b.length;A++){var L=b[A];L.to!=null&&v==n.line&&n.ch>=L.to||L.from==null&&v!=n.line||L.from!=null&&v==l.line&&L.from>=l.ch||p&&!p(L.marker)||c.push(L.marker.parent||L.marker)}++v}),c},getAllMarks:function(){var n=[];return this.iter(function(l){if(l=l.markedSpans)for(var p=0;p<l.length;++p)l[p].from!=null&&n.push(l[p].marker)}),n},posFromIndex:function(n){var l,p=this.first,c=this.lineSeparator().length;return this.iter(function(v){if(v=v.text.length+c,v>n)return l=n,!0;n-=v,++p}),O(this,Ve(p,l))},indexFromPos:function(n){n=O(this,n);var l=n.ch;if(n.line<this.first||0>n.ch)return 0;var p=this.lineSeparator().length;return this.iter(this.first,n.line,function(c){l+=c.text.length+p}),l},copy:function(n){var l=new zr(Ht(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,n&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(n){n||(n={});var l=this.first,p=this.first+this.size;for(n.from!=null&&n.from>l&&(l=n.from),n.to!=null&&n.to<p&&(p=n.to),l=new zr(Ht(this,l,p),n.mode||this.modeOption,l,this.lineSep,this.direction),n.sharedHist&&(l.history=this.history),(this.linked||(this.linked=[])).push({doc:l,sharedHist:n.sharedHist}),l.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],n=Qa(this),p=0;p<n.length;p++){var c=n[p],v=c.find(),b=l.clipPos(v.from);v=l.clipPos(v.to),V(b,v)&&(b=rs(l,b,v,c.primary,c.primary.type),c.markers.push(b),b.parent=c)}return l},unlinkDoc:function(n){if(n instanceof Cr&&(n=n.doc),this.linked){for(var l=0;l<this.linked.length;++l)if(this.linked[l].doc==n){this.linked.splice(l,1),n.unlinkDoc(this),Jl(Qa(this));break}}if(n.history==this.history){var p=[n.id];Xi(n,function(c){return p.push(c.id)},!0),n.history=new uo(null),n.history.done=kn(this.history.done,p),n.history.undone=kn(this.history.undone,p)}},iterLinkedDocs:function(n){Xi(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):ca(n)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Wr(function(n){n!="rtl"&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(l){return l.order=null}),this.cm&&Ll(this.cm))})}),zr.prototype.eachLine=zr.prototype.iter;for(var va=0,_a=!1,Ci={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},sn=0;10>sn;sn++)Ci[sn+48]=Ci[sn+96]=String(sn);for(var wa=65;90>=wa;wa++)Ci[wa]=String.fromCharCode(wa);for(var To=1;12>=To;To++)Ci[To+111]=Ci[To+63235]="F"+To;var Js={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Js.default=Ni?Js.macDefault:Js.pcDefault;var Gs={selectAll:$l,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),pi)},killLine:function(n){return Ns(n,function(l){if(l.empty()){var p=Je(n.doc,l.head.line).text.length;return l.head.ch==p&&l.head.line<n.lastLine()?{from:l.head,to:Ve(l.head.line+1,0)}:{from:l.head,to:Ve(l.head.line,p)}}return{from:l.from(),to:l.to()}})},deleteLine:function(n){return Ns(n,function(l){return{from:Ve(l.from().line,0),to:O(n.doc,Ve(l.to().line+1,0))}})},delLineLeft:function(n){return Ns(n,function(l){return{from:Ve(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(n){return Ns(n,function(l){var p=n.charCoords(l.head,"div").top+5;return{from:n.coordsChar({left:0,top:p},"div"),to:l.from()}})},delWrappedLineRight:function(n){return Ns(n,function(l){var p=n.charCoords(l.head,"div").top+5;return p=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:p},"div"),{from:l.from(),to:p}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(Ve(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(Ve(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(l){return Xa(n,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(l){return Ql(n,l.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(l){l=l.head.line;for(var p=Je(n.doc,l),c=p,v;v=Bi(c,!1);)c=v.find(1,!0).line;return c!=p&&(l=Pt(c)),qa(!0,n,p,l,-1)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(l){return l=n.cursorCoords(l.head,"div").top+5,n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:l},"div")},rn)},goLineLeft:function(n){return n.extendSelectionsBy(function(l){return l=n.cursorCoords(l.head,"div").top+5,n.coordsChar({left:0,top:l},"div")},rn)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(l){var p=n.cursorCoords(l.head,"div").top+5;return p=n.coordsChar({left:0,top:p},"div"),p.ch<n.getLine(p.line).search(/\S/)?Ql(n,l.head):p},rn)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("	")},insertSoftTab:function(n){for(var l=[],p=n.listSelections(),c=n.options.tabSize,v=0;v<p.length;v++){var b=p[v].from();b=P(n.getLine(b.line),b.ch,c),l.push(E(c-b%c))}n.replaceSelections(l)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return gi(n,function(){for(var l=n.listSelections(),p=[],c=0;c<l.length;c++)if(l[c].empty()){var v=l[c].head,b=Je(n.doc,v.line).text;if(b){if(v.ch==b.length&&(v=new Ve(v.line,v.ch-1)),0<v.ch)v=new Ve(v.line,v.ch+1),n.replaceRange(b.charAt(v.ch-1)+b.charAt(v.ch-2),Ve(v.line,v.ch-2),v,"+transpose");else if(v.line>n.doc.first){var A=Je(n.doc,v.line-1).text;A&&(v=new Ve(v.line,1),n.replaceRange(b.charAt(0)+n.doc.lineSeparator()+A.charAt(A.length-1),Ve(v.line-1,A.length-1),v,"+transpose"))}}p.push(new ur(v,v))}n.setSelections(p)})},newlineAndIndent:function(n){return gi(n,function(){for(var l=n.listSelections(),p=l.length-1;0<=p;p--)n.replaceRange(n.doc.lineSeparator(),l[p].anchor,l[p].head,"+input");for(l=n.listSelections(),p=0;p<l.length;p++)n.indentLine(l[p].from().line,null,!0);Di(n)})},openLine:function(n){return n.replaceSelection(`
`,"start")},toggleOverwrite:function(n){return n.toggleOverwrite()}},mu=new xi,_l=null,Bn=function(n,l,p){this.time=n,this.pos=l,this.button=p};Bn.prototype.compare=function(n,l,p){return this.time+400>n&&V(l,this.pos)==0&&p==this.button};var xo,Co,Ws={toString:function(){return"CodeMirror.Init"}},wl={},ba={};Cr.defaults=wl,Cr.optionHandlers=ba;var bl=[];Cr.defineInitHook=function(n){return bl.push(n)};var wi=null,Er=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new xi,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Er.prototype.init=function(n){function l(L){for(L=L.target;L;L=L.parentNode){if(L==A)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(L.className))break}return!1}function p(L){if(l(L)&&!q(b,L)){if(b.somethingSelected())wi={lineWise:!1,text:b.getSelections()},L.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var B=ou(b);wi={lineWise:!0,text:B.text},L.type=="cut"&&b.operation(function(){b.setSelections(B.ranges,0,pi),b.replaceSelection("",null,"cut")})}else return;if(L.clipboardData){L.clipboardData.clearData();var j=wi.text.join(`
`);if(L.clipboardData.setData("Text",j),L.clipboardData.getData("Text")==j){L.preventDefault();return}}var ee=lu();L=ee.firstChild,b.display.lineSpace.insertBefore(ee,b.display.lineSpace.firstChild),L.value=wi.text.join(`
`);var be=S();tn(L),setTimeout(function(){b.display.lineSpace.removeChild(ee),be.focus(),be==A&&v.showPrimarySelection()},50)}}var c=this,v=this,b=v.cm,A=v.div=n.lineDiv;A.contentEditable=!0,au(A,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize),Gt(A,"paste",function(L){!l(L)||q(b,L)||nu(L,b)||11>=Mr&&setTimeout(Dr(b,function(){return c.updateFromDOM()}),20)}),Gt(A,"compositionstart",function(L){c.composing={data:L.data,done:!1}}),Gt(A,"compositionupdate",function(L){c.composing||(c.composing={data:L.data,done:!1})}),Gt(A,"compositionend",function(L){c.composing&&(L.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),Gt(A,"touchstart",function(){return v.forceCompositionEnd()}),Gt(A,"input",function(){c.composing||c.readFromDOMSoon()}),Gt(A,"copy",p),Gt(A,"cut",p)},Er.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},Er.prototype.prepareSelection=function(){var n=Ml(this.cm,!1);return n.focus=S()==this.div,n},Er.prototype.showSelection=function(n,l){n&&this.cm.display.view.length&&((n.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(n))},Er.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Er.prototype.showPrimarySelection=function(){var n=this.getSelection(),l=this.cm,p=l.doc.sel.primary(),c=p.from();if(p=p.to(),l.display.viewTo==l.display.viewFrom||c.line>=l.display.viewTo||p.line<l.display.viewFrom)n.removeAllRanges();else{var v=as(l,n.anchorNode,n.anchorOffset),b=as(l,n.focusNode,n.focusOffset);if(!v||v.bad||!b||b.bad||V(K(v,b),c)!=0||V(ii(v,b),p)!=0)if(v=l.display.view,c=c.line>=l.display.viewFrom&&al(l,c)||{node:v[0].measure.map[2],offset:0},p=p.line<l.display.viewTo&&al(l,p),p||(p=v[v.length-1].measure,p=p.maps?p.maps[p.maps.length-1]:p.map,p={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}),c&&p){v=n.rangeCount&&n.getRangeAt(0);try{var A=So(c.node,c.offset,p.offset,p.node)}catch{}A&&(!pn&&l.state.focused?(n.collapse(c.node,c.offset),A.collapsed||(n.removeAllRanges(),n.addRange(A))):(n.removeAllRanges(),n.addRange(A)),v&&n.anchorNode==null?n.addRange(v):pn&&this.startGracePeriod()),this.rememberSelection()}else n.removeAllRanges()}},Er.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},Er.prototype.showMultipleSelections=function(n){f(this.cm.display.cursorDiv,n.cursors),f(this.cm.display.selectionDiv,n.selection)},Er.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},Er.prototype.selectionInEditor=function(){var n=this.getSelection();return n.rangeCount?(n=n.getRangeAt(0).commonAncestorContainer,w(this.div,n)):!1},Er.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&S()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Er.prototype.blur=function(){this.div.blur()},Er.prototype.getField=function(){return this.div},Er.prototype.supportsTouch=function(){return!0},Er.prototype.receivedFocus=function(){function n(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,n))}var l=this,p=this;this.selectionInEditor()?setTimeout(function(){return l.pollSelection()},20):gi(this.cm,function(){return p.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,n)},Er.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},Er.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var n=this.getSelection(),l=this.cm;if(wo&&dn&&this.cm.display.gutterSpecs.length&&Su(n.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var p=as(l,n.anchorNode,n.anchorOffset),c=as(l,n.focusNode,n.focusOffset);p&&c&&gi(l,function(){Qr(l.doc,fn(p,c),pi),(p.bad||c.bad)&&(l.curOp.selectionChanged=!0)})}}},Er.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n=this.cm,l=n.display,p=n.doc.sel.primary(),c=p.from(),v=p.to();if(c.ch==0&&c.line>n.firstLine()&&(c=Ve(c.line-1,Je(n.doc,c.line-1).length)),v.ch==Je(n.doc,v.line).text.length&&v.line<n.lastLine()&&(v=Ve(v.line+1,0)),c.line<l.viewFrom||v.line>l.viewTo-1)return!1;var b;c.line==l.viewFrom||(b=Ti(n,c.line))==0?(p=Pt(l.view[0].line),b=l.view[0].node):(p=Pt(l.view[b].line),b=l.view[b-1].node.nextSibling);var A=Ti(n,v.line);if(A==l.view.length-1?(v=l.viewTo-1,l=l.lineDiv.lastChild):(v=Pt(l.view[A+1].line)-1,l=l.view[A+1].node.previousSibling),!b)return!1;for(l=n.doc.splitLines(ll(n,b,l,p,v)),b=Bt(n.doc,Ve(p,0),Ve(v,Je(n.doc,v).text.length));1<l.length&&1<b.length;)if(F(l)==F(b))l.pop(),b.pop(),v--;else if(l[0]==b[0])l.shift(),b.shift(),p++;else break;var L=0;A=0;for(var B=l[0],j=b[0],ee=Math.min(B.length,j.length);L<ee&&B.charCodeAt(L)==j.charCodeAt(L);)++L;for(B=F(l),j=F(b),ee=Math.min(B.length-(l.length==1?L:0),j.length-(b.length==1?L:0));A<ee&&B.charCodeAt(B.length-A-1)==j.charCodeAt(j.length-A-1);)++A;if(l.length==1&&b.length==1&&p==c.line)for(;L&&L>c.ch&&B.charCodeAt(B.length-A-1)==j.charCodeAt(j.length-A-1);)L--,A++;if(l[l.length-1]=B.slice(0,B.length-A).replace(/^\u200b+/,""),l[0]=l[0].slice(L).replace(/\u200b+$/,""),c=Ve(p,L),p=Ve(v,b.length?F(b).length-A:0),1<l.length||l[0]||V(c,p))return Os(n.doc,l,c,p,"+input"),!0},Er.prototype.ensurePolled=function(){this.forceCompositionEnd()},Er.prototype.reset=function(){this.forceCompositionEnd()},Er.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Er.prototype.readFromDOMSoon=function(){var n=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing)if(n.composing.done)n.composing=null;else return;n.updateFromDOM()},80))},Er.prototype.updateFromDOM=function(){var n=this;!this.cm.isReadOnly()&&this.pollContent()||gi(this.cm,function(){return ci(n.cm)})},Er.prototype.setUneditable=function(n){n.contentEditable="false"},Er.prototype.onKeyPress=function(n){n.charCode==0||this.composing||(n.preventDefault(),this.cm.isReadOnly()||Dr(this.cm,nl)(this.cm,String.fromCharCode(n.charCode==null?n.keyCode:n.charCode),0))},Er.prototype.readOnlyChanged=function(n){this.div.contentEditable=String(n!="nocursor")},Er.prototype.onContextMenu=function(){},Er.prototype.resetPosition=function(){},Er.prototype.needsContentAttribute=!0;var Nr=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new xi,this.hasSelection=!1,this.composing=null};Nr.prototype.init=function(n){function l(A){if(!q(v,A)){if(v.somethingSelected())wi={lineWise:!1,text:v.getSelections()};else if(v.options.lineWiseCopyCut){var L=ou(v);wi={lineWise:!0,text:L.text},A.type=="cut"?v.setSelections(L.ranges,null,pi):(c.prevInput="",b.value=L.text.join(`
`),tn(b))}else return;A.type=="cut"&&(v.state.cutIncoming=+new Date)}}var p=this,c=this,v=this.cm;this.createField(n);var b=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),_o&&(b.style.width="0px"),Gt(b,"input",function(){pr&&9<=Mr&&p.hasSelection&&(p.hasSelection=null),c.poll()}),Gt(b,"paste",function(A){q(v,A)||nu(A,v)||(v.state.pasteIncoming=+new Date,c.fastPoll())}),Gt(b,"cut",l),Gt(b,"copy",l),Gt(n.scroller,"paste",function(A){if(!J(n,A)&&!q(v,A))if(b.dispatchEvent){var L=new Event("paste");L.clipboardData=A.clipboardData,b.dispatchEvent(L)}else v.state.pasteIncoming=+new Date,c.focus()}),Gt(n.lineSpace,"selectstart",function(A){J(n,A)||ft(A)}),Gt(b,"compositionstart",function(){var A=v.getCursor("from");c.composing&&c.composing.range.clear(),c.composing={start:A,range:v.markText(A,v.getCursor("to"),{className:"CodeMirror-composing"})}}),Gt(b,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},Nr.prototype.createField=function(n){this.wrapper=lu(),this.textarea=this.wrapper.firstChild},Nr.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},Nr.prototype.prepareSelection=function(){var n=this.cm,l=n.display,p=n.doc,c=Ml(n);if(n.options.moveInputWithCursor){n=Rr(n,p.sel.primary().head,"div"),p=l.wrapper.getBoundingClientRect();var v=l.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,n.top+v.top-p.top)),c.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,n.left+v.left-p.left))}return c},Nr.prototype.showSelection=function(n){var l=this.cm.display;f(l.cursorDiv,n.cursors),f(l.selectionDiv,n.selection),n.teTop!=null&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},Nr.prototype.reset=function(n){if(!this.contextMenuPending&&!this.composing){var l=this.cm;l.somethingSelected()?(this.prevInput="",n=l.getSelection(),this.textarea.value=n,l.state.focused&&tn(this.textarea),pr&&9<=Mr&&(this.hasSelection=n)):n||(this.prevInput=this.textarea.value="",pr&&9<=Mr&&(this.hasSelection=null))}},Nr.prototype.getField=function(){return this.textarea},Nr.prototype.supportsTouch=function(){return!1},Nr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!bo||S()!=this.textarea))try{this.textarea.focus()}catch{}},Nr.prototype.blur=function(){this.textarea.blur()},Nr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Nr.prototype.receivedFocus=function(){this.slowPoll()},Nr.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},Nr.prototype.fastPoll=function(){function n(){p.poll()||l?(p.pollingFast=!1,p.slowPoll()):(l=!0,p.polling.set(60,n))}var l=!1,p=this;p.pollingFast=!0,p.polling.set(20,n)},Nr.prototype.poll=function(){var n=this,l=this.cm,p=this.textarea,c=this.prevInput;if(this.contextMenuPending||!l.state.focused||ml(p)&&!c&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var v=p.value;if(v==c&&!l.somethingSelected())return!1;if(pr&&9<=Mr&&this.hasSelection===v||Ni&&/[\uf700-\uf7ff]/.test(v))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var b=v.charCodeAt(0);if(b!=8203||c||(c="​"),b==8666)return this.reset(),this.cm.execCommand("undo")}var A=0;for(b=Math.min(c.length,v.length);A<b&&c.charCodeAt(A)==v.charCodeAt(A);)++A;return gi(l,function(){nl(l,v.slice(A),c.length-A,null,n.composing?"*compose":null),1e3<v.length||-1<v.indexOf(`
`)?p.value=n.prevInput="":n.prevInput=v,n.composing&&(n.composing.range.clear(),n.composing.range=l.markText(n.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Nr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Nr.prototype.onKeyPress=function(){pr&&9<=Mr&&(this.hasSelection=null),this.fastPoll()},Nr.prototype.onContextMenu=function(n){function l(){if(A.selectionStart!=null){var Me=v.somethingSelected(),qe="​"+(Me?A.value:"");A.value="⇚",A.value=qe,c.prevInput=Me?"":"​",A.selectionStart=1,A.selectionEnd=qe.length,b.selForContextMenu=v.doc.sel}}function p(){if(c.contextMenuPending==p&&(c.contextMenuPending=!1,c.wrapper.style.cssText=ee,A.style.cssText=j,pr&&9>Mr&&b.scrollbars.setScrollTop(b.scroller.scrollTop=B),A.selectionStart!=null)){(!pr||pr&&9>Mr)&&l();var Me=0,qe=function(){b.selForContextMenu==v.doc.sel&&A.selectionStart==0&&0<A.selectionEnd&&c.prevInput=="​"?Dr(v,$l)(v):10>Me++?b.detectingSelectAll=setTimeout(qe,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(qe,200)}}var c=this,v=c.cm,b=v.display,A=c.textarea;c.contextMenuPending&&c.contextMenuPending();var L=Vn(v,n),B=b.scroller.scrollTop;if(L&&!Gi){v.options.resetSelectionOnContextMenu&&v.doc.sel.contains(L)==-1&&Dr(v,Qr)(v.doc,fn(L),pi);var j=A.style.cssText,ee=c.wrapper.style.cssText;if(L=c.wrapper.offsetParent.getBoundingClientRect(),c.wrapper.style.cssText="position: static",A.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(n.clientY-L.top-5)+"px; left: "+(n.clientX-L.left-5)+`px;
      z-index: 1000; background: `+(pr?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,oi)var be=window.scrollY;if(b.input.focus(),oi&&window.scrollTo(null,be),b.input.reset(),v.somethingSelected()||(A.value=c.prevInput=" "),c.contextMenuPending=p,b.selForContextMenu=v.doc.sel,clearTimeout(b.detectingSelectAll),pr&&9<=Mr&&l(),cl){kt(n);var xe=function(){Y(window,"mouseup",xe),setTimeout(p,20)};Gt(window,"mouseup",xe)}else setTimeout(p,50)}},Nr.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled=n=="nocursor",this.textarea.readOnly=!!n},Nr.prototype.setUneditable=function(){},Nr.prototype.needsContentAttribute=!1,function(n){function l(c,v,b,A){n.defaults[c]=v,b&&(p[c]=A?function(L,B,j){j!=Ws&&b(L,B,j)}:b)}var p=n.optionHandlers;n.defineOption=l,n.Init=Ws,l("value","",function(c,v){return c.setValue(v)},!0),l("mode",null,function(c,v){c.doc.modeOption=v,An(c)},!0),l("indentUnit",2,An,!0),l("indentWithTabs",!1),l("smartIndent",!0),l("tabSize",4,function(c){Xn(c),_s(c),ci(c)},!0),l("lineSeparator",null,function(c,v){if(c.doc.lineSep=v){var b=[],A=c.doc.first;c.doc.iter(function(B){for(var j=0;;){var ee=B.text.indexOf(v,j);if(ee==-1)break;j=ee+v.length,b.push(Ve(A,ee))}A++});for(var L=b.length-1;0<=L;L--)Os(c.doc,v,b[L],Ve(b[L].line,b[L].ch+v.length))}}),l("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(c,v,b){c.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),b!=Ws&&c.refresh()}),l("specialCharPlaceholder",Ea,function(c){return c.refresh()},!0),l("electricChars",!0),l("inputStyle",bo?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor")},!0),l("spellcheck",!1,function(c,v){return c.getInputField().spellcheck=v},!0),l("autocorrect",!1,function(c,v){return c.getInputField().autocorrect=v},!0),l("autocapitalize",!1,function(c,v){return c.getInputField().autocapitalize=v},!0),l("rtlMoveVisually",!Cu),l("wholeLineUpdateBefore",!0),l("theme","default",function(c){vo(c),Rs(c)},!0),l("keyMap","default",function(c,v,b){v=ia(v),(b=b!=Ws&&ia(b))&&b.detach&&b.detach(c,v),v.attach&&v.attach(c,b||null)}),l("extraKeys",null),l("configureMouse",null),l("lineWrapping",!1,ru,!0),l("gutters",[],function(c,v){c.display.gutterSpecs=qn(v,c.options.lineNumbers),Rs(c)},!0),l("fixedGutter",!0,function(c,v){c.display.gutters.style.left=v?Ia(c.display)+"px":"0",c.refresh()},!0),l("coverGutterNextToScrollbar",!1,function(c){return Hn(c)},!0),l("scrollbarStyle","native",function(c){Wo(c),Hn(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),l("lineNumbers",!1,function(c,v){c.display.gutterSpecs=qn(c.options.gutters,v),Rs(c)},!0),l("firstLineNumber",1,Rs,!0),l("lineNumberFormatter",function(c){return c},Rs,!0),l("showCursorWhenSelecting",!1,Es,!0),l("resetSelectionOnContextMenu",!0),l("lineWiseCopyCut",!0),l("pasteLinesPerSelection",!0),l("selectionsMayTouch",!1),l("readOnly",!1,function(c,v){v=="nocursor"&&(Cs(c),c.display.input.blur()),c.display.input.readOnlyChanged(v)}),l("screenReaderLabel",null,function(c,v){c.display.input.screenReaderLabelChanged(v===""?null:v)}),l("disableInput",!1,function(c,v){v||c.display.input.reset()},!0),l("dragDrop",!0,tu),l("allowDropFileTypes",null),l("cursorBlinkRate",530),l("cursorScrollMargin",0),l("cursorHeight",1,Es,!0),l("singleCursorHeightPerLine",!0,Es,!0),l("workTime",100),l("workDelay",100),l("flattenSpans",!0,Xn,!0),l("addModeClass",!1,Xn,!0),l("pollInterval",100),l("undoDepth",200,function(c,v){return c.doc.history.undoDepth=v}),l("historyEventDelay",1250),l("viewportMargin",10,function(c){return c.refresh()},!0),l("maxHighlightLength",1e4,Xn,!0),l("moveInputWithCursor",!0,function(c,v){v||c.display.input.resetPosition()}),l("tabindex",null,function(c,v){return c.display.input.getField().tabIndex=v||""}),l("autofocus",null),l("direction","ltr",function(c,v){return c.doc.setDirection(v)},!0),l("phrases",null)}(Cr),function(n){var l=n.optionHandlers,p=n.helpers={};n.prototype={constructor:n,focus:function(){window.focus(),this.display.input.focus()},setOption:function(c,v){var b=this.options,A=b[c];(b[c]!=v||c=="mode")&&(b[c]=v,l.hasOwnProperty(c)&&Dr(this,l[c])(this,v,A),G(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,v){this.state.keyMaps[v?"push":"unshift"](ia(c))},removeKeyMap:function(c){for(var v=this.state.keyMaps,b=0;b<v.length;++b)if(v[b]==c||v[b].name==c)return v.splice(b,1),!0},addOverlay:ni(function(c,v){var b=c.token?c:n.getMode(this.options,c);if(b.startState)throw Error("Overlays may not be stateful.");W(this.state.overlays,{mode:b,modeSpec:c,opaque:v&&v.opaque,priority:v&&v.priority||0},function(A){return A.priority}),this.state.modeGen++,ci(this)}),removeOverlay:ni(function(c){for(var v=this.state.overlays,b=0;b<v.length;++b){var A=v[b].modeSpec;if(A==c||typeof c=="string"&&A.name==c){v.splice(b,1),this.state.modeGen++,ci(this);break}}}),indentLine:ni(function(c,v,b){typeof v!="string"&&typeof v!="number"&&(v=v==null?this.options.smartIndent?"smart":"prev":v?"add":"subtract"),Zr(this.doc,c)&&Us(this,c,v,b)}),indentSelection:ni(function(c){for(var v=this.doc.sel.ranges,b=-1,A=0;A<v.length;A++){var L=v[A];if(L.empty())L.head.line>b&&(Us(this,L.head.line,c,!0),b=L.head.line,A==this.doc.sel.primIndex&&Di(this));else{var B=L.from();L=L.to();var j=Math.max(b,B.line);for(b=Math.min(this.lastLine(),L.line-(L.ch?0:1))+1,L=j;L<b;++L)Us(this,L,c);L=this.doc.sel.ranges,B.ch==0&&v.length==L.length&&0<L[A].from().ch&&Va(this.doc,A,new ur(B,L[A].to()),pi)}}}),getTokenAt:function(c,v){return br(this,c,v)},getLineTokens:function(c,v){return br(this,Ve(c),v,!0)},getTokenTypeAt:function(c){c=O(this.doc,c);var v=Le(this,Je(this.doc,c.line)),b=0,A=(v.length-1)/2;if(c=c.ch,c==0)v=v[2];else for(;;){var L=b+A>>1;if((L?v[2*L-1]:0)>=c)A=L;else if(v[2*L+1]<c)b=L+1;else{v=v[2*L+2];break}}return b=v?v.indexOf("overlay "):-1,0>b?v:b==0?null:v.slice(0,b-1)},getModeAt:function(c){var v=this.doc.mode;return v.innerMode?n.innerMode(v,this.getTokenAt(c).state).mode:v},getHelper:function(c,v){return this.getHelpers(c,v)[0]},getHelpers:function(c,v){var b=[];if(!p.hasOwnProperty(v))return b;var A=p[v];if(c=this.getModeAt(c),typeof c[v]=="string")A[c[v]]&&b.push(A[c[v]]);else if(c[v])for(var L=0;L<c[v].length;L++){var B=A[c[v][L]];B&&b.push(B)}else c.helperType&&A[c.helperType]?b.push(A[c.helperType]):A[c.name]&&b.push(A[c.name]);for(v=0;v<A._global.length;v++)L=A._global[v],L.pred(c,this)&&$(b,L.val)==-1&&b.push(L.val);return b},getStateAfter:function(c,v){var b=this.doc;return c=Math.max(b.first,Math.min(c??b.first+b.size-1,b.first+b.size-1)),We(this,c+1,v).state},cursorCoords:function(c,v){var b=this.doc.sel.primary();return c=c==null?b.head:typeof c=="object"?O(this.doc,c):c?b.from():b.to(),Rr(this,c,v||"page")},charCoords:function(c,v){return yi(this,O(this.doc,c),v||"page")},coordsChar:function(c,v){return c=xl(this,c,v||"page"),Ma(this,c.left,c.top)},lineAtHeight:function(c,v){return c=xl(this,{top:c,left:0},v||"page").top,Xr(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,v,b){var A=!1;if(typeof c=="number"){var L=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>L&&(c=L,A=!0),c=Je(this.doc,c)}return Fo(this,c,{top:0,left:0},v||"page",b||A).top+(A?this.doc.height-mi(c):0)},defaultTextHeight:function(){return ws(this.display)},defaultCharWidth:function(){return bs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,v,b,A,L){var B=this.display;c=Rr(this,O(this.doc,c));var j=c.bottom,ee=c.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),B.sizer.appendChild(v),A=="over")j=c.top;else if(A=="above"||A=="near"){var be=Math.max(B.wrapper.clientHeight,this.doc.height),xe=Math.max(B.sizer.clientWidth,B.lineSpace.clientWidth);(A=="above"||c.bottom+v.offsetHeight>be)&&c.top>v.offsetHeight?j=c.top-v.offsetHeight:c.bottom+v.offsetHeight<=be&&(j=c.bottom),ee+v.offsetWidth>xe&&(ee=xe-v.offsetWidth)}v.style.top=j+"px",v.style.left=v.style.right="",L=="right"?(ee=B.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(L=="left"?ee=0:L=="middle"&&(ee=(B.sizer.clientWidth-v.offsetWidth)/2),v.style.left=ee+"px"),b&&(c=Fa(this,{left:ee,top:j,right:ee+v.offsetWidth,bottom:j+v.offsetHeight}),c.scrollTop!=null&&ro(this,c.scrollTop),c.scrollLeft!=null&&Cn(this,c.scrollLeft))},triggerOnKeyDown:ni(Za),triggerOnKeyPress:ni(tl),triggerOnKeyUp:el,triggerOnMouseDown:ni(rl),execCommand:function(c){if(Gs.hasOwnProperty(c))return Gs[c].call(null,this)},triggerElectric:ni(function(c){su(this,c)}),findPosH:function(c,v,b,A){var L=1;0>v&&(L=-1,v=-v),c=O(this.doc,c);for(var B=0;B<v&&(c=sl(this.doc,c,L,b,A),!c.hitSide);++B);return c},moveH:ni(function(c,v){var b=this;this.extendSelectionsBy(function(A){return b.display.shift||b.doc.extend||A.empty()?sl(b.doc,A.head,c,v,b.options.rtlMoveVisually):0>c?A.from():A.to()},rn)}),deleteH:ni(function(c,v){var b=this.doc;this.doc.sel.somethingSelected()?b.replaceSelection("",null,"+delete"):Ns(this,function(A){var L=sl(b,A.head,c,v,!1);return 0>c?{from:L,to:A.head}:{from:A.head,to:L}})}),findPosV:function(c,v,b,A){var L=1;0>v&&(L=-1,v=-v);var B=O(this.doc,c);for(c=0;c<v&&(B=Rr(this,B,"div"),A==null?A=B.left:B.left=A,B=ol(this,B,L,b),!B.hitSide);++c);return B},moveV:ni(function(c,v){var b=this,A=this.doc,L=[],B=!this.display.shift&&!A.extend&&A.sel.somethingSelected();if(A.extendSelectionsBy(function(ee){if(B)return 0>c?ee.from():ee.to();var be=Rr(b,ee.head,"div");ee.goalColumn!=null&&(be.left=ee.goalColumn),L.push(be.left);var xe=ol(b,be,c,v);return v=="page"&&ee==A.sel.primary()&&jo(b,yi(b,xe,"div").top-be.top),xe},rn),L.length)for(var j=0;j<A.sel.ranges.length;j++)A.sel.ranges[j].goalColumn=L[j]}),findWordAt:function(c){var v=Je(this.doc,c.line).text,b=c.ch,A=c.ch;if(v){var L=this.getHelper(c,"wordChars");c.sticky!="before"&&A!=v.length||!b?++A:--b;var B=v.charAt(b);for(B=ie(B,L)?function(j){return ie(j,L)}:/\s/.test(B)?function(j){return/\s/.test(j)}:function(j){return!/\s/.test(j)&&!ie(j)};0<b&&B(v.charAt(b-1));)--b;for(;A<v.length&&B(v.charAt(A));)++A}return new ur(Ve(c.line,b),Ve(c.line,A))},toggleOverwrite:function(c){(c==null||c!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?M(this.display.cursorDiv,"CodeMirror-overwrite"):en(this.display.cursorDiv,"CodeMirror-overwrite"),G(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==S()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ni(function(c,v){to(this,c,v)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-mt(this)-this.display.barHeight,width:c.scrollWidth-mt(this)-this.display.barWidth,clientHeight:nr(this),clientWidth:zt(this)}},scrollIntoView:ni(function(c,v){c==null?(c={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof c=="number"?c={from:Ve(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=v||0,c.from.line!=null?(Go(this),this.curOp.scrollToPos=c):Ms(this,c.from,c.to,c.margin)}),setSize:ni(function(c,v){var b=this,A=function(B){return typeof B=="number"||/^\d+$/.test(String(B))?B+"px":B};c!=null&&(this.display.wrapper.style.width=A(c)),v!=null&&(this.display.wrapper.style.height=A(v)),this.options.lineWrapping&&Uo(this);var L=this.display.viewFrom;this.doc.iter(L,this.display.viewTo,function(B){if(B.widgets){for(var j=0;j<B.widgets.length;j++)if(B.widgets[j].noHScroll){Tn(b,L,"widget");break}}++L}),this.curOp.forceUpdate=!0,G(this,"refresh",this)}),operation:function(c){return gi(this,c)},startOperation:function(){return Qn(this)},endOperation:function(){return Yn(this)},refresh:ni(function(){var c=this.display.cachedTextHeight;ci(this),this.curOp.forceUpdate=!0,_s(this),to(this,this.doc.scrollLeft,this.doc.scrollTop),ks(this.display),(c==null||.5<Math.abs(c-ws(this.display))||this.options.lineWrapping)&&Na(this),G(this,"refresh",this)}),swapDoc:ni(function(c){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),ja(this,c),_s(this),this.display.input.reset(),to(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,er(this,"swapDoc",this,v),v}),phrase:function(c){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,c)?v[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},nt(n),n.registerHelper=function(c,v,b){p.hasOwnProperty(c)||(p[c]=n[c]={_global:[]}),p[c][v]=b},n.registerGlobalHelper=function(c,v,b,A){n.registerHelper(c,v,A),p[c]._global.push({pred:b,val:A})}}(Cr);var Mu="iter insert remove copy getEditor constructor".split(" "),Mo;for(Mo in zr.prototype)zr.prototype.hasOwnProperty(Mo)&&0>$(Mu,Mo)&&(Cr.prototype[Mo]=function(n){return function(){return n.apply(this.doc,arguments)}}(zr.prototype[Mo]));return nt(zr),Cr.inputStyles={textarea:Nr,contenteditable:Er},Cr.defineMode=function(n){Cr.defaults.mode||n=="null"||(Cr.defaults.mode=n),Re.apply(this,arguments)},Cr.defineMIME=function(n,l){cs[n]=l},Cr.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),Cr.defineMIME("text/plain","null"),Cr.defineExtension=function(n,l){Cr.prototype[n]=l},Cr.defineDocExtension=function(n,l){zr.prototype[n]=l},Cr.fromTextArea=function(n,l){function p(){n.value=L.getValue()}if(l=l?k(l):{},l.value=n.value,!l.tabindex&&n.tabIndex&&(l.tabindex=n.tabIndex),!l.placeholder&&n.placeholder&&(l.placeholder=n.placeholder),l.autofocus==null){var c=S();l.autofocus=c==n||n.getAttribute("autofocus")!=null&&c==document.body}if(n.form&&(Gt(n.form,"submit",p),!l.leaveSubmitMethodAlone)){var v=n.form,b=v.submit;try{var A=v.submit=function(){p(),v.submit=b,v.submit(),v.submit=A}}catch{}}l.finishInit=function(B){B.save=p,B.getTextArea=function(){return n},B.toTextArea=function(){B.toTextArea=isNaN,p(),n.parentNode.removeChild(B.getWrapperElement()),n.style.display="",n.form&&(Y(n.form,"submit",p),l.leaveSubmitMethodAlone||typeof n.form.submit!="function"||(n.form.submit=b))}},n.style.display="none";var L=Cr(function(B){return n.parentNode.insertBefore(B,n.nextSibling)},l);return L},function(n){n.off=Y,n.on=Gt,n.wheelEventPixels=_u,n.Doc=zr,n.splitLines=ca,n.countColumn=P,n.findColumn=I,n.isWordChar=oe,n.Pass=aa,n.signal=G,n.Line=On,n.changeEnd=qi,n.scrollbarModel=vl,n.Pos=Ve,n.cmpPos=V,n.modes=pa,n.mimeModes=cs,n.resolveMode=at,n.getMode=At,n.modeExtensions=hs,n.extendMode=Ut,n.copyState=he,n.startState=tt,n.innerMode=ue,n.commands=Gs,n.keyMap=Js,n.keyName=Kl,n.isModifierKey=Ya,n.lookupKey=ss,n.normalizeKeyMap=ns,n.StringStream=Or,n.SharedTextMarker=Un,n.TextMarker=vi,n.LineWidget=zi,n.e_preventDefault=ft,n.e_stopPropagation=wt,n.e_stop=kt,n.addClass=M,n.contains=w,n.rmClass=en,n.keyNames=Ci}(Cr),Cr.version="5.65.0",Cr})}(codemirror$1)),codemirror$1.exports}var codemirrorExports=requireCodemirror();const CodeMirror=getDefaultExportFromCjs(codemirrorExports);(function(e,t){(function(r){r(requireCodemirror())})(function(r){r.defineMode("javascript",function(o,u){var f,g,_;function w(J,ye,He){return ln=J,Wn=He,ye}function S(J,ye){var He=J.next();if(He=='"'||He=="'")return ye.tokenize=M(He),ye.tokenize(J,ye);if(He=="."&&J.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return w("number","number");if(He=="."&&J.match(".."))return w("spread","meta");if(/[\[\]{}\(\),;:\.]/.test(He))return w(He);if(He=="="&&J.eat(">"))return w("=>","operator");if(He=="0"&&J.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return w("number","number");if(/\d/.test(He))return J.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),w("number","number");if(He=="/"){if(J.eat("*"))return ye.tokenize=C,C(J,ye);if(J.eat("/"))return J.skipToEnd(),w("comment","comment");if(Io(J,ye,1)){e:for(var mt=ye=!1;(He=J.next())!=null;){if(!ye){if(He=="/"&&!mt)break e;He=="["?mt=!0:mt&&He=="]"&&(mt=!1)}ye=!ye&&He=="\\"}return J.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),w("regexp","string-2")}return J.eat("="),w("operator","operator",J.current())}if(He=="`")return ye.tokenize=T,T(J,ye);if(He=="#"&&J.peek()=="!")return J.skipToEnd(),w("meta","meta");if(He=="#"&&J.eatWhile(ys))return w("variable","property");if(He=="<"&&J.match("!--")||He=="-"&&J.match("->")&&!/\S/.test(J.string.slice(0,J.start)))return J.skipToEnd(),w("comment","comment");if(bn.test(He))return He==">"&&ye.lexical&&ye.lexical.type==">"||(J.eat("=")?He!="!"&&He!="="||J.eat("="):/[<>*+\-|&?]/.test(He)&&(J.eat(He),He==">"&&J.eat(He))),He=="?"&&J.eat(".")?w("."):w("operator","operator",J.current());if(ys.test(He)){if(J.eatWhile(ys),He=J.current(),ye.lastType!="."){if(Xs.propertyIsEnumerable(He))return J=Xs[He],w(J.type,J.style,He);if(He=="async"&&J.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return w("async","keyword",He)}return w("variable","variable",He)}}function M(J){return function(ye,He){var mt=!1,zt;if(Gn&&ye.peek()=="@"&&ye.match($o))return He.tokenize=S,w("jsonld-keyword","meta");for(;(zt=ye.next())!=null&&(zt!=J||mt);)mt=!mt&&zt=="\\";return mt||(He.tokenize=S),w("string","string")}}function C(J,ye){for(var He=!1,mt;mt=J.next();){if(mt=="/"&&He){ye.tokenize=S;break}He=mt=="*"}return w("comment","comment")}function T(J,ye){for(var He=!1,mt;(mt=J.next())!=null;){if(!He&&(mt=="`"||mt=="$"&&J.eat("{"))){ye.tokenize=S;break}He=!He&&mt=="\\"}return w("quasi","string-2",J.current())}function k(J,ye){ye.fatArrowAt&&(ye.fatArrowAt=null);var He=J.string.indexOf("=>",J.start);if(!(0>He)){if(er){var mt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(J.string.slice(J.start,He));mt&&(He=mt.index)}mt=0;var zt=!1;for(--He;0<=He;--He){var nr=J.string.charAt(He),Pr="([{}])".indexOf(nr);if(0<=Pr&&3>Pr){if(!mt){++He;break}if(--mt==0){nr=="("&&(zt=!0);break}}else if(3<=Pr&&6>Pr)++mt;else if(ys.test(nr))zt=!0;else if(/["'\/`]/.test(nr))for(;;--He){if(He==0)return;if(J.string.charAt(He-1)==nr&&J.string.charAt(He-2)!="\\"){He--;break}}else if(zt&&!mt){++He;break}}zt&&!mt&&(ye.fatArrowAt=He)}}function P(J,ye,He,mt,zt,nr){this.indented=J,this.column=ye,this.type=He,this.prev=zt,this.info=nr,mt!=null&&(this.align=mt)}function $(J,ye,He,mt,zt){var nr=J.cc;for(f=J,g=zt,_=null,gs=nr,Sn=ye,J.lexical.hasOwnProperty("align")||(J.lexical.align=!0);;)if((nr.length?nr.pop():Oi?Y:we)(He,mt)){for(;nr.length&&nr[nr.length-1].lex;)nr.pop()();if(_)return _;if(He=He=="variable")e:if(No){for(He=J.localVars;He;He=He.next)if(He.name==mt){He=!0;break e}for(J=J.context;J;J=J.prev)for(He=J.vars;He;He=He.next)if(He.name==mt){He=!0;break e}He=void 0}else He=!1;return He?"variable-2":ye}}function I(){for(var J=arguments.length-1;0<=J;J--)gs.push(arguments[J])}function E(){return I.apply(null,arguments),!0}function F(J,ye){for(;ye;ye=ye.next)if(ye.name==J)return!0;return!1}function le(J){var ye=f;if(_="def",No){if(ye.context){if(ye.lexical.info=="var"&&ye.context&&ye.context.block){var He=W(J,ye.context);if(He!=null){ye.context=He;return}}else if(!F(J,ye.localVars)){ye.localVars=new oe(J,ye.localVars);return}}u.globalVars&&!F(J,ye.globalVars)&&(ye.globalVars=new oe(J,ye.globalVars))}}function W(J,ye){return ye?ye.block?(J=W(J,ye.prev))?J==ye.prev?ye:new te(J,ye.vars,!0):null:F(J,ye.vars)?ye:new te(ye.prev,new oe(J,ye.vars),!1):null}function ae(J){return J=="public"||J=="private"||J=="protected"||J=="abstract"||J=="readonly"}function te(J,ye,He){this.prev=J,this.vars=ye,this.block=He}function oe(J,ye){this.name=J,this.next=ye}function ie(){f.context=new te(f.context,f.localVars,!1),f.localVars=zn}function Ee(){f.context=new te(f.context,f.localVars,!0),f.localVars=null}function D(){f.localVars=f.context.vars,f.context=f.context.prev}function me(J,ye){var He=function(){var mt=f,zt=mt.indented;if(mt.lexical.type=="stat")zt=mt.lexical.indented;else for(var nr=mt.lexical;nr&&nr.type==")"&&nr.align;nr=nr.prev)zt=nr.indented;mt.lexical=new P(zt,g.column(),J,null,mt.lexical,ye)};return He.lex=!0,He}function z(){var J=f;J.lexical.prev&&(J.lexical.type==")"&&(J.indented=J.lexical.indented),J.lexical=J.lexical.prev)}function pe(J){function ye(He){return He==J?E():J==";"||He=="}"||He==")"||He=="]"?I():E(ye)}return ye}function we(J,ye){return J=="var"?E(me("vardef",ye),rt,pe(";"),z):J=="keyword a"?E(me("form"),q,we,z):J=="keyword b"?E(me("form"),we,z):J=="keyword d"?g.match(/^\s*$/,!1)?E():E(me("stat"),De,pe(";"),z):J=="debugger"?E(pe(";")):J=="{"?E(me("}"),Ee,Xt,z,D):J==";"?E():J=="if"?(f.lexical.info=="else"&&f.cc[f.cc.length-1]==z&&f.cc.pop()(),E(me("form"),q,we,z,ko)):J=="function"?E(Ei):J=="for"?E(me("form"),Ee,Ro,we,D,z):J=="class"||er&&ye=="interface"?(_="keyword",E(me("form",J=="class"?J:ye),ds,z)):J=="variable"?er&&ye=="declare"?(_="keyword",E(we)):er&&(ye=="module"||ye=="enum"||ye=="type")&&g.match(/^\s*\w/,!1)?(_="keyword",ye=="enum"?E(Qs):ye=="type"?E(Lo,pe("operator"),Ve,pe(";")):E(me("form"),jt,pe("{"),me("}"),Xt,z,z)):er&&ye=="namespace"?(_="keyword",E(me("form"),Y,we,z)):er&&ye=="abstract"?(_="keyword",E(we)):E(me("stat"),Ut):J=="switch"?E(me("form"),q,pe("{"),me("}","switch"),Ee,Xt,z,z,D):J=="case"?E(Y,pe(":")):J=="default"?E(pe(":")):J=="catch"?E(me("form"),ie,Q,we,z,D):J=="export"?E(me("stat"),Ks,z):J=="import"?E(me("stat"),Hi,z):J=="async"?E(we):ye=="@"?E(Y,we):I(me("stat"),Y,pe(";"),z)}function Q(J){if(J=="(")return E(Ki,pe(")"))}function Y(J,ye){return Te(J,ye,!1)}function G(J,ye){return Te(J,ye,!0)}function q(J){return J!="("?I():E(me(")"),De,pe(")"),z)}function Te(J,ye,He){if(f.fatArrowAt==g.start){var mt=He?$e:kt;if(J=="(")return E(ie,me(")"),Bt(Ki,")"),z,pe("=>"),mt,D);if(J=="variable")return I(ie,jt,pe("=>"),mt,D)}return mt=He?ft:nt,Ta.hasOwnProperty(J)?E(mt):J=="function"?E(Ei,mt):J=="class"||er&&ye=="interface"?(_="keyword",E(me("form"),ei,z)):J=="keyword c"||J=="async"?E(He?G:Y):J=="("?E(me(")"),De,pe(")"),z,mt):J=="operator"||J=="spread"?E(He?G:Y):J=="["?E(me("]"),Oo,z,mt):J=="{"?Ht(ue,"}",null,mt):J=="quasi"?I(wt,mt):J=="new"?E(Re(He)):E()}function De(J){return J.match(/[;\}\)\],]/)?I():I(Y)}function nt(J,ye){return J==","?E(De):ft(J,ye,!1)}function ft(J,ye,He){var mt=He==0?nt:ft,zt=He==0?Y:G;if(J=="=>")return E(ie,He?$e:kt,D);if(J=="operator")return/\+\+|--/.test(ye)||er&&ye=="!"?E(mt):er&&ye=="<"&&g.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?E(me(">"),Bt(Ve,">"),z,mt):ye=="?"?E(Y,pe(":"),zt):E(zt);if(J=="quasi")return I(wt,mt);if(J!=";"){if(J=="(")return Ht(G,")","call",mt);if(J==".")return E(he,mt);if(J=="[")return E(me("]"),De,pe("]"),z,mt);if(er&&ye=="as")return _="keyword",E(Ve,mt);if(J=="regexp")return f.lastType=_="operator",g.backUp(g.pos-g.start-1),E(zt)}}function wt(J,ye){return J!="quasi"?I():ye.slice(ye.length-2)!="${"?E(wt):E(De,Et)}function Et(J){if(J=="}")return _="string-2",f.tokenize=T,E(wt)}function kt(J){return k(g,f),I(J=="{"?we:Y)}function $e(J){return k(g,f),I(J=="{"?we:G)}function Re(J){return function(ye){return ye=="."?E(J?At:at):ye=="variable"&&er?E(ce,J?ft:nt):I(J?G:Y)}}function at(J,ye){if(ye=="target")return _="keyword",E(nt)}function At(J,ye){if(ye=="target")return _="keyword",E(ft)}function Ut(J){return J==":"?E(z,we):I(nt,pe(";"),z)}function he(J){if(J=="variable")return _="property",E()}function ue(J,ye){if(J=="async")return _="property",E(ue);if(J=="variable"||Sn=="keyword"){if(_="property",ye=="get"||ye=="set")return E(tt);var He;return er&&f.fatArrowAt==g.start&&(He=g.match(/^\s*:\s*/,!1))&&(f.fatArrowAt=g.pos+He[0].length),E(Je)}if(J=="number"||J=="string")return _=Gn?"property":Sn+" property",E(Je);if(J=="jsonld-keyword")return E(Je);if(er&&ae(ye))return _="keyword",E(ue);if(J=="[")return E(Y,Pt,pe("]"),Je);if(J=="spread")return E(G,Je);if(ye=="*")return _="keyword",E(ue);if(J==":")return I(Je)}function tt(J){return J!="variable"?I(Je):(_="property",E(Ei))}function Je(J){if(J==":")return E(G);if(J=="(")return I(Ei)}function Bt(J,ye,He){function mt(zt,nr){return(He?-1<He.indexOf(zt):zt==",")?(zt=f.lexical,zt.info=="call"&&(zt.pos=(zt.pos||0)+1),E(function(Pr,Qi){return Pr==ye||Qi==ye?I():I(J)},mt)):zt==ye||nr==ye?E():He&&-1<He.indexOf(";")?I(J):E(pe(ye))}return function(zt,nr){return zt==ye||nr==ye?E():I(J,mt)}}function Ht(J,ye,He){for(var mt=3;mt<arguments.length;mt++)gs.push(arguments[mt]);return E(me(ye,He),Bt(J,ye),z)}function Xt(J){return J=="}"?E():I(we,Xt)}function Pt(J,ye){if(er){if(J==":")return E(Ve);if(ye=="?")return E(Pt)}}function Xr(J,ye){if(er&&(J==":"||ye=="in"))return E(Ve)}function Zr(J){if(er&&J==":")return g.match(/^\s*\w+\s+is\b/,!1)?E(Y,ki,Ve):E(Ve)}function ki(J,ye){if(ye=="is")return _="keyword",E()}function Ve(J,ye){if(ye=="keyof"||ye=="typeof"||ye=="infer"||ye=="readonly")return _="keyword",E(ye=="typeof"?G:Ve);if(J=="variable"||ye=="void")return _="type",E(U);if(ye=="|"||ye=="&")return E(Ve);if(J=="string"||J=="number"||J=="atom")return E(U);if(J=="[")return E(me("]"),Bt(Ve,"]",","),z,U);if(J=="{")return E(me("}"),Si,z,U);if(J=="(")return E(Bt(O,")"),V,U);if(J=="<")return E(Bt(Ve,">"),Ve);if(J=="quasi")return I(ii,U)}function V(J){if(J=="=>")return E(Ve)}function Si(J){return J.match(/[\}\)\]]/)?E():J==","||J==";"?E(Si):I(Ir,Si)}function Ir(J,ye){if(J=="variable"||Sn=="keyword")return _="property",E(Ir);if(ye=="?"||J=="number"||J=="string")return E(Ir);if(J==":")return E(Ve);if(J=="[")return E(pe("variable"),Xr,pe("]"),Ir);if(J=="(")return I(Vi,Ir);if(!J.match(/[;\}\)\],]/))return E()}function ii(J,ye){return J!="quasi"?I():ye.slice(ye.length-2)!="${"?E(ii):E(Ve,K)}function K(J){if(J=="}")return _="string-2",f.tokenize=T,E(ii)}function O(J,ye){return J=="variable"&&g.match(/^\s*[?:]/,!1)||ye=="?"?E(O):J==":"?E(Ve):J=="spread"?E(O):I(Ve)}function U(J,ye){if(ye=="<")return E(me(">"),Bt(Ve,">"),z,U);if(ye=="|"||J=="."||ye=="&")return E(Ve);if(J=="[")return E(Ve,pe("]"),U);if(ye=="extends"||ye=="implements")return _="keyword",E(Ve);if(ye=="?")return E(Ve,pe(":"),Ve)}function ce(J,ye){if(ye=="<")return E(me(">"),Bt(Ve,">"),z,U)}function Le(){return I(Ve,We)}function We(J,ye){if(ye=="=")return E(Ve)}function rt(J,ye){return ye=="enum"?(_="keyword",E(Qs)):I(jt,Pt,hr,vr)}function jt(J,ye){if(er&&ae(ye))return _="keyword",E(jt);if(J=="variable")return le(ye),E();if(J=="spread")return E(jt);if(J=="[")return Ht(br,"]");if(J=="{")return Ht(or,"}")}function or(J,ye){return J=="variable"&&!g.match(/^\s*:/,!1)?(le(ye),E(hr)):(J=="variable"&&(_="property"),J=="spread"?E(jt):J=="}"?I():J=="["?E(Y,pe("]"),pe(":"),or):E(pe(":"),jt,hr))}function br(){return I(jt,hr)}function hr(J,ye){if(ye=="=")return E(G)}function vr(J){if(J==",")return E(rt)}function ko(J,ye){if(J=="keyword b"&&ye=="else")return E(me("form","else"),we,z)}function Ro(J,ye){if(ye=="await")return E(Ro);if(J=="(")return E(me(")"),ps,z)}function ps(J){return J=="var"?E(rt,Ri):J=="variable"?E(Ri):I(Ri)}function Ri(J,ye){return J==")"?E():J==";"?E(Ri):ye=="in"||ye=="of"?(_="keyword",E(Y,Ri)):I(Y,Ri)}function Ei(J,ye){if(ye=="*")return _="keyword",E(Ei);if(J=="variable")return le(ye),E(Ei);if(J=="(")return E(ie,me(")"),Bt(Ki,")"),z,Zr,we,D);if(er&&ye=="<")return E(me(">"),Bt(Le,">"),z,Ei)}function Vi(J,ye){if(ye=="*")return _="keyword",E(Vi);if(J=="variable")return le(ye),E(Vi);if(J=="(")return E(ie,me(")"),Bt(Ki,")"),z,Zr,D);if(er&&ye=="<")return E(me(">"),Bt(Le,">"),z,Vi)}function Lo(J,ye){if(J=="keyword"||J=="variable")return _="type",E(Lo);if(ye=="<")return E(me(">"),Bt(Le,">"),z)}function Ki(J,ye){return ye=="@"&&E(Y,Ki),J=="spread"?E(Ki):er&&ae(ye)?(_="keyword",E(Ki)):er&&J=="this"?E(Pt,hr):I(jt,Pt,hr)}function ei(J,ye){return J=="variable"?ds(J,ye):Bi(J,ye)}function ds(J,ye){if(J=="variable")return le(ye),E(Bi)}function Bi(J,ye){if(ye=="<")return E(me(">"),Bt(Le,">"),z,Bi);if(ye=="extends"||ye=="implements"||er&&J==",")return ye=="implements"&&(_="keyword"),E(er?Ve:Y,Bi);if(J=="{")return E(me("}"),Li,z)}function Li(J,ye){if(J=="async"||J=="variable"&&(ye=="static"||ye=="get"||ye=="set"||er&&ae(ye))&&g.match(/^\s+[\w$\xa1-\uffff]/,!1))return _="keyword",E(Li);if(J=="variable"||Sn=="keyword")return _="property",E(fi,Li);if(J=="number"||J=="string")return E(fi,Li);if(J=="[")return E(Y,Pt,pe("]"),fi,Li);if(ye=="*")return _="keyword",E(Li);if(er&&J=="(")return I(Vi,Li);if(J==";"||J==",")return E(Li);if(J=="}")return E();if(ye=="@")return E(Y,Li)}function fi(J,ye){return ye=="!"||ye=="?"?E(fi):J==":"?E(Ve,hr):ye=="="?E(G):(J=f.lexical.prev,I(J&&J.info=="interface"?Vi:Ei))}function Ks(J,ye){return ye=="*"?(_="keyword",E(xr,pe(";"))):ye=="default"?(_="keyword",E(Y,pe(";"))):J=="{"?E(Bt(Hs,"}"),xr,pe(";")):I(we)}function Hs(J,ye){if(ye=="as")return _="keyword",E(pe("variable"));if(J=="variable")return I(G,Hs)}function Hi(J){return J=="string"?E():J=="("?I(Y):J=="."?I(nt):I(_n,mi,xr)}function _n(J,ye){return J=="{"?Ht(_n,"}"):(J=="variable"&&le(ye),ye=="*"&&(_="keyword"),E(jn))}function mi(J){if(J==",")return E(_n,mi)}function jn(J,ye){if(ye=="as")return _="keyword",E(_n)}function xr(J,ye){if(ye=="from")return _="keyword",E(Y)}function Oo(J){return J=="]"?E():I(Bt(G,"]"))}function Qs(){return I(me("form"),jt,pe("{"),me("}"),Bt(Ea,"}"),z,z)}function Ea(){return I(jt,hr)}function Io(J,ye,He){return ye.tokenize==S&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ye.lastType)||ye.lastType=="quasi"&&/\{\s*$/.test(J.string.slice(0,J.pos-(He||0)))}var wn=o.indentUnit,Ys=u.statementIndent,Gn=u.jsonld,Oi=u.json||Gn,No=u.trackScope!==!1,er=u.typescript,ys=u.wordCharacters||/[\w$\xa1-\uffff]/,Xs=function(){function J(Qi){return{type:Qi,style:"keyword"}}var ye=J("keyword a"),He=J("keyword b"),mt=J("keyword c"),zt=J("keyword d"),nr=J("operator"),Pr={type:"atom",style:"atom"};return{if:J("if"),while:ye,with:ye,else:He,do:He,try:He,finally:He,return:zt,break:zt,continue:zt,new:J("new"),delete:mt,void:mt,throw:mt,debugger:J("debugger"),var:J("var"),const:J("var"),let:J("var"),function:J("function"),catch:J("catch"),for:J("for"),switch:J("switch"),case:J("case"),default:J("default"),in:nr,typeof:nr,instanceof:nr,true:Pr,false:Pr,null:Pr,undefined:Pr,NaN:Pr,Infinity:Pr,this:J("this"),class:J("class"),super:J("atom"),yield:mt,export:J("export"),import:J("import"),extends:mt,await:mt}}(),bn=/[+\-*&%=<>!?|~^@]/,$o=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,ln,Wn,Ta={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0},gs=_=f=null,Sn=g=void 0,zn=new oe("this",new oe("arguments",null));return D.lex=!0,z.lex=!0,{startState:function(J){return J={tokenize:S,lastType:"sof",cc:[],lexical:new P((J||0)-wn,0,"block",!1),localVars:u.localVars,context:u.localVars&&new te(null,null,!1),indented:J||0},u.globalVars&&typeof u.globalVars=="object"&&(J.globalVars=u.globalVars),J},token:function(J,ye){if(J.sol()&&(ye.lexical.hasOwnProperty("align")||(ye.lexical.align=!1),ye.indented=J.indentation(),k(J,ye)),ye.tokenize!=C&&J.eatSpace())return null;var He=ye.tokenize(J,ye);return ln=="comment"?He:(ye.lastType=ln!="operator"||Wn!="++"&&Wn!="--"?ln:"incdec",$(ye,He,ln,Wn,J))},indent:function(J,ye){if(J.tokenize==C||J.tokenize==T)return r.Pass;if(J.tokenize!=S)return 0;var He=ye&&ye.charAt(0),mt=J.lexical,zt;if(!/^\s*else\b/.test(ye))for(var nr=J.cc.length-1;0<=nr;--nr){var Pr=J.cc[nr];if(Pr==z)mt=mt.prev;else if(Pr!=ko&&Pr!=D)break}for(;!(mt.type!="stat"&&mt.type!="form"||He!="}"&&(!(zt=J.cc[J.cc.length-1])||zt!=nt&&zt!=ft||/^[,\.=+\-*:?[\(]/.test(ye)));)mt=mt.prev;return Ys&&mt.type==")"&&mt.prev.type=="stat"&&(mt=mt.prev),zt=mt.type,nr=He==zt,zt=="vardef"?mt.indented+(J.lastType=="operator"||J.lastType==","?mt.info.length+1:0):zt=="form"&&He=="{"?mt.indented:zt=="form"?mt.indented+wn:zt=="stat"?(He=mt.indented,J=J.lastType=="operator"||J.lastType==","||bn.test(ye.charAt(0))||/[,.]/.test(ye.charAt(0)),He+(J?Ys||wn:0)):mt.info!="switch"||nr||u.doubleIndentSwitch==0?mt.align?mt.column+(nr?0:1):mt.indented+(nr?0:wn):mt.indented+(/^(?:case|default)\b/.test(ye)?wn:2*wn)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Oi?null:"/*",blockCommentEnd:Oi?null:"*/",blockCommentContinue:Oi?null:" * ",lineComment:Oi?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Oi?"json":"javascript",jsonldMode:Gn,jsonMode:Oi,expressionAllowed:Io,skipExpression:function(J){$(J,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(e,t){(function(r){r(requireCodemirror())})(function(r){function o(k,P){for(var $=0,I=k.length;$<I;++$)P(k[$])}function u(k,P,$,I){var E=k.getCursor(),F=$(k,E);if(!/\b(?:string|comment)\b/.test(F.type)){var le=r.innerMode(k.getMode(),F.state);if(le.mode.helperType!=="json"){for(F.state=le.state,/^[\w$_]*$/.test(F.string)?F.end>E.ch&&(F.end=E.ch,F.string=F.string.slice(0,E.ch-F.start)):F={start:E.ch,end:E.ch,string:"",state:F.state,type:F.string=="."?"property":null},le=F;le.type=="property";){if(le=$(k,_(E.line,le.start)),le.string!=".")return;if(le=$(k,_(E.line,le.start)),!W)var W=[];W.push(le)}return{list:g(F,W,P,I),from:_(E.line,F.start),to:_(E.line,F.end)}}}}function f(k,P){return k=k.getTokenAt(P),P.ch==k.start+1&&k.string.charAt(0)=="."?(k.end=k.start,k.string=".",k.type="property"):/^\.[\w$_]*$/.test(k.string)&&(k.type="property",k.start++,k.string=k.string.replace(/\./,"")),k}function g(k,P,$,I){function E(ie){var Ee;if(Ee=ie.lastIndexOf(W,0)==0){e:if(Array.prototype.indexOf)Ee=le.indexOf(ie)!=-1;else{for(Ee=le.length;Ee--;)if(le[Ee]===ie){Ee=!0;break e}Ee=!1}Ee=!Ee}Ee&&le.push(ie)}function F(ie){if(typeof ie=="string"?o(w,E):ie instanceof Array?o(S,E):ie instanceof Function&&o(M,E),Object.getOwnPropertyNames&&Object.getPrototypeOf)for(;ie;ie=Object.getPrototypeOf(ie))Object.getOwnPropertyNames(ie).forEach(E);else for(var Ee in ie)E(Ee)}var le=[],W=k.string,ae=I&&I.globalScope||window;if(P&&P.length){k=P.pop();var te;for(k.type&&k.type.indexOf("variable")===0?(I&&I.additionalContext&&(te=I.additionalContext[k.string]),I&&I.useGlobalScope===!1||(te=te||ae[k.string])):k.type=="string"?te="":k.type=="atom"?te=1:k.type=="function"&&(ae.jQuery==null||k.string!="$"&&k.string!="jQuery"||typeof ae.jQuery!="function"?ae._!=null&&k.string=="_"&&typeof ae._=="function"&&(te=ae._()):te=ae.jQuery());te!=null&&P.length;)te=te[P.pop().string];te!=null&&F(te)}else{for(P=k.state.localVars;P;P=P.next)E(P.name);for(te=k.state.context;te;te=te.prev)for(P=te.vars;P;P=P.next)E(P.name);for(P=k.state.globalVars;P;P=P.next)E(P.name);if(I&&I.additionalContext!=null)for(var oe in I.additionalContext)E(oe);I&&I.useGlobalScope===!1||F(ae),o($,E)}return le}var _=r.Pos;r.registerHelper("hint","javascript",function(k,P){return u(k,C,function($,I){return $.getTokenAt(I)},P)}),r.registerHelper("hint","coffeescript",function(k,P){return u(k,T,f,P)});var w="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),S="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),M=["prototype","apply","call","bind"],C="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),T="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")})})();(function(e,t){(function(r){r(requireCodemirror())})(function(r){function o(T,k){if(this.cm=T,this.options=k,this.widget=null,this.tick=this.debounce=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var P=this;T.on("cursorActivity",this.activityFunc=function(){P.cursorActivity()})}}function u(T,k){function P(le,W){var ae=typeof W!="string"?function(te){return W(te,k)}:$.hasOwnProperty(W)?$[W]:W;E[le]=ae}var $={Up:function(){k.moveFocus(-1)},Down:function(){k.moveFocus(1)},PageUp:function(){k.moveFocus(-k.menuSize()+1,!0)},PageDown:function(){k.moveFocus(k.menuSize()-1,!0)},Home:function(){k.setFocus(0)},End:function(){k.setFocus(k.length-1)},Enter:k.pick,Tab:k.pick,Esc:k.close};/Mac/.test(navigator.platform)&&($["Ctrl-P"]=function(){k.moveFocus(-1)},$["Ctrl-N"]=function(){k.moveFocus(1)});var I=T.options.customKeys,E=I?{}:$;if(I)for(var F in I)I.hasOwnProperty(F)&&P(F,I[F]);if(T=T.options.extraKeys)for(F in T)T.hasOwnProperty(F)&&P(F,T[F]);return E}function f(T,k){for(;k&&k!=T;){if(k.nodeName.toUpperCase()==="LI"&&k.parentNode==T)return k;k=k.parentNode}}function g(T,k){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=T,this.data=k,this.picked=!1;var P=this,$=T.cm,I=$.getInputField().ownerDocument,E=I.defaultView||I.parentWindow,F=this.hints=I.createElement("ul");F.setAttribute("role","listbox"),F.setAttribute("aria-expanded","true"),F.id=this.id,F.className="CodeMirror-hints "+T.cm.options.theme,this.selectedHint=k.selectedHint||0;for(var le=k.list,W=0;W<le.length;++W){var ae=F.appendChild(I.createElement("li")),te=le[W],oe="CodeMirror-hint"+(W!=this.selectedHint?"":" CodeMirror-hint-active");te.className!=null&&(oe=te.className+" "+oe),ae.className=oe,W==this.selectedHint&&ae.setAttribute("aria-selected","true"),ae.id=this.id+"-"+W,ae.setAttribute("role","option"),te.render?te.render(ae,k,te):ae.appendChild(I.createTextNode(te.displayText||(typeof te=="string"?te:te.text))),ae.hintId=W}oe=T.options.container||I.body,W=$.cursorCoords(T.options.alignWithWord?k.from:null);var ie=W.left,Ee=W.bottom,D=!0,me=ae=0;if(oe!==I.body){te=["absolute","relative","fixed"].indexOf(E.getComputedStyle(oe).position)!==-1?oe:oe.offsetParent;var z=te.getBoundingClientRect();me=I.body.getBoundingClientRect(),ae=z.left-me.left-te.scrollLeft,me=z.top-me.top-te.scrollTop}F.style.left=ie-ae+"px",F.style.top=Ee-me+"px",te=E.innerWidth||Math.max(I.body.offsetWidth,I.documentElement.offsetWidth);var pe=E.innerHeight||Math.max(I.body.offsetHeight,I.documentElement.offsetHeight);oe.appendChild(F),$.getInputField().setAttribute("aria-autocomplete","list"),$.getInputField().setAttribute("aria-owns",this.id),$.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint),oe=T.options.moveOnOverlap?F.getBoundingClientRect():new DOMRect,z=T.options.paddingForScrollbar?F.scrollHeight>F.clientHeight+1:!1;var we;if(setTimeout(function(){we=$.getScrollInfo()}),0<oe.bottom-pe){var Q=oe.bottom-oe.top;0<W.top-(W.bottom-oe.top)-Q?(F.style.top=(Ee=W.top-Q-me)+"px",D=!1):Q>pe&&(F.style.height=pe-5+"px",F.style.top=(Ee=W.bottom-oe.top-me)+"px",me=$.getCursor(),k.from.ch!=me.ch&&(W=$.cursorCoords(me),F.style.left=(ie=W.left-ae)+"px",oe=F.getBoundingClientRect()))}if(me=oe.right-te,z&&(me+=$.display.nativeBarWidth),0<me&&(oe.right-oe.left>te&&(F.style.width=te-5+"px",me-=oe.right-oe.left-te),F.style.left=(ie=W.left-me-ae)+"px"),z)for(W=F.firstChild;W;W=W.nextSibling)W.style.paddingRight=$.display.nativeBarWidth+"px";if($.addKeyMap(this.keyMap=u(T,{moveFocus:function(G,q){P.changeActive(P.selectedHint+G,q)},setFocus:function(G){P.changeActive(G)},menuSize:function(){return P.screenAmount()},length:le.length,close:function(){T.close()},pick:function(){P.pick()},data:k})),T.options.closeOnUnfocus){var Y;$.on("blur",this.onBlur=function(){Y=setTimeout(function(){T.close()},100)}),$.on("focus",this.onFocus=function(){clearTimeout(Y)})}return $.on("scroll",this.onScroll=function(){var G=$.getScrollInfo(),q=$.getWrapperElement().getBoundingClientRect();we||(we=$.getScrollInfo());var Te=Ee+we.top-G.top,De=Te-(E.pageYOffset||(I.documentElement||I.body).scrollTop);if(D||(De+=F.offsetHeight),De<=q.top||De>=q.bottom)return T.close();F.style.top=Te+"px",F.style.left=ie+we.left-G.left+"px"}),r.on(F,"dblclick",function(G){(G=f(F,G.target||G.srcElement))&&G.hintId!=null&&(P.changeActive(G.hintId),P.pick())}),r.on(F,"click",function(G){(G=f(F,G.target||G.srcElement))&&G.hintId!=null&&(P.changeActive(G.hintId),T.options.completeOnSingleClick&&P.pick())}),r.on(F,"mousedown",function(){setTimeout(function(){$.focus()},20)}),W=this.getSelectedHintRange(),W.from===0&&W.to===0||this.scrollToActive(),r.signal(k,"select",le[this.selectedHint],F.childNodes[this.selectedHint]),!0}function _(T,k){if(!T.somethingSelected())return k;T=[];for(var P=0;P<k.length;P++)k[P].supportsSelection&&T.push(k[P]);return T}function w(T,k,P,$){T.async?T(k,$,P):(T=T(k,P))&&T.then?T.then($):$(T)}r.showHint=function(T,k,P){if(!k)return T.showHint(P);if(P&&P.async&&(k.async=!0),k={hint:k},P)for(var $ in P)k[$]=P[$];return T.showHint(k)},r.defineExtension("showHint",function(T){var k=this.getCursor("start"),P=this.options.hintOptions,$={},I;for(I in C)$[I]=C[I];if(P)for(I in P)P[I]!==void 0&&($[I]=P[I]);if(T)for(I in T)T[I]!==void 0&&($[I]=T[I]);if($.hint.resolve&&($.hint=$.hint.resolve(this,k)),T=$,k=this.listSelections(),!(1<k.length)){if(this.somethingSelected()){if(!T.hint.supportsSelection)return;for(I=0;I<k.length;I++)if(k[I].head.line!=k[I].anchor.line)return}this.state.completionActive&&this.state.completionActive.close(),k=this.state.completionActive=new o(this,T),k.options.hint&&(r.signal(this,"startCompletion",this),k.update(!0))}}),r.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var S=window.requestAnimationFrame||function(T){return setTimeout(T,1e3/60)},M=window.cancelAnimationFrame||clearTimeout;o.prototype={close:function(){this.active()&&(this.tick=this.cm.state.completionActive=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&r.signal(this.data,"close"),this.widget&&this.widget.close(),r.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(T,k){var P=T.list[k],$=this;this.cm.operation(function(){P.hint?P.hint($.cm,T,P):$.cm.replaceRange(typeof P=="string"?P:P.text,P.from||T.from,P.to||T.to,"complete"),r.signal(T,"pick",P),$.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(M(this.debounce),this.debounce=0);var T=this.startPos;this.data&&(T=this.data.from);var k=this.cm.getCursor(),P=this.cm.getLine(k.line);if(k.line!=this.startPos.line||P.length-k.ch!=this.startLen-this.startPos.ch||k.ch<T.ch||this.cm.somethingSelected()||!k.ch||this.options.closeCharacters.test(P.charAt(k.ch-1)))this.close();else{var $=this;this.debounce=S(function(){$.update()}),this.widget&&this.widget.disable()}},update:function(T){if(this.tick!=null){var k=this,P=++this.tick;w(this.options.hint,this.cm,this.options,function($){k.tick==P&&k.finishUpdate($,T)})}},finishUpdate:function(T,k){this.data&&r.signal(this.data,"update"),k=this.widget&&this.widget.picked||k&&this.options.completeSingle,this.widget&&this.widget.close(),(this.data=T)&&T.list.length&&(k&&T.list.length==1?this.pick(T,0):(this.widget=new g(this,T),r.signal(T,"shown")))}},g.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var T=this.completion.cm.getInputField();T.removeAttribute("aria-activedescendant"),T.removeAttribute("aria-owns"),T=this.completion.cm,this.completion.options.closeOnUnfocus&&(T.off("blur",this.onBlur),T.off("focus",this.onFocus)),T.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var T=this;this.keyMap={Enter:function(){T.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(T,k){T>=this.data.list.length?T=k?this.data.list.length-1:0:0>T&&(T=k?0:this.data.list.length-1),this.selectedHint!=T&&((k=this.hints.childNodes[this.selectedHint])&&(k.className=k.className.replace(" CodeMirror-hint-active",""),k.removeAttribute("aria-selected")),k=this.hints.childNodes[this.selectedHint=T],k.className+=" CodeMirror-hint-active",k.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",k.id),this.scrollToActive(),r.signal(this.data,"select",this.data.list[this.selectedHint],k))},scrollToActive:function(){var T=this.getSelectedHintRange(),k=this.hints.childNodes[T.from];T=this.hints.childNodes[T.to];var P=this.hints.firstChild;k.offsetTop<this.hints.scrollTop?this.hints.scrollTop=k.offsetTop-P.offsetTop:T.offsetTop+T.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=T.offsetTop+T.offsetHeight-this.hints.clientHeight+P.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var T=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-T),to:Math.min(this.data.list.length-1,this.selectedHint+T)}}},r.registerHelper("hint","auto",{resolve:function(T,k){var P=T.getHelpers(k,"hint"),$;return P.length?(T=function(I,E,F){function le(ae){if(ae==W.length)return E(null);w(W[ae],I,F,function(te){te&&0<te.list.length?E(te):le(ae+1)})}var W=_(I,P);le(0)},T.async=!0,T.supportsSelection=!0,T):($=T.getHelper(T.getCursor(),"hintWords"))?function(I){return r.hint.fromList(I,{words:$})}:r.hint.anyword?function(I,E){return r.hint.anyword(I,E)}:function(){}}}),r.registerHelper("hint","fromList",function(T,k){var P=T.getCursor(),$=T.getTokenAt(P);T=r.Pos(P.line,$.start),$.start<P.ch&&/\w/.test($.string.charAt(P.ch-$.start-1))?$=$.string.substr(0,P.ch-$.start):($="",T=P);for(var I=[],E=0;E<k.words.length;E++){var F=k.words[E];F.slice(0,$.length)==$&&I.push(F)}if(I.length)return{list:I,from:T,to:P}}),r.commands.autocomplete=r.showHint;var C={hint:r.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};r.defineOption("hintOptions",null)})})();(function(e,t){var r=r||{};r.scope={},r.findInternal=function(o,u,f){o instanceof String&&(o=String(o));for(var g=o.length,_=0;_<g;_++){var w=o[_];if(u.call(f,w,_,o))return{i:_,v:w}}return{i:-1,v:void 0}},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.SIMPLE_FROUND_POLYFILL=!1,r.ISOLATE_POLYFILLS=!1,r.FORCE_POLYFILL_PROMISE=!1,r.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,r.defineProperty=r.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){return o==Array.prototype||o==Object.prototype||(o[u]=f.value),o},r.getGlobal=function(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof globalThis=="object"&&globalThis];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find globalThis object")},r.global=r.getGlobal(commonjsGlobal),r.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",r.TRUST_ES6_POLYFILLS=!r.ISOLATE_POLYFILLS||r.IS_SYMBOL_NATIVE,r.polyfills={},r.propertyToPolyfillSymbol={},r.POLYFILL_PREFIX="$jscp$",r.polyfill=function(o,u,f,g){u&&(r.ISOLATE_POLYFILLS?r.polyfillIsolated(o,u,f,g):r.polyfillUnisolated(o,u,f,g))},r.polyfillUnisolated=function(o,u,f,g){for(f=r.global,o=o.split("."),g=0;g<o.length-1;g++){var _=o[g];if(!(_ in f))return;f=f[_]}o=o[o.length-1],g=f[o],u=u(g),u!=g&&u!=null&&r.defineProperty(f,o,{configurable:!0,writable:!0,value:u})},r.polyfillIsolated=function(o,u,f,g){var _=o.split(".");o=_.length===1,g=_[0],g=!o&&g in r.polyfills?r.polyfills:r.global;for(var w=0;w<_.length-1;w++){var S=_[w];if(!(S in g))return;g=g[S]}_=_[_.length-1],f=r.IS_SYMBOL_NATIVE&&f==="es6"?g[_]:null,u=u(f),u!=null&&(o?r.defineProperty(r.polyfills,_,{configurable:!0,writable:!0,value:u}):u!==f&&(r.propertyToPolyfillSymbol[_]===void 0&&(f=1e9*Math.random()>>>0,r.propertyToPolyfillSymbol[_]=r.IS_SYMBOL_NATIVE?r.global.Symbol(_):r.POLYFILL_PREFIX+f+"$"+_),r.defineProperty(g,r.propertyToPolyfillSymbol[_],{configurable:!0,writable:!0,value:u})))},r.polyfill("Array.prototype.find",function(o){return o||function(u,f){return r.findInternal(this,u,f).v}},"es6","es3"),function(o){o(requireCodemirror())}(function(o){function u(k){k.state.markedSelection&&k.operation(function(){S(k)})}function f(k){k.state.markedSelection&&k.state.markedSelection.length&&k.operation(function(){_(k)})}function g(k,P,$,I){if(T(P,$)!=0)for(var E=k.state.markedSelection,F=k.state.markedSelectionStyle,le=P.line;;){var W=le==P.line?P:C(le,0);le+=M;var ae=le>=$.line,te=ae?$:C(le,0);if(W=k.markText(W,te,{className:F}),I==null?E.push(W):E.splice(I++,0,W),ae)break}}function _(k){k=k.state.markedSelection;for(var P=0;P<k.length;++P)k[P].clear();k.length=0}function w(k){_(k);for(var P=k.listSelections(),$=0;$<P.length;$++)g(k,P[$].from(),P[$].to())}function S(k){if(!k.somethingSelected())return _(k);if(1<k.listSelections().length)return w(k);var P=k.getCursor("start"),$=k.getCursor("end"),I=k.state.markedSelection;if(!I.length)return g(k,P,$);var E=I[0].find(),F=I[I.length-1].find();if(!E||!F||$.line-P.line<=M||0<=T(P,F.to)||0>=T($,E.from))return w(k);for(;0<T(P,E.from);)I.shift().clear(),E=I[0].find();for(0>T(P,E.from)&&(E.to.line-P.line<M?(I.shift().clear(),g(k,P,E.to,0)):g(k,P,E.from,0));0>T($,F.to);)I.pop().clear(),F=I[I.length-1].find();0<T($,F.to)&&($.line-F.from.line<M?(I.pop().clear(),g(k,F.from,$)):g(k,F.to,$))}o.defineOption("styleSelectedText",!1,function(k,P,$){$=$&&$!=o.Init,P&&!$?(k.state.markedSelection=[],k.state.markedSelectionStyle=typeof P=="string"?P:"CodeMirror-selectedtext",w(k),k.on("cursorActivity",u),k.on("change",f)):!P&&$&&(k.off("cursorActivity",u),k.off("change",f),_(k),k.state.markedSelection=k.state.markedSelectionStyle=null)});var M=8,C=o.Pos,T=o.cmpPos})})();(function(e,t){(function(r){r(requireCodemirror())})(function(r){function o(M){return M=M.search(_),M==-1?0:M}function u(M,C,T){return/\bstring\b/.test(M.getTokenTypeAt(w(C.line,0)))&&!/^['"`]/.test(T)}function f(M,C){var T=M.getMode();return T.useInnerComments!==!1&&T.innerMode?M.getModeAt(C):T}var g={},_=/[^\s\u00a0]/,w=r.Pos,S=r.cmpPos;r.commands.toggleComment=function(M){M.toggleComment()},r.defineExtension("toggleComment",function(M){M||(M=g);for(var C=1/0,T=this.listSelections(),k=null,P=T.length-1;0<=P;P--){var $=T[P].from(),I=T[P].to();$.line>=C||(I.line>=C&&(I=w(C,0)),C=$.line,k==null?this.uncomment($,I,M)?k="un":(this.lineComment($,I,M),k="line"):k=="un"?this.uncomment($,I,M):this.lineComment($,I,M))}}),r.defineExtension("lineComment",function(M,C,T){T||(T=g);var k=this,P=f(k,M),$=k.getLine(M.line);if($!=null&&!u(k,M,$)){var I=T.lineComment||P.lineComment;if(I){var E=Math.min(C.ch!=0||C.line==M.line?C.line+1:C.line,k.lastLine()+1),F=T.padding==null?" ":T.padding,le=T.commentBlankLines||M.line==C.line;k.operation(function(){if(T.indent){for(var W=null,ae=M.line;ae<E;++ae){var te=k.getLine(ae);te=te.slice(0,o(te)),(W==null||W.length>te.length)&&(W=te)}for(ae=M.line;ae<E;++ae){te=k.getLine(ae);var oe=W.length;(le||_.test(te))&&(te.slice(0,oe)!=W&&(oe=o(te)),k.replaceRange(W+I+F,w(ae,0),w(ae,oe)))}}else for(ae=M.line;ae<E;++ae)(le||_.test(k.getLine(ae)))&&k.replaceRange(I+F,w(ae,0))})}else(T.blockCommentStart||P.blockCommentStart)&&(T.fullLines=!0,k.blockComment(M,C,T))}}),r.defineExtension("blockComment",function(M,C,T){T||(T=g);var k=this,P=f(k,M),$=T.blockCommentStart||P.blockCommentStart,I=T.blockCommentEnd||P.blockCommentEnd;if(!$||!I)(T.lineComment||P.lineComment)&&T.fullLines!=0&&k.lineComment(M,C,T);else if(!/\bcomment\b/.test(k.getTokenTypeAt(w(M.line,0)))){var E=Math.min(C.line,k.lastLine());E!=M.line&&C.ch==0&&_.test(k.getLine(E))&&--E;var F=T.padding==null?" ":T.padding;M.line>E||k.operation(function(){if(T.fullLines!=0){var le=_.test(k.getLine(E));k.replaceRange(F+I,w(E)),k.replaceRange($+F,w(M.line,0));var W=T.blockCommentLead||P.blockCommentLead;if(W!=null)for(var ae=M.line+1;ae<=E;++ae)(ae!=E||le)&&k.replaceRange(W+F,w(ae,0))}else le=S(k.getCursor("to"),C)==0,W=!k.somethingSelected(),k.replaceRange(I,C),le&&k.setSelection(W?C:k.getCursor("from"),C),k.replaceRange($,M)})}}),r.defineExtension("uncomment",function(M,C,T){T||(T=g);var k=this,P=f(k,M),$=Math.min(C.ch!=0||C.line==M.line?C.line:C.line-1,k.lastLine()),I=Math.min(M.line,$),E=T.lineComment||P.lineComment,F=[],le=T.padding==null?" ":T.padding,W;e:if(E){for(var ae=I;ae<=$;++ae){var te=k.getLine(ae),oe=te.indexOf(E);if(-1<oe&&!/comment/.test(k.getTokenTypeAt(w(ae,oe+1)))&&(oe=-1),oe==-1&&_.test(te)||-1<oe&&_.test(te.slice(0,oe)))break e;F.push(te)}if(k.operation(function(){for(var Q=I;Q<=$;++Q){var Y=F[Q-I],G=Y.indexOf(E),q=G+E.length;0>G||(Y.slice(q,q+le.length)==le&&(q+=le.length),W=!0,k.replaceRange("",w(Q,G),w(Q,q)))}}),W)return!0}var ie=T.blockCommentStart||P.blockCommentStart,Ee=T.blockCommentEnd||P.blockCommentEnd;if(!ie||!Ee)return!1;var D=T.blockCommentLead||P.blockCommentLead,me=k.getLine(I),z=me.indexOf(ie);if(z==-1)return!1;var pe=$==I?me:k.getLine($),we=pe.indexOf(Ee,$==I?z+ie.length:0);return T=w(I,z+1),P=w($,we+1),we==-1||!/comment/.test(k.getTokenTypeAt(T))||!/comment/.test(k.getTokenTypeAt(P))||-1<k.getRange(T,P,`
`).indexOf(Ee)||(P=me.lastIndexOf(ie,M.ch),T=P==-1?-1:me.slice(0,M.ch).indexOf(Ee,P+ie.length),P!=-1&&T!=-1&&T+Ee.length!=M.ch)||(T=pe.indexOf(Ee,C.ch),M=pe.slice(C.ch).lastIndexOf(ie,T-C.ch),P=T==-1||M==-1?-1:C.ch+M,T!=-1&&P!=-1&&P!=C.ch)?!1:(k.operation(function(){k.replaceRange("",w($,we-(le&&pe.slice(we-le.length,we)==le?le.length:0)),w($,we+Ee.length));var Q=z+ie.length;if(le&&me.slice(Q,Q+le.length)==le&&(Q+=le.length),k.replaceRange("",w(I,z),w(I,Q)),D)for(Q=I+1;Q<=$;++Q){var Y=k.getLine(Q),G=Y.indexOf(D);if(G!=-1&&!_.test(Y.slice(0,G))){var q=G+D.length;le&&Y.slice(q,q+le.length)==le&&(q+=le.length),k.replaceRange("",w(Q,G),w(Q,q))}}}),!0)})})})();const keymaps={"Ctrl-Enter":"editor:evalLine","Cmd-Enter":"editor:evalLine","Ctrl-/":"editor:toggleComment","Cmd-/":"editor:toggleComment","Alt-Enter":"editor:evalBlock","Shift-Ctrl-Enter":"editor:evalAll","Shift-Cmd-Enter":"editor:evalAll","Shift-Ctrl-G":"gallery:shareSketch","Shift-Cmd-G":"gallery:shareSketch","Shift-Ctrl-F":"editor:formatCode","Shift-Cmd-F":"editor:formatCode","Shift-Ctrl-L":"gallery:saveToURL","Shift-Cmd-L":"gallery:saveToURL","Shift-Ctrl-H":"hideAll","Shift-Cmd-H":"hideAll","Shift-Ctrl-S":"screencap","Shift-Cmd-S":"screencap"};var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords$1={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];function isInAstralSet(e,t){for(var r=65536,o=0;o<t.length;o+=2){if(r+=t[o],r>e)return!1;if(r+=t[o+1],r>=e)return!0}}function isIdentifierStart(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifierStart.test(String.fromCharCode(e)):t===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)}function isIdentifierChar(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifier.test(String.fromCharCode(e)):t===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)||isInAstralSet(e,astralIdentifierCodes)}var TokenType=function e(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function binop(e,t){return new TokenType(e,{beforeExpr:!0,binop:t})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords={};function kw(e,t){return t===void 0&&(t={}),t.keyword=e,keywords[e]=new TokenType(e,t)}var types$1={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),privateId:new TokenType("privateId",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),questionDot:new TokenType("?."),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),coalesce:binop("??",1),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(e){return e===10||e===13||e===8232||e===8233}function nextLineBreak(e,t,r){r===void 0&&(r=e.length);for(var o=t;o<r;o++){var u=e.charCodeAt(o);if(isNewLine(u))return o<r-1&&u===13&&e.charCodeAt(o+1)===10?o+2:o+1}return-1}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty=ref.hasOwnProperty,toString=ref.toString,hasOwn=Object.hasOwn||function(e,t){return hasOwnProperty.call(e,t)},isArray=Array.isArray||function(e){return toString.call(e)==="[object Array]"};function wordsRegexp(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var loneSurrogate=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Position=function e(t,r){this.line=t,this.column=r};Position.prototype.offset=function e(t){return new Position(this.line,this.column+t)};var SourceLocation=function e(t,r,o){this.start=r,this.end=o,t.sourceFile!==null&&(this.source=t.sourceFile)};function getLineInfo(e,t){for(var r=1,o=0;;){var u=nextLineBreak(e,o,t);if(u<0)return new Position(r,t-o);++r,o=u}}var defaultOptions={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},warnedAboutEcmaVersion=!1;function getOptions(e){var t={};for(var r in defaultOptions)t[r]=e&&hasOwn(e,r)?e[r]:defaultOptions[r];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!warnedAboutEcmaVersion&&typeof console=="object"&&console.warn&&(warnedAboutEcmaVersion=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),isArray(t.onToken)){var o=t.onToken;t.onToken=function(u){return o.push(u)}}return isArray(t.onComment)&&(t.onComment=pushComment(t,t.onComment)),t}function pushComment(e,t){return function(r,o,u,f,g,_){var w={type:r?"Block":"Line",value:o,start:u,end:f};e.locations&&(w.loc=new SourceLocation(this,g,_)),e.ranges&&(w.range=[u,f]),t.push(w)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128,SCOPE_CLASS_STATIC_BLOCK=256,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK;function functionFlags(e,t){return SCOPE_FUNCTION|(e?SCOPE_ASYNC:0)|(t?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5,Parser=function e(t,r,o){this.options=t=getOptions(t),this.sourceFile=t.sourceFile,this.keywords=wordsRegexp(keywords$1[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var u="";t.allowReserved!==!0&&(u=reservedWords[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(u+=" await")),this.reservedWords=wordsRegexp(u);var f=(u?u+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(f),this.reservedWordsStrictBind=wordsRegexp(f+" "+reservedWords.strictBind),this.input=String(r),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types$1.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(SCOPE_TOP),this.regexpState=null,this.privateNameStack=[]},prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Parser.prototype.parse=function e(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0};prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&SCOPE_CLASS_STATIC_BLOCK)return!1;if(t.flags&SCOPE_FUNCTION)return(t.flags&SCOPE_ASYNC)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};prototypeAccessors.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,r=e.inClassFieldInit;return(t&SCOPE_SUPER)>0||r||this.options.allowSuperOutsideMethod};prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0};prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};prototypeAccessors.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,r=e.inClassFieldInit;return(t&(SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK))>0||r};prototypeAccessors.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&SCOPE_CLASS_STATIC_BLOCK)>0};Parser.extend=function e(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var o=this,u=0;u<t.length;u++)o=t[u](o);return o};Parser.parse=function e(t,r){return new this(r,t).parse()};Parser.parseExpressionAt=function e(t,r,o){var u=new this(o,t,r);return u.nextToken(),u.parseExpression()};Parser.tokenizer=function e(t,r){return new this(r,t)};Object.defineProperties(Parser.prototype,prototypeAccessors);var pp$9=Parser.prototype,literal=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;pp$9.strictDirective=function(e){for(;;){skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length;var t=literal.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){skipWhiteSpace.lastIndex=e+t[0].length;var r=skipWhiteSpace.exec(this.input),o=r.index+r[0].length,u=this.input.charAt(o);return u===";"||u==="}"||lineBreak.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(u)||u==="!"&&this.input.charAt(o+1)==="=")}e+=t[0].length,skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length,this.input[e]===";"&&e++}};pp$9.eat=function(e){return this.type===e?(this.next(),!0):!1};pp$9.isContextual=function(e){return this.type===types$1.name&&this.value===e&&!this.containsEsc};pp$9.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};pp$9.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};pp$9.canInsertSemicolon=function(){return this.type===types$1.eof||this.type===types$1.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$9.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pp$9.semicolon=function(){!this.eat(types$1.semi)&&!this.insertSemicolon()&&this.unexpected()};pp$9.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};pp$9.expect=function(e){this.eat(e)||this.unexpected()};pp$9.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};function DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}pp$9.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}};pp$9.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,o=e.doubleProto;if(!t)return r>=0||o>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};pp$9.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pp$9.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var pp$8=Parser.prototype;pp$8.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==types$1.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var o=0,u=Object.keys(this.undefinedExports);o<u.length;o+=1){var f=u[o];this.raiseRecoverable(this.undefinedExports[f].start,"Export '"+f+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$8.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var t=skipWhiteSpace.exec(this.input),r=this.pos+t[0].length,o=this.input.charCodeAt(r);if(o===91||o===92||o>55295&&o<56320)return!0;if(e)return!1;if(o===123)return!0;if(isIdentifierStart(o,!0)){for(var u=r+1;isIdentifierChar(o=this.input.charCodeAt(u),!0);)++u;if(o===92||o>55295&&o<56320)return!0;var f=this.input.slice(r,u);if(!keywordRelationalOperator.test(f))return!0}return!1};pp$8.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var e=skipWhiteSpace.exec(this.input),t=this.pos+e[0].length,r;return!lineBreak.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(isIdentifierChar(r=this.input.charCodeAt(t+8))||r>55295&&r<56320))};pp$8.parseStatement=function(e,t,r){var o=this.type,u=this.startNode(),f;switch(this.isLet(e)&&(o=types$1._var,f="let"),o){case types$1._break:case types$1._continue:return this.parseBreakContinueStatement(u,o.keyword);case types$1._debugger:return this.parseDebuggerStatement(u);case types$1._do:return this.parseDoStatement(u);case types$1._for:return this.parseForStatement(u);case types$1._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(u,!1,!e);case types$1._class:return e&&this.unexpected(),this.parseClass(u,!0);case types$1._if:return this.parseIfStatement(u);case types$1._return:return this.parseReturnStatement(u);case types$1._switch:return this.parseSwitchStatement(u);case types$1._throw:return this.parseThrowStatement(u);case types$1._try:return this.parseTryStatement(u);case types$1._const:case types$1._var:return f=f||this.value,e&&f!=="var"&&this.unexpected(),this.parseVarStatement(u,f);case types$1._while:return this.parseWhileStatement(u);case types$1._with:return this.parseWithStatement(u);case types$1.braceL:return this.parseBlock(!0,u);case types$1.semi:return this.parseEmptyStatement(u);case types$1._export:case types$1._import:if(this.options.ecmaVersion>10&&o===types$1._import){skipWhiteSpace.lastIndex=this.pos;var g=skipWhiteSpace.exec(this.input),_=this.pos+g[0].length,w=this.input.charCodeAt(_);if(w===40||w===46)return this.parseExpressionStatement(u,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===types$1._import?this.parseImport(u):this.parseExport(u,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(u,!0,!e);var S=this.value,M=this.parseExpression();return o===types$1.name&&M.type==="Identifier"&&this.eat(types$1.colon)?this.parseLabeledStatement(u,S,M,e):this.parseExpressionStatement(u,M)}};pp$8.parseBreakContinueStatement=function(e,t){var r=t==="break";this.next(),this.eat(types$1.semi)||this.insertSemicolon()?e.label=null:this.type!==types$1.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var u=this.labels[o];if((e.label==null||u.name===e.label.name)&&(u.kind!=null&&(r||u.kind==="loop")||e.label&&r))break}return o===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")};pp$8.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};pp$8.parseDoStatement=function(e){return this.next(),this.labels.push(loopLabel),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(types$1._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types$1.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};pp$8.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterScope(0),this.expect(types$1.parenL),this.type===types$1.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===types$1._var||this.type===types$1._const||r){var o=this.startNode(),u=r?"let":this.value;return this.next(),this.parseVar(o,!0,u),this.finishNode(o,"VariableDeclaration"),(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===types$1._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,o)):(t>-1&&this.unexpected(t),this.parseFor(e,o))}var f=this.isContextual("let"),g=!1,_=new DestructuringErrors,w=this.parseExpression(t>-1?"await":!0,_);return this.type===types$1._in||(g=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===types$1._in?t>-1&&this.unexpected(t):e.await=t>-1),f&&g&&this.raise(w.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(w,!1,_),this.checkLValPattern(w),this.parseForIn(e,w)):(this.checkExpressionErrors(_,!0),t>-1&&this.unexpected(t),this.parseFor(e,w))};pp$8.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,FUNC_STATEMENT|(r?0:FUNC_HANGING_STATEMENT),!1,t)};pp$8.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(types$1._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};pp$8.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types$1.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};pp$8.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(types$1.braceL),this.labels.push(switchLabel),this.enterScope(0);for(var t,r=!1;this.type!==types$1.braceR;)if(this.type===types$1._case||this.type===types$1._default){var o=this.type===types$1._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),o?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(types$1.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};pp$8.parseThrowStatement=function(e){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var empty$1=[];pp$8.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===types$1._catch){var t=this.startNode();if(this.next(),this.eat(types$1.parenL)){t.param=this.parseBindingAtom();var r=t.param.type==="Identifier";this.enterScope(r?SCOPE_SIMPLE_CATCH:0),this.checkLValPattern(t.param,r?BIND_SIMPLE_CATCH:BIND_LEXICAL),this.expect(types$1.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(types$1._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};pp$8.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")};pp$8.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(loopLabel),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};pp$8.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};pp$8.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};pp$8.parseLabeledStatement=function(e,t,r,o){for(var u=0,f=this.labels;u<f.length;u+=1){var g=f[u];g.name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var _=this.type.isLoop?"loop":this.type===types$1._switch?"switch":null,w=this.labels.length-1;w>=0;w--){var S=this.labels[w];if(S.statementStart===e.start)S.statementStart=this.start,S.kind=_;else break}return this.labels.push({name:t,kind:_,statementStart:this.start}),e.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")};pp$8.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};pp$8.parseBlock=function(e,t,r){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(types$1.braceL),e&&this.enterScope(0);this.type!==types$1.braceR;){var o=this.parseStatement(null);t.body.push(o)}return r&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};pp$8.parseFor=function(e,t){return e.init=t,this.expect(types$1.semi),e.test=this.type===types$1.semi?null:this.parseExpression(),this.expect(types$1.semi),e.update=this.type===types$1.parenR?null:this.parseExpression(),this.expect(types$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};pp$8.parseForIn=function(e,t){var r=this.type===types$1._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(types$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")};pp$8.parseVar=function(e,t,r){for(e.declarations=[],e.kind=r;;){var o=this.startNode();if(this.parseVarId(o,r),this.eat(types$1.eq)?o.init=this.parseMaybeAssign(t):r==="const"&&!(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():o.id.type!=="Identifier"&&!(t&&(this.type===types$1._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,e.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(types$1.comma))break}return e};pp$8.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?BIND_VAR:BIND_LEXICAL,!1)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$8.parseFunction=function(e,t,r,o,u){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===types$1.star&&t&FUNC_HANGING_STATEMENT&&this.unexpected(),e.generator=this.eat(types$1.star)),this.options.ecmaVersion>=8&&(e.async=!!o),t&FUNC_STATEMENT&&(e.id=t&FUNC_NULLABLE_ID&&this.type!==types$1.name?null:this.parseIdent(),e.id&&!(t&FUNC_HANGING_STATEMENT)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION));var f=this.yieldPos,g=this.awaitPos,_=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(e.async,e.generator)),t&FUNC_STATEMENT||(e.id=this.type===types$1.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1,u),this.yieldPos=f,this.awaitPos=g,this.awaitIdentPos=_,this.finishNode(e,t&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")};pp$8.parseFunctionParams=function(e){this.expect(types$1.parenL),e.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};pp$8.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var o=this.enterClassBody(),u=this.startNode(),f=!1;for(u.body=[],this.expect(types$1.braceL);this.type!==types$1.braceR;){var g=this.parseClassElement(e.superClass!==null);g&&(u.body.push(g),g.type==="MethodDefinition"&&g.kind==="constructor"?(f&&this.raise(g.start,"Duplicate constructor in the same class"),f=!0):g.key&&g.key.type==="PrivateIdentifier"&&isPrivateNameConflicted(o,g)&&this.raiseRecoverable(g.key.start,"Identifier '#"+g.key.name+"' has already been declared"))}return this.strict=r,this.next(),e.body=this.finishNode(u,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};pp$8.parseClassElement=function(e){if(this.eat(types$1.semi))return null;var t=this.options.ecmaVersion,r=this.startNode(),o="",u=!1,f=!1,g="method",_=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(types$1.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===types$1.star?_=!0:o="static"}if(r.static=_,!o&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===types$1.star)&&!this.canInsertSemicolon()?f=!0:o="async"),!o&&(t>=9||!f)&&this.eat(types$1.star)&&(u=!0),!o&&!f&&!u){var w=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?g=w:o=w)}if(o?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=o,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),t<13||this.type===types$1.parenL||g!=="method"||u||f){var S=!r.static&&checkKeyName(r,"constructor"),M=S&&e;S&&g!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=S?"constructor":g,this.parseClassMethod(r,u,f,M)}else this.parseClassField(r);return r};pp$8.isClassElementNameStart=function(){return this.type===types$1.name||this.type===types$1.privateId||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword};pp$8.parseClassElementName=function(e){this.type===types$1.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};pp$8.parseClassMethod=function(e,t,r,o){var u=e.key;e.kind==="constructor"?(t&&this.raise(u.start,"Constructor can't be a generator"),r&&this.raise(u.start,"Constructor can't be an async method")):e.static&&checkKeyName(e,"prototype")&&this.raise(u.start,"Classes may not have a static property named prototype");var f=e.value=this.parseMethod(t,r,o);return e.kind==="get"&&f.params.length!==0&&this.raiseRecoverable(f.start,"getter should have no params"),e.kind==="set"&&f.params.length!==1&&this.raiseRecoverable(f.start,"setter should have exactly one param"),e.kind==="set"&&f.params[0].type==="RestElement"&&this.raiseRecoverable(f.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};pp$8.parseClassField=function(e){if(checkKeyName(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&checkKeyName(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(types$1.eq)){var t=this.currentThisScope(),r=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=r}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};pp$8.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(SCOPE_CLASS_STATIC_BLOCK|SCOPE_SUPER);this.type!==types$1.braceR;){var r=this.parseStatement(null);e.body.push(r)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};pp$8.parseClassId=function(e,t){this.type===types$1.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,BIND_LEXICAL,!1)):(t===!0&&this.unexpected(),e.id=null)};pp$8.parseClassSuper=function(e){e.superClass=this.eat(types$1._extends)?this.parseExprSubscripts(!1):null};pp$8.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};pp$8.exitClassBody=function(){for(var e=this.privateNameStack.pop(),t=e.declared,r=e.used,o=this.privateNameStack.length,u=o===0?null:this.privateNameStack[o-1],f=0;f<r.length;++f){var g=r[f];hasOwn(t,g.name)||(u?u.used.push(g):this.raiseRecoverable(g.start,"Private field '#"+g.name+"' must be declared in an enclosing class"))}};function isPrivateNameConflicted(e,t){var r=t.key.name,o=e[r],u="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(u=(t.static?"s":"i")+t.kind),o==="iget"&&u==="iset"||o==="iset"&&u==="iget"||o==="sget"&&u==="sset"||o==="sset"&&u==="sget"?(e[r]="true",!1):o?!0:(e[r]=u,!1)}function checkKeyName(e,t){var r=e.computed,o=e.key;return!r&&(o.type==="Identifier"&&o.name===t||o.type==="Literal"&&o.value===t)}pp$8.parseExport=function(e,t){if(this.next(),this.eat(types$1.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==types$1.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(types$1._default)){this.checkExport(t,"default",this.lastTokStart);var r;if(this.type===types$1._function||(r=this.isAsyncFunction())){var o=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(o,FUNC_STATEMENT|FUNC_NULLABLE_ID,!1,r)}else if(this.type===types$1._class){var u=this.startNode();e.declaration=this.parseClass(u,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==types$1.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var f=0,g=e.specifiers;f<g.length;f+=1){var _=g[f];this.checkUnreserved(_.local),this.checkLocalExport(_.local),_.local.type==="Literal"&&this.raise(_.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};pp$8.checkExport=function(e,t,r){e&&(hasOwn(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)};pp$8.checkPatternExport=function(e,t){var r=t.type;if(r==="Identifier")this.checkExport(e,t.name,t.start);else if(r==="ObjectPattern")for(var o=0,u=t.properties;o<u.length;o+=1){var f=u[o];this.checkPatternExport(e,f)}else if(r==="ArrayPattern")for(var g=0,_=t.elements;g<_.length;g+=1){var w=_[g];w&&this.checkPatternExport(e,w)}else r==="Property"?this.checkPatternExport(e,t.value):r==="AssignmentPattern"?this.checkPatternExport(e,t.left):r==="RestElement"?this.checkPatternExport(e,t.argument):r==="ParenthesizedExpression"&&this.checkPatternExport(e,t.expression)};pp$8.checkVariableExport=function(e,t){if(e)for(var r=0,o=t;r<o.length;r+=1){var u=o[r];this.checkPatternExport(e,u.id)}};pp$8.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};pp$8.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(r)r=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var o=this.startNode();o.local=this.parseModuleExportName(),o.exported=this.eatContextual("as")?this.parseModuleExportName():o.local,this.checkExport(e,o.exported[o.exported.type==="Identifier"?"name":"value"],o.exported.start),t.push(this.finishNode(o,"ExportSpecifier"))}return t};pp$8.parseImport=function(e){return this.next(),this.type===types$1.string?(e.specifiers=empty$1,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===types$1.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};pp$8.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===types$1.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLValSimple(r.local,BIND_LEXICAL),e.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(types$1.comma))return e}if(this.type===types$1.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,BIND_LEXICAL),e.push(this.finishNode(o,"ImportNamespaceSpecifier")),e}for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(t)t=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var u=this.startNode();u.imported=this.parseModuleExportName(),this.eatContextual("as")?u.local=this.parseIdent():(this.checkUnreserved(u.imported),u.local=u.imported),this.checkLValSimple(u.local,BIND_LEXICAL),e.push(this.finishNode(u,"ImportSpecifier"))}return e};pp$8.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===types$1.string){var e=this.parseLiteral(this.value);return loneSurrogate.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};pp$8.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};pp$8.isDirectiveCandidate=function(e){return e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var pp$7=Parser.prototype;pp$7.toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var o=0,u=e.properties;o<u.length;o+=1){var f=u[o];this.toAssignable(f,t),f.type==="RestElement"&&(f.argument.type==="ArrayPattern"||f.argument.type==="ObjectPattern")&&this.raise(f.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e};pp$7.toAssignableList=function(e,t){for(var r=e.length,o=0;o<r;o++){var u=e[o];u&&this.toAssignable(u,t)}if(r){var f=e[r-1];this.options.ecmaVersion===6&&t&&f&&f.type==="RestElement"&&f.argument.type!=="Identifier"&&this.unexpected(f.argument.start)}return e};pp$7.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};pp$7.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types$1.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};pp$7.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types$1.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(types$1.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case types$1.braceL:return this.parseObj(!0)}return this.parseIdent()};pp$7.parseBindingList=function(e,t,r){for(var o=[],u=!0;!this.eat(e);)if(u?u=!1:this.expect(types$1.comma),t&&this.type===types$1.comma)o.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===types$1.ellipsis){var f=this.parseRestBinding();this.parseBindingListItem(f),o.push(f),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else{var g=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(g),o.push(g)}}return o};pp$7.parseBindingListItem=function(e){return e};pp$7.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types$1.eq))return r;var o=this.startNodeAt(e,t);return o.left=r,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};pp$7.checkLValSimple=function(e,t,r){t===void 0&&(t=BIND_NONE);var o=t!==BIND_NONE;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(o?"Binding ":"Assigning to ")+e.name+" in strict mode"),o&&(t===BIND_LEXICAL&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),r&&(hasOwn(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),t!==BIND_OUTSIDE&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,r);default:this.raise(e.start,(o?"Binding":"Assigning to")+" rvalue")}};pp$7.checkLValPattern=function(e,t,r){switch(t===void 0&&(t=BIND_NONE),e.type){case"ObjectPattern":for(var o=0,u=e.properties;o<u.length;o+=1){var f=u[o];this.checkLValInnerPattern(f,t,r)}break;case"ArrayPattern":for(var g=0,_=e.elements;g<_.length;g+=1){var w=_[g];w&&this.checkLValInnerPattern(w,t,r)}break;default:this.checkLValSimple(e,t,r)}};pp$7.checkLValInnerPattern=function(e,t,r){switch(t===void 0&&(t=BIND_NONE),e.type){case"Property":this.checkLValInnerPattern(e.value,t,r);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,r);break;case"RestElement":this.checkLValPattern(e.argument,t,r);break;default:this.checkLValPattern(e,t,r)}};var TokContext=function e(t,r,o,u,f){this.token=t,this.isExpr=!!r,this.preserveSpace=!!o,this.override=u,this.generator=!!f},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]};pp$6.curContext=function(){return this.context[this.context.length-1]};pp$6.braceIsBlock=function(e){var t=this.curContext();return t===types.f_expr||t===types.f_stat?!0:e===types$1.colon&&(t===types.b_stat||t===types.b_expr)?!t.isExpr:e===types$1._return||e===types$1.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):e===types$1._else||e===types$1.semi||e===types$1.eof||e===types$1.parenR||e===types$1.arrow?!0:e===types$1.braceL?t===types.b_stat:e===types$1._var||e===types$1._const||e===types$1.name?!1:!this.exprAllowed};pp$6.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};pp$6.updateContext=function(e){var t,r=this.type;r.keyword&&e===types$1.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr};pp$6.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};types$1.parenR.updateContext=types$1.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===types.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};types$1.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?types.b_stat:types.b_expr),this.exprAllowed=!0};types$1.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0};types$1.parenL.updateContext=function(e){var t=e===types$1._if||e===types$1._for||e===types$1._with||e===types$1._while;this.context.push(t?types.p_stat:types.p_expr),this.exprAllowed=!0};types$1.incDec.updateContext=function(){};types$1._function.updateContext=types$1._class.updateContext=function(e){e.beforeExpr&&e!==types$1._else&&!(e===types$1.semi&&this.curContext()!==types.p_stat)&&!(e===types$1._return&&lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===types$1.colon||e===types$1.braceL)&&this.curContext()===types.b_stat)?this.context.push(types.f_expr):this.context.push(types.f_stat),this.exprAllowed=!1};types$1.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1};types$1.star.updateContext=function(e){if(e===types$1._function){var t=this.context.length-1;this.context[t]===types.f_expr?this.context[t]=types.f_expr_gen:this.context[t]=types.f_gen}this.exprAllowed=!0};types$1.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==types$1.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var pp$5=Parser.prototype;pp$5.checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var o=e.key,u;switch(o.type){case"Identifier":u=o.name;break;case"Literal":u=String(o.value);break;default:return}var f=e.kind;if(this.options.ecmaVersion>=6){u==="__proto__"&&f==="init"&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),t.proto=!0);return}u="$"+u;var g=t[u];if(g){var _;f==="init"?_=this.strict&&g.init||g.get||g.set:_=g.init||g[f],_&&this.raiseRecoverable(o.start,"Redefinition of property")}else g=t[u]={init:!1,get:!1,set:!1};g[f]=!0}};pp$5.parseExpression=function(e,t){var r=this.start,o=this.startLoc,u=this.parseMaybeAssign(e,t);if(this.type===types$1.comma){var f=this.startNodeAt(r,o);for(f.expressions=[u];this.eat(types$1.comma);)f.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(f,"SequenceExpression")}return u};pp$5.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var o=!1,u=-1,f=-1,g=-1;t?(u=t.parenthesizedAssign,f=t.trailingComma,g=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new DestructuringErrors,o=!0);var _=this.start,w=this.startLoc;(this.type===types$1.parenL||this.type===types$1.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var S=this.parseMaybeConditional(e,t);if(r&&(S=r.call(this,S,_,w)),this.type.isAssign){var M=this.startNodeAt(_,w);return M.operator=this.value,this.type===types$1.eq&&(S=this.toAssignable(S,!1,t)),o||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=S.start&&(t.shorthandAssign=-1),this.type===types$1.eq?this.checkLValPattern(S):this.checkLValSimple(S),M.left=S,this.next(),M.right=this.parseMaybeAssign(e),g>-1&&(t.doubleProto=g),this.finishNode(M,"AssignmentExpression")}else o&&this.checkExpressionErrors(t,!0);return u>-1&&(t.parenthesizedAssign=u),f>-1&&(t.trailingComma=f),S};pp$5.parseMaybeConditional=function(e,t){var r=this.start,o=this.startLoc,u=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return u;if(this.eat(types$1.question)){var f=this.startNodeAt(r,o);return f.test=u,f.consequent=this.parseMaybeAssign(),this.expect(types$1.colon),f.alternate=this.parseMaybeAssign(e),this.finishNode(f,"ConditionalExpression")}return u};pp$5.parseExprOps=function(e,t){var r=this.start,o=this.startLoc,u=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||u.start===r&&u.type==="ArrowFunctionExpression"?u:this.parseExprOp(u,r,o,-1,e)};pp$5.parseExprOp=function(e,t,r,o,u){var f=this.type.binop;if(f!=null&&(!u||this.type!==types$1._in)&&f>o){var g=this.type===types$1.logicalOR||this.type===types$1.logicalAND,_=this.type===types$1.coalesce;_&&(f=types$1.logicalAND.binop);var w=this.value;this.next();var S=this.start,M=this.startLoc,C=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,u),S,M,f,u),T=this.buildBinary(t,r,e,C,w,g||_);return(g&&this.type===types$1.coalesce||_&&(this.type===types$1.logicalOR||this.type===types$1.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(T,t,r,o,u)}return e};pp$5.buildBinary=function(e,t,r,o,u,f){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var g=this.startNodeAt(e,t);return g.left=r,g.operator=u,g.right=o,this.finishNode(g,f?"LogicalExpression":"BinaryExpression")};pp$5.parseMaybeUnary=function(e,t,r,o){var u=this.start,f=this.startLoc,g;if(this.isContextual("await")&&this.canAwait)g=this.parseAwait(o),t=!0;else if(this.type.prefix){var _=this.startNode(),w=this.type===types$1.incDec;_.operator=this.value,_.prefix=!0,this.next(),_.argument=this.parseMaybeUnary(null,!0,w,o),this.checkExpressionErrors(e,!0),w?this.checkLValSimple(_.argument):this.strict&&_.operator==="delete"&&_.argument.type==="Identifier"?this.raiseRecoverable(_.start,"Deleting local variable in strict mode"):_.operator==="delete"&&isPrivateFieldAccess(_.argument)?this.raiseRecoverable(_.start,"Private fields can not be deleted"):t=!0,g=this.finishNode(_,w?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===types$1.privateId)(o||this.privateNameStack.length===0)&&this.unexpected(),g=this.parsePrivateIdent(),this.type!==types$1._in&&this.unexpected();else{if(g=this.parseExprSubscripts(e,o),this.checkExpressionErrors(e))return g;for(;this.type.postfix&&!this.canInsertSemicolon();){var S=this.startNodeAt(u,f);S.operator=this.value,S.prefix=!1,S.argument=g,this.checkLValSimple(g),this.next(),g=this.finishNode(S,"UpdateExpression")}}if(!r&&this.eat(types$1.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(u,f,g,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return g};function isPrivateFieldAccess(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&isPrivateFieldAccess(e.expression)}pp$5.parseExprSubscripts=function(e,t){var r=this.start,o=this.startLoc,u=this.parseExprAtom(e,t);if(u.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return u;var f=this.parseSubscripts(u,r,o,!1,t);return e&&f.type==="MemberExpression"&&(e.parenthesizedAssign>=f.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=f.start&&(e.parenthesizedBind=-1),e.trailingComma>=f.start&&(e.trailingComma=-1)),f};pp$5.parseSubscripts=function(e,t,r,o,u){for(var f=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,g=!1;;){var _=this.parseSubscript(e,t,r,o,f,g,u);if(_.optional&&(g=!0),_===e||_.type==="ArrowFunctionExpression"){if(g){var w=this.startNodeAt(t,r);w.expression=_,_=this.finishNode(w,"ChainExpression")}return _}e=_}};pp$5.parseSubscript=function(e,t,r,o,u,f,g){var _=this.options.ecmaVersion>=11,w=_&&this.eat(types$1.questionDot);o&&w&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var S=this.eat(types$1.bracketL);if(S||w&&this.type!==types$1.parenL&&this.type!==types$1.backQuote||this.eat(types$1.dot)){var M=this.startNodeAt(t,r);M.object=e,S?(M.property=this.parseExpression(),this.expect(types$1.bracketR)):this.type===types$1.privateId&&e.type!=="Super"?M.property=this.parsePrivateIdent():M.property=this.parseIdent(this.options.allowReserved!=="never"),M.computed=!!S,_&&(M.optional=w),e=this.finishNode(M,"MemberExpression")}else if(!o&&this.eat(types$1.parenL)){var C=new DestructuringErrors,T=this.yieldPos,k=this.awaitPos,P=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var $=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1,C);if(u&&!w&&!this.canInsertSemicolon()&&this.eat(types$1.arrow))return this.checkPatternErrors(C,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=T,this.awaitPos=k,this.awaitIdentPos=P,this.parseArrowExpression(this.startNodeAt(t,r),$,!0,g);this.checkExpressionErrors(C,!0),this.yieldPos=T||this.yieldPos,this.awaitPos=k||this.awaitPos,this.awaitIdentPos=P||this.awaitIdentPos;var I=this.startNodeAt(t,r);I.callee=e,I.arguments=$,_&&(I.optional=w),e=this.finishNode(I,"CallExpression")}else if(this.type===types$1.backQuote){(w||f)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var E=this.startNodeAt(t,r);E.tag=e,E.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(E,"TaggedTemplateExpression")}return e};pp$5.parseExprAtom=function(e,t){this.type===types$1.slash&&this.readRegexp();var r,o=this.potentialArrowAt===this.start;switch(this.type){case types$1._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===types$1.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==types$1.dot&&this.type!==types$1.bracketL&&this.type!==types$1.parenL&&this.unexpected(),this.finishNode(r,"Super");case types$1._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case types$1.name:var u=this.start,f=this.startLoc,g=this.containsEsc,_=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!g&&_.name==="async"&&!this.canInsertSemicolon()&&this.eat(types$1._function))return this.overrideContext(types.f_expr),this.parseFunction(this.startNodeAt(u,f),0,!1,!0,t);if(o&&!this.canInsertSemicolon()){if(this.eat(types$1.arrow))return this.parseArrowExpression(this.startNodeAt(u,f),[_],!1,t);if(this.options.ecmaVersion>=8&&_.name==="async"&&this.type===types$1.name&&!g&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return _=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(types$1.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(u,f),[_],!0,t)}return _;case types$1.regexp:var w=this.value;return r=this.parseLiteral(w.value),r.regex={pattern:w.pattern,flags:w.flags},r;case types$1.num:case types$1.string:return this.parseLiteral(this.value);case types$1._null:case types$1._true:case types$1._false:return r=this.startNode(),r.value=this.type===types$1._null?null:this.type===types$1._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case types$1.parenL:var S=this.start,M=this.parseParenAndDistinguishExpression(o,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(M)&&(e.parenthesizedAssign=S),e.parenthesizedBind<0&&(e.parenthesizedBind=S)),M;case types$1.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(types$1.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case types$1.braceL:return this.overrideContext(types.b_expr),this.parseObj(!1,e);case types$1._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case types$1._class:return this.parseClass(this.startNode(),!1);case types$1._new:return this.parseNew();case types$1.backQuote:return this.parseTemplate();case types$1._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};pp$5.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case types$1.parenL:return this.parseDynamicImport(e);case types$1.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}};pp$5.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(types$1.parenR)){var t=this.start;this.eat(types$1.comma)&&this.eat(types$1.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};pp$5.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};pp$5.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};pp$5.parseParenExpression=function(){this.expect(types$1.parenL);var e=this.parseExpression();return this.expect(types$1.parenR),e};pp$5.parseParenAndDistinguishExpression=function(e,t){var r=this.start,o=this.startLoc,u,f=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var g=this.start,_=this.startLoc,w=[],S=!0,M=!1,C=new DestructuringErrors,T=this.yieldPos,k=this.awaitPos,P;for(this.yieldPos=0,this.awaitPos=0;this.type!==types$1.parenR;)if(S?S=!1:this.expect(types$1.comma),f&&this.afterTrailingComma(types$1.parenR,!0)){M=!0;break}else if(this.type===types$1.ellipsis){P=this.start,w.push(this.parseParenItem(this.parseRestBinding())),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else w.push(this.parseMaybeAssign(!1,C,this.parseParenItem));var $=this.lastTokEnd,I=this.lastTokEndLoc;if(this.expect(types$1.parenR),e&&!this.canInsertSemicolon()&&this.eat(types$1.arrow))return this.checkPatternErrors(C,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=T,this.awaitPos=k,this.parseParenArrowList(r,o,w,t);(!w.length||M)&&this.unexpected(this.lastTokStart),P&&this.unexpected(P),this.checkExpressionErrors(C,!0),this.yieldPos=T||this.yieldPos,this.awaitPos=k||this.awaitPos,w.length>1?(u=this.startNodeAt(g,_),u.expressions=w,this.finishNodeAt(u,"SequenceExpression",$,I)):u=w[0]}else u=this.parseParenExpression();if(this.options.preserveParens){var E=this.startNodeAt(r,o);return E.expression=u,this.finishNode(E,"ParenthesizedExpression")}else return u};pp$5.parseParenItem=function(e){return e};pp$5.parseParenArrowList=function(e,t,r,o){return this.parseArrowExpression(this.startNodeAt(e,t),r,!1,o)};var empty=[];pp$5.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(types$1.dot)){e.meta=t;var r=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var o=this.start,u=this.startLoc,f=this.type===types$1._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),o,u,!0,!1),f&&e.callee.type==="ImportExpression"&&this.raise(o,"Cannot use new with import()"),this.eat(types$1.parenL)?e.arguments=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1):e.arguments=empty,this.finishNode(e,"NewExpression")};pp$5.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===types$1.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===types$1.backQuote,this.finishNode(r,"TemplateElement")};pp$5.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var o=this.parseTemplateElement({isTagged:t});for(r.quasis=[o];!o.tail;)this.type===types$1.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(types$1.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(types$1.braceR),r.quasis.push(o=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")};pp$5.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===types$1.name||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types$1.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};pp$5.parseObj=function(e,t){var r=this.startNode(),o=!0,u={};for(r.properties=[],this.next();!this.eat(types$1.braceR);){if(o)o=!1;else if(this.expect(types$1.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(types$1.braceR))break;var f=this.parseProperty(e,t);e||this.checkPropClash(f,u,t),r.properties.push(f)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")};pp$5.parseProperty=function(e,t){var r=this.startNode(),o,u,f,g;if(this.options.ecmaVersion>=9&&this.eat(types$1.ellipsis))return e?(r.argument=this.parseIdent(!1),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(this.type===types$1.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),r.argument=this.parseMaybeAssign(!1,t),this.type===types$1.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(e||t)&&(f=this.start,g=this.startLoc),e||(o=this.eat(types$1.star)));var _=this.containsEsc;return this.parsePropertyName(r),!e&&!_&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(r)?(u=!0,o=this.options.ecmaVersion>=9&&this.eat(types$1.star),this.parsePropertyName(r,t)):u=!1,this.parsePropertyValue(r,e,o,u,f,g,t,_),this.finishNode(r,"Property")};pp$5.parsePropertyValue=function(e,t,r,o,u,f,g,_){if((r||o)&&this.type===types$1.colon&&this.unexpected(),this.eat(types$1.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,g),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===types$1.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,o);else if(!t&&!_&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==types$1.comma&&this.type!==types$1.braceR&&this.type!==types$1.eq){(r||o)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var w=e.kind==="get"?0:1;if(e.value.params.length!==w){var S=e.value.start;e.kind==="get"?this.raiseRecoverable(S,"getter should have no params"):this.raiseRecoverable(S,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((r||o)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=u),e.kind="init",t?e.value=this.parseMaybeDefault(u,f,this.copyNode(e.key)):this.type===types$1.eq&&g?(g.shorthandAssign<0&&(g.shorthandAssign=this.start),e.value=this.parseMaybeDefault(u,f,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};pp$5.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(types$1.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(types$1.bracketR),e.key;e.computed=!1}return e.key=this.type===types$1.num||this.type===types$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};pp$5.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};pp$5.parseMethod=function(e,t,r){var o=this.startNode(),u=this.yieldPos,f=this.awaitPos,g=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=e),this.options.ecmaVersion>=8&&(o.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(t,o.generator)|SCOPE_SUPER|(r?SCOPE_DIRECT_SUPER:0)),this.expect(types$1.parenL),o.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=u,this.awaitPos=f,this.awaitIdentPos=g,this.finishNode(o,"FunctionExpression")};pp$5.parseArrowExpression=function(e,t,r,o){var u=this.yieldPos,f=this.awaitPos,g=this.awaitIdentPos;return this.enterScope(functionFlags(r,!1)|SCOPE_ARROW),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,o),this.yieldPos=u,this.awaitPos=f,this.awaitIdentPos=g,this.finishNode(e,"ArrowFunctionExpression")};pp$5.parseFunctionBody=function(e,t,r,o){var u=t&&this.type!==types$1.braceL,f=this.strict,g=!1;if(u)e.body=this.parseMaybeAssign(o),e.expression=!0,this.checkParams(e,!1);else{var _=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!f||_)&&(g=this.strictDirective(this.end),g&&_&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var w=this.labels;this.labels=[],g&&(this.strict=!0),this.checkParams(e,!f&&!g&&!t&&!r&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,BIND_OUTSIDE),e.body=this.parseBlock(!1,void 0,g&&!f),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=w}this.exitScope()};pp$5.isSimpleParamList=function(e){for(var t=0,r=e;t<r.length;t+=1){var o=r[t];if(o.type!=="Identifier")return!1}return!0};pp$5.checkParams=function(e,t){for(var r=Object.create(null),o=0,u=e.params;o<u.length;o+=1){var f=u[o];this.checkLValInnerPattern(f,BIND_VAR,t?null:r)}};pp$5.parseExprList=function(e,t,r,o){for(var u=[],f=!0;!this.eat(e);){if(f)f=!1;else if(this.expect(types$1.comma),t&&this.afterTrailingComma(e))break;var g=void 0;r&&this.type===types$1.comma?g=null:this.type===types$1.ellipsis?(g=this.parseSpread(o),o&&this.type===types$1.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):g=this.parseMaybeAssign(!1,o),u.push(g)}return u};pp$5.checkUnreserved=function(e){var t=e.start,r=e.end,o=e.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(t,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(t,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,r).indexOf("\\")!==-1)){var u=this.strict?this.reservedWordsStrict:this.reservedWords;u.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+o+"' is reserved"))}};pp$5.parseIdent=function(e,t){var r=this.startNode();return this.type===types$1.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,(r.name==="class"||r.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};pp$5.parsePrivateIdent=function(){var e=this.startNode();return this.type===types$1.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e),e};pp$5.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===types$1.semi||this.canInsertSemicolon()||this.type!==types$1.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(types$1.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};pp$5.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(e,t){var r=getLineInfo(this.input,e);t+=" ("+r.line+":"+r.column+")";var o=new SyntaxError(t);throw o.pos=e,o.loc=r,o.raisedAt=this.pos,o};pp$4.raiseRecoverable=pp$4.raise;pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$3=Parser.prototype,Scope=function e(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};pp$3.enterScope=function(e){this.scopeStack.push(new Scope(e))};pp$3.exitScope=function(){this.scopeStack.pop()};pp$3.treatFunctionsAsVarInScope=function(e){return e.flags&SCOPE_FUNCTION||!this.inModule&&e.flags&SCOPE_TOP};pp$3.declareName=function(e,t,r){var o=!1;if(t===BIND_LEXICAL){var u=this.currentScope();o=u.lexical.indexOf(e)>-1||u.functions.indexOf(e)>-1||u.var.indexOf(e)>-1,u.lexical.push(e),this.inModule&&u.flags&SCOPE_TOP&&delete this.undefinedExports[e]}else if(t===BIND_SIMPLE_CATCH){var f=this.currentScope();f.lexical.push(e)}else if(t===BIND_FUNCTION){var g=this.currentScope();this.treatFunctionsAsVar?o=g.lexical.indexOf(e)>-1:o=g.lexical.indexOf(e)>-1||g.var.indexOf(e)>-1,g.functions.push(e)}else for(var _=this.scopeStack.length-1;_>=0;--_){var w=this.scopeStack[_];if(w.lexical.indexOf(e)>-1&&!(w.flags&SCOPE_SIMPLE_CATCH&&w.lexical[0]===e)||!this.treatFunctionsAsVarInScope(w)&&w.functions.indexOf(e)>-1){o=!0;break}if(w.var.push(e),this.inModule&&w.flags&SCOPE_TOP&&delete this.undefinedExports[e],w.flags&SCOPE_VAR)break}o&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")};pp$3.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};pp$3.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};pp$3.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&SCOPE_VAR)return t}};pp$3.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&SCOPE_VAR&&!(t.flags&SCOPE_ARROW))return t}};var Node=function e(t,r,o){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new SourceLocation(t,o)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},pp$2=Parser.prototype;pp$2.startNode=function(){return new Node(this,this.start,this.startLoc)};pp$2.startNodeAt=function(e,t){return new Node(this,e,t)};function finishNodeAt(e,t,r,o){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=o),this.options.ranges&&(e.range[1]=r),e}pp$2.finishNode=function(e,t){return finishNodeAt.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};pp$2.finishNodeAt=function(e,t,r,o){return finishNodeAt.call(this,e,t,r,o)};pp$2.copyNode=function(e){var t=new Node(this,e.start,this.startLoc);for(var r in e)t[r]=e[r];return t};var ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic",ecma11BinaryProperties=ecma10BinaryProperties,ecma12BinaryProperties=ecma11BinaryProperties+" EBase EComp EMod EPres ExtPict",ecma13BinaryProperties=ecma12BinaryProperties,unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties,12:ecma12BinaryProperties,13:ecma13BinaryProperties},unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ecma9ScriptValues="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ecma12ScriptValues=ecma11ScriptValues+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ecma13ScriptValues=ecma12ScriptValues+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues,12:ecma12ScriptValues,13:ecma13ScriptValues},data={};function buildUnicodeData(e){var t=data[e]={binary:wordsRegexp(unicodeBinaryProperties[e]+" "+unicodeGeneralCategoryValues),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var i=0,list=[9,10,11,12,13];i<list.length;i+=1){var ecmaVersion=list[i];buildUnicodeData(ecmaVersion)}var pp$1=Parser.prototype,RegExpValidationState=function e(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":""),this.unicodeProperties=data[t.options.ecmaVersion>=13?13:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};RegExpValidationState.prototype.reset=function e(t,r,o){var u=o.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=o,this.switchU=u&&this.parser.options.ecmaVersion>=6,this.switchN=u&&this.parser.options.ecmaVersion>=9};RegExpValidationState.prototype.raise=function e(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};RegExpValidationState.prototype.at=function e(t,r){r===void 0&&(r=!1);var o=this.source,u=o.length;if(t>=u)return-1;var f=o.charCodeAt(t);if(!(r||this.switchU)||f<=55295||f>=57344||t+1>=u)return f;var g=o.charCodeAt(t+1);return g>=56320&&g<=57343?(f<<10)+g-56613888:f};RegExpValidationState.prototype.nextIndex=function e(t,r){r===void 0&&(r=!1);var o=this.source,u=o.length;if(t>=u)return u;var f=o.charCodeAt(t),g;return!(r||this.switchU)||f<=55295||f>=57344||t+1>=u||(g=o.charCodeAt(t+1))<56320||g>57343?t+1:t+2};RegExpValidationState.prototype.current=function e(t){return t===void 0&&(t=!1),this.at(this.pos,t)};RegExpValidationState.prototype.lookahead=function e(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};RegExpValidationState.prototype.advance=function e(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};RegExpValidationState.prototype.eat=function e(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};function codePointToString$1(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}pp$1.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,o=0;o<r.length;o++){var u=r.charAt(o);t.indexOf(u)===-1&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(u,o+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}};pp$1.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};pp$1.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,r=e.backReferenceNames;t<r.length;t+=1){var o=r[t];e.groupNames.indexOf(o)===-1&&e.raise("Invalid named capture referenced")}};pp$1.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};pp$1.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};pp$1.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};pp$1.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1};pp$1.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};pp$1.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};pp$1.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var o=0,u=-1;if(this.regexp_eatDecimalDigits(e)&&(o=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(u=e.lastIntValue),e.eat(125)))return u!==-1&&u<o&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1};pp$1.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};pp$1.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};pp$1.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};pp$1.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};pp$1.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};pp$1.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};pp$1.regexp_eatSyntaxCharacter=function(e){var t=e.current();return isSyntaxCharacter(t)?(e.lastIntValue=t,e.advance(),!0):!1};function isSyntaxCharacter(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}pp$1.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;(r=e.current())!==-1&&!isSyntaxCharacter(r);)e.advance();return e.pos!==t};pp$1.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};pp$1.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};pp$1.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};pp$1.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=codePointToString$1(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=codePointToString$1(e.lastIntValue);return!0}return!1};pp$1.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,o=e.current(r);return e.advance(r),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(o=e.lastIntValue),isRegExpIdentifierStart(o)?(e.lastIntValue=o,!0):(e.pos=t,!1)};function isRegExpIdentifierStart(e){return isIdentifierStart(e,!0)||e===36||e===95}pp$1.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,o=e.current(r);return e.advance(r),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(o=e.lastIntValue),isRegExpIdentifierPart(o)?(e.lastIntValue=o,!0):(e.pos=t,!1)};function isRegExpIdentifierPart(e){return isIdentifierChar(e,!0)||e===36||e===95||e===8204||e===8205}pp$1.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};pp$1.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1};pp$1.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};pp$1.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};pp$1.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};pp$1.regexp_eatZero=function(e){return e.current()===48&&!isDecimalDigit(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};pp$1.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};pp$1.regexp_eatControlLetter=function(e){var t=e.current();return isControlLetter(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function isControlLetter(e){return e>=65&&e<=90||e>=97&&e<=122}pp$1.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var r=e.pos,o=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var u=e.lastIntValue;if(o&&u>=55296&&u<=56319){var f=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var g=e.lastIntValue;if(g>=56320&&g<=57343)return e.lastIntValue=(u-55296)*1024+(g-56320)+65536,!0}e.pos=f,e.lastIntValue=u}return!0}if(o&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&isValidUnicode(e.lastIntValue))return!0;o&&e.raise("Invalid unicode escape"),e.pos=r}return!1};function isValidUnicode(e){return e>=0&&e<=1114111}pp$1.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};pp$1.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};pp$1.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(isCharacterClassEscape(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(t===80||t===112)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1};function isCharacterClassEscape(e){return e===100||e===68||e===115||e===83||e===119||e===87}pp$1.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var o=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,o),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var u=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,u),!0}return!1};pp$1.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){hasOwn(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")};pp$1.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")};pp$1.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyNameCharacter(t=e.current());)e.lastStringValue+=codePointToString$1(t),e.advance();return e.lastStringValue!==""};function isUnicodePropertyNameCharacter(e){return isControlLetter(e)||e===95}pp$1.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyValueCharacter(t=e.current());)e.lastStringValue+=codePointToString$1(t),e.advance();return e.lastStringValue!==""};function isUnicodePropertyValueCharacter(e){return isUnicodePropertyNameCharacter(e)||isDecimalDigit(e)}pp$1.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};pp$1.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1};pp$1.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;e.switchU&&(t===-1||r===-1)&&e.raise("Invalid character class"),t!==-1&&r!==-1&&t>r&&e.raise("Range out of order in character class")}}};pp$1.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(r===99||isOctalDigit(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var o=e.current();return o!==93?(e.lastIntValue=o,e.advance(),!0):!1};pp$1.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};pp$1.regexp_eatClassControlLetter=function(e){var t=e.current();return isDecimalDigit(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};pp$1.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};pp$1.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;isDecimalDigit(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t};function isDecimalDigit(e){return e>=48&&e<=57}pp$1.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;isHexDigit(r=e.current());)e.lastIntValue=16*e.lastIntValue+hexToInt(r),e.advance();return e.pos!==t};function isHexDigit(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function hexToInt(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}pp$1.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+r*8+e.lastIntValue:e.lastIntValue=t*8+r}else e.lastIntValue=t;return!0}return!1};pp$1.regexp_eatOctalDigit=function(e){var t=e.current();return isOctalDigit(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function isOctalDigit(e){return e>=48&&e<=55}pp$1.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var o=0;o<t;++o){var u=e.current();if(!isHexDigit(u))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+hexToInt(u),e.advance()}return!0};var Token=function e(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new SourceLocation(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},pp=Parser.prototype;pp.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};pp.getToken=function(){return this.next(),new Token(this)};typeof Symbol<"u"&&(pp[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===types$1.eof,value:t}}}});pp.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types$1.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};pp.readToken=function(e){return isIdentifierStart(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};pp.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};pp.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var o=void 0,u=t;(o=nextLineBreak(this.input,u,this.pos))>-1;)++this.curLine,u=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,e,this.curPosition())};pp.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!isNewLine(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())};pp.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&nonASCIIwhitespace.test(String.fromCharCode(e)))++this.pos;else break e}}};pp.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)};pp.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(types$1.ellipsis)):(++this.pos,this.finishToken(types$1.dot))};pp.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.slash,1)};pp.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,o=e===42?types$1.star:types$1.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++r,o=types$1.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(types$1.assign,r+1):this.finishOp(o,r)};pp.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(types$1.assign,3)}return this.finishOp(e===124?types$1.logicalOR:types$1.logicalAND,2)}return t===61?this.finishOp(types$1.assign,2):this.finishOp(e===124?types$1.bitwiseOR:types$1.bitwiseAND,1)};pp.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.bitwiseXOR,1)};pp.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types$1.incDec,2):t===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.plusMin,1)};pp.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(types$1.assign,r+1):this.finishOp(types$1.bitShift,r)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(r=2),this.finishOp(types$1.relational,r))};pp.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(types$1.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types$1.arrow)):this.finishOp(e===61?types$1.eq:types$1.prefix,1)};pp.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(types$1.questionDot,2)}if(t===63){if(e>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(types$1.assign,3)}return this.finishOp(types$1.coalesce,2)}}return this.finishOp(types$1.question,1)};pp.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),isIdentifierStart(t,!0)||t===92))return this.finishToken(types$1.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+codePointToString(t)+"'")};pp.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types$1.parenL);case 41:return++this.pos,this.finishToken(types$1.parenR);case 59:return++this.pos,this.finishToken(types$1.semi);case 44:return++this.pos,this.finishToken(types$1.comma);case 91:return++this.pos,this.finishToken(types$1.bracketL);case 93:return++this.pos,this.finishToken(types$1.bracketR);case 123:return++this.pos,this.finishToken(types$1.braceL);case 125:return++this.pos,this.finishToken(types$1.braceR);case 58:return++this.pos,this.finishToken(types$1.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types$1.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(types$1.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+codePointToString(e)+"'")};pp.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)};pp.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(lineBreak.test(o)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if(o==="[")t=!0;else if(o==="]"&&t)t=!1;else if(o==="/"&&!t)break;e=o==="\\"}++this.pos}var u=this.input.slice(r,this.pos);++this.pos;var f=this.pos,g=this.readWord1();this.containsEsc&&this.unexpected(f);var _=this.regexpState||(this.regexpState=new RegExpValidationState(this));_.reset(r,u,g),this.validateRegExpFlags(_),this.validateRegExpPattern(_);var w=null;try{w=new RegExp(u,g)}catch{}return this.finishToken(types$1.regexp,{pattern:u,flags:g,value:w})};pp.readInt=function(e,t,r){for(var o=this.options.ecmaVersion>=12&&t===void 0,u=r&&this.input.charCodeAt(this.pos)===48,f=this.pos,g=0,_=0,w=0,S=t??1/0;w<S;++w,++this.pos){var M=this.input.charCodeAt(this.pos),C=void 0;if(o&&M===95){u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),_===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),w===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),_=M;continue}if(M>=97?C=M-97+10:M>=65?C=M-65+10:M>=48&&M<=57?C=M-48:C=1/0,C>=e)break;_=M,g=g*e+C}return o&&_===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===f||t!=null&&this.pos-f!==t?null:g};function stringToNumber(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function stringToBigInt(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}pp.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return r==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=stringToBigInt(this.input.slice(t,this.pos)),++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,r)};pp.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var r=this.pos-t>=2&&this.input.charCodeAt(t)===48;r&&this.strict&&this.raise(t,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&o===110){var u=stringToBigInt(this.input.slice(t,this.pos));return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,u)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),o===46&&!r&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!r&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var f=stringToNumber(this.input.slice(t,this.pos),r);return this.finishToken(types$1.num,f)};pp.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else t=this.readHexChar(4);return t};function codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}pp.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===e)break;o===92?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(isNewLine(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(types$1.string,t)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};pp.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(e,t)};pp.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===types$1.template||this.type===types$1.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(types$1.dollarBraceL)):(++this.pos,this.finishToken(types$1.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(types$1.template,e));if(r===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(isNewLine(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};pp.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(types$1.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};pp.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var r=this.pos-1;return this.invalidStringToken(r,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],u=parseInt(o,8);return u>255&&(o=o.slice(0,-1),u=parseInt(o,8)),this.pos+=o.length-1,t=this.input.charCodeAt(this.pos),(o!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-o.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(u)}return isNewLine(t)?"":String.fromCharCode(t)}};pp.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return r===null&&this.invalidStringToken(t,"Bad character escape sequence"),r};pp.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var u=this.fullCharCodeAtPos();if(isIdentifierChar(u,o))this.pos+=u<=65535?1:2;else if(u===92){this.containsEsc=!0,e+=this.input.slice(r,this.pos);var f=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var g=this.readCodePoint();(t?isIdentifierStart:isIdentifierChar)(g,o)||this.invalidStringToken(f,"Invalid Unicode escape"),e+=codePointToString(g),r=this.pos}else break;t=!1}return e+this.input.slice(r,this.pos)};pp.readWord=function(){var e=this.readWord1(),t=types$1.name;return this.keywords.test(e)&&(t=keywords[e]),this.finishToken(t,e)};var version="8.7.0";Parser.acorn={Parser,version,defaultOptions,Position,SourceLocation,getLineInfo,Node,TokenType,tokTypes:types$1,keywordTypes:keywords,TokContext,tokContexts:types,isIdentifierChar,isIdentifierStart,Token,isNewLine,lineBreak,lineBreakG,nonASCIIwhitespace};const{stringify}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");const OPERATOR_PRECEDENCE={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17,EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function formatSequence(e,t){const{generator:r}=e;if(e.write("("),t!=null&&t.length>0){r[t[0].type](t[0],e);const{length:o}=t;for(let u=1;u<o;u++){const f=t[u];e.write(", "),r[f.type](f,e)}}e.write(")")}function expressionNeedsParenthesis(e,t,r,o){const u=e.expressionsPrecedence[t.type];if(u===NEEDS_PARENTHESES)return!0;const f=e.expressionsPrecedence[r.type];return u!==f?!o&&u===15&&f===14&&r.operator==="**"||u<f:u!==13&&u!==14?!1:t.operator==="**"&&r.operator==="**"?!o:o?OPERATOR_PRECEDENCE[t.operator]<=OPERATOR_PRECEDENCE[r.operator]:OPERATOR_PRECEDENCE[t.operator]<OPERATOR_PRECEDENCE[r.operator]}function formatExpression(e,t,r,o){const{generator:u}=e;expressionNeedsParenthesis(e,t,r,o)?(e.write("("),u[t.type](t,e),e.write(")")):u[t.type](t,e)}function reindent(e,t,r,o){const u=t.split(`
`),f=u.length-1;if(e.write(u[0].trim()),f>0){e.write(o);for(let g=1;g<f;g++)e.write(r+u[g].trim()+o);e.write(r+u[f].trim())}}function formatComments(e,t,r,o){const{length:u}=t;for(let f=0;f<u;f++){const g=t[f];e.write(r),g.type[0]==="L"?e.write("// "+g.value.trim()+`
`,g):(e.write("/*"),reindent(e,g.value,r,o),e.write("*/"+o))}}function hasCallExpression(e){let t=e;for(;t!=null;){const{type:r}=t;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")t=t.object;else return!1}}function formatVariableDeclaration(e,t){const{generator:r}=e,{declarations:o}=t;e.write(t.kind+" ");const{length:u}=o;if(u>0){r.VariableDeclarator(o[0],e);for(let f=1;f<u;f++)e.write(", "),r.VariableDeclarator(o[f],e)}}let ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement;const GENERATOR={Program(e,t){const r=t.indent.repeat(t.indentLevel),{lineEnd:o,writeComments:u}=t;u&&e.comments!=null&&formatComments(t,e.comments,r,o);const f=e.body,{length:g}=f;for(let _=0;_<g;_++){const w=f[_];u&&w.comments!=null&&formatComments(t,w.comments,r,o),t.write(r),this[w.type](w,t),t.write(o)}u&&e.trailingComments!=null&&formatComments(t,e.trailingComments,r,o)},BlockStatement:BlockStatement=function(e,t){const r=t.indent.repeat(t.indentLevel++),{lineEnd:o,writeComments:u}=t,f=r+t.indent;t.write("{");const g=e.body;if(g!=null&&g.length>0){t.write(o),u&&e.comments!=null&&formatComments(t,e.comments,f,o);const{length:_}=g;for(let w=0;w<_;w++){const S=g[w];u&&S.comments!=null&&formatComments(t,S.comments,f,o),t.write(f),this[S.type](S,t),t.write(o)}t.write(r)}else u&&e.comments!=null&&(t.write(o),formatComments(t,e.comments,f,o),t.write(r));u&&e.trailingComments!=null&&formatComments(t,e.trailingComments,f,o),t.write("}"),t.indentLevel--},ClassBody:BlockStatement,StaticBlock(e,t){t.write("static "),this.BlockStatement(e,t)},EmptyStatement(e,t){t.write(";")},ExpressionStatement(e,t){const r=t.expressionsPrecedence[e.expression.type];r===NEEDS_PARENTHESES||r===3&&e.expression.left.type[0]==="O"?(t.write("("),this[e.expression.type](e.expression,t),t.write(")")):this[e.expression.type](e.expression,t),t.write(";")},IfStatement(e,t){t.write("if ("),this[e.test.type](e.test,t),t.write(") "),this[e.consequent.type](e.consequent,t),e.alternate!=null&&(t.write(" else "),this[e.alternate.type](e.alternate,t))},LabeledStatement(e,t){this[e.label.type](e.label,t),t.write(": "),this[e.body.type](e.body,t)},BreakStatement(e,t){t.write("break"),e.label!=null&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},ContinueStatement(e,t){t.write("continue"),e.label!=null&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},WithStatement(e,t){t.write("with ("),this[e.object.type](e.object,t),t.write(") "),this[e.body.type](e.body,t)},SwitchStatement(e,t){const r=t.indent.repeat(t.indentLevel++),{lineEnd:o,writeComments:u}=t;t.indentLevel++;const f=r+t.indent,g=f+t.indent;t.write("switch ("),this[e.discriminant.type](e.discriminant,t),t.write(") {"+o);const{cases:_}=e,{length:w}=_;for(let S=0;S<w;S++){const M=_[S];u&&M.comments!=null&&formatComments(t,M.comments,f,o),M.test?(t.write(f+"case "),this[M.test.type](M.test,t),t.write(":"+o)):t.write(f+"default:"+o);const{consequent:C}=M,{length:T}=C;for(let k=0;k<T;k++){const P=C[k];u&&P.comments!=null&&formatComments(t,P.comments,g,o),t.write(g),this[P.type](P,t),t.write(o)}}t.indentLevel-=2,t.write(r+"}")},ReturnStatement(e,t){t.write("return"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t)),t.write(";")},ThrowStatement(e,t){t.write("throw "),this[e.argument.type](e.argument,t),t.write(";")},TryStatement(e,t){if(t.write("try "),this[e.block.type](e.block,t),e.handler){const{handler:r}=e;r.param==null?t.write(" catch "):(t.write(" catch ("),this[r.param.type](r.param,t),t.write(") ")),this[r.body.type](r.body,t)}e.finalizer&&(t.write(" finally "),this[e.finalizer.type](e.finalizer,t))},WhileStatement(e,t){t.write("while ("),this[e.test.type](e.test,t),t.write(") "),this[e.body.type](e.body,t)},DoWhileStatement(e,t){t.write("do "),this[e.body.type](e.body,t),t.write(" while ("),this[e.test.type](e.test,t),t.write(");")},ForStatement(e,t){if(t.write("for ("),e.init!=null){const{init:r}=e;r.type[0]==="V"?formatVariableDeclaration(t,r):this[r.type](r,t)}t.write("; "),e.test&&this[e.test.type](e.test,t),t.write("; "),e.update&&this[e.update.type](e.update,t),t.write(") "),this[e.body.type](e.body,t)},ForInStatement:ForInStatement=function(e,t){t.write(`for ${e.await?"await ":""}(`);const{left:r}=e;r.type[0]==="V"?formatVariableDeclaration(t,r):this[r.type](r,t),t.write(e.type[3]==="I"?" in ":" of "),this[e.right.type](e.right,t),t.write(") "),this[e.body.type](e.body,t)},ForOfStatement:ForInStatement,DebuggerStatement(e,t){t.write("debugger;",e)},FunctionDeclaration:FunctionDeclaration=function(e,t){t.write((e.async?"async ":"")+(e.generator?"function* ":"function ")+(e.id?e.id.name:""),e),formatSequence(t,e.params),t.write(" "),this[e.body.type](e.body,t)},FunctionExpression:FunctionDeclaration,VariableDeclaration(e,t){formatVariableDeclaration(t,e),t.write(";")},VariableDeclarator(e,t){this[e.id.type](e.id,t),e.init!=null&&(t.write(" = "),this[e.init.type](e.init,t))},ClassDeclaration(e,t){if(t.write("class "+(e.id?`${e.id.name} `:""),e),e.superClass){t.write("extends ");const{superClass:r}=e,{type:o}=r,u=t.expressionsPrecedence[o];(o[0]!=="C"||o[1]!=="l"||o[5]!=="E")&&(u===NEEDS_PARENTHESES||u<t.expressionsPrecedence.ClassExpression)?(t.write("("),this[e.superClass.type](r,t),t.write(")")):this[r.type](r,t),t.write(" ")}this.ClassBody(e.body,t)},ImportDeclaration(e,t){t.write("import ");const{specifiers:r}=e,{length:o}=r;let u=0;if(o>0){for(;u<o;){u>0&&t.write(", ");const f=r[u],g=f.type[6];if(g==="D")t.write(f.local.name,f),u++;else if(g==="N")t.write("* as "+f.local.name,f),u++;else break}if(u<o){for(t.write("{");;){const f=r[u],{name:g}=f.imported;if(t.write(g,f),g!==f.local.name&&t.write(" as "+f.local.name),++u<o)t.write(", ");else break}t.write("}")}t.write(" from ")}this.Literal(e.source,t),t.write(";")},ImportExpression(e,t){t.write("import("),this[e.source.type](e.source,t),t.write(")")},ExportDefaultDeclaration(e,t){t.write("export default "),this[e.declaration.type](e.declaration,t),t.expressionsPrecedence[e.declaration.type]!=null&&e.declaration.type[0]!=="F"&&t.write(";")},ExportNamedDeclaration(e,t){if(t.write("export "),e.declaration)this[e.declaration.type](e.declaration,t);else{t.write("{");const{specifiers:r}=e,{length:o}=r;if(o>0)for(let u=0;;){const f=r[u],{name:g}=f.local;if(t.write(g,f),g!==f.exported.name&&t.write(" as "+f.exported.name),++u<o)t.write(", ");else break}t.write("}"),e.source&&(t.write(" from "),this.Literal(e.source,t)),t.write(";")}},ExportAllDeclaration(e,t){e.exported!=null?t.write("export * as "+e.exported.name+" from "):t.write("export * from "),this.Literal(e.source,t),t.write(";")},MethodDefinition(e,t){e.static&&t.write("static ");const r=e.kind[0];(r==="g"||r==="s")&&t.write(e.kind+" "),e.value.async&&t.write("async "),e.value.generator&&t.write("*"),e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),formatSequence(t,e.value.params),t.write(" "),this[e.value.body.type](e.value.body,t)},ClassExpression(e,t){this.ClassDeclaration(e,t)},ArrowFunctionExpression(e,t){t.write(e.async?"async ":"",e);const{params:r}=e;r!=null&&(r.length===1&&r[0].type[0]==="I"?t.write(r[0].name,r[0]):formatSequence(t,e.params)),t.write(" => "),e.body.type[0]==="O"?(t.write("("),this.ObjectExpression(e.body,t),t.write(")")):this[e.body.type](e.body,t)},ThisExpression(e,t){t.write("this",e)},Super(e,t){t.write("super",e)},RestElement:RestElement=function(e,t){t.write("..."),this[e.argument.type](e.argument,t)},SpreadElement:RestElement,YieldExpression(e,t){t.write(e.delegate?"yield*":"yield"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t))},AwaitExpression(e,t){t.write("await ",e),formatExpression(t,e.argument,e)},TemplateLiteral(e,t){const{quasis:r,expressions:o}=e;t.write("`");const{length:u}=o;for(let g=0;g<u;g++){const _=o[g],w=r[g];t.write(w.value.raw,w),t.write("${"),this[_.type](_,t),t.write("}")}const f=r[r.length-1];t.write(f.value.raw,f),t.write("`")},TemplateElement(e,t){t.write(e.value.raw,e)},TaggedTemplateExpression(e,t){formatExpression(t,e.tag,e),this[e.quasi.type](e.quasi,t)},ArrayExpression:ArrayExpression=function(e,t){if(t.write("["),e.elements.length>0){const{elements:r}=e,{length:o}=r;for(let u=0;;){const f=r[u];if(f!=null&&this[f.type](f,t),++u<o)t.write(", ");else{f==null&&t.write(", ");break}}}t.write("]")},ArrayPattern:ArrayExpression,ObjectExpression(e,t){const r=t.indent.repeat(t.indentLevel++),{lineEnd:o,writeComments:u}=t,f=r+t.indent;if(t.write("{"),e.properties.length>0){t.write(o),u&&e.comments!=null&&formatComments(t,e.comments,f,o);const g=","+o,{properties:_}=e,{length:w}=_;for(let S=0;;){const M=_[S];if(u&&M.comments!=null&&formatComments(t,M.comments,f,o),t.write(f),this[M.type](M,t),++S<w)t.write(g);else break}t.write(o),u&&e.trailingComments!=null&&formatComments(t,e.trailingComments,f,o),t.write(r+"}")}else u?e.comments!=null?(t.write(o),formatComments(t,e.comments,f,o),e.trailingComments!=null&&formatComments(t,e.trailingComments,f,o),t.write(r+"}")):e.trailingComments!=null?(t.write(o),formatComments(t,e.trailingComments,f,o),t.write(r+"}")):t.write("}"):t.write("}");t.indentLevel--},Property(e,t){e.method||e.kind[0]!=="i"?this.MethodDefinition(e,t):(e.shorthand||(e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),t.write(": ")),this[e.value.type](e.value,t))},PropertyDefinition(e,t){e.static&&t.write("static "),this[e.key.type](e.key,t),t.write(" = "),this[e.value.type](e.value,t)},ObjectPattern(e,t){if(t.write("{"),e.properties.length>0){const{properties:r}=e,{length:o}=r;for(let u=0;this[r[u].type](r[u],t),++u<o;)t.write(", ")}t.write("}")},SequenceExpression(e,t){formatSequence(t,e.expressions)},UnaryExpression(e,t){if(e.prefix){const{operator:r,argument:o,argument:{type:u}}=e;t.write(r);const f=expressionNeedsParenthesis(t,o,e);!f&&(r.length>1||u[0]==="U"&&(u[1]==="n"||u[1]==="p")&&o.prefix&&o.operator[0]===r&&(r==="+"||r==="-"))&&t.write(" "),f?(t.write(r.length>1?" (":"("),this[u](o,t),t.write(")")):this[u](o,t)}else this[e.argument.type](e.argument,t),t.write(e.operator)},UpdateExpression(e,t){e.prefix?(t.write(e.operator),this[e.argument.type](e.argument,t)):(this[e.argument.type](e.argument,t),t.write(e.operator))},AssignmentExpression(e,t){this[e.left.type](e.left,t),t.write(" "+e.operator+" "),this[e.right.type](e.right,t)},AssignmentPattern(e,t){this[e.left.type](e.left,t),t.write(" = "),this[e.right.type](e.right,t)},BinaryExpression:BinaryExpression=function(e,t){const r=e.operator==="in";r&&t.write("("),formatExpression(t,e.left,e,!1),t.write(" "+e.operator+" "),formatExpression(t,e.right,e,!0),r&&t.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression(e,t){const{test:r}=e,o=t.expressionsPrecedence[r.type];o===NEEDS_PARENTHESES||o<=t.expressionsPrecedence.ConditionalExpression?(t.write("("),this[r.type](r,t),t.write(")")):this[r.type](r,t),t.write(" ? "),this[e.consequent.type](e.consequent,t),t.write(" : "),this[e.alternate.type](e.alternate,t)},NewExpression(e,t){t.write("new ");const r=t.expressionsPrecedence[e.callee.type];r===NEEDS_PARENTHESES||r<t.expressionsPrecedence.CallExpression||hasCallExpression(e.callee)?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),formatSequence(t,e.arguments)},CallExpression(e,t){const r=t.expressionsPrecedence[e.callee.type];r===NEEDS_PARENTHESES||r<t.expressionsPrecedence.CallExpression?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),e.optional&&t.write("?."),formatSequence(t,e.arguments)},ChainExpression(e,t){this[e.expression.type](e.expression,t)},MemberExpression(e,t){const r=t.expressionsPrecedence[e.object.type];r===NEEDS_PARENTHESES||r<t.expressionsPrecedence.MemberExpression?(t.write("("),this[e.object.type](e.object,t),t.write(")")):this[e.object.type](e.object,t),e.computed?(e.optional&&t.write("?."),t.write("["),this[e.property.type](e.property,t),t.write("]")):(e.optional?t.write("?."):t.write("."),this[e.property.type](e.property,t))},MetaProperty(e,t){t.write(e.meta.name+"."+e.property.name,e)},Identifier(e,t){t.write(e.name,e)},PrivateIdentifier(e,t){t.write(`#${e.name}`,e)},Literal(e,t){e.raw!=null?t.write(e.raw,e):e.regex!=null?this.RegExpLiteral(e,t):e.bigint!=null?t.write(e.bigint+"n",e):t.write(stringify(e.value),e)},RegExpLiteral(e,t){const{regex:r}=e;t.write(`/${r.pattern}/${r.flags}`,e)}},EMPTY_OBJECT={};class State{constructor(t){const r=t??EMPTY_OBJECT;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:GENERATOR,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(t){this.output+=t}writeToStream(t){this.output.write(t)}writeAndMap(t,r){this.output+=t,this.map(t,r)}writeToStreamAndMap(t,r){this.output.write(t),this.map(t,r)}map(t,r){if(r!=null){const{type:f}=r;if(f[0]==="L"&&f[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){const{mapping:g}=this;g.original=r.loc.start,g.name=r.name,this.sourceMap.addMapping(g)}if(f[0]==="T"&&f[8]==="E"||f[0]==="L"&&f[1]==="i"&&typeof r.value=="string"){const{length:g}=t;let{column:_,line:w}=this;for(let S=0;S<g;S++)t[S]===`
`?(_=0,w++):_++;this.column=_,this.line=w;return}}const{length:o}=t,{lineEnd:u}=this;o>0&&(this.lineEndSize>0&&(u.length===1?t[o-1]===u:t.endsWith(u))?(this.line+=this.lineEndSize,this.column=0):this.column+=o)}toString(){return this.output}}function generate(e,t){const r=new State(t);return r.generator[e.type](e,r),r.output}var astravel={},defaultTraveler={},hasRequiredDefaultTraveler;function requireDefaultTraveler(){return hasRequiredDefaultTraveler||(hasRequiredDefaultTraveler=1,function(e){(function(t,r){r(e)})(commonjsGlobal,function(t){t.__esModule=!0;function r(M,C){if(!(M instanceof C))throw new TypeError("Cannot call a class as a function")}var o=void 0,u=void 0,f=void 0,g=void 0,_=void 0,w=Function.prototype,S=function M(C,T){r(this,M),this.node=C,this.state=T};t.default={go:function(C,T){this[C.type](C,T)},find:function(C,T,k){var P=Object.create(this);P.go=function($,I){if(C($,I))throw new S($,I);this[$.type]($,I)};try{P.go(T,k)}catch($){if($ instanceof S)return $;throw $}},makeChild:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=Object.create(this);T.super=this;for(var k in C)T[k]=C[k];return T},Program:function(C,T){for(var k=C.body,P=k.length,$=0;$<P;$++)this.go(k[$],T)},BlockStatement:function(C,T){var k=C.body;if(k!=null)for(var P=0,$=k.length;P<$;P++)this.go(k[P],T)},EmptyStatement:w,ExpressionStatement:function(C,T){this.go(C.expression,T)},IfStatement:function(C,T){this.go(C.test,T),this.go(C.consequent,T),C.alternate!=null&&this.go(C.alternate,T)},LabeledStatement:function(C,T){this.go(C.label,T),this.go(C.body,T)},BreakStatement:function(C,T){C.label&&this.go(C.label,T)},ContinueStatement:function(C,T){C.label&&this.go(C.label,T)},WithStatement:function(C,T){this.go(C.object,T),this.go(C.body,T)},SwitchStatement:function(C,T){this.go(C.discriminant,T);for(var k=C.cases,P=k.length,$=0;$<P;$++)this.go(k[$],T)},SwitchCase:function(C,T){C.test!=null&&this.go(C.test,T);for(var k=C.consequent,P=k.length,$=0;$<P;$++)this.go(k[$],T)},ReturnStatement:function(C,T){C.argument&&this.go(C.argument,T)},ThrowStatement:function(C,T){this.go(C.argument,T)},TryStatement:function(C,T){this.go(C.block,T),C.handler!=null&&this.go(C.handler,T),C.finalizer!=null&&this.go(C.finalizer,T)},CatchClause:function(C,T){C.param!=null&&this.go(C.param,T),this.go(C.body,T)},WhileStatement:function(C,T){this.go(C.test,T),this.go(C.body,T)},DoWhileStatement:function(C,T){this.go(C.body,T),this.go(C.test,T)},ForStatement:function(C,T){C.init!=null&&this.go(C.init,T),C.test!=null&&this.go(C.test,T),C.update!=null&&this.go(C.update,T),this.go(C.body,T)},ForInStatement:o=function(C,T){this.go(C.left,T),this.go(C.right,T),this.go(C.body,T)},DebuggerStatement:w,FunctionDeclaration:u=function(C,T){C.id!=null&&this.go(C.id,T);var k=C.params;if(k!=null)for(var P=0,$=k.length;P<$;P++)this.go(k[P],T);this.go(C.body,T)},VariableDeclaration:function(C,T){for(var k=C.declarations,P=k.length,$=0;$<P;$++)this.go(k[$],T)},VariableDeclarator:function(C,T){this.go(C.id,T),C.init!=null&&this.go(C.init,T)},ArrowFunctionExpression:function(C,T){var k=C.params;if(k!=null)for(var P=0,$=k.length;P<$;P++)this.go(k[P],T);this.go(C.body,T)},ThisExpression:w,ArrayExpression:_=function(C,T){for(var k=C.elements,P=k.length,$=0;$<P;$++){var I=k[$];I!=null&&this.go(k[$],T)}},ObjectExpression:function(C,T){for(var k=C.properties,P=k.length,$=0;$<P;$++)this.go(k[$],T)},Property:function(C,T){this.go(C.key,T),C.shorthand||this.go(C.value,T)},FunctionExpression:u,SequenceExpression:function(C,T){for(var k=C.expressions,P=k.length,$=0;$<P;$++)this.go(k[$],T)},UnaryExpression:function(C,T){this.go(C.argument,T)},UpdateExpression:function(C,T){this.go(C.argument,T)},AssignmentExpression:function(C,T){this.go(C.left,T),this.go(C.right,T)},BinaryExpression:g=function(C,T){this.go(C.left,T),this.go(C.right,T)},LogicalExpression:g,ConditionalExpression:function(C,T){this.go(C.test,T),this.go(C.consequent,T),this.go(C.alternate,T)},NewExpression:function(C,T){this.CallExpression(C,T)},CallExpression:function(C,T){this.go(C.callee,T);for(var k=C.arguments,P=k.length,$=0;$<P;$++)this.go(k[$],T)},MemberExpression:function(C,T){this.go(C.object,T),this.go(C.property,T)},Identifier:w,Literal:w,ForOfStatement:o,ClassDeclaration:function(C,T){C.id&&this.go(C.id,T),C.superClass&&this.go(C.superClass,T),this.go(C.body,T)},ClassBody:function(C,T){for(var k=C.body,P=k.length,$=0;$<P;$++)this.go(k[$],T)},ImportDeclaration:function(C,T){for(var k=C.specifiers,P=k.length,$=0;$<P;$++)this.go(k[$],T);this.go(C.source,T)},ImportNamespaceSpecifier:function(C,T){this.go(C.local,T)},ImportDefaultSpecifier:function(C,T){this.go(C.local,T)},ImportSpecifier:function(C,T){this.go(C.imported,T),this.go(C.local,T)},ExportDefaultDeclaration:function(C,T){this.go(C.declaration,T)},ExportNamedDeclaration:function(C,T){C.declaration&&this.go(C.declaration,T);for(var k=C.specifiers,P=k.length,$=0;$<P;$++)this.go(k[$],T);C.source&&this.go(C.source,T)},ExportSpecifier:function(C,T){this.go(C.local,T),this.go(C.exported,T)},ExportAllDeclaration:function(C,T){this.go(C.source,T)},MethodDefinition:function(C,T){this.go(C.key,T),this.go(C.value,T)},ClassExpression:function(C,T){this.ClassDeclaration(C,T)},Super:w,RestElement:f=function(C,T){this.go(C.argument,T)},SpreadElement:f,YieldExpression:function(C,T){C.argument&&this.go(C.argument,T)},TaggedTemplateExpression:function(C,T){this.go(C.tag,T),this.go(C.quasi,T)},TemplateLiteral:function(C,T){for(var k=C.quasis,P=C.expressions,$=0,I=P.length;$<I;$++)this.go(P[$],T);for(var E=0,F=k.length;E<F;E++)this.go(k[E],T)},TemplateElement:w,ObjectPattern:function(C,T){for(var k=C.properties,P=k.length,$=0;$<P;$++)this.go(k[$],T)},ArrayPattern:_,AssignmentPattern:function(C,T){this.go(C.left,T),this.go(C.right,T)},MetaProperty:function(C,T){this.go(C.meta,T),this.go(C.property,T)},AwaitExpression:function(C,T){this.go(C.argument,T)}}})}(defaultTraveler)),defaultTraveler}var attachComments={},hasRequiredAttachComments;function requireAttachComments(){return hasRequiredAttachComments||(hasRequiredAttachComments=1,function(e){(function(t,r){r(e,requireDefaultTraveler())})(commonjsGlobal,function(t,r){t.__esModule=!0,t.default=function(w,S){return _[w.type](w,{comments:S,index:0}),w};var o=u(r);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,S,M,C,T){var k=C.index,P=C.comments,$=P[k],I=void 0,E=void 0;if($!=null)if(S==null||S.length===0){for(I=w.comments!=null?w.comments:[];$!=null&&$.end<w.end;)I.push($),$=P[++k];C.index=k,I.length!==0&&w.comments==null&&(w.comments=I)}else{if(M){I=w.comments!=null?w.comments:[];for(var F=S[0].start;$!=null&&$.type[0]==="B"&&$.end<F;)I.push($),$=P[++k];I.length!==0&&w.comments==null&&(w.comments=I)}for(var le=0,W=S.length;$!=null&&le<W;le++){var ae=S[le];for(I=[];$!=null&&$.end<ae.start;)I.push($),$=P[++k];$!=null&&$.type[0]==="L"&&$.loc.start.line===ae.loc.end.line&&(I.push($),$=P[++k]),I.length!==0&&(ae.comments=I),C.index=k,T[ae.type](ae,C),k=C.index,$=P[k]}for(E=[];$!=null&&$.end<w.end;)E.push($),$=P[++k];E.length!==0&&(w.trailingComments=E),C.index=k}}var g=void 0,_=o.default.makeChild({Program:g=function(S,M){f(S,S.body,!0,M,this)},BlockStatement:g,ObjectExpression:function(S,M){f(S,S.properties,!0,M,this)},ArrayExpression:function(S,M){f(S,S.elements,!0,M,this)},SwitchStatement:function(S,M){f(S,S.cases,!1,M,this)},SwitchCase:function(S,M){f(S,S.consequent,!1,M,this)}})})}(attachComments)),attachComments}(function(e){(function(t,r){r(e,requireDefaultTraveler(),requireAttachComments())})(commonjsGlobal,function(t,r,o){t.__esModule=!0,t.makeTraveler=t.attachComments=t.defaultTraveler=void 0;var u=g(r),f=g(o);function g(w){return w&&w.__esModule?w:{default:w}}function _(w){return u.default.makeChild(w)}t.defaultTraveler=u.default,t.attachComments=f.default,t.makeTraveler=_})})(astravel);class UndoStack{constructor(t){this.stack=[],this.index=-1,this.limit=t}atTop(){return this.index===-1}canUndo(){return this.stack.length===0?!1:this.index===-1||this.index>0}canRedo(){return this.stack.length===0||this.index===-1?!1:this.index<this.stack.length-1}push(t){if(this.index>=0){for(;this.index<this.stack.length;)this.stack.pop();this.index=-1}this.limit&&this.stack.length>this.limit&&this.stack.shift(),this.stack.push(t)}undo(){return this.stack.length===0?void 0:(this.index===-1&&(this.index=this.stack.length-1),this.index>0&&this.index--,this.stack[this.index])}redo(){if(this.stack.length===0||this.index===-1)return;let t=this.index+1;if(!(t>=this.stack.length))return this.index=t,this.stack[this.index]}}class Mutator{constructor(t){this.editor=t,this.undoStack=new UndoStack,this.initialVector=[],this.funcTab={},this.transMap={},this.scanFuncs(),this.dumpDict()}dumpList(){glslTransforms().forEach(r=>{r.inputs.forEach(o=>{o.name+""+o.type+o.default})})}scanFuncs(){let t=glslTransforms();console.log(t),t.forEach(r=>{this.transMap[r.name]=r,this.funcTab[r.type]===void 0&&(this.funcTab[r.type]=[]),this.funcTab[r.type].push(r)})}dumpDict(){for(let t in this.funcTab)this.funcTab[t].forEach(r=>{r.inputs.forEach(o=>{o.name+""+o.type+o.default})})}mutate(t){let r=this.editor.cm.getValue();this.undoStack.push({text:r,lastLitX:this.lastLitX});let o=!0,u=5;for(;o&&u-->=0;){var f=[];let g=Parser.parse(r,{locations:!0,onComment:f});this.transform(g,t),astravel.attachComments(g,f);let _=generate(g,{comments:!0});this.editor.cm.setValue(_);try{repl.eval(_,(w,S)=>{S&&console.log("Eval error: "+_),o=S})}catch(w){console.log("Exception caught: "+w),o=w}}}doUndo(){if(this.undoStack.atTop()){let t=this.editor.cm.getValue();this.undoStack.push({text:t,lastLitX:this.lastLitX})}if(this.undoStack.canUndo()){let{text:t,lastLitX:r}=this.undoStack.undo();this.setText(t),this.lastLitX=r}}doRedo(){if(this.undoStack.canRedo()){let{text:t,lastLitX:r}=this.undoStack.redo();this.setText(t),this.lastLitX=r}}setText(t){this.editor.cm.setValue(t),repl.eval(t,(r,o)=>{})}transform(t,r){let o=astravel.makeTraveler({go:function(f,g){if(f.type==="Literal")g.literalTab.push(f);else if(f.type==="MemberExpression"){if(f.property&&f.property.type==="Literal")return}else f.type==="CallExpression"&&f.callee&&f.callee.property&&f.callee.property.name&&f.callee.property.name!=="out"&&g.functionTab.push(f);this.super.go.call(this,f,g)}}),u={};if(u.literalTab=[],u.functionTab=[],o.go(t,u),this.litCount=u.literalTab.length,this.funCount=u.functionTab.length,this.litCount!==this.initialVector.length){let f=[];for(let g=0;g<this.litCount;++g)f.push(u.literalTab[g].value);this.initialVector=f}r.changeTransform?this.glitchTrans(u,r):this.glitchLiteral(u,r)}glitchLiteral(t,r){let o=0;r.reroll?this.lastLitX!==void 0&&(o=this.lastLitX):(o=Math.floor(Math.random()*this.litCount),this.lastLitX=o);let u=t.literalTab[o];if(u){let f=this.glitchRelToInit(u.value,this.initialVector[o]),g=u.raw;u.value=f,u.raw=""+f,console.log("Literal: "+o+" changed from: "+g+" to: "+f)}}glitchNumber(t){t===0&&(t=1);let r=t*2;return Math.round(Math.random()*r*1e3)/1e3}glitchRelToInit(t,r){return r===void 0?glitchNumber(t):(r===0&&(r=.5),Math.round(Math.random()*r*2*1e3)/1e3)}glitchTrans(t,r){let o=Math.floor(Math.random()*this.funCount);if(t.functionTab[o]===void 0||t.functionTab[o].callee===void 0||t.functionTab[o].callee.property===void 0){console.log("No valid functionTab for index: "+o);return}let u=t.functionTab[o].callee.property.name;if(u==null){console.log("No name for callee");return}let f=this.transMap[u].type;if(f==null){console.log("ftype undefined for: "+u);return}let g=this.funcTab[f];if(g==null){console.log("no funcTab entry for: "+f);return}let _=Math.floor(Math.random()*g.length),w=g[_].name;if(u==="modulate"&&w==="modulateScrollX"){console.log("Function: "+o+" changing from: "+u+" can't change to: "+w);return}t.functionTab[o].callee.property.name=w,console.log("Function: "+o+" changed from: "+u+" to: "+w)}}var js={exports:{}},src={},javascript={exports:{}},beautifier$2={},output={},hasRequiredOutput;function requireOutput(){if(hasRequiredOutput)return output;hasRequiredOutput=1;function e(o){this.__parent=o,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}e.prototype.clone_empty=function(){var o=new e(this.__parent);return o.set_indent(this.__indent_count,this.__alignment_count),o},e.prototype.item=function(o){return o<0?this.__items[this.__items.length+o]:this.__items[o]},e.prototype.has_match=function(o){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(o))return!0;return!1},e.prototype.set_indent=function(o,u){this.is_empty()&&(this.__indent_count=o||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var o=this.__parent.current_line;return o.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),o.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),o.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,o.__items[0]===" "&&(o.__items.splice(0,1),o.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return this.__items.length===0},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(o){this.__items.push(o);var u=o.lastIndexOf(`
`);u!==-1?this.__character_count=o.length-u:this.__character_count+=o.length},e.prototype.pop=function(){var o=null;return this.is_empty()||(o=this.__items.pop(),this.__character_count-=o.length),o},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var o="";return this.is_empty()?this.__parent.indent_empty_lines&&(o=this.__parent.get_indent_string(this.__indent_count)):(o=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),o+=this.__items.join("")),o};function t(o,u){this.__cache=[""],this.__indent_size=o.indent_size,this.__indent_string=o.indent_char,o.indent_with_tabs||(this.__indent_string=new Array(o.indent_size+1).join(o.indent_char)),u=u||"",o.indent_level>0&&(u=new Array(o.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}t.prototype.get_indent_size=function(o,u){var f=this.__base_string_length;return u=u||0,o<0&&(f=0),f+=o*this.__indent_size,f+=u,f},t.prototype.get_indent_string=function(o,u){var f=this.__base_string;return u=u||0,o<0&&(o=0,f=""),u+=o*this.__indent_size,this.__ensure_cache(u),f+=this.__cache[u],f},t.prototype.__ensure_cache=function(o){for(;o>=this.__cache.length;)this.__add_column()},t.prototype.__add_column=function(){var o=this.__cache.length,u=0,f="";this.__indent_size&&o>=this.__indent_size&&(u=Math.floor(o/this.__indent_size),o-=u*this.__indent_size,f=new Array(u+1).join(this.__indent_string)),o&&(f+=new Array(o+1).join(" ")),this.__cache.push(f)};function r(o,u){this.__indent_cache=new t(o,u),this.raw=!1,this._end_with_newline=o.end_with_newline,this.indent_size=o.indent_size,this.wrap_line_length=o.wrap_line_length,this.indent_empty_lines=o.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return r.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},r.prototype.get_line_number=function(){return this.__lines.length},r.prototype.get_indent_string=function(o,u){return this.__indent_cache.get_indent_string(o,u)},r.prototype.get_indent_size=function(o,u){return this.__indent_cache.get_indent_size(o,u)},r.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},r.prototype.add_new_line=function(o){return this.is_empty()||!o&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},r.prototype.get_code=function(o){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var f=this.__lines.join(`
`);return o!==`
`&&(f=f.replace(/[\n]/g,o)),f},r.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},r.prototype.set_indent=function(o,u){return o=o||0,u=u||0,this.next_line.set_indent(o,u),this.__lines.length>1?(this.current_line.set_indent(o,u),!0):(this.current_line.set_indent(),!1)},r.prototype.add_raw_token=function(o){for(var u=0;u<o.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(o.whitespace_before),this.current_line.push(o.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},r.prototype.add_token=function(o){this.__add_space_before_token(),this.current_line.push(o),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},r.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},r.prototype.remove_indent=function(o){for(var u=this.__lines.length;o<u;)this.__lines[o]._remove_indent(),o++;this.current_line._remove_wrap_indent()},r.prototype.trim=function(o){for(o=o===void 0?!1:o,this.current_line.trim();o&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},r.prototype.just_added_newline=function(){return this.current_line.is_empty()},r.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},r.prototype.ensure_empty_line_above=function(o,u){for(var f=this.__lines.length-2;f>=0;){var g=this.__lines[f];if(g.is_empty())break;if(g.item(0).indexOf(o)!==0&&g.item(-1)!==u){this.__lines.splice(f+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}f--}},output.Output=r,output}var token={},hasRequiredToken;function requireToken(){if(hasRequiredToken)return token;hasRequiredToken=1;function e(t,r,o,u){this.type=t,this.text=r,this.comments_before=null,this.newlines=o||0,this.whitespace_before=u||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return token.Token=e,token}var acorn={},hasRequiredAcorn;function requireAcorn(){return hasRequiredAcorn||(hasRequiredAcorn=1,function(e){var t="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",o="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",u="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",f="(?:\\\\u[0-9a-fA-F]{4}|["+t+o+"])",g="(?:\\\\u[0-9a-fA-F]{4}|["+r+o+u+"])*";e.identifier=new RegExp(f+g,"g"),e.identifierStart=new RegExp(f),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+r+o+u+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp(`\r
|`+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")}(acorn)),acorn}var options$3={},options$2={},hasRequiredOptions$3;function requireOptions$3(){if(hasRequiredOptions$3)return options$2;hasRequiredOptions$3=1;function e(o,u){this.raw_options=t(o,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}e.prototype._get_array=function(o,u){var f=this.raw_options[o],g=u||[];return typeof f=="object"?f!==null&&typeof f.concat=="function"&&(g=f.concat()):typeof f=="string"&&(g=f.split(/[^a-zA-Z0-9_\/\-]+/)),g},e.prototype._get_boolean=function(o,u){var f=this.raw_options[o],g=f===void 0?!!u:!!f;return g},e.prototype._get_characters=function(o,u){var f=this.raw_options[o],g=u||"";return typeof f=="string"&&(g=f.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),g},e.prototype._get_number=function(o,u){var f=this.raw_options[o];u=parseInt(u,10),isNaN(u)&&(u=0);var g=parseInt(f,10);return isNaN(g)&&(g=u),g},e.prototype._get_selection=function(o,u,f){var g=this._get_selection_list(o,u,f);if(g.length!==1)throw new Error("Invalid Option Value: The option '"+o+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[o]+"'");return g[0]},e.prototype._get_selection_list=function(o,u,f){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(f=f||[u[0]],!this._is_valid_selection(f,u))throw new Error("Invalid Default Value!");var g=this._get_array(o,f);if(!this._is_valid_selection(g,u))throw new Error("Invalid Option Value: The option '"+o+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[o]+"'");return g},e.prototype._is_valid_selection=function(o,u){return o.length&&u.length&&!o.some(function(f){return u.indexOf(f)===-1})};function t(o,u){var f={};o=r(o);var g;for(g in o)g!==u&&(f[g]=o[g]);if(u&&o[u])for(g in o[u])f[g]=o[u][g];return f}function r(o){var u={},f;for(f in o){var g=f.replace(/-/g,"_");u[g]=o[f]}return u}return options$2.Options=e,options$2.normalizeOpts=r,options$2.mergeOpts=t,options$2}var hasRequiredOptions$2;function requireOptions$2(){if(hasRequiredOptions$2)return options$3;hasRequiredOptions$2=1;var e=requireOptions$3().Options,t=["before-newline","after-newline","preserve-newline"];function r(o){e.call(this,o,"js");var u=this.raw_options.brace_style||null;u==="expand-strict"?this.raw_options.brace_style="expand":u==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var f=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var g=0;g<f.length;g++)f[g]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=f[g];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",t),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return r.prototype=new e,options$3.Options=r,options$3}var tokenizer$2={},inputscanner={},hasRequiredInputscanner;function requireInputscanner(){if(hasRequiredInputscanner)return inputscanner;hasRequiredInputscanner=1;var e=RegExp.prototype.hasOwnProperty("sticky");function t(r){this.__input=r||"",this.__input_length=this.__input.length,this.__position=0}return t.prototype.restart=function(){this.__position=0},t.prototype.back=function(){this.__position>0&&(this.__position-=1)},t.prototype.hasNext=function(){return this.__position<this.__input_length},t.prototype.next=function(){var r=null;return this.hasNext()&&(r=this.__input.charAt(this.__position),this.__position+=1),r},t.prototype.peek=function(r){var o=null;return r=r||0,r+=this.__position,r>=0&&r<this.__input_length&&(o=this.__input.charAt(r)),o},t.prototype.__match=function(r,o){r.lastIndex=o;var u=r.exec(this.__input);return u&&!(e&&r.sticky)&&u.index!==o&&(u=null),u},t.prototype.test=function(r,o){return o=o||0,o+=this.__position,o>=0&&o<this.__input_length?!!this.__match(r,o):!1},t.prototype.testChar=function(r,o){var u=this.peek(o);return r.lastIndex=0,u!==null&&r.test(u)},t.prototype.match=function(r){var o=this.__match(r,this.__position);return o?this.__position+=o[0].length:o=null,o},t.prototype.read=function(r,o,u){var f="",g;return r&&(g=this.match(r),g&&(f+=g[0])),o&&(g||!r)&&(f+=this.readUntil(o,u)),f},t.prototype.readUntil=function(r,o){var u="",f=this.__position;r.lastIndex=this.__position;var g=r.exec(this.__input);return g?(f=g.index,o&&(f+=g[0].length)):f=this.__input_length,u=this.__input.substring(this.__position,f),this.__position=f,u},t.prototype.readUntilAfter=function(r){return this.readUntil(r,!0)},t.prototype.get_regexp=function(r,o){var u=null,f="g";return o&&e&&(f="y"),typeof r=="string"&&r!==""?u=new RegExp(r,f):r&&(u=new RegExp(r.source,f)),u},t.prototype.get_literal_regexp=function(r){return RegExp(r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},t.prototype.peekUntilAfter=function(r){var o=this.__position,u=this.readUntilAfter(r);return this.__position=o,u},t.prototype.lookBack=function(r){var o=this.__position-1;return o>=r.length&&this.__input.substring(o-r.length,o).toLowerCase()===r},inputscanner.InputScanner=t,inputscanner}var tokenizer$1={},tokenstream={},hasRequiredTokenstream;function requireTokenstream(){if(hasRequiredTokenstream)return tokenstream;hasRequiredTokenstream=1;function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}return e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return this.__tokens_length===0},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var r=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(r=this.__tokens[t]),r},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},tokenstream.TokenStream=e,tokenstream}var whitespacepattern={},pattern={},hasRequiredPattern;function requirePattern(){if(hasRequiredPattern)return pattern;hasRequiredPattern=1;function e(t,r){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,r&&(this._starting_pattern=this._input.get_regexp(r._starting_pattern,!0),this._match_pattern=this._input.get_regexp(r._match_pattern,!0),this._until_pattern=this._input.get_regexp(r._until_pattern),this._until_after=r._until_after)}return e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var r=this._create();return r._until_after=!0,r._until_pattern=this._input.get_regexp(t),r._update(),r},e.prototype.until=function(t){var r=this._create();return r._until_after=!1,r._until_pattern=this._input.get_regexp(t),r._update(),r},e.prototype.starting_with=function(t){var r=this._create();return r._starting_pattern=this._input.get_regexp(t,!0),r._update(),r},e.prototype.matching=function(t){var r=this._create();return r._match_pattern=this._input.get_regexp(t,!0),r._update(),r},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},pattern.Pattern=e,pattern}var hasRequiredWhitespacepattern;function requireWhitespacepattern(){if(hasRequiredWhitespacepattern)return whitespacepattern;hasRequiredWhitespacepattern=1;var e=requirePattern().Pattern;function t(r,o){e.call(this,r,o),o?this._line_regexp=this._input.get_regexp(o._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return t.prototype=new e,t.prototype.__set_whitespace_patterns=function(r,o){r+="\\t ",o+="\\n\\r",this._match_pattern=this._input.get_regexp("["+r+o+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+o+"]")},t.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var r=this._input.read(this._match_pattern);if(r===" ")this.whitespace_before_token=" ";else if(r){var o=this.__split(this._newline_regexp,r);this.newline_count=o.length-1,this.whitespace_before_token=o[this.newline_count]}return r},t.prototype.matching=function(r,o){var u=this._create();return u.__set_whitespace_patterns(r,o),u._update(),u},t.prototype._create=function(){return new t(this._input,this)},t.prototype.__split=function(r,o){r.lastIndex=0;for(var u=0,f=[],g=r.exec(o);g;)f.push(o.substring(u,g.index)),u=g.index+g[0].length,g=r.exec(o);return u<o.length?f.push(o.substring(u,o.length)):f.push(""),f},whitespacepattern.WhitespacePattern=t,whitespacepattern}var hasRequiredTokenizer$2;function requireTokenizer$2(){if(hasRequiredTokenizer$2)return tokenizer$1;hasRequiredTokenizer$2=1;var e=requireInputscanner().InputScanner,t=requireToken().Token,r=requireTokenstream().TokenStream,o=requireWhitespacepattern().WhitespacePattern,u={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},f=function(g,_){this._input=new e(g),this._options=_||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new o(this._input)};return f.prototype.tokenize=function(){this._input.restart(),this.__tokens=new r,this._reset();for(var g,_=new t(u.START,""),w=null,S=[],M=new r;_.type!==u.EOF;){for(g=this._get_next_token(_,w);this._is_comment(g);)M.add(g),g=this._get_next_token(_,w);M.isEmpty()||(g.comments_before=M,M=new r),g.parent=w,this._is_opening(g)?(S.push(w),w=g):w&&this._is_closing(g,w)&&(g.opened=w,w.closed=g,w=S.pop(),g.parent=w),g.previous=_,_.next=g,this.__tokens.add(g),_=g}return this.__tokens},f.prototype._is_first_token=function(){return this.__tokens.isEmpty()},f.prototype._reset=function(){},f.prototype._get_next_token=function(g,_){this._readWhitespace();var w=this._input.read(/.+/g);return w?this._create_token(u.RAW,w):this._create_token(u.EOF,"")},f.prototype._is_comment=function(g){return!1},f.prototype._is_opening=function(g){return!1},f.prototype._is_closing=function(g,_){return!1},f.prototype._create_token=function(g,_){var w=new t(g,_,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return w},f.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},tokenizer$1.Tokenizer=f,tokenizer$1.TOKEN=u,tokenizer$1}var directives={},hasRequiredDirectives;function requireDirectives(){if(hasRequiredDirectives)return directives;hasRequiredDirectives=1;function e(t,r){t=typeof t=="string"?t:t.source,r=typeof r=="string"?r:r.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+r,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+r,"g")}return e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var r={};this.__directive_pattern.lastIndex=0;for(var o=this.__directive_pattern.exec(t);o;)r[o[1]]=o[2],o=this.__directive_pattern.exec(t);return r},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},directives.Directives=e,directives}var templatablepattern={},hasRequiredTemplatablepattern;function requireTemplatablepattern(){if(hasRequiredTemplatablepattern)return templatablepattern;hasRequiredTemplatablepattern=1;var e=requirePattern().Pattern,t={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function r(o,u){e.call(this,o,u),this.__template_pattern=null,this._disabled=Object.assign({},t),this._excluded=Object.assign({},t),u&&(this.__template_pattern=this._input.get_regexp(u.__template_pattern),this._excluded=Object.assign(this._excluded,u._excluded),this._disabled=Object.assign(this._disabled,u._disabled));var f=new e(o);this.__patterns={handlebars_comment:f.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:f.starting_with(/{{{/).until_after(/}}}/),handlebars:f.starting_with(/{{/).until_after(/}}/),php:f.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:f.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:f.starting_with(/{%/).until_after(/%}/),django_value:f.starting_with(/{{/).until_after(/}}/),django_comment:f.starting_with(/{#/).until_after(/#}/),smarty:f.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:f.starting_with(/{\*/).until_after(/\*}/),smarty_literal:f.starting_with(/{literal}/).until_after(/{\/literal}/)}}return r.prototype=new e,r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){this.__set_templated_pattern()},r.prototype.disable=function(o){var u=this._create();return u._disabled[o]=!0,u._update(),u},r.prototype.read_options=function(o){var u=this._create();for(var f in t)u._disabled[f]=o.templating.indexOf(f)===-1;return u._update(),u},r.prototype.exclude=function(o){var u=this._create();return u._excluded[o]=!0,u._update(),u},r.prototype.read=function(){var o="";this._match_pattern?o=this._input.read(this._starting_pattern):o=this._input.read(this._starting_pattern,this.__template_pattern);for(var u=this._read_template();u;)this._match_pattern?u+=this._input.read(this._match_pattern):u+=this._input.readUntil(this.__template_pattern),o+=u,u=this._read_template();return this._until_after&&(o+=this._input.readUntilAfter(this._until_pattern)),o},r.prototype.__set_templated_pattern=function(){var o=[];this._disabled.php||o.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||o.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||o.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(o.push(this.__patterns.django._starting_pattern.source),o.push(this.__patterns.django_value._starting_pattern.source),o.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||o.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&o.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+o.join("|")+")")},r.prototype._read_template=function(){var o="",u=this._input.peek();if(u==="<"){var f=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&f==="?"&&(o=o||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&f==="%"&&(o=o||this.__patterns.erb.read())}else u==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(o=o||this.__patterns.handlebars_comment.read(),o=o||this.__patterns.handlebars_unescaped.read(),o=o||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(o=o||this.__patterns.django_value.read()),this._excluded.django||(o=o||this.__patterns.django_comment.read(),o=o||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(o=o||this.__patterns.smarty_comment.read(),o=o||this.__patterns.smarty_literal.read(),o=o||this.__patterns.smarty.read()));return o},templatablepattern.TemplatablePattern=r,templatablepattern}var hasRequiredTokenizer$1;function requireTokenizer$1(){if(hasRequiredTokenizer$1)return tokenizer$2;hasRequiredTokenizer$1=1;var e=requireInputscanner().InputScanner,t=requireTokenizer$2().Tokenizer,r=requireTokenizer$2().TOKEN,o=requireDirectives().Directives,u=requireAcorn(),f=requirePattern().Pattern,g=requireTemplatablepattern().TemplatablePattern;function _(te,oe){return oe.indexOf(te)!==-1}var w={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:r.START,RAW:r.RAW,EOF:r.EOF},S=new o(/\/\*/,/\*\//),M=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,C=/[0-9]/,T=/[^\d\.]/,k=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),P=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";P=P.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),P="\\?\\.(?!\\d) "+P,P=P.replace(/ /g,"|");var $=new RegExp(P),I="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),E=I.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),F=new RegExp("^(?:"+E.join("|")+")$"),le,W=function(te,oe){t.call(this,te,oe),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var ie=new f(this._input),Ee=new g(this._input).read_options(this._options);this.__patterns={template:Ee,identifier:Ee.starting_with(u.identifier).matching(u.identifierMatch),number:ie.matching(M),punct:ie.matching($),comment:ie.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:ie.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:ie.matching(/<!--/),html_comment_end:ie.matching(/-->/),include:ie.starting_with(/#include/).until_after(u.lineBreak),shebang:ie.starting_with(/#!/).until_after(u.lineBreak),xml:ie.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:Ee.until(/['\\\n\r\u2028\u2029]/),double_quote:Ee.until(/["\\\n\r\u2028\u2029]/),template_text:Ee.until(/[`\\$]/),template_expression:Ee.until(/[`}\\]/)}};W.prototype=new t,W.prototype._is_comment=function(te){return te.type===w.COMMENT||te.type===w.BLOCK_COMMENT||te.type===w.UNKNOWN},W.prototype._is_opening=function(te){return te.type===w.START_BLOCK||te.type===w.START_EXPR},W.prototype._is_closing=function(te,oe){return(te.type===w.END_BLOCK||te.type===w.END_EXPR)&&oe&&(te.text==="]"&&oe.text==="["||te.text===")"&&oe.text==="("||te.text==="}"&&oe.text==="{")},W.prototype._reset=function(){le=!1},W.prototype._get_next_token=function(te,oe){var ie=null;this._readWhitespace();var Ee=this._input.peek();return Ee===null?this._create_token(w.EOF,""):(ie=ie||this._read_non_javascript(Ee),ie=ie||this._read_string(Ee),ie=ie||this._read_word(te),ie=ie||this._read_singles(Ee),ie=ie||this._read_comment(Ee),ie=ie||this._read_regexp(Ee,te),ie=ie||this._read_xml(Ee,te),ie=ie||this._read_punctuation(),ie=ie||this._create_token(w.UNKNOWN,this._input.next()),ie)},W.prototype._read_word=function(te){var oe;if(oe=this.__patterns.identifier.read(),oe!=="")return oe=oe.replace(u.allLineBreaks,`
`),!(te.type===w.DOT||te.type===w.RESERVED&&(te.text==="set"||te.text==="get"))&&F.test(oe)?oe==="in"||oe==="of"?this._create_token(w.OPERATOR,oe):this._create_token(w.RESERVED,oe):this._create_token(w.WORD,oe);if(oe=this.__patterns.number.read(),oe!=="")return this._create_token(w.WORD,oe)},W.prototype._read_singles=function(te){var oe=null;return te==="("||te==="["?oe=this._create_token(w.START_EXPR,te):te===")"||te==="]"?oe=this._create_token(w.END_EXPR,te):te==="{"?oe=this._create_token(w.START_BLOCK,te):te==="}"?oe=this._create_token(w.END_BLOCK,te):te===";"?oe=this._create_token(w.SEMICOLON,te):te==="."&&T.test(this._input.peek(1))?oe=this._create_token(w.DOT,te):te===","&&(oe=this._create_token(w.COMMA,te)),oe&&this._input.next(),oe},W.prototype._read_punctuation=function(){var te=this.__patterns.punct.read();if(te!=="")return te==="="?this._create_token(w.EQUALS,te):te==="?."?this._create_token(w.DOT,te):this._create_token(w.OPERATOR,te)},W.prototype._read_non_javascript=function(te){var oe="";if(te==="#"){if(this._is_first_token()&&(oe=this.__patterns.shebang.read(),oe))return this._create_token(w.UNKNOWN,oe.trim()+`
`);if(oe=this.__patterns.include.read(),oe)return this._create_token(w.UNKNOWN,oe.trim()+`
`);te=this._input.next();var ie="#";if(this._input.hasNext()&&this._input.testChar(C)){do te=this._input.next(),ie+=te;while(this._input.hasNext()&&te!=="#"&&te!=="=");return te==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(ie+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(ie+="{}",this._input.next(),this._input.next())),this._create_token(w.WORD,ie)}this._input.back()}else if(te==="<"&&this._is_first_token()){if(oe=this.__patterns.html_comment_start.read(),oe){for(;this._input.hasNext()&&!this._input.testChar(u.newline);)oe+=this._input.next();return le=!0,this._create_token(w.COMMENT,oe)}}else if(le&&te==="-"&&(oe=this.__patterns.html_comment_end.read(),oe))return le=!1,this._create_token(w.COMMENT,oe);return null},W.prototype._read_comment=function(te){var oe=null;if(te==="/"){var ie="";if(this._input.peek(1)==="*"){ie=this.__patterns.block_comment.read();var Ee=S.get_directives(ie);Ee&&Ee.ignore==="start"&&(ie+=S.readIgnored(this._input)),ie=ie.replace(u.allLineBreaks,`
`),oe=this._create_token(w.BLOCK_COMMENT,ie),oe.directives=Ee}else this._input.peek(1)==="/"&&(ie=this.__patterns.comment.read(),oe=this._create_token(w.COMMENT,ie))}return oe},W.prototype._read_string=function(te){if(te==="`"||te==="'"||te==='"'){var oe=this._input.next();return this.has_char_escapes=!1,te==="`"?oe+=this._read_string_recursive("`",!0,"${"):oe+=this._read_string_recursive(te),this.has_char_escapes&&this._options.unescape_strings&&(oe=ae(oe)),this._input.peek()===te&&(oe+=this._input.next()),oe=oe.replace(u.allLineBreaks,`
`),this._create_token(w.STRING,oe)}return null},W.prototype._allow_regexp_or_xml=function(te){return te.type===w.RESERVED&&_(te.text,["return","case","throw","else","do","typeof","yield"])||te.type===w.END_EXPR&&te.text===")"&&te.opened.previous.type===w.RESERVED&&_(te.opened.previous.text,["if","while","for"])||_(te.type,[w.COMMENT,w.START_EXPR,w.START_BLOCK,w.START,w.END_BLOCK,w.OPERATOR,w.EQUALS,w.EOF,w.SEMICOLON,w.COMMA])},W.prototype._read_regexp=function(te,oe){if(te==="/"&&this._allow_regexp_or_xml(oe)){for(var ie=this._input.next(),Ee=!1,D=!1;this._input.hasNext()&&(Ee||D||this._input.peek()!==te)&&!this._input.testChar(u.newline);)ie+=this._input.peek(),Ee?Ee=!1:(Ee=this._input.peek()==="\\",this._input.peek()==="["?D=!0:this._input.peek()==="]"&&(D=!1)),this._input.next();return this._input.peek()===te&&(ie+=this._input.next(),ie+=this._input.read(u.identifier)),this._create_token(w.STRING,ie)}return null},W.prototype._read_xml=function(te,oe){if(this._options.e4x&&te==="<"&&this._allow_regexp_or_xml(oe)){var ie="",Ee=this.__patterns.xml.read_match();if(Ee){for(var D=Ee[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),me=D.indexOf("{")===0,z=0;Ee;){var pe=!!Ee[1],we=Ee[2],Q=!!Ee[Ee.length-1]||we.slice(0,8)==="![CDATA[";if(!Q&&(we===D||me&&we.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(pe?--z:++z),ie+=Ee[0],z<=0)break;Ee=this.__patterns.xml.read_match()}return Ee||(ie+=this._input.match(/[\s\S]*/g)[0]),ie=ie.replace(u.allLineBreaks,`
`),this._create_token(w.STRING,ie)}}return null};function ae(te){for(var oe="",ie=0,Ee=new e(te),D=null;Ee.hasNext();)if(D=Ee.match(/([\s]|[^\\]|\\\\)+/g),D&&(oe+=D[0]),Ee.peek()==="\\"){if(Ee.next(),Ee.peek()==="x")D=Ee.match(/x([0-9A-Fa-f]{2})/g);else if(Ee.peek()==="u")D=Ee.match(/u([0-9A-Fa-f]{4})/g);else{oe+="\\",Ee.hasNext()&&(oe+=Ee.next());continue}if(!D||(ie=parseInt(D[1],16),ie>126&&ie<=255&&D[0].indexOf("x")===0))return te;if(ie>=0&&ie<32){oe+="\\"+D[0];continue}else ie===34||ie===39||ie===92?oe+="\\"+String.fromCharCode(ie):oe+=String.fromCharCode(ie)}return oe}return W.prototype._read_string_recursive=function(te,oe,ie){var Ee,D;te==="'"?D=this.__patterns.single_quote:te==='"'?D=this.__patterns.double_quote:te==="`"?D=this.__patterns.template_text:te==="}"&&(D=this.__patterns.template_expression);for(var me=D.read(),z="";this._input.hasNext();){if(z=this._input.next(),z===te||!oe&&u.newline.test(z)){this._input.back();break}else z==="\\"&&this._input.hasNext()?(Ee=this._input.peek(),Ee==="x"||Ee==="u"?this.has_char_escapes=!0:Ee==="\r"&&this._input.peek(1)===`
`&&this._input.next(),z+=this._input.next()):ie&&(ie==="${"&&z==="$"&&this._input.peek()==="{"&&(z+=this._input.next()),ie===z&&(te==="`"?z+=this._read_string_recursive("}",oe,"`"):z+=this._read_string_recursive("`",oe,"${"),this._input.hasNext()&&(z+=this._input.next())));z+=D.read(),me+=z}return me},tokenizer$2.Tokenizer=W,tokenizer$2.TOKEN=w,tokenizer$2.positionable_operators=k.slice(),tokenizer$2.line_starters=I.slice(),tokenizer$2}var hasRequiredBeautifier$2;function requireBeautifier$2(){if(hasRequiredBeautifier$2)return beautifier$2;hasRequiredBeautifier$2=1;var e=requireOutput().Output,t=requireToken().Token,r=requireAcorn(),o=requireOptions$2().Options,u=requireTokenizer$1().Tokenizer,f=requireTokenizer$1().line_starters,g=requireTokenizer$1().positionable_operators,_=requireTokenizer$1().TOKEN;function w(D,me){return me.indexOf(D)!==-1}function S(D){return D.replace(/^\s+/g,"")}function M(D){for(var me={},z=0;z<D.length;z++)me[D[z].replace(/-/g,"_")]=D[z];return me}function C(D,me){return D&&D.type===_.RESERVED&&D.text===me}function T(D,me){return D&&D.type===_.RESERVED&&w(D.text,me)}var k=["case","return","do","if","throw","else","await","break","continue","async"],P=["before-newline","after-newline","preserve-newline"],$=M(P),I=[$.before_newline,$.preserve_newline],E={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function F(D,me){me.multiline_frame||me.mode===E.ForInitializer||me.mode===E.Conditional||D.remove_indent(me.start_line_index)}function le(D){D=D.replace(r.allLineBreaks,`
`);for(var me=[],z=D.indexOf(`
`);z!==-1;)me.push(D.substring(0,z)),D=D.substring(z+1),z=D.indexOf(`
`);return D.length&&me.push(D),me}function W(D){return D===E.ArrayLiteral}function ae(D){return w(D,[E.Expression,E.ForInitializer,E.Conditional])}function te(D,me){for(var z=0;z<D.length;z++){var pe=D[z].trim();if(pe.charAt(0)!==me)return!1}return!0}function oe(D,me){for(var z=0,pe=D.length,we;z<pe;z++)if(we=D[z],we&&we.indexOf(me)!==0)return!1;return!0}function ie(D,me){me=me||{},this._source_text=D||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new o(me)}ie.prototype.create_flags=function(D,me){var z=0;D&&(z=D.indentation_level,!this._output.just_added_newline()&&D.line_indent_level>z&&(z=D.line_indent_level));var pe={mode:me,parent:D,last_token:D?D.last_token:new t(_.START_BLOCK,""),last_word:D?D.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:z,alignment:0,line_indent_level:D?D.line_indent_level:z,start_line_index:this._output.get_line_number(),ternary_depth:0};return pe},ie.prototype._reset=function(D){var me=D.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new e(this._options,me),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(E.BlockStatement);var z=new u(D,this._options);return this._tokens=z.tokenize(),D},ie.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var D,me=this._reset(this._source_text),z=this._options.eol;this._options.eol==="auto"&&(z=`
`,me&&r.lineBreak.test(me||"")&&(z=me.match(r.lineBreak)[0]));for(var pe=this._tokens.next();pe;)this.handle_token(pe),this._last_last_text=this._flags.last_token.text,this._flags.last_token=pe,pe=this._tokens.next();return D=this._output.get_code(z),D},ie.prototype.handle_token=function(D,me){D.type===_.START_EXPR?this.handle_start_expr(D):D.type===_.END_EXPR?this.handle_end_expr(D):D.type===_.START_BLOCK?this.handle_start_block(D):D.type===_.END_BLOCK?this.handle_end_block(D):D.type===_.WORD?this.handle_word(D):D.type===_.RESERVED?this.handle_word(D):D.type===_.SEMICOLON?this.handle_semicolon(D):D.type===_.STRING?this.handle_string(D):D.type===_.EQUALS?this.handle_equals(D):D.type===_.OPERATOR?this.handle_operator(D):D.type===_.COMMA?this.handle_comma(D):D.type===_.BLOCK_COMMENT?this.handle_block_comment(D,me):D.type===_.COMMENT?this.handle_comment(D,me):D.type===_.DOT?this.handle_dot(D):D.type===_.EOF?this.handle_eof(D):D.type===_.UNKNOWN?this.handle_unknown(D,me):this.handle_unknown(D,me)},ie.prototype.handle_whitespace_and_comments=function(D,me){var z=D.newlines,pe=this._options.keep_array_indentation&&W(this._flags.mode);if(D.comments_before)for(var we=D.comments_before.next();we;)this.handle_whitespace_and_comments(we,me),this.handle_token(we,me),we=D.comments_before.next();if(pe)for(var Q=0;Q<z;Q+=1)this.print_newline(Q>0,me);else if(this._options.max_preserve_newlines&&z>this._options.max_preserve_newlines&&(z=this._options.max_preserve_newlines),this._options.preserve_newlines&&z>1){this.print_newline(!1,me);for(var Y=1;Y<z;Y+=1)this.print_newline(!0,me)}};var Ee=["async","break","continue","return","throw","yield"];return ie.prototype.allow_wrap_or_preserved_newline=function(D,me){if(me=me===void 0?!1:me,!this._output.just_added_newline()){var z=this._options.preserve_newlines&&D.newlines||me,pe=w(this._flags.last_token.text,g)||w(D.text,g);if(pe){var we=w(this._flags.last_token.text,g)&&w(this._options.operator_position,I)||w(D.text,g);z=z&&we}if(z)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(T(this._flags.last_token,Ee))return;this._output.set_wrap_point()}}},ie.prototype.print_newline=function(D,me){if(!me&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==_.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var z=this._tokens.peek();this._flags.mode===E.Statement&&!(this._flags.if_block&&C(z,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(D)&&(this._flags.multiline_frame=!0)},ie.prototype.print_token_line_indentation=function(D){this._output.just_added_newline()&&(this._options.keep_array_indentation&&D.newlines&&(D.text==="["||W(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(D.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},ie.prototype.print_token=function(D){if(this._output.raw){this._output.add_raw_token(D);return}if(this._options.comma_first&&D.previous&&D.previous.type===_.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var me=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(me),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(D),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(D),this._output.non_breaking_space=!0,this._output.add_token(D.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},ie.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},ie.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},ie.prototype.set_mode=function(D){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,D),this._flags=this.create_flags(this._previous_flags,D),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},ie.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===E.Statement&&F(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},ie.prototype.start_of_object_property=function(){return this._flags.parent.mode===E.ObjectLiteral&&this._flags.mode===E.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||T(this._flags.last_token,["get","set"]))},ie.prototype.start_of_statement=function(D){var me=!1;return me=me||T(this._flags.last_token,["var","let","const"])&&D.type===_.WORD,me=me||C(this._flags.last_token,"do"),me=me||!(this._flags.parent.mode===E.ObjectLiteral&&this._flags.mode===E.Statement)&&T(this._flags.last_token,Ee)&&!D.newlines,me=me||C(this._flags.last_token,"else")&&!(C(D,"if")&&!D.comments_before),me=me||this._flags.last_token.type===_.END_EXPR&&(this._previous_flags.mode===E.ForInitializer||this._previous_flags.mode===E.Conditional),me=me||this._flags.last_token.type===_.WORD&&this._flags.mode===E.BlockStatement&&!this._flags.in_case&&!(D.text==="--"||D.text==="++")&&this._last_last_text!=="function"&&D.type!==_.WORD&&D.type!==_.RESERVED,me=me||this._flags.mode===E.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||T(this._flags.last_token,["get","set"])),me?(this.set_mode(E.Statement),this.indent(),this.handle_whitespace_and_comments(D,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(D,T(D,["do","for","if","while"])),!0):!1},ie.prototype.handle_start_expr=function(D){this.start_of_statement(D)||this.handle_whitespace_and_comments(D);var me=E.Expression;if(D.text==="["){if(this._flags.last_token.type===_.WORD||this._flags.last_token.text===")"){T(this._flags.last_token,f)&&(this._output.space_before_token=!0),this.print_token(D),this.set_mode(me),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}me=E.ArrayLiteral,W(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),w(this._flags.last_token.type,[_.START_EXPR,_.END_EXPR,_.WORD,_.OPERATOR,_.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===_.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,me=E.ForInitializer):w(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,me=E.Conditional):w(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&D.whitespace_before===""?this._output.space_before_token=!1:(w(this._flags.last_token.text,f)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===_.EQUALS||this._flags.last_token.type===_.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(D);else if(this._flags.last_token.type===_.WORD){this._output.space_before_token=!1;var z=this._tokens.peek(-3);if(this._options.space_after_named_function&&z){var pe=this._tokens.peek(-4);T(z,["async","function"])||z.text==="*"&&T(pe,["async","function"])?this._output.space_before_token=!0:this._flags.mode===E.ObjectLiteral&&(z.text==="{"||z.text===","||z.text==="*"&&(pe.text==="{"||pe.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(D);(this._flags.last_token.type===_.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(w(this._last_last_text,["function","yield"])||this._flags.mode===E.ObjectLiteral&&w(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===_.START_BLOCK?this.print_newline():(this._flags.last_token.type===_.END_EXPR||this._flags.last_token.type===_.START_EXPR||this._flags.last_token.type===_.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===_.COMMA)&&this.allow_wrap_or_preserved_newline(D,D.newlines),this.print_token(D),this.set_mode(me),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},ie.prototype.handle_end_expr=function(D){for(;this._flags.mode===E.Statement;)this.restore_mode();this.handle_whitespace_and_comments(D),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(D,D.text==="]"&&W(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===_.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(D),this.restore_mode(),F(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===E.Conditional&&(this._previous_flags.mode=E.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},ie.prototype.handle_start_block=function(D){this.handle_whitespace_and_comments(D);var me=this._tokens.peek(),z=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===_.END_EXPR?(this.set_mode(E.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(E.BlockStatement):z&&(w(z.text,[":",","])&&w(me.type,[_.STRING,_.WORD,_.RESERVED])||w(me.text,["get","set","..."])&&w(z.type,[_.WORD,_.RESERVED]))?w(this._last_last_text,["class","interface"])?this.set_mode(E.BlockStatement):this.set_mode(E.ObjectLiteral):this._flags.last_token.type===_.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(E.BlockStatement):w(this._flags.last_token.type,[_.EQUALS,_.START_EXPR,_.COMMA,_.OPERATOR])||T(this._flags.last_token,["return","throw","import","default"])?this.set_mode(E.ObjectLiteral):this.set_mode(E.BlockStatement);var pe=!me.comments_before&&me.text==="}",we=pe&&this._flags.last_word==="function"&&this._flags.last_token.type===_.END_EXPR;if(this._options.brace_preserve_inline){var Q=0,Y=null;this._flags.inline_frame=!0;do if(Q+=1,Y=this._tokens.peek(Q-1),Y.newlines){this._flags.inline_frame=!1;break}while(Y.type!==_.EOF&&!(Y.type===_.END_BLOCK&&Y.opened===D))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&D.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==_.OPERATOR&&(we||this._flags.last_token.type===_.EQUALS||T(this._flags.last_token,k)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(W(this._previous_flags.mode)&&(this._flags.last_token.type===_.START_EXPR||this._flags.last_token.type===_.COMMA)&&((this._flags.last_token.type===_.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===_.COMMA||this._flags.last_token.type===_.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(D),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==_.OPERATOR&&this._flags.last_token.type!==_.START_EXPR&&(this._flags.last_token.type===_.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(D),this.indent(),!pe&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},ie.prototype.handle_end_block=function(D){for(this.handle_whitespace_and_comments(D);this._flags.mode===E.Statement;)this.restore_mode();var me=this._flags.last_token.type===_.START_BLOCK;this._flags.inline_frame&&!me?this._output.space_before_token=!0:this._options.brace_style==="expand"?me||this.print_newline():me||(W(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(D)},ie.prototype.handle_word=function(D){if(D.type===_.RESERVED){if(w(D.text,["set","get"])&&this._flags.mode!==E.ObjectLiteral)D.type=_.WORD;else if(D.text==="import"&&this._tokens.peek().text==="(")D.type=_.WORD;else if(w(D.text,["as","from"])&&!this._flags.import_block)D.type=_.WORD;else if(this._flags.mode===E.ObjectLiteral){var me=this._tokens.peek();me.text===":"&&(D.type=_.WORD)}}if(this.start_of_statement(D)?T(this._flags.last_token,["var","let","const"])&&D.type===_.WORD&&(this._flags.declaration_statement=!0):D.newlines&&!ae(this._flags.mode)&&(this._flags.last_token.type!==_.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==_.EQUALS&&(this._options.preserve_newlines||!T(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(D),this.print_newline()):this.handle_whitespace_and_comments(D),this._flags.do_block&&!this._flags.do_while)if(C(D,"while")){this._output.space_before_token=!0,this.print_token(D),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&C(D,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===E.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&T(D,["case","default"])){this.print_newline(),this._flags.last_token.type!==_.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(D),this._flags.in_case=!0;return}if((this._flags.last_token.type===_.COMMA||this._flags.last_token.type===_.START_EXPR||this._flags.last_token.type===_.EQUALS||this._flags.last_token.type===_.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(D)),C(D,"function")){(w(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(w(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===_.OPERATOR))&&!this._output.just_added_blankline()&&!D.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===_.RESERVED||this._flags.last_token.type===_.WORD?T(this._flags.last_token,["get","set","new","export"])||T(this._flags.last_token,Ee)?this._output.space_before_token=!0:C(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===_.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(ae(this._flags.mode)||W(this._flags.mode))||this.print_newline(),this.print_token(D),this._flags.last_word=D.text;return}var z="NONE";if(this._flags.last_token.type===_.END_BLOCK?this._previous_flags.inline_frame?z="SPACE":T(D,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&D.newlines?z="NEWLINE":(z="SPACE",this._output.space_before_token=!0):z="NEWLINE":this._flags.last_token.type===_.SEMICOLON&&this._flags.mode===E.BlockStatement?z="NEWLINE":this._flags.last_token.type===_.SEMICOLON&&ae(this._flags.mode)?z="SPACE":this._flags.last_token.type===_.STRING?z="NEWLINE":this._flags.last_token.type===_.RESERVED||this._flags.last_token.type===_.WORD||this._flags.last_token.text==="*"&&(w(this._last_last_text,["function","yield"])||this._flags.mode===E.ObjectLiteral&&w(this._last_last_text,["{",","]))?z="SPACE":this._flags.last_token.type===_.START_BLOCK?this._flags.inline_frame?z="SPACE":z="NEWLINE":this._flags.last_token.type===_.END_EXPR&&(this._output.space_before_token=!0,z="NEWLINE"),T(D,f)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?z="SPACE":z="NEWLINE"),T(D,["else","catch","finally"]))if((!(this._flags.last_token.type===_.END_BLOCK&&this._previous_flags.mode===E.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&D.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var pe=this._output.current_line;pe.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else z==="NEWLINE"?T(this._flags.last_token,k)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&T(D,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==_.END_EXPR?(this._flags.last_token.type!==_.START_EXPR||!T(D,["var","let","const"]))&&this._flags.last_token.text!==":"&&(C(D,"if")&&C(D.previous,"else")?this._output.space_before_token=!0:this.print_newline()):T(D,f)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&W(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():z==="SPACE"&&(this._output.space_before_token=!0);D.previous&&(D.previous.type===_.WORD||D.previous.type===_.RESERVED)&&(this._output.space_before_token=!0),this.print_token(D),this._flags.last_word=D.text,D.type===_.RESERVED&&(D.text==="do"?this._flags.do_block=!0:D.text==="if"?this._flags.if_block=!0:D.text==="import"?this._flags.import_block=!0:this._flags.import_block&&C(D,"from")&&(this._flags.import_block=!1))},ie.prototype.handle_semicolon=function(D){this.start_of_statement(D)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(D);for(var me=this._tokens.peek();this._flags.mode===E.Statement&&!(this._flags.if_block&&C(me,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(D)},ie.prototype.handle_string=function(D){D.text.startsWith("`")&&D.newlines===0&&D.whitespace_before===""&&(D.previous.text===")"||this._flags.last_token.type===_.WORD)||(this.start_of_statement(D)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(D),this._flags.last_token.type===_.RESERVED||this._flags.last_token.type===_.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===_.COMMA||this._flags.last_token.type===_.START_EXPR||this._flags.last_token.type===_.EQUALS||this._flags.last_token.type===_.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(D):D.text.startsWith("`")&&this._flags.last_token.type===_.END_EXPR&&(D.previous.text==="]"||D.previous.text===")")&&D.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(D)},ie.prototype.handle_equals=function(D){this.start_of_statement(D)||this.handle_whitespace_and_comments(D),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(D),this._output.space_before_token=!0},ie.prototype.handle_comma=function(D){this.handle_whitespace_and_comments(D,!0),this.print_token(D),this._output.space_before_token=!0,this._flags.declaration_statement?(ae(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(D)):this._flags.mode===E.ObjectLiteral||this._flags.mode===E.Statement&&this._flags.parent.mode===E.ObjectLiteral?(this._flags.mode===E.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(D)},ie.prototype.handle_operator=function(D){var me=D.text==="*"&&(T(this._flags.last_token,["function","yield"])||w(this._flags.last_token.type,[_.START_BLOCK,_.COMMA,_.END_BLOCK,_.SEMICOLON])),z=w(D.text,["-","+"])&&(w(this._flags.last_token.type,[_.START_BLOCK,_.START_EXPR,_.EQUALS,_.OPERATOR])||w(this._flags.last_token.text,f)||this._flags.last_token.text===",");if(!this.start_of_statement(D)){var pe=!me;this.handle_whitespace_and_comments(D,pe)}if(T(this._flags.last_token,k)){this._output.space_before_token=!0,this.print_token(D);return}if(D.text==="*"&&this._flags.last_token.type===_.DOT){this.print_token(D);return}if(D.text==="::"){this.print_token(D);return}if(this._flags.last_token.type===_.OPERATOR&&w(this._options.operator_position,I)&&this.allow_wrap_or_preserved_newline(D),D.text===":"&&this._flags.in_case){this.print_token(D),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==_.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var we=!0,Q=!0,Y=!1;if(D.text===":"?this._flags.ternary_depth===0?we=!1:(this._flags.ternary_depth-=1,Y=!0):D.text==="?"&&(this._flags.ternary_depth+=1),!z&&!me&&this._options.preserve_newlines&&w(D.text,g)){var G=D.text===":",q=G&&Y,Te=G&&!Y;switch(this._options.operator_position){case $.before_newline:this._output.space_before_token=!Te,this.print_token(D),(!G||q)&&this.allow_wrap_or_preserved_newline(D),this._output.space_before_token=!0;return;case $.after_newline:this._output.space_before_token=!0,!G||q?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(D):this._output.space_before_token=!1,this.print_token(D),this._output.space_before_token=!0;return;case $.preserve_newline:Te||this.allow_wrap_or_preserved_newline(D),we=!(this._output.just_added_newline()||Te),this._output.space_before_token=we,this.print_token(D),this._output.space_before_token=!0;return}}if(me){this.allow_wrap_or_preserved_newline(D),we=!1;var De=this._tokens.peek();Q=De&&w(De.type,[_.WORD,_.RESERVED])}else D.text==="..."?(this.allow_wrap_or_preserved_newline(D),we=this._flags.last_token.type===_.START_BLOCK,Q=!1):(w(D.text,["--","++","!","~"])||z)&&((this._flags.last_token.type===_.COMMA||this._flags.last_token.type===_.START_EXPR)&&this.allow_wrap_or_preserved_newline(D),we=!1,Q=!1,D.newlines&&(D.text==="--"||D.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&ae(this._flags.mode)&&(we=!0),this._flags.last_token.type===_.RESERVED?we=!0:this._flags.last_token.type===_.END_EXPR?we=!(this._flags.last_token.text==="]"&&(D.text==="--"||D.text==="++")):this._flags.last_token.type===_.OPERATOR&&(we=w(D.text,["--","-","++","+"])&&w(this._flags.last_token.text,["--","-","++","+"]),w(D.text,["+","-"])&&w(this._flags.last_token.text,["--","++"])&&(Q=!0)),(this._flags.mode===E.BlockStatement&&!this._flags.inline_frame||this._flags.mode===E.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||we,this.print_token(D),this._output.space_before_token=Q},ie.prototype.handle_block_comment=function(D,me){if(this._output.raw){this._output.add_raw_token(D),D.directives&&D.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(D.directives){this.print_newline(!1,me),this.print_token(D),D.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!r.newline.test(D.text)&&!D.newlines){this._output.space_before_token=!0,this.print_token(D),this._output.space_before_token=!0;return}else this.print_block_commment(D,me)},ie.prototype.print_block_commment=function(D,me){var z=le(D.text),pe,we=!1,Q=!1,Y=D.whitespace_before,G=Y.length;if(this.print_newline(!1,me),this.print_token_line_indentation(D),this._output.add_token(z[0]),this.print_newline(!1,me),z.length>1){for(z=z.slice(1),we=te(z,"*"),Q=oe(z,Y),we&&(this._flags.alignment=1),pe=0;pe<z.length;pe++)we?(this.print_token_line_indentation(D),this._output.add_token(S(z[pe]))):Q&&z[pe]?(this.print_token_line_indentation(D),this._output.add_token(z[pe].substring(G))):(this._output.current_line.set_indent(-1),this._output.add_token(z[pe])),this.print_newline(!1,me);this._flags.alignment=0}},ie.prototype.handle_comment=function(D,me){D.newlines?this.print_newline(!1,me):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(D),this.print_newline(!1,me)},ie.prototype.handle_dot=function(D){this.start_of_statement(D)||this.handle_whitespace_and_comments(D,!0),T(this._flags.last_token,k)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(D,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(D)},ie.prototype.handle_unknown=function(D,me){this.print_token(D),D.text[D.text.length-1]===`
`&&this.print_newline(!1,me)},ie.prototype.handle_eof=function(D){for(;this._flags.mode===E.Statement;)this.restore_mode();this.handle_whitespace_and_comments(D)},beautifier$2.Beautifier=ie,beautifier$2}var hasRequiredJavascript;function requireJavascript(){if(hasRequiredJavascript)return javascript.exports;hasRequiredJavascript=1;var e=requireBeautifier$2().Beautifier,t=requireOptions$2().Options;function r(o,u){var f=new e(o,u);return f.beautify()}return javascript.exports=r,javascript.exports.defaultOptions=function(){return new t},javascript.exports}var css={exports:{}},beautifier$1={},options$1={},hasRequiredOptions$1;function requireOptions$1(){if(hasRequiredOptions$1)return options$1;hasRequiredOptions$1=1;var e=requireOptions$3().Options;function t(r){e.call(this,r,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var o=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||o;var u=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var f=0;f<u.length;f++)u[f]!=="expand"?this.brace_style="collapse":this.brace_style=u[f]}return t.prototype=new e,options$1.Options=t,options$1}var hasRequiredBeautifier$1;function requireBeautifier$1(){if(hasRequiredBeautifier$1)return beautifier$1;hasRequiredBeautifier$1=1;var e=requireOptions$1().Options,t=requireOutput().Output,r=requireInputscanner().InputScanner,o=requireDirectives().Directives,u=new o(/\/\*/,/\*\//),f=/\r\n|[\r\n]/,g=/\r\n|[\r\n]/g,_=/\s/,w=/(?:\s|\n)+/g,S=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,M=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function C(T,k){this._source_text=T||"",this._options=new e(k),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}return C.prototype.eatString=function(T){var k="";for(this._ch=this._input.next();this._ch;){if(k+=this._ch,this._ch==="\\")k+=this._input.next();else if(T.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return k},C.prototype.eatWhitespace=function(T){for(var k=_.test(this._input.peek()),P=0;_.test(this._input.peek());)this._ch=this._input.next(),T&&this._ch===`
`&&(P===0||P<this._options.max_preserve_newlines)&&(P++,this._output.add_new_line(!0));return k},C.prototype.foundNestedPseudoClass=function(){for(var T=0,k=1,P=this._input.peek(k);P;){if(P==="{")return!0;if(P==="(")T+=1;else if(P===")"){if(T===0)return!1;T-=1}else if(P===";"||P==="}")return!1;k++,P=this._input.peek(k)}return!1},C.prototype.print_string=function(T){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(T)},C.prototype.preserveSingleSpace=function(T){T&&(this._output.space_before_token=!0)},C.prototype.indent=function(){this._indentLevel++},C.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},C.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var T=this._source_text,k=this._options.eol;k==="auto"&&(k=`
`,T&&f.test(T||"")&&(k=T.match(f)[0])),T=T.replace(g,`
`);var P=T.match(/^[\t ]*/)[0];this._output=new t(this._options,P),this._input=new r(T),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var $=0,I=!1,E=!1,F=!1,le=!1,W=!1,ae=this._ch,te,oe,ie;te=this._input.read(w),oe=te!=="",ie=ae,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ae=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var Ee=this._input.read(S),D=u.get_directives(Ee);D&&D.ignore==="start"&&(Ee+=u.readIgnored(this._input)),this.print_string(Ee),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(M)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(oe),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var me=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);me.match(/[ :]$/)&&(me=this.eatString(": ").replace(/\s$/,""),this.print_string(me),this._output.space_before_token=!0),me=me.replace(/\s$/,""),me==="extend"?le=!0:me==="import"&&(W=!0),me in this.NESTED_AT_RULE?(this._nestedLevel+=1,me in this.CONDITIONAL_GROUP_RULE&&(F=!0)):!I&&$===0&&me.indexOf(":")!==-1&&(E=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(oe),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(E&&(E=!1,this.outdent()),F?(F=!1,I=this._indentLevel>=this._nestedLevel):I=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&I&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),ie==="{"&&this._output.trim(!0),W=!1,le=!1,E&&(this.outdent(),E=!1),this.print_string(this._ch),I=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(I||F)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!le&&$===0?(this.print_string(":"),E||(E=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(oe),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?$===0?(E&&(this.outdent(),E=!1),le=!1,W=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),$++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),$&&($--,this.outdent()))):(this.preserveSingleSpace(oe),this.print_string(this._ch),this.eatWhitespace(),$++,this.indent()):this._ch===")"?($&&($--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!E&&$===0&&!W&&!le?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!E&&$===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&_.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(oe),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),_.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(oe),this.print_string(this._ch));var z=this._output.get_code(k);return z},beautifier$1.Beautifier=C,beautifier$1}var hasRequiredCss;function requireCss(){if(hasRequiredCss)return css.exports;hasRequiredCss=1;var e=requireBeautifier$1().Beautifier,t=requireOptions$1().Options;function r(o,u){var f=new e(o,u);return f.beautify()}return css.exports=r,css.exports.defaultOptions=function(){return new t},css.exports}var html={exports:{}},beautifier={},options={},hasRequiredOptions;function requireOptions(){if(hasRequiredOptions)return options;hasRequiredOptions=1;var e=requireOptions$3().Options;function t(r){e.call(this,r,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return t.prototype=new e,options.Options=t,options}var tokenizer={},hasRequiredTokenizer;function requireTokenizer(){if(hasRequiredTokenizer)return tokenizer;hasRequiredTokenizer=1;var e=requireTokenizer$2().Tokenizer,t=requireTokenizer$2().TOKEN,r=requireDirectives().Directives,o=requireTemplatablepattern().TemplatablePattern,u=requirePattern().Pattern,f={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:t.START,RAW:t.RAW,EOF:t.EOF},g=new r(/<\!--/,/-->/),_=function(w,S){e.call(this,w,S),this._current_tag_name="";var M=new o(this._input).read_options(this._options),C=new u(this._input);if(this.__patterns={word:M.until(/[\n\r\t <]/),single_quote:M.until_after(/'/),double_quote:M.until_after(/"/),attribute:M.until(/[\n\r\t =>]|\/>/),element_name:M.until(/[\n\r\t >\/]/),handlebars_comment:C.starting_with(/{{!--/).until_after(/--}}/),handlebars:C.starting_with(/{{/).until_after(/}}/),handlebars_open:C.until(/[\n\r\t }]/),handlebars_raw_close:C.until(/}}/),comment:C.starting_with(/<!--/).until_after(/-->/),cdata:C.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:C.starting_with(/<!\[/).until_after(/]>/),processing:C.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var T=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=C.matching(T).until_after(T)}};return _.prototype=new e,_.prototype._is_comment=function(w){return!1},_.prototype._is_opening=function(w){return w.type===f.TAG_OPEN},_.prototype._is_closing=function(w,S){return w.type===f.TAG_CLOSE&&S&&((w.text===">"||w.text==="/>")&&S.text[0]==="<"||w.text==="}}"&&S.text[0]==="{"&&S.text[1]==="{")},_.prototype._reset=function(){this._current_tag_name=""},_.prototype._get_next_token=function(w,S){var M=null;this._readWhitespace();var C=this._input.peek();return C===null?this._create_token(f.EOF,""):(M=M||this._read_open_handlebars(C,S),M=M||this._read_attribute(C,w,S),M=M||this._read_close(C,S),M=M||this._read_raw_content(C,w,S),M=M||this._read_content_word(C),M=M||this._read_comment_or_cdata(C),M=M||this._read_processing(C),M=M||this._read_open(C,S),M=M||this._create_token(f.UNKNOWN,this._input.next()),M)},_.prototype._read_comment_or_cdata=function(w){var S=null,M=null,C=null;if(w==="<"){var T=this._input.peek(1);T==="!"&&(M=this.__patterns.comment.read(),M?(C=g.get_directives(M),C&&C.ignore==="start"&&(M+=g.readIgnored(this._input))):M=this.__patterns.cdata.read()),M&&(S=this._create_token(f.COMMENT,M),S.directives=C)}return S},_.prototype._read_processing=function(w){var S=null,M=null,C=null;if(w==="<"){var T=this._input.peek(1);(T==="!"||T==="?")&&(M=this.__patterns.conditional_comment.read(),M=M||this.__patterns.processing.read()),M&&(S=this._create_token(f.COMMENT,M),S.directives=C)}return S},_.prototype._read_open=function(w,S){var M=null,C=null;return S||w==="<"&&(M=this._input.next(),this._input.peek()==="/"&&(M+=this._input.next()),M+=this.__patterns.element_name.read(),C=this._create_token(f.TAG_OPEN,M)),C},_.prototype._read_open_handlebars=function(w,S){var M=null,C=null;return S||this._options.indent_handlebars&&w==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(M=this.__patterns.handlebars_comment.read(),M=M||this.__patterns.handlebars.read(),C=this._create_token(f.COMMENT,M)):(M=this.__patterns.handlebars_open.read(),C=this._create_token(f.TAG_OPEN,M))),C},_.prototype._read_close=function(w,S){var M=null,C=null;return S&&(S.text[0]==="<"&&(w===">"||w==="/"&&this._input.peek(1)===">")?(M=this._input.next(),w==="/"&&(M+=this._input.next()),C=this._create_token(f.TAG_CLOSE,M)):S.text[0]==="{"&&w==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),C=this._create_token(f.TAG_CLOSE,"}}"))),C},_.prototype._read_attribute=function(w,S,M){var C=null,T="";if(M&&M.text[0]==="<")if(w==="=")C=this._create_token(f.EQUALS,this._input.next());else if(w==='"'||w==="'"){var k=this._input.next();w==='"'?k+=this.__patterns.double_quote.read():k+=this.__patterns.single_quote.read(),C=this._create_token(f.VALUE,k)}else T=this.__patterns.attribute.read(),T&&(S.type===f.EQUALS?C=this._create_token(f.VALUE,T):C=this._create_token(f.ATTRIBUTE,T));return C},_.prototype._is_content_unformatted=function(w){return this._options.void_elements.indexOf(w)===-1&&(this._options.content_unformatted.indexOf(w)!==-1||this._options.unformatted.indexOf(w)!==-1)},_.prototype._read_raw_content=function(w,S,M){var C="";if(M&&M.text[0]==="{")C=this.__patterns.handlebars_raw_close.read();else if(S.type===f.TAG_CLOSE&&S.opened.text[0]==="<"&&S.text[0]!=="/"){var T=S.opened.text.substr(1).toLowerCase();if(T==="script"||T==="style"){var k=this._read_comment_or_cdata(w);if(k)return k.type=f.TEXT,k;C=this._input.readUntil(new RegExp("</"+T+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(T)&&(C=this._input.readUntil(new RegExp("</"+T+"[\\n\\r\\t ]*?>","ig")))}return C?this._create_token(f.TEXT,C):null},_.prototype._read_content_word=function(w){var S="";if(this._options.unformatted_content_delimiter&&w===this._options.unformatted_content_delimiter[0]&&(S=this.__patterns.unformatted_content_delimiter.read()),S||(S=this.__patterns.word.read()),S)return this._create_token(f.TEXT,S)},tokenizer.Tokenizer=_,tokenizer.TOKEN=f,tokenizer}var hasRequiredBeautifier;function requireBeautifier(){if(hasRequiredBeautifier)return beautifier;hasRequiredBeautifier=1;var e=requireOptions().Options,t=requireOutput().Output,r=requireTokenizer().Tokenizer,o=requireTokenizer().TOKEN,u=/\r\n|[\r\n]/,f=/\r\n|[\r\n]/g,g=function(I,E){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=I.max_preserve_newlines,this.preserve_newlines=I.preserve_newlines,this._output=new t(I,E)};g.prototype.current_line_has_match=function(I){return this._output.current_line.has_match(I)},g.prototype.set_space_before_token=function(I,E){this._output.space_before_token=I,this._output.non_breaking_space=E},g.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},g.prototype.add_raw_token=function(I){this._output.add_raw_token(I)},g.prototype.print_preserved_newlines=function(I){var E=0;I.type!==o.TEXT&&I.previous.type!==o.TEXT&&(E=I.newlines?1:0),this.preserve_newlines&&(E=I.newlines<this.max_preserve_newlines+1?I.newlines:this.max_preserve_newlines+1);for(var F=0;F<E;F++)this.print_newline(F>0);return E!==0},g.prototype.traverse_whitespace=function(I){return I.whitespace_before||I.newlines?(this.print_preserved_newlines(I)||(this._output.space_before_token=!0),!0):!1},g.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},g.prototype.print_newline=function(I){this._output.add_new_line(I)},g.prototype.print_token=function(I){I.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(I.text))},g.prototype.indent=function(){this.indent_level++},g.prototype.get_full_indent=function(I){return I=this.indent_level+(I||0),I<1?"":this._output.get_indent_string(I)};var _=function(I){for(var E=null,F=I.next;F.type!==o.EOF&&I.closed!==F;){if(F.type===o.ATTRIBUTE&&F.text==="type"){F.next&&F.next.type===o.EQUALS&&F.next.next&&F.next.next.type===o.VALUE&&(E=F.next.next.text);break}F=F.next}return E},w=function(I,E){var F=null,le=null;return E.closed?(I==="script"?F="text/javascript":I==="style"&&(F="text/css"),F=_(E)||F,F.search("text/css")>-1?le="css":F.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?le="javascript":F.search(/(text|application|dojo)\/(x-)?(html)/)>-1?le="html":F.search(/test\/null/)>-1&&(le="null"),le):null};function S(I,E){return E.indexOf(I)!==-1}function M(I,E,F){this.parent=I||null,this.tag=E?E.tag_name:"",this.indent_level=F||0,this.parser_token=E||null}function C(I){this._printer=I,this._current_frame=null}C.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},C.prototype.record_tag=function(I){var E=new M(this._current_frame,I,this._printer.indent_level);this._current_frame=E},C.prototype._try_pop_frame=function(I){var E=null;return I&&(E=I.parser_token,this._printer.indent_level=I.indent_level,this._current_frame=I.parent),E},C.prototype._get_frame=function(I,E){for(var F=this._current_frame;F&&I.indexOf(F.tag)===-1;){if(E&&E.indexOf(F.tag)!==-1){F=null;break}F=F.parent}return F},C.prototype.try_pop=function(I,E){var F=this._get_frame([I],E);return this._try_pop_frame(F)},C.prototype.indent_to_tag=function(I){var E=this._get_frame(I);E&&(this._printer.indent_level=E.indent_level)};function T(I,E,F,le){this._source_text=I||"",E=E||{},this._js_beautify=F,this._css_beautify=le,this._tag_stack=null;var W=new e(E,"html");this._options=W,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}T.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var I=this._source_text,E=this._options.eol;this._options.eol==="auto"&&(E=`
`,I&&u.test(I)&&(E=I.match(u)[0])),I=I.replace(f,`
`);var F=I.match(/^[\t ]*/)[0],le={text:"",type:""},W=new k,ae=new g(this._options,F),te=new r(I,this._options).tokenize();this._tag_stack=new C(ae);for(var oe=null,ie=te.next();ie.type!==o.EOF;)ie.type===o.TAG_OPEN||ie.type===o.COMMENT?(oe=this._handle_tag_open(ae,ie,W,le),W=oe):ie.type===o.ATTRIBUTE||ie.type===o.EQUALS||ie.type===o.VALUE||ie.type===o.TEXT&&!W.tag_complete?oe=this._handle_inside_tag(ae,ie,W,te):ie.type===o.TAG_CLOSE?oe=this._handle_tag_close(ae,ie,W):ie.type===o.TEXT?oe=this._handle_text(ae,ie,W):ae.add_raw_token(ie),le=oe,ie=te.next();var Ee=ae._output.get_code(E);return Ee},T.prototype._handle_tag_close=function(I,E,F){var le={text:E.text,type:E.type};return I.alignment_size=0,F.tag_complete=!0,I.set_space_before_token(E.newlines||E.whitespace_before!=="",!0),F.is_unformatted?I.add_raw_token(E):(F.tag_start_char==="<"&&(I.set_space_before_token(E.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&F.has_wrapped_attrs&&I.print_newline(!1)),I.print_token(E)),F.indent_content&&!(F.is_unformatted||F.is_content_unformatted)&&(I.indent(),F.indent_content=!1),!F.is_inline_element&&!(F.is_unformatted||F.is_content_unformatted)&&I.set_wrap_point(),le},T.prototype._handle_inside_tag=function(I,E,F,le){var W=F.has_wrapped_attrs,ae={text:E.text,type:E.type};if(I.set_space_before_token(E.newlines||E.whitespace_before!=="",!0),F.is_unformatted)I.add_raw_token(E);else if(F.tag_start_char==="{"&&E.type===o.TEXT)I.print_preserved_newlines(E)?(E.newlines=0,I.add_raw_token(E)):I.print_token(E);else{if(E.type===o.ATTRIBUTE?(I.set_space_before_token(!0),F.attr_count+=1):(E.type===o.EQUALS||E.type===o.VALUE&&E.previous.type===o.EQUALS)&&I.set_space_before_token(!1),E.type===o.ATTRIBUTE&&F.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(I.traverse_whitespace(E),W=W||E.newlines!==0),this._is_wrap_attributes_force)){var te=F.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&F.attr_count===1){var oe=!0,ie=0,Ee;do{if(Ee=le.peek(ie),Ee.type===o.ATTRIBUTE){oe=!1;break}ie+=1}while(ie<4&&Ee.type!==o.EOF&&Ee.type!==o.TAG_CLOSE);te=!oe}te&&(I.print_newline(!1),W=!0)}I.print_token(E),W=W||I.previous_token_wrapped(),F.has_wrapped_attrs=W}return ae},T.prototype._handle_text=function(I,E,F){var le={text:E.text,type:"TK_CONTENT"};return F.custom_beautifier_name?this._print_custom_beatifier_text(I,E,F):F.is_unformatted||F.is_content_unformatted?I.add_raw_token(E):(I.traverse_whitespace(E),I.print_token(E)),le},T.prototype._print_custom_beatifier_text=function(I,E,F){var le=this;if(E.text!==""){var W=E.text,ae,te=1,oe="",ie="";F.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ae=this._js_beautify:F.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ae=this._css_beautify:F.custom_beautifier_name==="html"&&(ae=function(we,Q){var Y=new T(we,Q,le._js_beautify,le._css_beautify);return Y.beautify()}),this._options.indent_scripts==="keep"?te=0:this._options.indent_scripts==="separate"&&(te=-I.indent_level);var Ee=I.get_full_indent(te);if(W=W.replace(/\n[ \t]*$/,""),F.custom_beautifier_name!=="html"&&W[0]==="<"&&W.match(/^(<!--|<!\[CDATA\[)/)){var D=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(W);if(!D){I.add_raw_token(E);return}oe=Ee+D[1]+`
`,W=D[4],D[5]&&(ie=Ee+D[5]),W=W.replace(/\n[ \t]*$/,""),(D[2]||D[3].indexOf(`
`)!==-1)&&(D=D[3].match(/[ \t]+$/),D&&(E.whitespace_before=D[0]))}if(W)if(ae){var me=function(){this.eol=`
`};me.prototype=this._options.raw_options;var z=new me;W=ae(Ee+W,z)}else{var pe=E.whitespace_before;pe&&(W=W.replace(new RegExp(`
(`+pe+")?","g"),`
`)),W=Ee+W.replace(/\n/g,`
`+Ee)}oe&&(W?W=oe+W+`
`+ie:W=oe+ie),I.print_newline(!1),W&&(E.text=W,E.whitespace_before="",E.newlines=0,I.add_raw_token(E),I.print_newline(!0))}},T.prototype._handle_tag_open=function(I,E,F,le){var W=this._get_tag_open_token(E);return(F.is_unformatted||F.is_content_unformatted)&&!F.is_empty_element&&E.type===o.TAG_OPEN&&E.text.indexOf("</")===0?(I.add_raw_token(E),W.start_tag_token=this._tag_stack.try_pop(W.tag_name)):(I.traverse_whitespace(E),this._set_tag_position(I,E,W,F,le),W.is_inline_element||I.set_wrap_point(),I.print_token(E)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(W.alignment_size=E.text.length+1),!W.tag_complete&&!W.is_unformatted&&(I.alignment_size=W.alignment_size),W};var k=function(I,E){if(this.parent=I||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!E)this.tag_complete=!0;else{var F;this.tag_start_char=E.text[0],this.text=E.text,this.tag_start_char==="<"?(F=E.text.match(/^<([^\s>]*)/),this.tag_check=F?F[1]:""):(F=E.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=F?F[1]:"",E.text==="{{#>"&&this.tag_check===">"&&E.next!==null&&(this.tag_check=E.next.text)),this.tag_check=this.tag_check.toLowerCase(),E.type===o.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||E.closed&&E.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};T.prototype._get_tag_open_token=function(I){var E=new k(this._tag_stack.get_parser_token(),I);return E.alignment_size=this._options.wrap_attributes_indent_size,E.is_end_tag=E.is_end_tag||S(E.tag_check,this._options.void_elements),E.is_empty_element=E.tag_complete||E.is_start_tag&&E.is_end_tag,E.is_unformatted=!E.tag_complete&&S(E.tag_check,this._options.unformatted),E.is_content_unformatted=!E.is_empty_element&&S(E.tag_check,this._options.content_unformatted),E.is_inline_element=S(E.tag_name,this._options.inline)||E.tag_start_char==="{",E},T.prototype._set_tag_position=function(I,E,F,le,W){if(F.is_empty_element||(F.is_end_tag?F.start_tag_token=this._tag_stack.try_pop(F.tag_name):(this._do_optional_end_element(F)&&(F.is_inline_element||I.print_newline(!1)),this._tag_stack.record_tag(F),(F.tag_name==="script"||F.tag_name==="style")&&!(F.is_unformatted||F.is_content_unformatted)&&(F.custom_beautifier_name=w(F.tag_check,E)))),S(F.tag_check,this._options.extra_liners)&&(I.print_newline(!1),I._output.just_added_blankline()||I.print_newline(!0)),F.is_empty_element){if(F.tag_start_char==="{"&&F.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),F.indent_content=!0;var ae=I.current_line_has_match(/{{#if/);ae||I.print_newline(!1)}F.tag_name==="!--"&&W.type===o.TAG_CLOSE&&le.is_end_tag&&F.text.indexOf(`
`)===-1||(F.is_inline_element||F.is_unformatted||I.print_newline(!1),this._calcluate_parent_multiline(I,F))}else if(F.is_end_tag){var te=!1;te=F.start_tag_token&&F.start_tag_token.multiline_content,te=te||!F.is_inline_element&&!(le.is_inline_element||le.is_unformatted)&&!(W.type===o.TAG_CLOSE&&F.start_tag_token===le)&&W.type!=="TK_CONTENT",(F.is_content_unformatted||F.is_unformatted)&&(te=!1),te&&I.print_newline(!1)}else F.indent_content=!F.custom_beautifier_name,F.tag_start_char==="<"&&(F.tag_name==="html"?F.indent_content=this._options.indent_inner_html:F.tag_name==="head"?F.indent_content=this._options.indent_head_inner_html:F.tag_name==="body"&&(F.indent_content=this._options.indent_body_inner_html)),!(F.is_inline_element||F.is_unformatted)&&(W.type!=="TK_CONTENT"||F.is_content_unformatted)&&I.print_newline(!1),this._calcluate_parent_multiline(I,F)},T.prototype._calcluate_parent_multiline=function(I,E){E.parent&&I._output.just_added_newline()&&!((E.is_inline_element||E.is_unformatted)&&E.parent.is_inline_element)&&(E.parent.multiline_content=!0)};var P=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],$=["a","audio","del","ins","map","noscript","video"];return T.prototype._do_optional_end_element=function(I){var E=null;if(!(I.is_empty_element||!I.is_start_tag||!I.parent)){if(I.tag_name==="body")E=E||this._tag_stack.try_pop("head");else if(I.tag_name==="li")E=E||this._tag_stack.try_pop("li",["ol","ul"]);else if(I.tag_name==="dd"||I.tag_name==="dt")E=E||this._tag_stack.try_pop("dt",["dl"]),E=E||this._tag_stack.try_pop("dd",["dl"]);else if(I.parent.tag_name==="p"&&P.indexOf(I.tag_name)!==-1){var F=I.parent.parent;(!F||$.indexOf(F.tag_name)===-1)&&(E=E||this._tag_stack.try_pop("p"))}else I.tag_name==="rp"||I.tag_name==="rt"?(E=E||this._tag_stack.try_pop("rt",["ruby","rtc"]),E=E||this._tag_stack.try_pop("rp",["ruby","rtc"])):I.tag_name==="optgroup"?E=E||this._tag_stack.try_pop("optgroup",["select"]):I.tag_name==="option"?E=E||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):I.tag_name==="colgroup"?E=E||this._tag_stack.try_pop("caption",["table"]):I.tag_name==="thead"?(E=E||this._tag_stack.try_pop("caption",["table"]),E=E||this._tag_stack.try_pop("colgroup",["table"])):I.tag_name==="tbody"||I.tag_name==="tfoot"?(E=E||this._tag_stack.try_pop("caption",["table"]),E=E||this._tag_stack.try_pop("colgroup",["table"]),E=E||this._tag_stack.try_pop("thead",["table"]),E=E||this._tag_stack.try_pop("tbody",["table"])):I.tag_name==="tr"?(E=E||this._tag_stack.try_pop("caption",["table"]),E=E||this._tag_stack.try_pop("colgroup",["table"]),E=E||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(I.tag_name==="th"||I.tag_name==="td")&&(E=E||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),E=E||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return I.parent=this._tag_stack.get_parser_token(),E}},beautifier.Beautifier=T,beautifier}var hasRequiredHtml;function requireHtml(){if(hasRequiredHtml)return html.exports;hasRequiredHtml=1;var e=requireBeautifier().Beautifier,t=requireOptions().Options;function r(o,u,f,g){var _=new e(o,u,f,g);return _.beautify()}return html.exports=r,html.exports.defaultOptions=function(){return new t},html.exports}var hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;var e=requireJavascript(),t=requireCss(),r=requireHtml();function o(u,f,g,_){return g=g||e,_=_||t,r(u,f,g,_)}return o.defaultOptions=r.defaultOptions,src.js=e,src.css=t,src.html=o,src}(function(e){function t(r,o,u){var f=function(g,_){return r.js_beautify(g,_)};return f.js=r.js_beautify,f.css=o.css_beautify,f.html=u.html_beautify,f.js_beautify=r.js_beautify,f.css_beautify=o.css_beautify,f.html_beautify=u.html_beautify,f}(function(r){var o=requireSrc();o.js_beautify=o.js,o.css_beautify=o.css,o.html_beautify=o.html,r.exports=t(o,o,o)})(e)})(js);var jsExports=js.exports;let Editor$1=class extends EventEmitter$3{constructor(t){super(),console.log("*** Editor class created"),this.mutator=new Mutator(this);const r={};Object.entries(keymaps).forEach(([u,f])=>r[u]=()=>{f=="editor:evalBlock"?this.emit(f,this.getCurrentBlock().text):f=="editor:evalLine"?this.emit(f,this.getLine()):f=="editor:toggleComment"?(this.cm.toggleComment(),this.emit(f,this)):f==="editor:formatCode"?this.formatCode():this.emit(f,this)});const o={theme:"tomorrow-night-eighties",value:"hello",mode:{name:"javascript",globalVars:!0},lineWrapping:!0,styleSelectedText:!0,extraKeys:r};this.cm=CodeMirror.fromTextArea(t,o),window.cm=this.cm,this.cm.refresh()}clear(){this.cm.setValue(`
 
 // Type some code on a new line (such as "osc().out()"), and press CTRL+shift+enter`)}setValue(t){this.cm.setValue(t)}getValue(){return this.cm.getValue()}formatCode(){const t=jsExports.js_beautify(this.cm.getValue(),{indent_size:2,break_chained_methods:!0,indent_with_tabs:!0});this.cm.setValue(t)}toggle(){this.isShowing?this.hide():this.show()}getLine(){var t=this.cm.getCursor(),r=this.cm.getLine(t.line);return this.flashCode({line:t.line,ch:0},{line:t.line+1,ch:0}),r}flashCode(t,r){t||(t={line:this.cm.firstLine(),ch:0}),r||(r={line:this.cm.lastLine()+1,ch:0});var o=this.cm.markText(t,r,{className:"styled-background"});setTimeout(()=>o.clear(),300)}getCurrentBlock(){for(var t=this.cm,r=t.getCursor(),o=r.line,u=r.line;o>0&&t.getLine(o)!=="";)o--;for(;u<t.lineCount()&&t.getLine(u)!=="";)u++;var f={line:o,ch:0},g={line:u,ch:0},_=t.getRange(f,g);return this.flashCode(f,g),{start:f,end:g,text:_}}};class Editor extends Component{constructor(t,r,o){super(t),this.local=r.components[t]={},r.editor=this,this.emit=o}load(t){log$1.init(this.logElement),this.editor=new Editor$1(this.textEl),this.editor.on("*",(r,o)=>{this.emit(r,o)}),this.innerText=document.getElementsByClassName("CodeMirror")[0]}hide(){this.innerText.style.opacity=0}show(){this.innerText.style.opacity=1,this.innerText.style.pointerEvents="all"}update(t){return t.showInfo===!0||t.showUI===!1?this.hide():this.show(),!1}createElement({width:t=window.innerWidth,height:r=window.innerHeight}={}){return this.textEl=html$2` <textarea></textarea>`,this.logElement=html$2`<div class="console cm-s-tomorrow-night-eighties"></div>`,html$2`<div id="editor-container" style="display:flex;flex-direction:column;">
       <div style="position:relative;flex:auto;padding:15px">${this.textEl}</div>
       ${this.logElement}
       </div>`}}function mainView(e,t){return html$2`
  <body>
    <div id="hydra-ui">
      ${e.cache(Hydra,"hydra-canvas").render(e,t)}
      <!---<canvas id="audio-canvas">
      </canvas>--->
    </div>
  ${mainView$1(e,t)}
  ${e.cache(Editor,"editor").render(e,t)}
  </body>
 `}const app=choo$1();app.use(devtools());app.use(store$1);app.use(store);app.route("/",mainView);app.mount("body");const fontawesome="",codemirror="",tomorrowNightEighties="",showHint="",style="",modal="";
