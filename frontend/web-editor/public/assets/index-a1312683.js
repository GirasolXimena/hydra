import require$$0$1 from"globalThis/document";import require$$1 from"globalThis/window";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function r(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=r(u);fetch(u.href,f)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){if(this instanceof o){var u=[null];u.push.apply(u,arguments);var f=Function.bind.apply(t,u);return new f}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var u=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:function(){return e[o]}})}),r}var events$3={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(t,r,o){return Function.prototype.apply.call(t,r,o)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function(t){return t!==t};function EventEmitter$5(){EventEmitter$5.init.call(this)}events$3.exports=EventEmitter$5;events$3.exports.once=once$2;EventEmitter$5.EventEmitter=EventEmitter$5;EventEmitter$5.prototype._events=void 0;EventEmitter$5.prototype._eventsCount=0;EventEmitter$5.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter$5,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}});EventEmitter$5.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$5.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter$5.defaultMaxListeners:e._maxListeners}EventEmitter$5.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$5.prototype.emit=function(t){for(var r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);var u=t==="error",f=this._events;if(f!==void 0)u=u&&f.error===void 0;else if(!u)return!1;if(u){var g;if(r.length>0&&(g=r[0]),g instanceof Error)throw g;var b=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw b.context=g,b}var S=f[t];if(S===void 0)return!1;if(typeof S=="function")ReflectApply(S,this,r);else for(var T=S.length,$=arrayClone(S,T),o=0;o<T;++o)ReflectApply($[o],this,r);return!0};function _addListener(e,t,r,o){var u,f,g;if(checkListener(r),f=e._events,f===void 0?(f=e._events=Object.create(null),e._eventsCount=0):(f.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),f=e._events),g=f[t]),g===void 0)g=f[t]=r,++e._eventsCount;else if(typeof g=="function"?g=f[t]=o?[r,g]:[g,r]:o?g.unshift(r):g.push(r),u=_getMaxListeners(e),u>0&&g.length>u&&!g.warned){g.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+g.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=e,b.type=t,b.count=g.length,ProcessEmitWarning(b)}return e}EventEmitter$5.prototype.addListener=function(t,r){return _addListener(this,t,r,!1)};EventEmitter$5.prototype.on=EventEmitter$5.prototype.addListener;EventEmitter$5.prototype.prependListener=function(t,r){return _addListener(this,t,r,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},u=onceWrapper.bind(o);return u.listener=r,o.wrapFn=u,u}EventEmitter$5.prototype.once=function(t,r){return checkListener(r),this.on(t,_onceWrap(this,t,r)),this};EventEmitter$5.prototype.prependOnceListener=function(t,r){return checkListener(r),this.prependListener(t,_onceWrap(this,t,r)),this};EventEmitter$5.prototype.removeListener=function(t,r){var o,u,f,g,b;if(checkListener(r),u=this._events,u===void 0)return this;if(o=u[t],o===void 0)return this;if(o===r||o.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete u[t],u.removeListener&&this.emit("removeListener",t,o.listener||r));else if(typeof o!="function"){for(f=-1,g=o.length-1;g>=0;g--)if(o[g]===r||o[g].listener===r){b=o[g].listener,f=g;break}if(f<0)return this;f===0?o.shift():spliceOne(o,f),o.length===1&&(u[t]=o[0]),u.removeListener!==void 0&&this.emit("removeListener",t,b||r)}return this};EventEmitter$5.prototype.off=EventEmitter$5.prototype.removeListener;EventEmitter$5.prototype.removeAllListeners=function(t){var r,o,u;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[t]),this;if(arguments.length===0){var f=Object.keys(o),g;for(u=0;u<f.length;++u)g=f[u],g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=o[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(u=r.length-1;u>=0;u--)this.removeListener(t,r[u]);return this};function _listeners(e,t,r){var o=e._events;if(o===void 0)return[];var u=o[t];return u===void 0?[]:typeof u=="function"?r?[u.listener||u]:[u]:r?unwrapListeners(u):arrayClone(u,u.length)}EventEmitter$5.prototype.listeners=function(t){return _listeners(this,t,!0)};EventEmitter$5.prototype.rawListeners=function(t){return _listeners(this,t,!1)};EventEmitter$5.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)};EventEmitter$5.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}EventEmitter$5.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,t){for(var r=new Array(t),o=0;o<t;++o)r[o]=e[o];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once$2(e,t){return new Promise(function(r,o){function u(g){e.removeListener(t,f),o(g)}function f(){typeof e.removeListener=="function"&&e.removeListener("error",u),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,f,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(e,u,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,r){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,o){if(typeof e.on=="function")o.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function u(f){o.once&&e.removeEventListener(t,u),r(f)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var eventsExports=events$3.exports,prettierBytes_1=prettierBytes;function prettierBytes(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var o=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),r.length-1);e=Number(e/Math.pow(1e3,o));var u=r[o];return e>=10||e%1===0?(t?"-":"")+e.toFixed(0)+" "+u:(t?"-":"")+e.toFixed(1)+" "+u}var pretty=prettierBytes_1,storage_1=storage$1;function storage$1(){Object.defineProperty(window.choo,"storage",{get:e,set:noop$8});function e(){if(navigator.storage)return navigator.storage.estimate().then(function(r){var o=(r.usage/r.quota).toFixed();clr("Max storage:",fmt(r.quota)),clr("Storage used:",fmt(r.usage)+" ("+o+"%)"),navigator.storage.persisted().then(function(u){var f=u?"enabled":"disabled";clr("Persistent storage:",f)})}),"Calculating storage quota…";var t=window.location.protocol;return/https/.test(t)?"The Storage API is unavailable in this browser. We're sorry!":"The Storage API is unavailable. Serving this site over HTTPS might help enable it!"}}function clr(e,t){var r="#cc99cc";console.log("%c"+e,"color: "+r,t)}function fmt(e){return pretty(e).replace(" ","")}function noop$8(){}assert$m.notEqual=notEqual;assert$m.notOk=notOk;assert$m.equal=equal;assert$m.ok=assert$m;var nanoassert$1=assert$m;function equal(e,t,r){assert$m(e==t,r)}function notEqual(e,t,r){assert$m(e!=t,r)}function notOk(e,t){assert$m(!e,t)}function assert$m(e,t){if(!e)throw new Error(t||"AssertionError")}var assert$l=nanoassert$1,hasWindow=typeof window<"u";function createScheduler(){var e;return hasWindow?(window._nanoScheduler||(window._nanoScheduler=new NanoScheduler(!0)),e=window._nanoScheduler):e=new NanoScheduler,e}function NanoScheduler(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}NanoScheduler.prototype.push=function(e){assert$l.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()};NanoScheduler.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(var r;e.queue.length&&t.timeRemaining()>0;)r=e.queue.shift(),r(t);e.scheduled=!1,e.queue.length&&e.schedule()})}};NanoScheduler.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})};var nanoscheduler=createScheduler,assert$k={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var o=Object.getOwnPropertyNames(t).map(function(f){return t[f]});if(o.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(f){u[f]=f}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign$1=shouldUseNative()?Object.assign:function(e,t){for(var r,o=toObject(e),u,f=1;f<arguments.length;f++){r=Object(arguments[f]);for(var g in r)hasOwnProperty$1.call(r,g)&&(o[g]=r[g]);if(getOwnPropertySymbols){u=getOwnPropertySymbols(r);for(var b=0;b<u.length;b++)propIsEnumerable.call(r,u[b])&&(o[u[b]]=r[u[b]])}}return o},util$1={},isBufferBrowser=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser$1.exports=function(t,r){t.super_=r;var o=function(){};o.prototype=r.prototype,t.prototype=new o,t.prototype.constructor=t};var inherits_browserExports$1=inherits_browser$1.exports;(function(e){var t=/%[sdj%]/g;e.format=function(G){if(!Me(G)){for(var H=[],ve=0;ve<arguments.length;ve++)H.push(u(arguments[ve]));return H.join(" ")}for(var ve=1,Ue=arguments,qe=Ue.length,ut=String(G).replace(t,function(wt){if(wt==="%%")return"%";if(ve>=qe)return wt;switch(wt){case"%s":return String(Ue[ve++]);case"%d":return Number(Ue[ve++]);case"%j":try{return JSON.stringify(Ue[ve++])}catch{return"[Circular]"}default:return wt}}),gt=Ue[ve];ve<qe;gt=Ue[++ve])F(gt)||!Ce(gt)?ut+=" "+gt:ut+=" "+u(gt);return ut},e.deprecate=function(G,H){if(de(globalThis.process))return function(){return e.deprecate(G,H).apply(this,arguments)};if(process.noDeprecation===!0)return G;var ve=!1;function Ue(){if(!ve){if(process.throwDeprecation)throw new Error(H);process.traceDeprecation?console.trace(H):console.error(H),ve=!0}return G.apply(this,arguments)}return Ue};var r={},o;e.debuglog=function(G){if(de(o)&&(o={}.NODE_DEBUG||""),G=G.toUpperCase(),!r[G])if(new RegExp("\\b"+G+"\\b","i").test(o)){var H=process.pid;r[G]=function(){var ve=e.format.apply(e,arguments);console.error("%s %d: %s",G,H,ve)}}else r[G]=function(){};return r[G]};function u(G,H){var ve={seen:[],stylize:g};return arguments.length>=3&&(ve.depth=arguments[2]),arguments.length>=4&&(ve.colors=arguments[3]),U(H)?ve.showHidden=H:H&&e._extend(ve,H),de(ve.showHidden)&&(ve.showHidden=!1),de(ve.depth)&&(ve.depth=2),de(ve.colors)&&(ve.colors=!1),de(ve.customInspect)&&(ve.customInspect=!0),ve.colors&&(ve.stylize=f),S(ve,G,ve.depth)}e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(G,H){var ve=u.styles[H];return ve?"\x1B["+u.colors[ve][0]+"m"+G+"\x1B["+u.colors[ve][1]+"m":G}function g(G,H){return G}function b(G){var H={};return G.forEach(function(ve,Ue){H[ve]=!0}),H}function S(G,H,ve){if(G.customInspect&&H&&Ve(H.inspect)&&H.inspect!==e.inspect&&!(H.constructor&&H.constructor.prototype===H)){var Ue=H.inspect(ve,G);return Me(Ue)||(Ue=S(G,Ue,ve)),Ue}var qe=T(G,H);if(qe)return qe;var ut=Object.keys(H),gt=b(ut);if(G.showHidden&&(ut=Object.getOwnPropertyNames(H)),et(H)&&(ut.indexOf("message")>=0||ut.indexOf("description")>=0))return $(H);if(ut.length===0){if(Ve(H)){var wt=H.name?": "+H.name:"";return G.stylize("[Function"+wt+"]","special")}if(xe(H))return G.stylize(RegExp.prototype.toString.call(H),"regexp");if(De(H))return G.stylize(Date.prototype.toString.call(H),"date");if(et(H))return $(H)}var Ct="",er=!1,Ut=["{","}"];if(D(H)&&(er=!0,Ut=["[","]"]),Ve(H)){var _r=H.name?": "+H.name:"";Ct=" [Function"+_r+"]"}if(xe(H)&&(Ct=" "+RegExp.prototype.toString.call(H)),De(H)&&(Ct=" "+Date.prototype.toUTCString.call(H)),et(H)&&(Ct=" "+$(H)),ut.length===0&&(!er||H.length==0))return Ut[0]+Ct+Ut[1];if(ve<0)return xe(H)?G.stylize(RegExp.prototype.toString.call(H),"regexp"):G.stylize("[Object]","special");G.seen.push(H);var pr;return er?pr=A(G,H,ve,gt,ut):pr=ut.map(function(Mr){return M(G,H,ve,gt,Mr,er)}),G.seen.pop(),O(pr,Ct,Ut)}function T(G,H){if(de(H))return G.stylize("undefined","undefined");if(Me(H)){var ve="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(ve,"string")}if(oe(H))return G.stylize(""+H,"number");if(U(H))return G.stylize(""+H,"boolean");if(F(H))return G.stylize("null","null")}function $(G){return"["+Error.prototype.toString.call(G)+"]"}function A(G,H,ve,Ue,qe){for(var ut=[],gt=0,wt=H.length;gt<wt;++gt)Q(H,String(gt))?ut.push(M(G,H,ve,Ue,String(gt),!0)):ut.push("");return qe.forEach(function(Ct){Ct.match(/^\d+$/)||ut.push(M(G,H,ve,Ue,Ct,!0))}),ut}function M(G,H,ve,Ue,qe,ut){var gt,wt,Ct;if(Ct=Object.getOwnPropertyDescriptor(H,qe)||{value:H[qe]},Ct.get?Ct.set?wt=G.stylize("[Getter/Setter]","special"):wt=G.stylize("[Getter]","special"):Ct.set&&(wt=G.stylize("[Setter]","special")),Q(Ue,qe)||(gt="["+qe+"]"),wt||(G.seen.indexOf(Ct.value)<0?(F(ve)?wt=S(G,Ct.value,null):wt=S(G,Ct.value,ve-1),wt.indexOf(`
`)>-1&&(ut?wt=wt.split(`
`).map(function(er){return"  "+er}).join(`
`).substr(2):wt=`
`+wt.split(`
`).map(function(er){return"   "+er}).join(`
`))):wt=G.stylize("[Circular]","special")),de(gt)){if(ut&&qe.match(/^\d+$/))return wt;gt=JSON.stringify(""+qe),gt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(gt=gt.substr(1,gt.length-2),gt=G.stylize(gt,"name")):(gt=gt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),gt=G.stylize(gt,"string"))}return gt+": "+wt}function O(G,H,ve){var Ue=G.reduce(function(qe,ut){return ut.indexOf(`
`)>=0,qe+ut.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ue>60?ve[0]+(H===""?"":H+`
 `)+" "+G.join(`,
  `)+" "+ve[1]:ve[0]+H+" "+G.join(", ")+" "+ve[1]}function D(G){return Array.isArray(G)}e.isArray=D;function U(G){return typeof G=="boolean"}e.isBoolean=U;function F(G){return G===null}e.isNull=F;function P(G){return G==null}e.isNullOrUndefined=P;function oe(G){return typeof G=="number"}e.isNumber=oe;function Me(G){return typeof G=="string"}e.isString=Me;function he(G){return typeof G=="symbol"}e.isSymbol=he;function de(G){return G===void 0}e.isUndefined=de;function xe(G){return Ce(G)&&se(G)==="[object RegExp]"}e.isRegExp=xe;function Ce(G){return typeof G=="object"&&G!==null}e.isObject=Ce;function De(G){return Ce(G)&&se(G)==="[object Date]"}e.isDate=De;function et(G){return Ce(G)&&(se(G)==="[object Error]"||G instanceof Error)}e.isError=et;function Ve(G){return typeof G=="function"}e.isFunction=Ve;function Ze(G){return G===null||typeof G=="boolean"||typeof G=="number"||typeof G=="string"||typeof G=="symbol"||typeof G>"u"}e.isPrimitive=Ze,e.isBuffer=isBufferBrowser;function se(G){return Object.prototype.toString.call(G)}function me(G){return G<10?"0"+G.toString(10):G.toString(10)}var Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y(){var G=new Date,H=[me(G.getHours()),me(G.getMinutes()),me(G.getSeconds())].join(":");return[G.getDate(),Se[G.getMonth()],H].join(" ")}e.log=function(){console.log("%s - %s",Y(),e.format.apply(e,arguments))},e.inherits=inherits_browserExports$1,e._extend=function(G,H){if(!H||!Ce(H))return G;for(var ve=Object.keys(H),Ue=ve.length;Ue--;)G[ve[Ue]]=H[ve[Ue]];return G};function Q(G,H){return Object.prototype.hasOwnProperty.call(G,H)}})(util$1);var objectAssign=objectAssign$1;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare(e,t){if(e===t)return 0;for(var r=e.length,o=t.length,u=0,f=Math.min(r,o);u<f;++u)if(e[u]!==t[u]){r=e[u],o=t[u];break}return r<o?-1:o<r?1:0}function isBuffer$2(e){return globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function"?globalThis.Buffer.isBuffer(e):!!(e!=null&&e._isBuffer)}var util=util$1,hasOwn$4=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return function(){}.name==="foo"}();function pToString(e){return Object.prototype.toString.call(e)}function isView$1(e){return isBuffer$2(e)||typeof globalThis.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e?!!(e instanceof DataView||e.buffer&&e.buffer instanceof ArrayBuffer):!1}var assert$j=assert$k.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;function getName(e){if(util.isFunction(e)){if(functionsHaveNames)return e.name;var t=e.toString(),r=t.match(regex);return r&&r[1]}}assert$j.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var r=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var o=new Error;if(o.stack){var u=o.stack,f=getName(r),g=u.indexOf(`
`+f);if(g>=0){var b=u.indexOf(`
`,g+1);u=u.substring(b+1)}this.stack=u}}};util.inherits(assert$j.AssertionError,Error);function truncate(e,t){return typeof e=="string"?e.length<t?e:e.slice(0,t):e}function inspect$2(e){if(functionsHaveNames||!util.isFunction(e))return util.inspect(e);var t=getName(e),r=t?": "+t:"";return"[Function"+r+"]"}function getMessage(e){return truncate(inspect$2(e.actual),128)+" "+e.operator+" "+truncate(inspect$2(e.expected),128)}function fail(e,t,r,o,u){throw new assert$j.AssertionError({message:r,actual:e,expected:t,operator:o,stackStartFunction:u})}assert$j.fail=fail;function ok(e,t){e||fail(e,!0,t,"==",assert$j.ok)}assert$j.ok=ok;assert$j.equal=function(t,r,o){t!=r&&fail(t,r,o,"==",assert$j.equal)};assert$j.notEqual=function(t,r,o){t==r&&fail(t,r,o,"!=",assert$j.notEqual)};assert$j.deepEqual=function(t,r,o){_deepEqual(t,r,!1)||fail(t,r,o,"deepEqual",assert$j.deepEqual)};assert$j.deepStrictEqual=function(t,r,o){_deepEqual(t,r,!0)||fail(t,r,o,"deepStrictEqual",assert$j.deepStrictEqual)};function _deepEqual(e,t,r,o){if(e===t)return!0;if(isBuffer$2(e)&&isBuffer$2(t))return compare(e,t)===0;if(util.isDate(e)&&util.isDate(t))return e.getTime()===t.getTime();if(util.isRegExp(e)&&util.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if((e===null||typeof e!="object")&&(t===null||typeof t!="object"))return r?e===t:e==t;if(isView$1(e)&&isView$1(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer))===0;if(isBuffer$2(e)!==isBuffer$2(t))return!1;o=o||{actual:[],expected:[]};var u=o.actual.indexOf(e);return u!==-1&&u===o.expected.indexOf(t)?!0:(o.actual.push(e),o.expected.push(t),objEquiv(e,t,r,o))}function isArguments(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function objEquiv(e,t,r,o){if(e==null||t===null||t===void 0)return!1;if(util.isPrimitive(e)||util.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var u=isArguments(e),f=isArguments(t);if(u&&!f||!u&&f)return!1;if(u)return e=pSlice.call(e),t=pSlice.call(t),_deepEqual(e,t,r);var g=objectKeys$1(e),b=objectKeys$1(t),S,T;if(g.length!==b.length)return!1;for(g.sort(),b.sort(),T=g.length-1;T>=0;T--)if(g[T]!==b[T])return!1;for(T=g.length-1;T>=0;T--)if(S=g[T],!_deepEqual(e[S],t[S],r,o))return!1;return!0}assert$j.notDeepEqual=function(t,r,o){_deepEqual(t,r,!1)&&fail(t,r,o,"notDeepEqual",assert$j.notDeepEqual)};assert$j.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(e,t,r){_deepEqual(e,t,!0)&&fail(e,t,r,"notDeepStrictEqual",notDeepStrictEqual)}assert$j.strictEqual=function(t,r,o){t!==r&&fail(t,r,o,"===",assert$j.strictEqual)};assert$j.notStrictEqual=function(t,r,o){t===r&&fail(t,r,o,"!==",assert$j.notStrictEqual)};function expectedException(e,t){if(!e||!t)return!1;if(Object.prototype.toString.call(t)=="[object RegExp]")return t.test(e);try{if(e instanceof t)return!0}catch{}return Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function _tryBlock(e){var t;try{e()}catch(r){t=r}return t}function _throws(e,t,r,o){var u;if(typeof t!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(o=r,r=null),u=_tryBlock(t),o=(r&&r.name?" ("+r.name+").":".")+(o?" "+o:"."),e&&!u&&fail(u,r,"Missing expected exception"+o);var f=typeof o=="string",g=!e&&util.isError(u),b=!e&&u&&!r;if((g&&f&&expectedException(u,r)||b)&&fail(u,r,"Got unwanted exception"+o),e&&u&&r&&!expectedException(u,r)||!e&&u)throw u}assert$j.throws=function(e,t,r){_throws(!0,e,t,r)};assert$j.doesNotThrow=function(e,t,r){_throws(!1,e,t,r)};assert$j.ifError=function(e){if(e)throw e};function strict(e,t){e||fail(e,!0,t,"==",strict)}assert$j.strict=objectAssign(strict,assert$j,{equal:assert$j.strictEqual,deepEqual:assert$j.deepStrictEqual,notEqual:assert$j.notStrictEqual,notDeepEqual:assert$j.notDeepStrictEqual});assert$j.strict.strict=assert$j.strict;var objectKeys$1=Object.keys||function(e){var t=[];for(var r in e)hasOwn$4.call(e,r)&&t.push(r);return t},assertExports=assert$k.exports,assert$i=assertExports,emojis={trace:"🔍",debug:"🐛",info:"✨",warn:"⚠️",error:"🚨",fatal:"💀"},levels={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},defaultColors={foreground:"#d3c0c8",background:"#2d2d2d",black:"#2d2d2d",red:"#f2777a",green:"#99cc99",yellow:"#ffcc66",blue:"#6699cc",magenta:"#cc99cc",cyan:"#66cccc",white:"#d3d0c8",brightBlack:"#747369"},nanologger$3=Nanologger;function Nanologger(e,t){if(t=t||{},!(this instanceof Nanologger))return new Nanologger(e,t);assert$i.equal(typeof t,"object","nanologger: opts should be type object"),this._name=e||"",this._colors=Object.assign({},defaultColors,t.colors||{});try{this.logLevel=window.localStorage.getItem("logLevel")||"info"}catch{this.logLevel="info"}this._logLevel=levels[this.logLevel]}Nanologger.prototype.trace=function(){for(var e=["trace"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.debug=function(){for(var e=["debug"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.info=function(){for(var e=["info"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.warn=function(){for(var e=["warn"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.error=function(){for(var e=["error"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype.fatal=function(){for(var e=["fatal"],t=0,r=arguments.length;t<r;t++)e.push(arguments[t]);this._print.apply(this,e)};Nanologger.prototype._print=function(e){if(!(levels[e]<this._logLevel)){var t=getTimeStamp(),r=emojis[e],o=this._name||"unknown",u=e==="error"||e.fatal?this._colors.red:e==="warn"?this._colors.yellow:this._colors.green,f=[],g=[null],b="%c%s "+r+" %c%s";g.push(color(this._colors.brightBlack),t),g.push(color(this._colors.magenta),o);for(var S=1,T=arguments.length;S<T;S++){var $=arguments[S];typeof $=="string"?S===1?(b+=" %c%s",g.push(color(u)),g.push($)):/ms$/.test($)?(b+=" %c%s",g.push(color(this._colors.brightBlack)),g.push($)):(b+=" %c%s",g.push(color(this._colors.white)),g.push($)):typeof $=="number"?(b+=" %c%d",g.push(color(this._colors.magenta)),g.push($)):f.push($)}g[0]=b,f.forEach(function(A){g.push(A)}),Function.prototype.apply.apply(console.log,[console,g])}};function color(e){return"color: "+e+";"}function getTimeStamp(){var e=new Date,t=pad(e.getHours().toString()),r=pad(e.getMinutes().toString()),o=pad(e.getSeconds().toString());return t+":"+r+":"+o}function pad(e){return e.length!==2?0+e:e}var scheduler$4=nanoscheduler(),assert$h=nanoassert$1,entryTypes=["frame","measure","navigation","resource","longtask"],browser$b=onPerformance$2;function onPerformance$2(e){assert$h.equal(typeof e,"function","on-performance: cb should be type function");var t=typeof window<"u"&&window.PerformanceObserver;if(!t)return;if(window._onperformance)return window._onperformance.push(e),o;window._onperformance=[e];var r=new t(u);return setTimeout(function(){u(window.performance),r.observe({entryTypes})},0),o;function o(){window._onperformance.splice(window._onperformance.indexOf(e),1)}function u(g){g.getEntries().forEach(function(b){scheduler$4.push(function(){f(b),window._onperformance.forEach(function(S){S(b)})})})}function f(g){var b=g.entryType;b==="measure"?window.performance.clearMeasures(g.name):b==="resource"&&window.performance.clearResourceTimings()}}var onPerformance$1=browser$b,scheduler$3=nanoscheduler(),assert$g=assertExports,chooHooks=ChooHooks;function ChooHooks(e){if(!(this instanceof ChooHooks))return new ChooHooks(e);assert$g.equal(typeof e,"object"),this.hasWindow=typeof window<"u",this.hasIdleCallback=this.hasWindow&&window.requestIdleCallback,this.hasPerformance=this.hasWindow&&window.performance&&window.performance.getEntriesByName,this.emitter=e,this.listeners={},this.buffer={render:{},events:{}}}ChooHooks.prototype.on=function(e,t){this.listeners[e]=t};ChooHooks.prototype.start=function(){var e=this;this.hasPerformance&&(window.performance.onresourcetimingbufferfull=function(){var t=e.listeners["resource-timing-buffer-full"];t&&t()}),onPerformance$1(function(t){if(t&&t.entryType==="measure"){var r=t.name;if(/choo\.morph/.test(r))e.buffer.render.morph=t;else if(/choo\.route/.test(r))e.buffer.render.route=t;else if(/choo\.render/.test(r))e.buffer.render.render=t;else if(/choo\.emit/.test(r)&&!/log:/.test(r)){var o=e.listeners.event;if(o){var u=r.match(/choo\.emit\('(.*)'\)/)[1];if(u==="render"||u==="DOMContentLoaded")return;var f=r.match(/\[(\d+)\]/)[1],g=e.buffer.events[f];e.buffer.events[f]=null,o(u,g,t)}}var b=e.buffer.render;if(b.render&&b.route&&b.morph){var S=e.listeners.render;if(!S)return;for(var T={};e.buffer.render.length;){var $=e.buffer.render.pop(),A=$.name;/choo\.render/.test(A)?T.render=$:/choo\.morph/.test(A)?T.morph=$:T.route=$}b.render=b.route=b.morph=void 0,S(T)}}}),this.emitter.on("*",function(t,r,o){var u=/^log:(\w{4,5})/.exec(t);if(!e.hasPerformance&&t==="render"){var f=e.listeners.render;f&&f()}else if(t==="DOMContentLoaded")e._emitLoaded();else if(u){u=u[1];var g=e.listeners["log:"+u];g&&g.apply(null,Array.prototype.slice.call(arguments,0,arguments.length-1))}else if(e.emitter.listeners(t).length)t!=="render"&&e.hasPerformance&&(e.buffer.events[o]=r);else{var b=e.listeners.unhandled;b&&b(t,r)}})};ChooHooks.prototype._emitLoaded=function(){var e=this;scheduler$3.push(function(){var r=e.listeners.DOMContentLoaded,o=e.hasWindow&&window.performance&&window.performance.timing;r&&o&&r({interactive:o.domInteractive-o.navigationStart,loaded:o.domContentLoadedEventEnd-o.navigationStart})})};var scheduler$2=nanoscheduler(),nanologger$2=nanologger$3,Hooks=chooHooks,logger_1=logger$1;function logger$1(e,t,r){var o=!0,u=Hooks(t),f=nanologger$2("choo");u.on("log:debug",g("debug")),u.on("log:info",g("info")),u.on("log:warn",g("warn")),u.on("log:error",g("error")),u.on("log:fatal",g("fatal")),u.on("event",function(b,S,T){if(!(r.filter&&!r.filter(b,S,T)))if(T){var $=T.duration.toFixed(),A=$<50?"info":"warn";S!==void 0?g(A)(b,S,$+"ms"):g(A)(b,$+"ms")}else S!==void 0?g("info")(b,S):g("info")(b)}),u.on("unhandled",function(b,S){g("error")("No listeners for "+b)}),u.on("DOMContentLoaded",function(b){if(!b)return g("info")("DOMContentLoaded");var S=b.interactive<1e3?"info":"warn";g(S)("DOMContentLoaded",b.interactive+"ms to interactive")}),u.on("render",function(b){if(!b||!b.render)return g("info")("render");var S=b.render.duration.toFixed(),T="render";o&&(o=!1,T="initial "+T);var $=Math.min((600/S).toFixed(),60);if($===60)g("info")(T,$+"fps",S+"ms");else{var A={render:b.render.duration.toFixed()+"ms"};b.morph&&(A.morph=b.morph.duration.toFixed()+"ms"),g("warn")(T,$+"fps",S+"ms",A)}}),u.on("resource-timing-buffer-full",function(){g("error")("The browser's Resource Resource timing buffer is full. Cannot store any more timing information")}),u.start();function g(b){return function(){for(var S=[],T=0,$=arguments.length;T<$;T++)S.push(arguments[T]);scheduler$2.push(function(){f[b].apply(f,S)})}}}var assert$f=assertExports,objectChangeCallsite_1=objectChangeCallsite;function objectChangeCallsite(e,t){return assert$f.equal(typeof e,"object","object-change-callsite: target should be type object"),assert$f.equal(typeof t,"function","object-change-callsite: callback should be type function"),new Proxy(e,{set:function(r,o,u){var f=new Error,g=strip(f.stack);return t(o,u,g),r[o]=u,!0},deleteProperty:function(r,o){var u=new Error,f=strip(u.stack);return t(o,void 0,f),o in r?(delete r[o],!0):!1}})}function strip(e){var t=e.split(`
`);return t=t.length>2?t.slice(2):t,t[0]=t[0].replace(/^ {4}at /,""),`
`+t.join(`
`)}var onChange=objectChangeCallsite_1,nanologger$1=nanologger$3,assert$e=assertExports,enabledMessage="Debugging enabled. To disable run: `choo.debug = false`",disabledMessage="Debugging disabled. We hope it was helpful! 🙌",debug_1=debug$c;function debug$c(e,t,r,o){var u=nanologger$1("choo-devtools"),f=window.localStorage.logLevel==="debug";f&&u.info(enabledMessage),e=onChange(e,function(g,b,S){f&&(S=S.split(`
`)[1].replace(/^ +/,""),u.info("state."+g,b,`
`+S))}),r.state=e,Object.defineProperty(window.choo,"debug",{get:function(){return window.localStorage.logLevel="debug",o.emit("debug",!0),f=!0,enabledMessage},set:function(g){assert$e.equal(typeof g,"boolean","choo-devtools.debug: bool should be type boolean"),window.localStorage.logLevel=g?"debug":"info",f=g,o.emit("debug",f),f?u.info(enabledMessage):u.info(disabledMessage)}})}var fastSafeStringify$1=stringify$3;stringify$3.default=stringify$3;stringify$3.stable=deterministicStringify;stringify$3.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr$1=[],replacerStack=[];function defaultOptions$1(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$3(e,t,r,o){typeof o>"u"&&(o=defaultOptions$1()),decirc(e,"",0,[],void 0,0,o);var u;try{replacerStack.length===0?u=JSON.stringify(e,t,r):u=JSON.stringify(e,replaceGetterValues(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr$1.length!==0;){var f=arr$1.pop();f.length===4?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return u}function setReplace(e,t,r,o){var u=Object.getOwnPropertyDescriptor(o,r);u.get!==void 0?u.configurable?(Object.defineProperty(o,r,{value:e}),arr$1.push([o,r,t,u])):replacerStack.push([t,r,e]):(o[r]=e,arr$1.push([o,r,t]))}function decirc(e,t,r,o,u,f,g){f+=1;var b;if(typeof e=="object"&&e!==null){for(b=0;b<o.length;b++)if(o[b]===e){setReplace(CIRCULAR_REPLACE_NODE,e,t,u);return}if(typeof g.depthLimit<"u"&&f>g.depthLimit){setReplace(LIMIT_REPLACE_NODE,e,t,u);return}if(typeof g.edgesLimit<"u"&&r+1>g.edgesLimit){setReplace(LIMIT_REPLACE_NODE,e,t,u);return}if(o.push(e),Array.isArray(e))for(b=0;b<e.length;b++)decirc(e[b],b,b,o,e,f,g);else{var S=Object.keys(e);for(b=0;b<S.length;b++){var T=S[b];decirc(e[T],T,b,o,e,f,g)}}o.pop()}}function compareFunction(e,t){return e<t?-1:e>t?1:0}function deterministicStringify(e,t,r,o){typeof o>"u"&&(o=defaultOptions$1());var u=deterministicDecirc(e,"",0,[],void 0,0,o)||e,f;try{replacerStack.length===0?f=JSON.stringify(u,t,r):f=JSON.stringify(u,replaceGetterValues(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr$1.length!==0;){var g=arr$1.pop();g.length===4?Object.defineProperty(g[0],g[1],g[3]):g[0][g[1]]=g[2]}}return f}function deterministicDecirc(e,t,r,o,u,f,g){f+=1;var b;if(typeof e=="object"&&e!==null){for(b=0;b<o.length;b++)if(o[b]===e){setReplace(CIRCULAR_REPLACE_NODE,e,t,u);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof g.depthLimit<"u"&&f>g.depthLimit){setReplace(LIMIT_REPLACE_NODE,e,t,u);return}if(typeof g.edgesLimit<"u"&&r+1>g.edgesLimit){setReplace(LIMIT_REPLACE_NODE,e,t,u);return}if(o.push(e),Array.isArray(e))for(b=0;b<e.length;b++)deterministicDecirc(e[b],b,b,o,e,f,g);else{var S={},T=Object.keys(e).sort(compareFunction);for(b=0;b<T.length;b++){var $=T[b];deterministicDecirc(e[$],$,b,o,e,f,g),S[$]=e[$]}if(typeof u<"u")arr$1.push([u,t,e]),u[t]=S;else return S}o.pop()}}function replaceGetterValues(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(replacerStack.length>0)for(var o=0;o<replacerStack.length;o++){var u=replacerStack[o];if(u[1]===t&&u[0]===r){r=u[2],replacerStack.splice(o,1);break}}return e.call(this,t,r)}}/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var clipboardCopy_1=clipboardCopy;function clipboardCopy(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch(function(f){throw f!==void 0?f:new DOMException("The request is not allowed","NotAllowedError")});var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);var r=window.getSelection(),o=window.document.createRange();r.removeAllRanges(),o.selectNode(t),r.addRange(o);var u=!1;try{u=window.document.execCommand("copy")}catch(f){console.log("error",f)}return r.removeAllRanges(),window.document.body.removeChild(t),u?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}var fastSafeStringify=fastSafeStringify$1,copy$3=clipboardCopy_1;function tryStringify(e){try{return JSON.stringify(e)}catch{}}function stateCopy$1(e){var t=tryStringify(e)||fastSafeStringify(e);copy$3(t)}var stateCopy_1=stateCopy$1,plucker_1=plucker;function plucker(e,t){return arguments.length>=2?pluck$1(e)(t):pluck$1(e)}function pluck$1(e){if(e=typeof e=="string"?String(e).trim().split("."):e,e.length<2)return e=e[0],r;var t=e.length;return o;function r(u){return u[e]}function o(u){for(var f=0;f<t&&!(typeof u>"u");f++)u=u[e[f]];return u}}var stateCopy=stateCopy_1,pluck=plucker_1,copy_1=copy$2;function copy$2(e){var t=e&&typeof e=="string",r=t&&arguments.length===1&&e.indexOf("state.")===0;(!e||typeof e=="function")&&(e=window.choo.state),r&&[].push.call(arguments,{state:window.choo.state}),stateCopy(t?pluck.apply(this,arguments):e)}var help_1=help$1;function help$1(){Object.defineProperty(window.choo,"help",{get:e,set:noop$7});function e(){return setTimeout(function(){print("copy","Serialize the current state to the clipboard."),print("debug","Enable Choo debug mode."),print("emit","Emit an event in the Choo emitter."),print("help","Print usage information."),print("log","Print the last 150 events emitted."),print("on","Listen for an event in the Choo emitter."),print("once","Listen for an event once in the Choo emitter."),print("perf","Print out performance metrics"),print("state","Print the Choo state object."),print("storage","Print browser storage information.")},0),"Choo command overview"}}function print(e,t){var r="#cc99cc";console.log("  %cchoo."+e,"color: "+r,"— "+t)}function noop$7(){}var onPerformance=browser$b,BAR="█",perf_1=perf$2;function perf$2(e,t,r,o){var u={};window.choo.perf={};var f=new Perf(u,"all");Object.defineProperty(window.choo.perf,"all",{get:f.get.bind(f),set:noop$6});var g=new Perf(u,"core",function(T){return/^choo/.test(T)});Object.defineProperty(window.choo.perf,"core",{get:g.get.bind(g),set:noop$6});var b=new Perf(u,"components",function(T){return!/^choo/.test(T)&&!/^bankai/.test(T)});Object.defineProperty(window.choo.perf,"components",{get:b.get.bind(b),set:noop$6});var S=new Perf(u,"events",function(T){return/^choo\.emit/.test(T)},function(T){return T.replace(/^choo\.emit\('/,"").replace(/'\)$/,"")});Object.defineProperty(window.choo.perf,"events",{get:S.get.bind(S),set:noop$6}),onPerformance(function(T){if(T.entryType==="measure"){var $=T.name.replace(/ .*$/,"");u[$]||(u[$]={name:$,count:0,entries:[]});var A=u[$];A.count+=1,A.entries.push(T.duration)}})}function Perf(e,t,r,o){this.stats=e,this.name=t,this.filter=r||function(){return!0},this.rename=o||function(u){return u}}Perf.prototype.get=function(){var e=Object.keys(this.stats).filter(this.filter),t=this,r=0,o=0,u=e.map(function(S){var T=t.stats[S],$=Number(T.entries.reduce(function(O,D){return O+D},0).toFixed(2));$>r&&(r=$);var A=getMedian(T.entries);A>o&&(o=A);var M=t.rename(T.name);return new PerfEntry(M,$,A,T.count)}),f=10;u.forEach(function(S){var T=S["Total Time (ms)"],$=S["Median (ms)"];S[" "]=g(T/r*100/f),S["  "]=g($/o*100/f)});function g(S){for(var T="",$=0,A=Math.round(S);$<A;$++)T+=BAR;return T}var b=u.sort(function(S,T){return T["Total Time (ms)"]-S["Total Time (ms)"]});return console.table(b),"Showing performance events for '"+this.name+"'"};function PerfEntry(e,t,r,o){this.Name=e,this["Total Time (ms)"]=t,this[" "]=0,this["Median (ms)"]=r,this["  "]=0,this["Total Count"]=o}function getMedian(e){if(!e.length)return 0;var t=e.slice(0).sort(function(f,g){return f-g}),r=Math.floor(t.length/2),o=t.length%2===0,u=o?(t[r]+t[r-1])/2:t[r];return Number(u.toFixed(2))}function noop$6(){}function removeItems$1(e,t,r){var o,u=e.length;if(!(t>=u||r<=0||t<0)){r=t+r>u?u-t:r;var f=u-r;for(o=t;o<f;++o)e[o]=e[o+r];e.length=f}}const removeArrayItems_esm=Object.freeze(Object.defineProperty({__proto__:null,default:removeItems$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(removeArrayItems_esm);var clone$2={exports:{}};(function(e){var t=function(){function r(M,O){return O!=null&&M instanceof O}var o;try{o=Map}catch{o=function(){}}var u;try{u=Set}catch{u=function(){}}var f;try{f=Promise}catch{f=function(){}}function g(M,O,D,U,F){typeof O=="object"&&(D=O.depth,U=O.prototype,F=O.includeNonEnumerable,O=O.circular);var P=[],oe=[],Me=typeof Buffer<"u";typeof O>"u"&&(O=!0),typeof D>"u"&&(D=1/0);function he(de,xe){if(de===null)return null;if(xe===0)return de;var Ce,De;if(typeof de!="object")return de;if(r(de,o))Ce=new o;else if(r(de,u))Ce=new u;else if(r(de,f))Ce=new f(function(G,H){de.then(function(ve){G(he(ve,xe-1))},function(ve){H(he(ve,xe-1))})});else if(g.__isArray(de))Ce=[];else if(g.__isRegExp(de))Ce=new RegExp(de.source,A(de)),de.lastIndex&&(Ce.lastIndex=de.lastIndex);else if(g.__isDate(de))Ce=new Date(de.getTime());else{if(Me&&Buffer.isBuffer(de))return Buffer.allocUnsafe?Ce=Buffer.allocUnsafe(de.length):Ce=new Buffer(de.length),de.copy(Ce),Ce;r(de,Error)?Ce=Object.create(de):typeof U>"u"?(De=Object.getPrototypeOf(de),Ce=Object.create(De)):(Ce=Object.create(U),De=U)}if(O){var et=P.indexOf(de);if(et!=-1)return oe[et];P.push(de),oe.push(Ce)}r(de,o)&&de.forEach(function(G,H){var ve=he(H,xe-1),Ue=he(G,xe-1);Ce.set(ve,Ue)}),r(de,u)&&de.forEach(function(G){var H=he(G,xe-1);Ce.add(H)});for(var Ve in de){var Ze;De&&(Ze=Object.getOwnPropertyDescriptor(De,Ve)),!(Ze&&Ze.set==null)&&(Ce[Ve]=he(de[Ve],xe-1))}if(Object.getOwnPropertySymbols)for(var se=Object.getOwnPropertySymbols(de),Ve=0;Ve<se.length;Ve++){var me=se[Ve],Se=Object.getOwnPropertyDescriptor(de,me);Se&&!Se.enumerable&&!F||(Ce[me]=he(de[me],xe-1),Se.enumerable||Object.defineProperty(Ce,me,{enumerable:!1}))}if(F)for(var Y=Object.getOwnPropertyNames(de),Ve=0;Ve<Y.length;Ve++){var Q=Y[Ve],Se=Object.getOwnPropertyDescriptor(de,Q);Se&&Se.enumerable||(Ce[Q]=he(de[Q],xe-1),Object.defineProperty(Ce,Q,{enumerable:!1}))}return Ce}return he(M,D)}g.clonePrototype=function(O){if(O===null)return null;var D=function(){};return D.prototype=O,new D};function b(M){return Object.prototype.toString.call(M)}g.__objToStr=b;function S(M){return typeof M=="object"&&b(M)==="[object Date]"}g.__isDate=S;function T(M){return typeof M=="object"&&b(M)==="[object Array]"}g.__isArray=T;function $(M){return typeof M=="object"&&b(M)==="[object RegExp]"}g.__isRegExp=$;function A(M){var O="";return M.global&&(O+="g"),M.ignoreCase&&(O+="i"),M.multiline&&(O+="m"),O}return g.__getRegExpFlags=A,g}();e.exports&&(e.exports=t)})(clone$2);var cloneExports=clone$2.exports,removeItems=require$$0,scheduler$1=nanoscheduler(),nanologger=nanologger$3,_log=nanologger("choo"),clone$1=cloneExports,MAX_HISTORY_LENGTH=150,log_1=log$3;function log$3(e,t,r,o){var u=window.localStorage.logLevel==="debug",f=[],g=0,b=!0;o.on("debug",function(A){u=A}),window.choo._history=f,window.choo.history=S,Object.defineProperty(window.choo,"log",{get:S,set:noop$5}),Object.defineProperty(window.choo,"history",{get:S,set:noop$5}),t.on("*",function(A,M){g+=1;var O=new T(A,M,e);f.push(O),scheduler$1.push(function(){var D=f.length;D>MAX_HISTORY_LENGTH&&removeItems(f,0,D-MAX_HISTORY_LENGTH)})});function S(){setTimeout(function(){console.table(f)},0);var A=g===1?"event":"events",M=g+" "+A+" recorded, showing the last "+MAX_HISTORY_LENGTH+".";return u===!1?M+=" Enable state capture by calling `choo.debug`.":M+=" Disable state capture by calling `choo.debug = false`.",M}function T(A,M,O){this.name=A,this.data=M===void 0?"<no data>":M,this.state=u?$(O):"<disabled>"}function $(A){try{var M=clone$1(A);return b||(b=!0),M}catch{return b&&(_log.warn("Could not clone your app state. Make sure to have a serializable state so it can be cloned"),b=!1),"<unserializable>"}}}function noop$5(){}var assert$d=nanoassert$1,getAllRoutes_1=getAllRoutes$1,transform$1=function(e,t){var r=t||"/",o={},u=e.nodes;return Object.keys(u).forEach(function(f){var g=(r==="/"?r:r+"/")+(f==="$$"?":"+e.name:f),b=u[f].cb;if(b!==void 0&&(o[g]=b),Object.keys(u[f].nodes).length!==0){var S=transform$1(u[f],g);Object.keys(S).forEach(function(T){o[T]=S[T]})}}),o};function getAllRoutes$1(e){assert$d.equal(typeof e,"function","wayfarer.getAllRoutes: router should be an function");var t=e._trie;assert$d.equal(typeof t,"object","wayfarer.getAllRoutes: trie should be an object");var r=t.trie;return transform$1(r)}var EventEmitter$4=eventsExports.EventEmitter,storage=storage_1,logger=logger_1,debug$b=debug_1,copy$1=copy_1,help=help_1,perf$1=perf_1,log$2=log_1,getAllRoutes=getAllRoutes_1,chooDevtools=expose;function expose(e){return e=e||{},t.storeName="choo-devtools",t;function t(r,o,u){var f=new EventEmitter$4;typeof window<"u"&&logger(r,o,e),o.on("DOMContentLoaded",function(){typeof window>"u"||(window.choo={},window.choo.state=r,window.choo.emit=function(){o.emit.apply(o,arguments)},window.choo.on=function(g,b){o.on(g,b)},debug$b(r,o,u,f),log$2(r,o,u,f),perf$1(),window.choo.copy=copy$1,u.router&&u.router.router&&(window.choo.routes=Object.keys(getAllRoutes(u.router.router))),storage(),help())})}}const devtools=getDefaultExportFromCjs(chooDevtools);var scrollToAnchor_1=scrollToAnchor$1;function scrollToAnchor$1(e,t){if(e)try{var r=document.querySelector(e);r&&r.scrollIntoView(t)}catch{}}var documentReady$1=ready;function ready(e){if(typeof document>"u")throw new Error("document-ready only runs in the browser");var t=document.readyState;if(t==="complete"||t==="interactive")return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})}var scheduler=nanoscheduler(),assert$c=nanoassert$1,perf;nanotiming$3.disabled=!0;try{perf=window.performance,nanotiming$3.disabled=window.localStorage.DISABLE_NANOTIMING==="true"||!perf.mark}catch{}var browser$a=nanotiming$3;function nanotiming$3(e){if(assert$c.equal(typeof e,"string","nanotiming: name should be type string"),nanotiming$3.disabled)return noop$4;var t=(perf.now()*1e4).toFixed()%Number.MAX_SAFE_INTEGER,r="start-"+t+"-"+e;perf.mark(r);function o(u){var f="end-"+t+"-"+e;perf.mark(f),scheduler.push(function(){var g=null;try{var b=e+" ["+t+"]";perf.measure(b,r,f),perf.clearMarks(r),perf.clearMarks(f)}catch(S){g=S}u&&u(g,e)})}return o.uuid=t,o}function noop$4(e){e&&scheduler.push(function(){e(new Error("nanotiming: performance API unavailable"))})}var assert$b=nanoassert$1,trie$1=Trie;function Trie(){if(!(this instanceof Trie))return new Trie;this.trie={nodes:{}}}Trie.prototype.create=function(e){assert$b.equal(typeof e,"string","route should be a string");var t=e.replace(/^\//,"").split("/");function r(o,u){var f=has$5(t,o)&&t[o];if(f===!1)return u;var g=null;return/^:|^\*/.test(f)?(has$5(u.nodes,"$$")?g=u.nodes.$$:(g={nodes:{}},u.nodes.$$=g),f[0]==="*"&&(u.wildcard=!0),u.name=f.replace(/^:|^\*/,"")):has$5(u.nodes,f)?g=u.nodes[f]:(g={nodes:{}},u.nodes[f]=g),r(o+1,g)}return r(0,this.trie)};Trie.prototype.match=function(e){assert$b.equal(typeof e,"string","route should be a string");var t=e.replace(/^\//,"").split("/"),r={};function o(f,g){if(g!==void 0){var b=t[f];if(b===void 0)return g;if(has$5(g.nodes,b))return o(f+1,g.nodes[b]);if(g.name){try{r[g.name]=decodeURIComponent(b)}catch{return o(f,void 0)}return o(f+1,g.nodes.$$)}else if(g.wildcard){try{r.wildcard=decodeURIComponent(t.slice(f).join("/"))}catch{return o(f,void 0)}return g.nodes.$$}else return o(f+1)}}var u=o(0,this.trie);if(u)return u=Object.assign({},u),u.params=r,u};Trie.prototype.mount=function(e,t){assert$b.equal(typeof e,"string","route should be a string"),assert$b.equal(typeof t,"object","trie should be a object");var r=e.replace(/^\//,"").split("/"),o=null,u=null;if(r.length===1)u=r[0],o=this.create(u);else{var f=r.join("/");u=r[0],o=this.create(f)}Object.assign(o.nodes,t.nodes),t.name&&(o.name=t.name),o.nodes[""]&&(Object.keys(o.nodes[""]).forEach(function(g){g!=="nodes"&&(o[g]=o.nodes[""][g])}),Object.assign(o.nodes,o.nodes[""].nodes),delete o.nodes[""].nodes)};function has$5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var assert$a=nanoassert$1,trie=trie$1,wayfarer$1=Wayfarer;function Wayfarer(e){if(!(this instanceof Wayfarer))return new Wayfarer(e);var t=(e||"").replace(/^\//,""),r=trie();return u._trie=r,u.on=o,u.emit=u,u.match=f,u._wayfarer=!0,u;function o(b,S){if(assert$a.equal(typeof b,"string"),assert$a.equal(typeof S,"function"),b=b||"/",S._wayfarer&&S._trie)r.mount(b,S._trie.trie);else{var T=r.create(b);T.cb=S,T.route=b}return u}function u(b){var S=f(b),T=new Array(arguments.length);T[0]=S.params;for(var $=1;$<T.length;$++)T[$]=arguments[$];return S.cb.apply(S.cb,T)}function f(b){assert$a.notEqual(b,void 0,"'route' must be defined");var S=r.match(b);if(S&&S.cb)return new g(S);var T=r.match(t);if(T&&T.cb)return new g(T);throw new Error("route '"+b+"' did not match")}function g(b){this.cb=b.cb,this.route=b.route,this.params=b.params}}var assert$9=nanoassert$1,wayfarer=wayfarer$1,isLocalFile=/file:\/\//.test(typeof window=="object"&&window.location&&window.location.origin),electron="^(file://|/)(.*.html?/?)?",protocol="^(http(s)?(://))?(www.)?",domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?",qs$1="[?].*$",stripElectron=new RegExp(electron),prefix=new RegExp(protocol+domain),normalize=new RegExp("#"),suffix$1=new RegExp(qs$1),nanorouter$1=Nanorouter;function Nanorouter(e){if(!(this instanceof Nanorouter))return new Nanorouter(e);e=e||{},this.router=wayfarer(e.default||"/404")}Nanorouter.prototype.on=function(e,t){assert$9.equal(typeof e,"string"),e=e.replace(/^[#/]/,""),this.router.on(e,t)};Nanorouter.prototype.emit=function(e){return assert$9.equal(typeof e,"string"),e=pathname(e,isLocalFile),this.router.emit(e)};Nanorouter.prototype.match=function(e){return assert$9.equal(typeof e,"string"),e=pathname(e,isLocalFile),this.router.match(e)};function pathname(e,t){return t?e=e.replace(stripElectron,""):e=e.replace(prefix,""),decodeURI(e.replace(suffix$1,"").replace(normalize,"/"))}var events$2=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","onanimationend","onanimationiteration","onanimationstart","oncontextmenu","onfocusin","onfocusout"],events$1=events$2,eventsLength=events$1.length,ELEMENT_NODE=1,TEXT_NODE$1=3,COMMENT_NODE=8,morph_1=morph$2;function morph$2(e,t){var r=e.nodeType,o=e.nodeName;r===ELEMENT_NODE&&copyAttrs(e,t),(r===TEXT_NODE$1||r===COMMENT_NODE)&&t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),o==="INPUT"?updateInput(e,t):o==="OPTION"?updateOption(e,t):o==="TEXTAREA"&&updateTextarea(e,t),copyEvents(e,t)}function copyAttrs(e,t){for(var r=t.attributes,o=e.attributes,u=null,f=null,g=null,b=null,S=null,T=o.length-1;T>=0;--T)S=o[T],b=S.name,u=S.namespaceURI,f=S.value,u?(b=S.localName||b,g=t.getAttributeNS(u,b),g!==f&&t.setAttributeNS(u,b,f)):t.hasAttribute(b)?(g=t.getAttribute(b),g!==f&&(f==="null"||f==="undefined"?t.removeAttribute(b):t.setAttribute(b,f))):t.setAttribute(b,f);for(var $=r.length-1;$>=0;--$)S=r[$],S.specified!==!1&&(b=S.name,u=S.namespaceURI,u?(b=S.localName||b,e.hasAttributeNS(u,b)||t.removeAttributeNS(u,b)):e.hasAttributeNS(null,b)||t.removeAttribute(b))}function copyEvents(e,t){for(var r=0;r<eventsLength;r++){var o=events$1[r];e[o]?t[o]=e[o]:t[o]&&(t[o]=void 0)}}function updateOption(e,t){updateAttribute(e,t,"selected")}function updateInput(e,t){var r=e.value,o=t.value;updateAttribute(e,t,"checked"),updateAttribute(e,t,"disabled"),e.indeterminate!==t.indeterminate&&(t.indeterminate=e.indeterminate),t.type!=="file"&&(r!==o&&(t.setAttribute("value",r),t.value=r),r==="null"&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?t.type==="range"&&(t.value=r):t.removeAttribute("value"))}function updateTextarea(e,t){var r=e.value;if(r!==t.value&&(t.value=r),t.firstChild&&t.firstChild.nodeValue!==r){if(r===""&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=r}}function updateAttribute(e,t,r){e[r]!==t[r]&&(t[r]=e[r],e[r]?t.setAttribute(r,""):t.removeAttribute(r))}var assert$8=nanoassert$1,morph$1=morph_1,TEXT_NODE=3,nanomorph_1=nanomorph$1;function nanomorph$1(e,t,r){return assert$8.equal(typeof e,"object","nanomorph: oldTree should be an object"),assert$8.equal(typeof t,"object","nanomorph: newTree should be an object"),r&&r.childrenOnly?(updateChildren(t,e),e):(assert$8.notEqual(t.nodeType,11,"nanomorph: newTree should have one root node (which is not a DocumentFragment)"),walk(t,e))}function walk(e,t){return t?e?e.isSameNode&&e.isSameNode(t)?t:e.tagName!==t.tagName||getComponentId(e)!==getComponentId(t)?e:(morph$1(e,t),updateChildren(e,t),t):null:e}function getComponentId(e){return e.dataset?e.dataset.nanomorphComponentId:void 0}function updateChildren(e,t){for(var r,o,u,f,g=0,b=0;r=t.childNodes[b],o=e.childNodes[b-g],!(!r&&!o);b++)if(!o)t.removeChild(r),b--;else if(!r)t.appendChild(o),g++;else if(same(o,r))u=walk(o,r),u!==r&&(t.replaceChild(u,r),g++);else{f=null;for(var S=b;S<t.childNodes.length;S++)if(same(t.childNodes[S],o)){f=t.childNodes[S];break}f?(u=walk(o,f),u!==f&&g++,t.insertBefore(u,r)):!o.id&&!r.id?(u=walk(o,r),u!==r&&(t.replaceChild(u,r),g++)):(t.insertBefore(o,r),g++)}}function same(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName!==t.tagName?!1:e.type===TEXT_NODE?e.nodeValue===t.nodeValue:!1}var reg=/([^?=&]+)(=([^&]*))?/g,assert$7=nanoassert$1,browser$9=qs;function qs(e){assert$7.equal(typeof e,"string","nanoquery: url should be type string");var t={};return e.replace(/^.*\?/,"").replace(reg,function(r,o,u,f){var g=decodeURIComponent(f),b=decodeURIComponent(o);t.hasOwnProperty(b)?Array.isArray(t[b])?t[b].push(g):t[b]=[t[b],g]:t[b]=g}),t}var assert$6=nanoassert$1,safeExternalLink=/(noopener|noreferrer) (noopener|noreferrer)/,protocolLink=/^[\w-_]+:/,nanohref$1=href;function href(e,t){assert$6.notEqual(typeof window,"undefined","nanohref: expected window to exist"),t=t||window.document,assert$6.equal(typeof e,"function","nanohref: cb should be type function"),assert$6.equal(typeof t,"object","nanohref: root should be type object"),window.addEventListener("click",function(r){if(!(r.button&&r.button!==0||r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||r.defaultPrevented)){var o=function u(f){if(!(!f||f===t))return f.localName!=="a"||f.href===void 0?u(f.parentNode):f}(r.target);o&&(window.location.protocol!==o.protocol||window.location.hostname!==o.hostname||window.location.port!==o.port||o.hasAttribute("data-nanohref-ignore")||o.hasAttribute("download")||o.getAttribute("target")==="_blank"&&safeExternalLink.test(o.getAttribute("rel"))||protocolLink.test(o.getAttribute("href"))||(r.preventDefault(),e(o)))}})}var assert$5=nanoassert$1,nanoraf_1=nanoraf$1;function nanoraf$1(e,t){assert$5.equal(typeof e,"function","nanoraf: render should be a function"),assert$5.ok(typeof t=="function"||typeof t>"u","nanoraf: raf should be a function or undefined"),t||(t=window.requestAnimationFrame);var r=!1,o=null;return function(){o===null&&!r&&(r=!0,t(function(){r=!1;for(var g=o.length,b=new Array(g),S=0;S<g;S++)b[S]=o[S];e.apply(e,b),o=null})),o=arguments}}var removeArrayItems=function(t,r,o){var u,f=t.length;if(!(r>=f||o===0)){o=r+o>f?f-r:o;var g=f-o;for(u=r;u<g;++u)t[u]=t[u+o];t.length=g}},splice=removeArrayItems,nanotiming$2=browser$a,assert$4=nanoassert$1,nanobus$1=Nanobus;function Nanobus(e){if(!(this instanceof Nanobus))return new Nanobus(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}Nanobus.prototype.emit=function(e){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.emit: eventName should be type string or symbol");for(var t=[],r=1,o=arguments.length;r<o;r++)t.push(arguments[r]);var u=nanotiming$2(this._name+"('"+e.toString()+"')"),f=this._listeners[e];return f&&f.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,u.uuid),u(),this};Nanobus.prototype.on=Nanobus.prototype.addListener=function(e,t){return assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.on: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.on: listener should be type function"),e==="*"?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this};Nanobus.prototype.prependListener=function(e,t){return assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.prependListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),e==="*"?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this};Nanobus.prototype.once=function(e,t){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.once: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.once: listener should be type function");var r=this;this.on(e,o);function o(){t.apply(r,arguments),r.removeListener(e,o)}return this};Nanobus.prototype.prependOnceListener=function(e,t){assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.prependOnceListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var r=this;this.prependListener(e,o);function o(){t.apply(r,arguments),r.removeListener(e,o)}return this};Nanobus.prototype.removeListener=function(e,t){if(assert$4.ok(typeof e=="string"||typeof e=="symbol","nanobus.removeListener: eventName should be type string or symbol"),assert$4.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),e==="*")return this._starListeners=this._starListeners.slice(),r(this._starListeners,t);return typeof this._listeners[e]<"u"&&(this._listeners[e]=this._listeners[e].slice()),r(this._listeners[e],t);function r(o,u){if(o){var f=o.indexOf(u);if(f!==-1)return splice(o,f,1),!0}}};Nanobus.prototype.removeAllListeners=function(e){return e?e==="*"?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this};Nanobus.prototype.listeners=function(e){var t=e!=="*"?this._listeners[e]:this._starListeners,r=[];if(t)for(var o=t.length,u=0;u<o;u++)r.push(t[u]);return r};Nanobus.prototype._emit=function(e,t,r,o){if(!(typeof e>"u")&&e.length!==0){r===void 0&&(r=t,t=null),t&&(o!==void 0?r=[t].concat(r,o):r=[t].concat(r));for(var u=e.length,f=0;f<u;f++){var g=e[f];g.apply(g,r)}}};const EventEmitter$3=getDefaultExportFromCjs(nanobus$1);var nanolru=LRU$1;function LRU$1(e){if(!(this instanceof LRU$1))return new LRU$1(e);typeof e=="number"&&(e={max:e}),e||(e={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}Object.defineProperty(LRU$1.prototype,"keys",{get:function(){return Object.keys(this.cache)}});LRU$1.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0};LRU$1.prototype.remove=function(e){if(typeof e!="string"&&(e=""+e),!!this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}};LRU$1.prototype._unlink=function(e,t,r){this.length--,this.length===0?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=r,this.cache[this.tail].prev=null):(this.cache[t].next=r,this.cache[r].prev=t)};LRU$1.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}};LRU$1.prototype.set=function(e,t){typeof e!="string"&&(e=""+e);var r;if(this.cache.hasOwnProperty(e)){if(r=this.cache[e],r.value=t,this.maxAge&&(r.modified=Date.now()),e===this.head)return t;this._unlink(e,r.prev,r.next)}else r={value:t,modified:0,next:null,prev:null},this.maxAge&&(r.modified=Date.now()),this.cache[e]=r,this.length===this.max&&this.evict();return this.length++,r.next=null,r.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t};LRU$1.prototype._checkAge=function(e,t){return this.maxAge&&Date.now()-t.modified>this.maxAge?(this.remove(e),!1):!0};LRU$1.prototype.get=function(e){if(typeof e!="string"&&(e=""+e),!!this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}};LRU$1.prototype.evict=function(){this.tail&&this.remove(this.tail)};var assert$3=nanoassert$1,LRU=nanolru,cache=ChooComponentCache;function ChooComponentCache(e,t,r){assert$3.ok(this instanceof ChooComponentCache,"ChooComponentCache should be created with `new`"),assert$3.equal(typeof e,"object","ChooComponentCache: state should be type object"),assert$3.equal(typeof t,"function","ChooComponentCache: emit should be type function"),typeof r=="number"?this.cache=new LRU(r):this.cache=r||new LRU(100),this.state=e,this.emit=t}ChooComponentCache.prototype.render=function(e,t){assert$3.equal(typeof e,"function","ChooComponentCache.render: Component should be type function"),assert$3.ok(typeof t=="string"||typeof t=="number","ChooComponentCache.render: id should be type string or type number");var r=this.cache.get(t);if(!r){for(var o=[],u=2,f=arguments.length;u<f;u++)o.push(arguments[u]);o.unshift(e,t,this.state,this.emit),r=newCall.apply(newCall,o),this.cache.set(t,r)}return r};function newCall(e){return new(e.bind.apply(e,arguments))}var scrollToAnchor=scrollToAnchor_1,documentReady=documentReady$1,nanotiming$1=browser$a,nanorouter=nanorouter$1,nanomorph=nanomorph_1,nanoquery=browser$9,nanohref=nanohref$1,nanoraf=nanoraf_1,nanobus=nanobus$1,assert$2=nanoassert$1,Cache=cache,choo=Choo,HISTORY_OBJECT={};function Choo(e){var t=nanotiming$1("choo.constructor");if(!(this instanceof Choo))return new Choo(e);e=e||{},assert$2.equal(typeof e,"object","choo: opts should be type object");var r=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=e.history===void 0?!0:e.history,this._hrefEnabled=e.href===void 0?!0:e.href,this._hashEnabled=e.hash===void 0?!1:e.hash,this._hasWindow=typeof window<"u",this._cache=e.cache,this._loaded=!1,this._stores=[u],this._tree=null;var o={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?Object.assign({},window.initialState,o):o,delete window.initialState):this.state=o,this.router=nanorouter({curry:!0}),this.emitter=nanobus("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title);function u(f){r.emitter.prependListener(r._events.DOMTITLECHANGE,function(g){assert$2.equal(typeof g,"string","events.DOMTitleChange: title should be type string"),f.title=g,r._hasWindow&&(document.title=g)})}t()}Choo.prototype.route=function(e,t){var r=nanotiming$1("choo.route('"+e+"')");assert$2.equal(typeof e,"string","choo.route: route should be type string"),assert$2.equal(typeof t,"function","choo.handler: route should be type function"),this.router.on(e,t),r()};Choo.prototype.use=function(e){assert$2.equal(typeof e,"function","choo.use: cb should be type function");var t=this;this._stores.push(function(r){var o="choo.use";o=e.storeName?o+"("+e.storeName+")":o;var u=nanotiming$1(o);e(r,t.emitter,t),u()})};Choo.prototype.start=function(){assert$2.equal(typeof window,"object","choo.start: window was not found. .start() must be called in a browser, use .toString() if running in Node");var e=nanotiming$1("choo.start"),t=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){t._matchRoute(t.state),t._loaded&&(t.emitter.emit(t._events.RENDER),setTimeout(scrollToAnchor.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(r){assert$2.equal(typeof r,"string","events.pushState: href should be type string"),window.history.pushState(HISTORY_OBJECT,null,r),t.emitter.emit(t._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(r){assert$2.equal(typeof r,"string","events.replaceState: href should be type string"),window.history.replaceState(HISTORY_OBJECT,null,r),t.emitter.emit(t._events.NAVIGATE)}),window.onpopstate=function(){t.emitter.emit(t._events.POPSTATE)},t._hrefEnabled&&nanohref(function(r){var o=r.href,u=r.hash;if(o===window.location.href){!t._hashEnabled&&u&&scrollToAnchor(u);return}t.emitter.emit(t._events.PUSHSTATE,o)})),this._setCache(this.state),this._matchRoute(this.state),this._stores.forEach(function(r){r(t.state)}),this._tree=this._prerender(this.state),assert$2.ok(this._tree,"choo.start: no valid DOM node returned for location "+this.state.href),this.emitter.prependListener(t._events.RENDER,nanoraf(function(){var r=nanotiming$1("choo.render"),o=t._prerender(t.state);assert$2.ok(o,"choo.render: no valid DOM node returned for location "+t.state.href),assert$2.equal(t._tree.nodeName,o.nodeName,"choo.render: The target node <"+t._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+o.nodeName.toLowerCase()+">.");var u=nanotiming$1("choo.morph");nanomorph(t._tree,o),u(),r()})),documentReady(function(){t.emitter.emit(t._events.DOMCONTENTLOADED),t._loaded=!0}),e(),this._tree};Choo.prototype.mount=function(t){var r=nanotiming$1("choo.mount('"+t+"')");if(typeof window!="object")return assert$2.ok(typeof t=="string","choo.mount: selector should be type String"),this.selector=t,r(),this;assert$2.ok(typeof t=="string"||typeof t=="object","choo.mount: selector should be type String or HTMLElement");var o=this;documentReady(function(){var u=nanotiming$1("choo.render"),f=o.start();typeof t=="string"?o._tree=document.querySelector(t):o._tree=t,assert$2.ok(o._tree,"choo.mount: could not query selector: "+t),assert$2.equal(o._tree.nodeName,f.nodeName,"choo.mount: The target node <"+o._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+f.nodeName.toLowerCase()+">.");var g=nanotiming$1("choo.morph");nanomorph(o._tree,f),g(),u()}),r()};Choo.prototype.toString=function(e,t){t=t||{},t.components=t.components||{},t.events=Object.assign({},t.events,this._events),assert$2.notEqual(typeof window,"object","choo.mount: window was found. .toString() must be called in Node, use .start() or .mount() if running in the browser"),assert$2.equal(typeof e,"string","choo.toString: location should be type string"),assert$2.equal(typeof t,"object","choo.toString: state should be type object"),this._setCache(t),this._matchRoute(t,e),this.emitter.removeAllListeners(),this._stores.forEach(function(o){o(t)});var r=this._prerender(t);return assert$2.ok(r,"choo.toString: no valid value returned for the route "+e),assert$2(!Array.isArray(r),"choo.toString: return value was an array for the route "+e),typeof r.outerHTML=="string"?r.outerHTML:r.toString()};Choo.prototype._matchRoute=function(e,t){var r,o;t?(r=t.replace(/\?.+$/,"").replace(/\/$/,""),this._hashEnabled||(r=r.replace(/#.+$/,"")),o=t):(r=window.location.pathname.replace(/\/$/,""),this._hashEnabled&&(r+=window.location.hash.replace(/^#/,"/")),o=window.location.search);var u=this.router.match(r);this._handler=u.cb,e.href=r,e.query=nanoquery(o),e.route=u.route,e.params=u.params};Choo.prototype._prerender=function(e){var t=nanotiming$1("choo.prerender('"+e.route+"')"),r=this._handler(e,this.emit);return t(),r};Choo.prototype._setCache=function(e){var t=new Cache(e,this.emitter.emit.bind(this.emitter),this._cache);e.cache=r;function r(o,u){assert$2.equal(typeof o,"function","choo.state.cache: Component should be type function");for(var f=[],g=0,b=arguments.length;g<b;g++)f.push(arguments[g]);return t.render.apply(t,f)}r.toJSON=function(){return null}};const choo$1=getDefaultExportFromCjs(choo);var client={exports:{}},componentEmitter={exports:{}};(function(e){e.exports=t;function t(o){if(o)return r(o)}function r(o){for(var u in t.prototype)o[u]=t.prototype[u];return o}t.prototype.on=t.prototype.addEventListener=function(o,u){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(u),this},t.prototype.once=function(o,u){function f(){this.off(o,f),u.apply(this,arguments)}return f.fn=u,this.on(o,f),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(o,u){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var f=this._callbacks["$"+o];if(!f)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var g,b=0;b<f.length;b++)if(g=f[b],g===u||g.fn===u){f.splice(b,1);break}return f.length===0&&delete this._callbacks["$"+o],this},t.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var u=new Array(arguments.length-1),f=this._callbacks["$"+o],g=1;g<arguments.length;g++)u[g-1]=arguments[g];if(f){f=f.slice(0);for(var g=0,b=f.length;g<b;++g)f[g].apply(this,u)}return this},t.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},t.prototype.hasListeners=function(o){return!!this.listeners(o).length}})(componentEmitter);var componentEmitterExports=componentEmitter.exports,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var u=42;t[r]=u;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var f=Object.getOwnPropertySymbols(t);if(f.length!==1||f[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(t,r);if(g.value!==u||g.enumerable!==!0)return!1}return!0},origSymbol$1=typeof Symbol<"u"&&Symbol,hasSymbolSham$1=shams$1,hasSymbols$3=function(){return typeof origSymbol$1!="function"||typeof Symbol!="function"||typeof origSymbol$1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham$1()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$2=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(t){var r=this;if(typeof r!="function"||toStr$1.call(r)!==funcType)throw new TypeError(ERROR_MESSAGE+r);for(var o=slice$2.call(arguments,1),u,f=function(){if(this instanceof u){var $=r.apply(this,o.concat(slice$2.call(arguments)));return Object($)===$?$:this}else return r.apply(t,o.concat(slice$2.call(arguments)))},g=Math.max(0,r.length-o.length),b=[],S=0;S<g;S++)b.push("$"+S);if(u=Function("binder","return function ("+b.join(",")+"){ return binder.apply(this,arguments); }")(f),r.prototype){var T=function(){};T.prototype=r.prototype,u.prototype=new T,T.prototype=null}return u},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$3=functionBind,src$1=bind$3.call(Function.call,Object.prototype.hasOwnProperty),undefined$2,$SyntaxError$1=SyntaxError,$Function$1=Function,$TypeError$2=TypeError,getEvalledConstructor$1=function(e){try{return $Function$1('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError$1=function(){throw new $TypeError$2},ThrowTypeError$1=$gOPD$1?function(){try{return arguments.callee,throwTypeError$1}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError$1}}}():throwTypeError$1,hasSymbols$2=hasSymbols$3(),getProto$1=Object.getPrototypeOf||function(e){return e.__proto__},needsEval$1={},TypedArray$1=typeof Uint8Array>"u"?undefined$2:getProto$1(Uint8Array),INTRINSICS$1={"%AggregateError%":typeof AggregateError>"u"?undefined$2:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$2:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$2?getProto$1([][Symbol.iterator]()):undefined$2,"%AsyncFromSyncIteratorPrototype%":undefined$2,"%AsyncFunction%":needsEval$1,"%AsyncGenerator%":needsEval$1,"%AsyncGeneratorFunction%":needsEval$1,"%AsyncIteratorPrototype%":needsEval$1,"%Atomics%":typeof Atomics>"u"?undefined$2:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$2:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$2:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$2:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$2:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$2:FinalizationRegistry,"%Function%":$Function$1,"%GeneratorFunction%":needsEval$1,"%Int8Array%":typeof Int8Array>"u"?undefined$2:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$2:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$2:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$2?getProto$1(getProto$1([][Symbol.iterator]())):undefined$2,"%JSON%":typeof JSON=="object"?JSON:undefined$2,"%Map%":typeof Map>"u"?undefined$2:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$2?undefined$2:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$2:Promise,"%Proxy%":typeof Proxy>"u"?undefined$2:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$2:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$2:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$2?undefined$2:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$2:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$2?getProto$1(""[Symbol.iterator]()):undefined$2,"%Symbol%":hasSymbols$2?Symbol:undefined$2,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError$1,"%TypedArray%":TypedArray$1,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$2:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$2:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$2:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$2:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$2:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$2:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$2:WeakSet},doEval$1=function e(t){var r;if(t==="%AsyncFunction%")r=getEvalledConstructor$1("async function () {}");else if(t==="%GeneratorFunction%")r=getEvalledConstructor$1("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=getEvalledConstructor$1("async function* () {}");else if(t==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var u=e("%AsyncGenerator%");u&&(r=getProto$1(u.prototype))}return INTRINSICS$1[t]=r,r},LEGACY_ALIASES$1={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$2=functionBind,hasOwn$3=src$1,$concat$2=bind$2.call(Function.call,Array.prototype.concat),$spliceApply$1=bind$2.call(Function.apply,Array.prototype.splice),$replace$2=bind$2.call(Function.call,String.prototype.replace),$strSlice$1=bind$2.call(Function.call,String.prototype.slice),rePropName$1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$1=function(t){var r=$strSlice$1(t,0,1),o=$strSlice$1(t,-1);if(r==="%"&&o!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var u=[];return $replace$2(t,rePropName$1,function(f,g,b,S){u[u.length]=b?$replace$2(S,reEscapeChar$1,"$1"):g||f}),u},getBaseIntrinsic$1=function(t,r){var o=t,u;if(hasOwn$3(LEGACY_ALIASES$1,o)&&(u=LEGACY_ALIASES$1[o],o="%"+u[0]+"%"),hasOwn$3(INTRINSICS$1,o)){var f=INTRINSICS$1[o];if(f===needsEval$1&&(f=doEval$1(o)),typeof f>"u"&&!r)throw new $TypeError$2("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:u,name:o,value:f}}throw new $SyntaxError$1("intrinsic "+t+" does not exist!")},getIntrinsic$1=function(t,r){if(typeof t!="string"||t.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');var o=stringToPath$1(t),u=o.length>0?o[0]:"",f=getBaseIntrinsic$1("%"+u+"%",r),g=f.name,b=f.value,S=!1,T=f.alias;T&&(u=T[0],$spliceApply$1(o,$concat$2([0,1],T)));for(var $=1,A=!0;$<o.length;$+=1){var M=o[$],O=$strSlice$1(M,0,1),D=$strSlice$1(M,-1);if((O==='"'||O==="'"||O==="`"||D==='"'||D==="'"||D==="`")&&O!==D)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((M==="constructor"||!A)&&(S=!0),u+="."+M,g="%"+u+"%",hasOwn$3(INTRINSICS$1,g))b=INTRINSICS$1[g];else if(b!=null){if(!(M in b)){if(!r)throw new $TypeError$2("base intrinsic for "+t+" exists, but the property is not available.");return}if($gOPD$1&&$+1>=o.length){var U=$gOPD$1(b,M);A=!!U,A&&"get"in U&&!("originalValue"in U.get)?b=U.get:b=b[M]}else A=hasOwn$3(b,M),b=b[M];A&&!S&&(INTRINSICS$1[g]=b)}}return b},shams=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var u=42;t[r]=u;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var f=Object.getOwnPropertySymbols(t);if(f.length!==1||f[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(t,r);if(g.value!==u||g.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch{$gOPD=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray=typeof Uint8Array>"u"?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet},doEval=function e(t){var r;if(t==="%AsyncFunction%")r=getEvalledConstructor("async function () {}");else if(t==="%GeneratorFunction%")r=getEvalledConstructor("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=getEvalledConstructor("async function* () {}");else if(t==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var u=e("%AsyncGenerator%");u&&(r=getProto(u.prototype))}return INTRINSICS[t]=r,r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$2=src$1,$concat$1=bind$1.call(Function.call,Array.prototype.concat),$spliceApply=bind$1.call(Function.apply,Array.prototype.splice),$replace$1=bind$1.call(Function.call,String.prototype.replace),$strSlice=bind$1.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(t){var r=$strSlice(t,0,1),o=$strSlice(t,-1);if(r==="%"&&o!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var u=[];return $replace$1(t,rePropName,function(f,g,b,S){u[u.length]=b?$replace$1(S,reEscapeChar,"$1"):g||f}),u},getBaseIntrinsic=function(t,r){var o=t,u;if(hasOwn$2(LEGACY_ALIASES,o)&&(u=LEGACY_ALIASES[o],o="%"+u[0]+"%"),hasOwn$2(INTRINSICS,o)){var f=INTRINSICS[o];if(f===needsEval&&(f=doEval(o)),typeof f>"u"&&!r)throw new $TypeError$1("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:u,name:o,value:f}}throw new $SyntaxError("intrinsic "+t+" does not exist!")},getIntrinsic=function(t,r){if(typeof t!="string"||t.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');var o=stringToPath(t),u=o.length>0?o[0]:"",f=getBaseIntrinsic("%"+u+"%",r),g=f.name,b=f.value,S=!1,T=f.alias;T&&(u=T[0],$spliceApply(o,$concat$1([0,1],T)));for(var $=1,A=!0;$<o.length;$+=1){var M=o[$],O=$strSlice(M,0,1),D=$strSlice(M,-1);if((O==='"'||O==="'"||O==="`"||D==='"'||D==="'"||D==="`")&&O!==D)throw new $SyntaxError("property names with quotes must have matching quotes");if((M==="constructor"||!A)&&(S=!0),u+="."+M,g="%"+u+"%",hasOwn$2(INTRINSICS,g))b=INTRINSICS[g];else if(b!=null){if(!(M in b)){if(!r)throw new $TypeError$1("base intrinsic for "+t+" exists, but the property is not available.");return}if($gOPD&&$+1>=o.length){var U=$gOPD(b,M);A=!!U,A&&"get"in U&&!("originalValue"in U.get)?b=U.get:b=b[M]}else A=hasOwn$2(b,M),b=b[M];A&&!S&&(INTRINSICS[g]=b)}}return b},callBind$1={exports:{}};(function(e){var t=functionBind,r=getIntrinsic,o=r("%Function.prototype.apply%"),u=r("%Function.prototype.call%"),f=r("%Reflect.apply%",!0)||t.call(u,o),g=r("%Object.getOwnPropertyDescriptor%",!0),b=r("%Object.defineProperty%",!0),S=r("%Math.max%");if(b)try{b({},"a",{value:1})}catch{b=null}e.exports=function(A){var M=f(t,u,arguments);if(g&&b){var O=g(M,"length");O.configurable&&b(M,"length",{value:1+S(0,A.length-(arguments.length-1))})}return M};var T=function(){return f(t,o,arguments)};b?b(e.exports,"apply",{value:T}):e.exports.apply=T})(callBind$1);var callBindExports=callBind$1.exports,GetIntrinsic$1=getIntrinsic,callBind=callBindExports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(t,r){var o=GetIntrinsic$1(t,!!r);return typeof o=="function"&&$indexOf(t,".prototype.")>-1?callBind(o):o};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1);var hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols||"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function addNumericSeparator(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||$test.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var o=e<0?-$floor(-e):$floor(e);if(o!==e){var u=String(o),f=$slice.call(t,u.length+1);return $replace.call(u,r,"$&_")+"."+$replace.call($replace.call(f,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(t,r,"$&_")}var inspectCustom=require$$3.custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function e(t,r,o,u){var f=r||{};if(has$4(f,"quoteStyle")&&f.quoteStyle!=="single"&&f.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$4(f,"maxStringLength")&&(typeof f.maxStringLength=="number"?f.maxStringLength<0&&f.maxStringLength!==1/0:f.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=has$4(f,"customInspect")?f.customInspect:!0;if(typeof g!="boolean"&&g!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$4(f,"indent")&&f.indent!==null&&f.indent!=="	"&&!(parseInt(f.indent,10)===f.indent&&f.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$4(f,"numericSeparator")&&typeof f.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=f.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return inspectString(t,f);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var S=String(t);return b?addNumericSeparator(t,S):S}if(typeof t=="bigint"){var T=String(t)+"n";return b?addNumericSeparator(t,T):T}var $=typeof f.depth>"u"?5:f.depth;if(typeof o>"u"&&(o=0),o>=$&&$>0&&typeof t=="object")return isArray$6(t)?"[Array]":"[Object]";var A=getIndent(f,o);if(typeof u>"u")u=[];else if(indexOf$3(u,t)>=0)return"[Circular]";function M(me,Se,Y){if(Se&&(u=$arrSlice.call(u),u.push(Se)),Y){var Q={depth:f.depth};return has$4(f,"quoteStyle")&&(Q.quoteStyle=f.quoteStyle),e(me,Q,o+1,u)}return e(me,f,o+1,u)}if(typeof t=="function"){var O=nameOf(t),D=arrObjKeys(t,M);return"[Function"+(O?": "+O:" (anonymous)")+"]"+(D.length>0?" { "+$join.call(D,", ")+" }":"")}if(isSymbol(t)){var U=hasShammedSymbols?$replace.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(t);return typeof t=="object"&&!hasShammedSymbols?markBoxed(U):U}if(isElement(t)){for(var F="<"+$toLowerCase.call(String(t.nodeName)),P=t.attributes||[],oe=0;oe<P.length;oe++)F+=" "+P[oe].name+"="+wrapQuotes(quote(P[oe].value),"double",f);return F+=">",t.childNodes&&t.childNodes.length&&(F+="..."),F+="</"+$toLowerCase.call(String(t.nodeName))+">",F}if(isArray$6(t)){if(t.length===0)return"[]";var Me=arrObjKeys(t,M);return A&&!singleLineValues(Me)?"["+indentedJoin(Me,A)+"]":"[ "+$join.call(Me,", ")+" ]"}if(isError(t)){var he=arrObjKeys(t,M);return"cause"in t&&!isEnumerable.call(t,"cause")?"{ ["+String(t)+"] "+$join.call($concat.call("[cause]: "+M(t.cause),he),", ")+" }":he.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+$join.call(he,", ")+" }"}if(typeof t=="object"&&g){if(inspectSymbol&&typeof t[inspectSymbol]=="function")return t[inspectSymbol]();if(g!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(isMap(t)){var de=[];return mapForEach.call(t,function(me,Se){de.push(M(Se,t,!0)+" => "+M(me,t))}),collectionOf("Map",mapSize.call(t),de,A)}if(isSet(t)){var xe=[];return setForEach.call(t,function(me){xe.push(M(me,t))}),collectionOf("Set",setSize.call(t),xe,A)}if(isWeakMap(t))return weakCollectionOf("WeakMap");if(isWeakSet(t))return weakCollectionOf("WeakSet");if(isWeakRef(t))return weakCollectionOf("WeakRef");if(isNumber$1(t))return markBoxed(M(Number(t)));if(isBigInt(t))return markBoxed(M(bigIntValueOf.call(t)));if(isBoolean(t))return markBoxed(booleanValueOf.call(t));if(isString(t))return markBoxed(M(String(t)));if(!isDate(t)&&!isRegExp$1(t)){var Ce=arrObjKeys(t,M),De=gPO?gPO(t)===Object.prototype:t instanceof Object||t.constructor===Object,et=t instanceof Object?"":"null prototype",Ve=!De&&toStringTag&&Object(t)===t&&toStringTag in t?$slice.call(toStr(t),8,-1):et?"Object":"",Ze=De||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",se=Ze+(Ve||et?"["+$join.call($concat.call([],Ve||[],et||[]),": ")+"] ":"");return Ce.length===0?se+"{}":A?se+"{"+indentedJoin(Ce,A)+"}":se+"{ "+$join.call(Ce,", ")+" }"}return String(t)};function wrapQuotes(e,t,r){var o=(r.quoteStyle||t)==="double"?'"':"'";return o+e+o}function quote(e){return $replace.call(String(e),/"/g,"&quot;")}function isArray$6(e){return toStr(e)==="[object Array]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isDate(e){return toStr(e)==="[object Date]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isRegExp$1(e){return toStr(e)==="[object RegExp]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isError(e){return toStr(e)==="[object Error]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isString(e){return toStr(e)==="[object String]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isNumber$1(e){return toStr(e)==="[object Number]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isBoolean(e){return toStr(e)==="[object Boolean]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isSymbol(e){if(hasShammedSymbols)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!symToString)return!1;try{return symToString.call(e),!0}catch{}return!1}function isBigInt(e){if(!e||typeof e!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(e),!0}catch{}return!1}var hasOwn$1=Object.prototype.hasOwnProperty||function(e){return e in this};function has$4(e,t){return hasOwn$1.call(e,t)}function toStr(e){return objectToString.call(e)}function nameOf(e){if(e.name)return e.name;var t=$match.call(functionToString.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function indexOf$3(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1}function isMap(e){if(!mapSize||!e||typeof e!="object")return!1;try{mapSize.call(e);try{setSize.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function isWeakMap(e){if(!weakMapHas||!e||typeof e!="object")return!1;try{weakMapHas.call(e,weakMapHas);try{weakSetHas.call(e,weakSetHas)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function isWeakRef(e){if(!weakRefDeref||!e||typeof e!="object")return!1;try{return weakRefDeref.call(e),!0}catch{}return!1}function isSet(e){if(!setSize||!e||typeof e!="object")return!1;try{setSize.call(e);try{mapSize.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function isWeakSet(e){if(!weakSetHas||!e||typeof e!="object")return!1;try{weakSetHas.call(e,weakSetHas);try{weakMapHas.call(e,weakMapHas)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function isElement(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function inspectString(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return inspectString($slice.call(e,0,t.maxStringLength),t)+o}var u=$replace.call($replace.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(u,"single",t)}function lowbyte(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+$toUpperCase.call(t.toString(16))}function markBoxed(e){return"Object("+e+")"}function weakCollectionOf(e){return e+" { ? }"}function collectionOf(e,t,r,o){var u=o?indentedJoin(r,o):$join.call(r,", ");return e+" ("+t+") {"+u+"}"}function singleLineValues(e){for(var t=0;t<e.length;t++)if(indexOf$3(e[t],`
`)>=0)return!1;return!0}function getIndent(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=$join.call(Array(e.indent+1)," ");else return null;return{base:r,prev:$join.call(Array(t+1),r)}}function indentedJoin(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+$join.call(e,","+r)+`
`+t.prev}function arrObjKeys(e,t){var r=isArray$6(e),o=[];if(r){o.length=e.length;for(var u=0;u<e.length;u++)o[u]=has$4(e,u)?t(e[u],e):""}var f=typeof gOPS=="function"?gOPS(e):[],g;if(hasShammedSymbols){g={};for(var b=0;b<f.length;b++)g["$"+f[b]]=f[b]}for(var S in e)has$4(e,S)&&(r&&String(Number(S))===S&&S<e.length||hasShammedSymbols&&g["$"+S]instanceof Symbol||($test.call(/[^\w$]/,S)?o.push(t(S,e)+": "+t(e[S],e)):o.push(S+": "+t(e[S],e))));if(typeof gOPS=="function")for(var T=0;T<f.length;T++)isEnumerable.call(e,f[T])&&o.push("["+t(f[T])+"]: "+t(e[f[T]],e));return o}var GetIntrinsic=getIntrinsic$1,callBound=callBound$1,inspect$1=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(e,t){for(var r=e,o;(o=r.next)!==null;r=o)if(o.key===t)return r.next=o.next,o.next=e.next,e.next=o,o},listGet=function(e,t){var r=listGetNode(e,t);return r&&r.value},listSet=function(e,t,r){var o=listGetNode(e,t);o?o.value=r:e.next={key:t,next:e.next,value:r}},listHas=function(e,t){return!!listGetNode(e,t)},sideChannel=function(){var t,r,o,u={assert:function(f){if(!u.has(f))throw new $TypeError("Side channel does not contain "+inspect$1(f))},get:function(f){if($WeakMap&&f&&(typeof f=="object"||typeof f=="function")){if(t)return $weakMapGet(t,f)}else if($Map){if(r)return $mapGet(r,f)}else if(o)return listGet(o,f)},has:function(f){if($WeakMap&&f&&(typeof f=="object"||typeof f=="function")){if(t)return $weakMapHas(t,f)}else if($Map){if(r)return $mapHas(r,f)}else if(o)return listHas(o,f);return!1},set:function(f,g){$WeakMap&&f&&(typeof f=="object"||typeof f=="function")?(t||(t=new $WeakMap),$weakMapSet(t,f,g)):$Map?(r||(r=new $Map),$mapSet(r,f,g)):(o||(o={key:{},next:null}),listSet(o,f,g))}};return u},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return String(e)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$3=Object.prototype.hasOwnProperty,isArray$5=Array.isArray,hexTable=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(t){for(;t.length>1;){var r=t.pop(),o=r.obj[r.prop];if(isArray$5(o)){for(var u=[],f=0;f<o.length;++f)typeof o[f]<"u"&&u.push(o[f]);r.obj[r.prop]=u}}},arrayToObject=function(t,r){for(var o=r&&r.plainObjects?Object.create(null):{},u=0;u<t.length;++u)typeof t[u]<"u"&&(o[u]=t[u]);return o},merge=function e(t,r,o){if(!r)return t;if(typeof r!="object"){if(isArray$5(t))t.push(r);else if(t&&typeof t=="object")(o&&(o.plainObjects||o.allowPrototypes)||!has$3.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var u=t;return isArray$5(t)&&!isArray$5(r)&&(u=arrayToObject(t,o)),isArray$5(t)&&isArray$5(r)?(r.forEach(function(f,g){if(has$3.call(t,g)){var b=t[g];b&&typeof b=="object"&&f&&typeof f=="object"?t[g]=e(b,f,o):t.push(f)}else t[g]=f}),t):Object.keys(r).reduce(function(f,g){var b=r[g];return has$3.call(f,g)?f[g]=e(f[g],b,o):f[g]=b,f},u)},assign$1=function(t,r){return Object.keys(r).reduce(function(o,u){return o[u]=r[u],o},t)},decode$1=function(e,t,r){var o=e.replace(/\+/g," ");if(r==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},encode$1=function(t,r,o,u,f){if(t.length===0)return t;var g=t;if(typeof t=="symbol"?g=Symbol.prototype.toString.call(t):typeof t!="string"&&(g=String(t)),o==="iso-8859-1")return escape(g).replace(/%u[0-9a-f]{4}/gi,function($){return"%26%23"+parseInt($.slice(2),16)+"%3B"});for(var b="",S=0;S<g.length;++S){var T=g.charCodeAt(S);if(T===45||T===46||T===95||T===126||T>=48&&T<=57||T>=65&&T<=90||T>=97&&T<=122||f===formats$2.RFC1738&&(T===40||T===41)){b+=g.charAt(S);continue}if(T<128){b=b+hexTable[T];continue}if(T<2048){b=b+(hexTable[192|T>>6]+hexTable[128|T&63]);continue}if(T<55296||T>=57344){b=b+(hexTable[224|T>>12]+hexTable[128|T>>6&63]+hexTable[128|T&63]);continue}S+=1,T=65536+((T&1023)<<10|g.charCodeAt(S)&1023),b+=hexTable[240|T>>18]+hexTable[128|T>>12&63]+hexTable[128|T>>6&63]+hexTable[128|T&63]}return b},compact=function(t){for(var r=[{obj:{o:t},prop:"o"}],o=[],u=0;u<r.length;++u)for(var f=r[u],g=f.obj[f.prop],b=Object.keys(g),S=0;S<b.length;++S){var T=b[S],$=g[T];typeof $=="object"&&$!==null&&o.indexOf($)===-1&&(r.push({obj:g,prop:T}),o.push($))}return compactQueue(r),t},isRegExp=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},isBuffer$1=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},combine=function(t,r){return[].concat(t,r)},maybeMap=function(t,r){if(isArray$5(t)){for(var o=[],u=0;u<t.length;u+=1)o.push(r(t[u]));return o}return r(t)},utils$4={arrayToObject,assign:assign$1,combine,compact,decode:decode$1,encode:encode$1,isBuffer:isBuffer$1,isRegExp,maybeMap,merge},getSideChannel=sideChannel,utils$3=utils$4,formats$1=formats$3,has$2=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},isArray$4=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$4(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$2={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$3.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function(t){return toISO.call(t)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},sentinel={},stringify$2=function e(t,r,o,u,f,g,b,S,T,$,A,M,O,D,U){for(var F=t,P=U,oe=0,Me=!1;(P=P.get(sentinel))!==void 0&&!Me;){var he=P.get(t);if(oe+=1,typeof he<"u"){if(he===oe)throw new RangeError("Cyclic object value");Me=!0}typeof P.get(sentinel)>"u"&&(oe=0)}if(typeof b=="function"?F=b(r,F):F instanceof Date?F=$(F):o==="comma"&&isArray$4(F)&&(F=utils$3.maybeMap(F,function(G){return G instanceof Date?$(G):G})),F===null){if(u)return g&&!O?g(r,defaults$2.encoder,D,"key",A):r;F=""}if(isNonNullishPrimitive(F)||utils$3.isBuffer(F)){if(g){var de=O?r:g(r,defaults$2.encoder,D,"key",A);if(o==="comma"&&O){for(var xe=split.call(String(F),","),Ce="",De=0;De<xe.length;++De)Ce+=(De===0?"":",")+M(g(xe[De],defaults$2.encoder,D,"value",A));return[M(de)+"="+Ce]}return[M(de)+"="+M(g(F,defaults$2.encoder,D,"value",A))]}return[M(r)+"="+M(String(F))]}var et=[];if(typeof F>"u")return et;var Ve;if(o==="comma"&&isArray$4(F))Ve=[{value:F.length>0?F.join(",")||null:void 0}];else if(isArray$4(b))Ve=b;else{var Ze=Object.keys(F);Ve=S?Ze.sort(S):Ze}for(var se=0;se<Ve.length;++se){var me=Ve[se],Se=typeof me=="object"&&me.value!==void 0?me.value:F[me];if(!(f&&Se===null)){var Y=isArray$4(F)?typeof o=="function"?o(r,me):r:r+(T?"."+me:"["+me+"]");U.set(t,oe);var Q=getSideChannel();Q.set(sentinel,U),pushToArray(et,e(Se,Y,o,u,f,g,b,S,T,$,A,M,O,D,Q))}}return et},normalizeStringifyOptions=function(t){if(!t)return defaults$2;if(t.encoder!==null&&t.encoder!==void 0&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||defaults$2.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=formats$1.default;if(typeof t.format<"u"){if(!has$2.call(formats$1.formatters,t.format))throw new TypeError("Unknown format option provided.");o=t.format}var u=formats$1.formatters[o],f=defaults$2.filter;return(typeof t.filter=="function"||isArray$4(t.filter))&&(f=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:defaults$2.addQueryPrefix,allowDots:typeof t.allowDots>"u"?defaults$2.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:defaults$2.charsetSentinel,delimiter:typeof t.delimiter>"u"?defaults$2.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:defaults$2.encode,encoder:typeof t.encoder=="function"?t.encoder:defaults$2.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:defaults$2.encodeValuesOnly,filter:f,format:o,formatter:u,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:defaults$2.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:defaults$2.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:defaults$2.strictNullHandling}},stringify_1=function(e,t){var r=e,o=normalizeStringifyOptions(t),u,f;typeof o.filter=="function"?(f=o.filter,r=f("",r)):isArray$4(o.filter)&&(f=o.filter,u=f);var g=[];if(typeof r!="object"||r===null)return"";var b;t&&t.arrayFormat in arrayPrefixGenerators?b=t.arrayFormat:t&&"indices"in t?b=t.indices?"indices":"repeat":b="indices";var S=arrayPrefixGenerators[b];u||(u=Object.keys(r)),o.sort&&u.sort(o.sort);for(var T=getSideChannel(),$=0;$<u.length;++$){var A=u[$];o.skipNulls&&r[A]===null||pushToArray(g,stringify$2(r[A],A,S,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,T))}var M=g.join(o.delimiter),O=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),M.length>0?O+M:""},utils$2=utils$4,has$1=Object.prototype.hasOwnProperty,isArray$3=Array.isArray,defaults$1={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$2.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},parseArrayValue=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(t,r){var o={},u=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=r.parameterLimit===1/0?void 0:r.parameterLimit,g=u.split(r.delimiter,f),b=-1,S,T=r.charset;if(r.charsetSentinel)for(S=0;S<g.length;++S)g[S].indexOf("utf8=")===0&&(g[S]===charsetSentinel?T="utf-8":g[S]===isoSentinel&&(T="iso-8859-1"),b=S,S=g.length);for(S=0;S<g.length;++S)if(S!==b){var $=g[S],A=$.indexOf("]="),M=A===-1?$.indexOf("="):A+1,O,D;M===-1?(O=r.decoder($,defaults$1.decoder,T,"key"),D=r.strictNullHandling?null:""):(O=r.decoder($.slice(0,M),defaults$1.decoder,T,"key"),D=utils$2.maybeMap(parseArrayValue($.slice(M+1),r),function(U){return r.decoder(U,defaults$1.decoder,T,"value")})),D&&r.interpretNumericEntities&&T==="iso-8859-1"&&(D=interpretNumericEntities(D)),$.indexOf("[]=")>-1&&(D=isArray$3(D)?[D]:D),has$1.call(o,O)?o[O]=utils$2.combine(o[O],D):o[O]=D}return o},parseObject=function(e,t,r,o){for(var u=o?t:parseArrayValue(t,r),f=e.length-1;f>=0;--f){var g,b=e[f];if(b==="[]"&&r.parseArrays)g=[].concat(u);else{g=r.plainObjects?Object.create(null):{};var S=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,T=parseInt(S,10);!r.parseArrays&&S===""?g={0:u}:!isNaN(T)&&b!==S&&String(T)===S&&T>=0&&r.parseArrays&&T<=r.arrayLimit?(g=[],g[T]=u):g[S]=u}u=g}return u},parseKeys=function(t,r,o,u){if(t){var f=o.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,g=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,S=o.depth>0&&g.exec(f),T=S?f.slice(0,S.index):f,$=[];if(T){if(!o.plainObjects&&has$1.call(Object.prototype,T)&&!o.allowPrototypes)return;$.push(T)}for(var A=0;o.depth>0&&(S=b.exec(f))!==null&&A<o.depth;){if(A+=1,!o.plainObjects&&has$1.call(Object.prototype,S[1].slice(1,-1))&&!o.allowPrototypes)return;$.push(S[1])}return S&&$.push("["+f.slice(S.index)+"]"),parseObject($,r,o,u)}},normalizeParseOptions=function(t){if(!t)return defaults$1;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?defaults$1.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?defaults$1.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:defaults$1.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:defaults$1.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:defaults$1.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:defaults$1.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:defaults$1.comma,decoder:typeof t.decoder=="function"?t.decoder:defaults$1.decoder,delimiter:typeof t.delimiter=="string"||utils$2.isRegExp(t.delimiter)?t.delimiter:defaults$1.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:defaults$1.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:defaults$1.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:defaults$1.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:defaults$1.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:defaults$1.strictNullHandling}},parse$5=function(e,t){var r=normalizeParseOptions(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var o=typeof e=="string"?parseValues(e,r):e,u=r.plainObjects?Object.create(null):{},f=Object.keys(o),g=0;g<f.length;++g){var b=f[g],S=parseKeys(b,o[b],r,typeof e=="string");u=utils$2.merge(u,S,r)}return r.allowSparse===!0?u:utils$2.compact(u)},stringify$1=stringify_1,parse$4=parse$5,formats=formats$3,lib$3={formats,parse:parse$4,stringify:stringify$1};function _typeof$2(e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(e)}function isObject$2(e){return e!==null&&_typeof$2(e)==="object"}var isObject_1=isObject$2;function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}var semver=require$$3,isObject$1=isObject_1,requestBase=RequestBase;function RequestBase(e){if(e)return mixin$1(e)}function mixin$1(e){for(var t in RequestBase.prototype)Object.prototype.hasOwnProperty.call(RequestBase.prototype,t)&&(e[t]=RequestBase.prototype[t]);return e}RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};RequestBase.prototype.parse=function(e){return this._parser=e,this};RequestBase.prototype.responseType=function(e){return this._responseType=e,this};RequestBase.prototype.serialize=function(e){return this._serializer=e,this};RequestBase.prototype.timeout=function(e){if(!e||_typeof$1(e)!=="object")return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this};RequestBase.prototype.retry=function(e,t){return(arguments.length===0||e===!0)&&(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var ERROR_CODES=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),STATUS_CODES=new Set([408,413,429,500,502,503,504,521,522,524]);RequestBase.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(r===!0)return!0;if(r===!1)return!1}catch(o){console.error(o)}return!!(t&&t.status&&STATUS_CODES.has(t.status)||e&&(e.code&&ERROR_CODES.has(e.code)||e.timeout&&e.code==="ECONNABORTED"||e.crossDomain))};RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};RequestBase.prototype.then=function(e,t){var r=this;if(!this._fullfilledPromise){var o=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(u,f){o.on("abort",function(){if(!(r._maxRetries&&r._maxRetries>r._retries)){if(r.timedout&&r.timedoutError){f(r.timedoutError);return}var g=new Error("Aborted");g.code="ABORTED",g.status=r.status,g.method=r.method,g.url=r.url,f(g)}}),o.end(function(g,b){g?f(g):u(b)})})}return this._fullfilledPromise.then(e,t)};RequestBase.prototype.catch=function(e){return this.then(void 0,e)};RequestBase.prototype.use=function(e){return e(this),this};RequestBase.prototype.ok=function(e){if(typeof e!="function")throw new Error("Callback required");return this._okCallback=e,this};RequestBase.prototype._isResponseOK=function(e){return e?this._okCallback?this._okCallback(e):e.status>=200&&e.status<300:!1};RequestBase.prototype.get=function(e){return this._header[e.toLowerCase()]};RequestBase.prototype.getHeader=RequestBase.prototype.get;RequestBase.prototype.set=function(e,t){if(isObject$1(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this};RequestBase.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this};RequestBase.prototype.field=function(e,t){if(e==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(isObject$1(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(r,e[r]);return this}if(Array.isArray(t)){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&this.field(e,t[o]);return this}if(t==null)throw new Error(".field(name, val) val can not be empty");return typeof t=="boolean"&&(t=String(t)),this._getFormData().append(e,t),this};RequestBase.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(semver.gte(process.version,"v13.0.0")&&semver.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");semver.gte(process.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this};RequestBase.prototype._auth=function(e,t,r,o){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(o("".concat(e,":").concat(t))));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer ".concat(e));break}return this};RequestBase.prototype.withCredentials=function(e){return e===void 0&&(e=!0),this._withCredentials=e,this};RequestBase.prototype.redirects=function(e){return this._maxRedirects=e,this};RequestBase.prototype.maxResponseSize=function(e){if(typeof e!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=e,this};RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};RequestBase.prototype.send=function(e){var t=isObject$1(e),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&isObject$1(this._data))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this._data[o]=e[o]);else typeof e=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(e):e:this._data=(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)};RequestBase.prototype.sortQuery=function(e){return this._sort=typeof e>"u"?!0:e,this};RequestBase.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.slice(t+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,t)+"?"+r.join("&")}}};RequestBase.prototype._appendQueryString=function(){console.warn("Unsupported")};RequestBase.prototype._timeoutError=function(e,t,r){if(!this._aborted){var o=new Error("".concat(e+t,"ms exceeded"));o.timeout=t,o.code="ECONNABORTED",o.errno=r,this.timedout=!0,this.timedoutError=o,this.abort(),this.callback(o)}};RequestBase.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var utils$1={};function _createForOfIteratorHelper$1(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$2(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var o=0,u=function(){};return{s:u,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(T){throw T},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,g=!1,b;return{s:function(){r=r.call(e)},n:function(){var T=r.next();return f=T.done,T},e:function(T){g=!0,b=T},f:function(){try{!f&&r.return!=null&&r.return()}finally{if(g)throw b}}}}function _unsupportedIterableToArray$2(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$2(e,t)}}function _arrayLikeToArray$2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}utils$1.type=function(e){return e.split(/ *; */).shift()};utils$1.params=function(e){var t={},r=_createForOfIteratorHelper$1(e.split(/ *; */)),o;try{for(r.s();!(o=r.n()).done;){var u=o.value,f=u.split(/ *= */),g=f.shift(),b=f.shift();g&&b&&(t[g]=b)}}catch(S){r.e(S)}finally{r.f()}return t};utils$1.parseLinks=function(e){var t={},r=_createForOfIteratorHelper$1(e.split(/ *, */)),o;try{for(r.s();!(o=r.n()).done;){var u=o.value,f=u.split(/ *; */),g=f[0].slice(1,-1),b=f[1].split(/ *= */)[1].slice(1,-1);t[b]=g}}catch(S){r.e(S)}finally{r.f()}return t};utils$1.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e};var utils=utils$1,responseBase=ResponseBase;function ResponseBase(e){if(e)return mixin(e)}function mixin(e){for(var t in ResponseBase.prototype)Object.prototype.hasOwnProperty.call(ResponseBase.prototype,t)&&(e[t]=ResponseBase.prototype[t]);return e}ResponseBase.prototype.get=function(e){return this.header[e.toLowerCase()]};ResponseBase.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=utils.type(t);var r=utils.params(t);for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(this[o]=r[o]);this.links={};try{e.link&&(this.links=utils.parseLinks(e.link))}catch{}};ResponseBase.prototype._setStatusProperties=function(e){var t=Math.trunc(e/100);this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=t===1,this.ok=t===2,this.redirect=t===3,this.clientError=t===4,this.serverError=t===5,this.error=t===4||t===5?this.toError():!1,this.created=e===201,this.accepted=e===202,this.noContent=e===204,this.badRequest=e===400,this.unauthorized=e===401,this.notAcceptable=e===406,this.forbidden=e===403,this.notFound=e===404,this.unprocessableEntity=e===422};function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray$1(e)||_unsupportedIterableToArray$1(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray$1(e)}function _createForOfIteratorHelper(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray$1(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var o=0,u=function(){};return{s:u,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(T){throw T},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,g=!1,b;return{s:function(){r=r.call(e)},n:function(){var T=r.next();return f=T.done,T},e:function(T){g=!0,b=T},f:function(){try{!f&&r.return!=null&&r.return()}finally{if(g)throw b}}}}function _unsupportedIterableToArray$1(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(e,t)}}function _arrayLikeToArray$1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Agent(){this._defaults=[]}var _loop=function(){var t=_arr[_i];Agent.prototype[t]=function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this._defaults.push({fn:t,args:o}),this}};for(var _i=0,_arr=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];_i<_arr.length;_i++)_loop();Agent.prototype._setDefaults=function(e){var t=_createForOfIteratorHelper(this._defaults),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;e[o.fn].apply(e,_toConsumableArray(o.args))}}catch(u){t.e(u)}finally{t.f()}};var agentBase=Agent;(function(e,t){function r(se){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},r(se)}function o(se,me){var Se=typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(!Se){if(Array.isArray(se)||(Se=u(se))||me&&se&&typeof se.length=="number"){Se&&(se=Se);var Y=0,Q=function(){};return{s:Q,n:function(){return Y>=se.length?{done:!0}:{done:!1,value:se[Y++]}},e:function(qe){throw qe},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G=!0,H=!1,ve;return{s:function(){Se=Se.call(se)},n:function(){var qe=Se.next();return G=qe.done,qe},e:function(qe){H=!0,ve=qe},f:function(){try{!G&&Se.return!=null&&Se.return()}finally{if(H)throw ve}}}}function u(se,me){if(se){if(typeof se=="string")return f(se,me);var Se=Object.prototype.toString.call(se).slice(8,-1);if(Se==="Object"&&se.constructor&&(Se=se.constructor.name),Se==="Map"||Se==="Set")return Array.from(se);if(Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return f(se,me)}}function f(se,me){(me==null||me>se.length)&&(me=se.length);for(var Se=0,Y=new Array(me);Se<me;Se++)Y[Se]=se[Se];return Y}var g;typeof window<"u"?g=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),g=void 0):g=self;var b=componentEmitterExports,S=fastSafeStringify$1,T=lib$3,$=requestBase,A=isObject_1,M=responseBase,O=agentBase;function D(){}e.exports=function(se,me){return typeof me=="function"?new t.Request("GET",se).end(me):arguments.length===1?new t.Request("GET",se):new t.Request(se,me)},t=e.exports;var U=t;t.Request=Ce,U.getXHR=function(){if(g.XMLHttpRequest&&(!g.location||g.location.protocol!=="file:"||!g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var F="".trim?function(se){return se.trim()}:function(se){return se.replace(/(^\s*|\s*$)/g,"")};function P(se){if(!A(se))return se;var me=[];for(var Se in se)Object.prototype.hasOwnProperty.call(se,Se)&&oe(me,Se,se[Se]);return me.join("&")}function oe(se,me,Se){if(Se!==void 0){if(Se===null){se.push(encodeURI(me));return}if(Array.isArray(Se)){var Y=o(Se),Q;try{for(Y.s();!(Q=Y.n()).done;){var G=Q.value;oe(se,me,G)}}catch(ve){Y.e(ve)}finally{Y.f()}}else if(A(Se))for(var H in Se)Object.prototype.hasOwnProperty.call(Se,H)&&oe(se,"".concat(me,"[").concat(H,"]"),Se[H]);else se.push(encodeURI(me)+"="+encodeURIComponent(Se))}}U.serializeObject=P;function Me(se){for(var me={},Se=se.split("&"),Y,Q,G=0,H=Se.length;G<H;++G)Y=Se[G],Q=Y.indexOf("="),Q===-1?me[decodeURIComponent(Y)]="":me[decodeURIComponent(Y.slice(0,Q))]=decodeURIComponent(Y.slice(Q+1));return me}U.parseString=Me,U.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},U.serialize={"application/x-www-form-urlencoded":T.stringify,"application/json":S},U.parse={"application/x-www-form-urlencoded":Me,"application/json":JSON.parse};function he(se){for(var me=se.split(/\r?\n/),Se={},Y,Q,G,H,ve=0,Ue=me.length;ve<Ue;++ve)Q=me[ve],Y=Q.indexOf(":"),Y!==-1&&(G=Q.slice(0,Y).toLowerCase(),H=F(Q.slice(Y+1)),Se[G]=H);return Se}function de(se){return/[/+]json($|[^-\w])/i.test(se)}function xe(se){this.req=se,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var me=this.xhr.status;me===1223&&(me=204),this._setStatusProperties(me),this.headers=he(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&se._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}M(xe.prototype),xe.prototype._parseBody=function(se){var me=U.parse[this.type];return this.req._parser?this.req._parser(this,se):(!me&&de(this.type)&&(me=U.parse["application/json"]),me&&se&&(se.length>0||se instanceof Object)?me(se):null)},xe.prototype.toError=function(){var se=this.req,me=se.method,Se=se.url,Y="cannot ".concat(me," ").concat(Se," (").concat(this.status,")"),Q=new Error(Y);return Q.status=this.status,Q.method=me,Q.url=Se,Q},U.Response=xe;function Ce(se,me){var Se=this;this._query=this._query||[],this.method=se,this.url=me,this.header={},this._header={},this.on("end",function(){var Y=null,Q=null;try{Q=new xe(Se)}catch(H){return Y=new Error("Parser is unable to parse the response"),Y.parse=!0,Y.original=H,Se.xhr?(Y.rawResponse=typeof Se.xhr.responseType>"u"?Se.xhr.responseText:Se.xhr.response,Y.status=Se.xhr.status?Se.xhr.status:null,Y.statusCode=Y.status):(Y.rawResponse=null,Y.status=null),Se.callback(Y)}Se.emit("response",Q);var G;try{Se._isResponseOK(Q)||(G=new Error(Q.statusText||Q.text||"Unsuccessful HTTP response"))}catch(H){G=H}G?(G.original=Y,G.response=Q,G.status=Q.status,Se.callback(G,Q)):Se.callback(null,Q)})}b(Ce.prototype),$(Ce.prototype),Ce.prototype.type=function(se){return this.set("Content-Type",U.types[se]||se),this},Ce.prototype.accept=function(se){return this.set("Accept",U.types[se]||se),this},Ce.prototype.auth=function(se,me,Se){arguments.length===1&&(me=""),r(me)==="object"&&me!==null&&(Se=me,me=""),Se||(Se={type:typeof btoa=="function"?"basic":"auto"});var Y=function(G){if(typeof btoa=="function")return btoa(G);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(se,me,Se,Y)},Ce.prototype.query=function(se){return typeof se!="string"&&(se=P(se)),se&&this._query.push(se),this},Ce.prototype.attach=function(se,me,Se){if(me){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(se,me,Se||me.name)}return this},Ce.prototype._getFormData=function(){return this._formData||(this._formData=new g.FormData),this._formData},Ce.prototype.callback=function(se,me){if(this._shouldRetry(se,me))return this._retry();var Se=this._callback;this.clearTimeout(),se&&(this._maxRetries&&(se.retries=this._retries-1),this.emit("error",se)),Se(se,me)},Ce.prototype.crossDomainError=function(){var se=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);se.crossDomain=!0,se.status=this.status,se.method=this.method,se.url=this.url,this.callback(se)},Ce.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Ce.prototype.ca=Ce.prototype.agent,Ce.prototype.buffer=Ce.prototype.ca,Ce.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},Ce.prototype.pipe=Ce.prototype.write,Ce.prototype._isHost=function(se){return se&&r(se)==="object"&&!Array.isArray(se)&&Object.prototype.toString.call(se)!=="[object Object]"},Ce.prototype.end=function(se){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=se||D,this._finalizeQueryString(),this._end()},Ce.prototype._setUploadTimeout=function(){var se=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){se._timeoutError("Upload timeout of ",se._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},Ce.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var se=this;this.xhr=U.getXHR();var me=this.xhr,Se=this._formData||this._data;this._setTimeouts(),me.addEventListener("readystatechange",function(){var ve=me.readyState;if(ve>=2&&se._responseTimeoutTimer&&clearTimeout(se._responseTimeoutTimer),ve===4){var Ue;try{Ue=me.status}catch{Ue=0}if(!Ue)return se.timedout||se._aborted?void 0:se.crossDomainError();se.emit("end")}});var Y=function(Ue,qe){qe.total>0&&(qe.percent=qe.loaded/qe.total*100,qe.percent===100&&clearTimeout(se._uploadTimeoutTimer)),qe.direction=Ue,se.emit("progress",qe)};if(this.hasListeners("progress"))try{me.addEventListener("progress",Y.bind(null,"download")),me.upload&&me.upload.addEventListener("progress",Y.bind(null,"upload"))}catch{}me.upload&&this._setUploadTimeout();try{this.username&&this.password?me.open(this.method,this.url,!0,this.username,this.password):me.open(this.method,this.url,!0)}catch(ve){return this.callback(ve)}if(this._withCredentials&&(me.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof Se!="string"&&!this._isHost(Se)){var Q=this._header["content-type"],G=this._serializer||U.serialize[Q?Q.split(";")[0]:""];!G&&de(Q)&&(G=U.serialize["application/json"]),G&&(Se=G(Se))}for(var H in this.header)this.header[H]!==null&&Object.prototype.hasOwnProperty.call(this.header,H)&&me.setRequestHeader(H,this.header[H]);this._responseType&&(me.responseType=this._responseType),this.emit("request",this),me.send(typeof Se>"u"?null:Se)},U.agent=function(){return new O};for(var De=function(){var me=Ve[et];O.prototype[me.toLowerCase()]=function(Se,Y){var Q=new U.Request(me,Se);return this._setDefaults(Q),Y&&Q.end(Y),Q}},et=0,Ve=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];et<Ve.length;et++)De();O.prototype.del=O.prototype.delete,U.get=function(se,me,Se){var Y=U("GET",se);return typeof me=="function"&&(Se=me,me=null),me&&Y.query(me),Se&&Y.end(Se),Y},U.head=function(se,me,Se){var Y=U("HEAD",se);return typeof me=="function"&&(Se=me,me=null),me&&Y.query(me),Se&&Y.end(Se),Y},U.options=function(se,me,Se){var Y=U("OPTIONS",se);return typeof me=="function"&&(Se=me,me=null),me&&Y.send(me),Se&&Y.end(Se),Y};function Ze(se,me,Se){var Y=U("DELETE",se);return typeof me=="function"&&(Se=me,me=null),me&&Y.send(me),Se&&Y.end(Se),Y}U.del=Ze,U.delete=Ze,U.patch=function(se,me,Se){var Y=U("PATCH",se);return typeof me=="function"&&(Se=me,me=null),me&&Y.send(me),Se&&Y.end(Se),Y},U.post=function(se,me,Se){var Y=U("POST",se);return typeof me=="function"&&(Se=me,me=null),me&&Y.send(me),Se&&Y.end(Se),Y},U.put=function(se,me,Se){var Y=U("PUT",se);return typeof me=="function"&&(Se=me,me=null),me&&Y.send(me),Se&&Y.end(Se),Y}})(client,client.exports);var clientExports=client.exports;const request=getDefaultExportFromCjs(clientExports),examples=[{sketch_id:"example_0",code:"JTJGJTJGRmxvciUyMGRlJTIwRnVlZ28lMEElMEFzaGFwZSgyMDAlMkMwLjUlMkMxLjUpJTBBLnNjYWxlKDAuNSUyQzAuNSklMEEuY29sb3IoJTVCMC41JTJDMiU1RC5zbW9vdGgoMSklMkMwLjMlMkMwKSUwQS5yZXBlYXQoMiUyQzIpJTBBLm1vZHVsYXRlU2NhbGUob3NjKDMlMkMwLjUpJTJDLTAuNiklMEEuYWRkKG8wJTJDMC41KSUwQS5zY2FsZSgwLjkpJTBBLm91dCgp"},{sketch_id:"example_3",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTBBb3NjKDIwJTJDJTIwMC4wMyUyQyUyMDEuNykua2FsZWlkKCkubXVsdChvc2MoMjAlMkMlMjAwLjAwMSUyQyUyMDApLnJvdGF0ZSgxLjU4KSkuYmxlbmQobzAlMkMlMjAwLjk0KS5tb2R1bGF0ZVNjYWxlKG9zYygxMCUyQyUyMDApJTJDLTAuMDMpLnNjYWxlKDAuOCUyQyUyMCgpJTIwJTNEJTNFJTIwKDEuMDUlMjAlMkIlMjAwLjElMjAqJTIwTWF0aC5zaW4oMC4wNSp0aW1lKSkpLm91dChvMCk="},{sketch_id:"example_4",code:"JTJGJTJGJTIwYnklMjBOZWxzb24lMjBWZXJhJTBBJTJGJTJGJTIwdHdpdHRlciUzQSUyMCU0MG5lbF9zb25vbG9naWElMEElMEFvc2MoOCUyQy0wLjUlMkMlMjAxKS5jb2xvcigtMS41JTJDJTIwLTEuNSUyQyUyMC0xLjUpLmJsZW5kKG8wKS5yb3RhdGUoLTAuNSUyQyUyMC0wLjUpLm1vZHVsYXRlKHNoYXBlKDQpLnJvdGF0ZSgwLjUlMkMlMjAwLjUpLnNjYWxlKDIpLnJlcGVhdFgoMiUyQyUyMDIpLm1vZHVsYXRlKG8wJTJDJTIwKCklMjAlM0QlM0UlMjBtb3VzZS54JTIwKiUyMDAuMDAwNSkucmVwZWF0WSgyJTJDJTIwMikpLm91dChvMCklMEElMEElMEElMEElMEElMEE="},{sketch_id:"example_6",code:"JTJGJTJGJTIwYnklMjBEJUMzJUE5Ym9yYSUyMEZhbGxlaXJvcyUyMEdvbnphbGVzJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZ3d3cuZ29uemFsZXNkZWJvcmEuY29tJTJGJTBBJTBBb3NjKDUpLmFkZChub2lzZSg1JTJDJTIwMikpLmNvbG9yKDAlMkMlMjAwJTJDJTIwMykuY29sb3JhbWEoMC40KS5vdXQoKSUwQSUwQSUwQSUwQQ=="},{sketch_id:"example_8",code:"JTJGJTJGJTIwYnklMjBSb2RyaWdvJTIwVmVsYXNjbyUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGeWVjdG8uZ2l0aHViLmlvJTJGJTBBJTBBb3NjKDEwNyUyQyUyMDAlMkMlMjAwLjcpLmNvbG9yKDElMkMlMjAwJTJDJTIwMSkucm90YXRlKDAlMkMlMjAtMC4wOCkubW9kdWxhdGVSb3RhdGUobzElMkMlMjAwLjQpLm91dChvMCklMEFvc2MoMzMpLnJvdGF0ZSgyJTJDJTIwMC44KS5tb2R1bGF0ZVJvdGF0ZShvMCUyQyUyMCgpJTIwJTNEJTNFJTIwKGEuZmZ0JTVCMCU1RCoyKSkub3V0KG8xKSUwQQ=="},{sketch_id:"example_9",code:"JTJGJTJGJTIwYnklMjBSb2RyaWdvJTIwVmVsYXNjbyUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGeWVjdG8uZ2l0aHViLmlvJTJGJTBBJTBBb3NjKDE4JTJDJTIwMC4xJTJDJTIwMCkuY29sb3IoMiUyQyUyMDAuMSUyQyUyMDIpJTBBLm11bHQob3NjKDIwJTJDJTIwMC4wMSUyQyUyMDApKS5yZXBlYXQoMiUyQyUyMDIwKS5yb3RhdGUoMC41KS5tb2R1bGF0ZShvMSklMEEuc2NhbGUoMSUyQyUyMCgpJTIwJTNEJTNFJTIwJTIwKGEuZmZ0JTVCMCU1RCowLjklMjAlMkIlMjAyKSkuZGlmZihvMSkub3V0KG8wKSUwQW9zYygyMCUyQyUyMDAuMiUyQyUyMDApLmNvbG9yKDIlMkMlMjAwLjclMkMlMjAwLjEpLm11bHQob3NjKDQwKSkubW9kdWxhdGVSb3RhdGUobzAlMkMlMjAwLjIpJTBBLnJvdGF0ZSgwLjIpLm91dChvMSk="},{sketch_id:"example_10",code:"JTJGJTJGJTIwYnklMjBaYWNoJTIwS3JhbGwlMEElMkYlMkYlMjBodHRwJTNBJTJGJTJGemFjaGtyYWxsLm9ubGluZSUyRiUwQSUwQW9zYyglMjAyMTUlMkMlMjAwLjElMkMlMjAyJTIwKSUwQS5tb2R1bGF0ZSglMEElMjAlMjBvc2MoJTIwMiUyQyUyMC0wLjMlMkMlMjAxMDAlMjApJTBBJTIwJTIwLnJvdGF0ZSgxNSklMEEpJTBBLm11bHQoJTBBJTIwJTIwb3NjKCUyMDIxNSUyQyUyMC0wLjElMkMlMjAyKSUwQSUyMCUyMC5waXhlbGF0ZSglMjA1MCUyQyUyMDUwJTIwKSUwQSklMEEuY29sb3IoJTIwMC45JTJDJTIwMC4wJTJDJTIwMC45JTIwKSUwQS5tb2R1bGF0ZSglMEElMjAlMjBvc2MoJTIwNiUyQyUyMC0wLjElMjApJTBBJTIwJTIwLnJvdGF0ZSglMjA5JTIwKSUwQSklMEEuYWRkKCUwQSUyMCUyMG9zYyglMjAxMCUyQyUyMC0wLjklMkMlMjA5MDAlMjApJTBBJTIwJTIwLmNvbG9yKDElMkMwJTJDMSklMEEpJTBBLm11bHQoJTBBJTIwJTIwc2hhcGUoOTAwJTJDJTIwMC4yJTJDJTIwMSklMEElMjAlMjAubHVtYSgpJTBBJTIwJTIwLnJlcGVhdFgoMiklMEElMjAlMjAucmVwZWF0WSgyKSUwQSUyMCUyMC5jb2xvcmFtYSgxMCklMEEpJTBBLm1vZHVsYXRlKCUwQSUyMCUyMG9zYyglMjA5JTJDJTIwLTAuMyUyQyUyMDkwMCUyMCklMEElMjAlMjAucm90YXRlKCUyMDYlMjApJTBBKSUwQS5hZGQoJTBBJTIwJTIwb3NjKDQlMkMlMjAxJTJDJTIwOTApJTBBJTIwJTIwLmNvbG9yKDAuMiUyQzAlMkMxKSUwQSklMEEub3V0KCklMEE="},{sketch_id:"example_11",code:"JTJGJTJGJTIwYnklMjBaYWNoJTIwS3JhbGwlMEElMkYlMkYlMjBodHRwJTNBJTJGJTJGemFjaGtyYWxsLm9ubGluZSUyRiUwQSUwQW9zYygxMCUyQyUyMDAuOSUyQyUyMDMwMCklMEEuY29sb3IoMC45JTJDJTIwMC43JTJDJTIwMC44KSUwQS5kaWZmKCUwQSUyMCUyMG9zYyg0NSUyQyUyMDAuMyUyQyUyMDEwMCklMEElMjAlMjAuY29sb3IoMC45JTJDJTIwMC45JTJDJTIwMC45KSUwQSUyMCUyMC5yb3RhdGUoMC4xOCklMEElMjAlMjAucGl4ZWxhdGUoMTIpJTBBJTIwJTIwLmthbGVpZCgpJTBBKSUwQS5zY3JvbGxYKDEwKSUwQS5jb2xvcmFtYSgpJTBBLmx1bWEoKSUwQS5yZXBlYXRYKDQpJTBBLnJlcGVhdFkoNCklMEEubW9kdWxhdGUoJTBBJTIwJTIwb3NjKDElMkMlMjAtMC45JTJDJTIwMzAwKSUwQSklMEEuc2NhbGUoMiklMEEub3V0KCklMEE="},{sketch_id:"example_13",code:"JTJGJTJGJTIwYWNpZCUyMGJ1cyUyMHNlYXQlMEElMkYlMkYlMjBieSUyMFdpbGwlMjBIdW1waHJleXMlMEElMkYlMkYlMjBodHRwcyUzQSUyRiUyRmdpdGh1Yi5jb20lMkZUaGVXaXNweSUwQSUwQW9zYygxMDUpLmNvbG9yKDAuNSUyQzAuMSUyQzAuOCkucm90YXRlKDAuMTElMkMlMjAwLjEpLm1vZHVsYXRlKG9zYygxMCkucm90YXRlKDAuMykuYWRkKG8wJTJDJTIwMC4xKSkuYWRkKG9zYygyMCUyQzAuMDElMkMxKS5jb2xvcigwJTJDMC44JTJDMSkpLm91dChvMCklMEFvc2MoNTAlMkMwLjA1JTJDJTIwMC43KS5jb2xvcigxJTJDMC43JTJDMC41KS5kaWZmKG8wKS5tb2R1bGF0ZShvMSUyQzAuMDUpLm91dChvMSklMEFyZW5kZXIobzEp"},{sketch_id:"example_14",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTJGJTJGJTIwJTQwX29qYWNrXyUwQSUwQW9zYygyMCUyQyUyMDAuMDElMkMlMjAxLjEpJTBBJTA5LmthbGVpZCg1KSUwQSUwOS5jb2xvcigyLjgzJTJDMC45MSUyQzAuMzkpJTBBJTA5LnJvdGF0ZSgwJTJDJTIwMC4xKSUwQSUwOS5tb2R1bGF0ZShvMCUyQyUyMCgpJTIwJTNEJTNFJTIwbW91c2UueCUyMColMjAwLjAwMDMpJTBBJTA5LnNjYWxlKDEuMDEpJTBBJTIwJTIwJTA5Lm91dChvMCk="},{sketch_id:"example_15",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZvamFjay5naXRodWIuaW8lMEElMEFvc2MoMTAwJTJDJTIwMC4wMSUyQyUyMDEuNCklMEElMDkucm90YXRlKDAlMkMlMjAwLjEpJTBBJTA5Lm11bHQob3NjKDEwJTJDJTIwMC4xKS5tb2R1bGF0ZShvc2MoMTApLnJvdGF0ZSgwJTJDJTIwLTAuMSklMkMlMjAxKSklMEElMDkuY29sb3IoMi44MyUyQzAuOTElMkMwLjM5KSUwQSUyMCUyMC5vdXQobzAp"},{sketch_id:"example_16",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZvamFjay5naXRodWIuaW8lMEElMEFvc2MoNCUyQyUyMDAuMSUyQyUyMDAuOCkuY29sb3IoMS4wNCUyQzAlMkMlMjAtMS4xKS5yb3RhdGUoMC4zMCUyQyUyMDAuMSkucGl4ZWxhdGUoMiUyQyUyMDIwKS5tb2R1bGF0ZShub2lzZSgyLjUpJTJDJTIwKCklMjAlM0QlM0UlMjAxLjUlMjAqJTIwTWF0aC5zaW4oMC4wOCUyMColMjB0aW1lKSkub3V0KG8wKQ=="},{sketch_id:"example_17",code:"JTJGJTJGJTIwbW9pcmUlMEElMkYlMkYlMjBieSUyME9saXZpYSUyMEphY2slMEElMkYlMkYlMjB0d2l0dGVyJTNBJTIwJTQwX29qYWNrXyUwQSUwQXBhdHRlcm4lMjAlM0QlMjAoKSUyMCUzRCUzRSUyMG9zYygyMDAlMkMlMjAwKS5rYWxlaWQoMjAwKS5zY2FsZSgxJTJDJTIwMC40KSUwQSUyRiUyRiUwQXBhdHRlcm4oKSUwQSUyMCUyMC5zY3JvbGxYKDAuMSUyQyUyMDAuMDEpJTBBJTIwJTIwLm11bHQocGF0dGVybigpKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"example_18",code:"JTJGJTJGJTIwYnklMjBPbGl2aWElMjBKYWNrJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZvamFjay5naXRodWIuaW8lMEElMEFvc2MoNiUyQyUyMDAlMkMlMjAwLjgpJTBBJTIwJTIwLmNvbG9yKDEuMTQlMkMlMjAwLjYlMkMuODApJTBBJTIwJTIwLnJvdGF0ZSgwLjkyJTJDJTIwMC4zKSUwQSUyMCUyMC5waXhlbGF0ZSgyMCUyQyUyMDEwKSUwQSUyMCUyMC5tdWx0KG9zYyg0MCUyQyUyMDAuMDMpLnRocmVzaCgwLjQpLnJvdGF0ZSgwJTJDJTIwLTAuMDIpKSUwQSUyMCUyMC5tb2R1bGF0ZVJvdGF0ZShvc2MoMjAlMkMlMjAwKS50aHJlc2goMC4zJTJDJTIwMC42KSUyQyUyMCgpJTIwJTNEJTNFJTIwMC4xJTIwJTJCJTIwbW91c2UueCUyMColMjAwLjAwMiklMEElMjAlMjAub3V0KG8wKQ=="},{sketch_id:"rangga_0",code:"JTJGJTJGJTIwRHJlYW15JTIwRGlhbW9uZCUwQSUyRiUyRiUyMGJ5JTIwUmFuZ2dhJTIwUHVybmFtYSUyMEFqaSUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGcmFuZ2dhcHVybmFtYWFqaTEud2l4c2l0ZS5jb20lMkZwb3J0Zm9saW8lMEElMEFvc2MoNyUyQy0wLjEyNSkubW9kdWxhdGUodm9yb25vaSgxKSkuZGlmZih2b3Jvbm9pKDEpLm11bHQoZ3JhZGllbnQoLTEpLmx1bWEoMC4xMjUpKSklMEElMjAlMjAubHVtYSgwLjEyNSklMEElMjAlMjAuYWRkKHNoYXBlKDclMkMlMjAwLjUpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwLm11bHQodm9yb25vaSgxMCUyQzIpLmJsZW5kKG8wKS5kaWZmKGdyYWRpZW50KDEpKS5tb2R1bGF0ZSh2b3Jvbm9pKCkpKSklMEElMjAlMjAuc2Nyb2xsWSgtMC4xKSUwQSUyMCUyMC5zY3JvbGxYKDAuMTI1KSUwQSUyMCUyMC5ibGVuZChvMCklMEElMjAlMjAuYmxlbmQobzApJTBBJTIwJTIwLm91dCgpJTBB"},{sketch_id:"rangga_1",code:"JTJGJTJGJTIwVGFnJTIwJTI2JTIwU3dlZXAlMEElMkYlMkYlMjBieSUyMFJhbmdnYSUyMFB1cm5hbWElMjBBamklMEElMkYlMkYlMjBodHRwcyUzQSUyRiUyRnJhbmdnYXB1cm5hbWFhamkxLndpeHNpdGUuY29tJTJGcG9ydGZvbGlvJTBBJTBBb3NjKDUlMkMwLjEyNSkuY29sb3JhbWEoMSklMEElMjAlMjAubHVtYSgwLjEyNSkuYWRkKHNoYXBlKDElMkMwLjUpLmx1bWEoMikuZGlmZihncmFkaWVudCgxKSkpJTBBJTIwJTIwLmRpZmYob3NjKC0xJTJDLTAuMjUpKS5ibGVuZChvMCkuY29sb3IoMCUyQzIuNSUyQzEuNzUpJTBBJTIwJTIwLm91dCgp"},{sketch_id:"rangga_2",code:"JTJGJTJGJTIwTW9ub2Nocm9tZSUyME1lbW9hciUwQSUyRiUyRiUyMGJ5JTIwUmFuZ2dhJTIwUHVybmFtYSUyMEFqaSUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGcmFuZ2dhcHVybmFtYWFqaTEud2l4c2l0ZS5jb20lMkZwb3J0Zm9saW8lMEElMEF2b3Jvbm9pKDUwJTJDMSklMEElMjAlMjAubHVtYSgwLjUpLmFkZChzaGFwZSgxJTJDMSkubHVtYSgxKSklMEElMjAlMjAubW9kdWxhdGUob3NjKC0xMDAwJTJDLTEpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLm1vZHVsYXRlKG9zYygpLmx1bWEoKSkpJTBBJTIwJTIwLmJsZW5kKG8wKSUwQSUyMCUyMC5ibGVuZChvMCklMEElMjAlMjAuYmxlbmQobzApJTBBJTIwJTIwLmJsZW5kKG8wKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"rangga_3",code:"JTJGJTJGJTIwR2FsYXh5JTIwVHJpcCUwQSUyRiUyRiUyMGJ5JTIwUmFuZ2dhJTIwUHVybmFtYSUyMEFqaSUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGcmFuZ2dhcHVybmFtYWFqaTEud2l4c2l0ZS5jb20lMkZwb3J0Zm9saW8lMEElMEFzaGFwZSgxJTJDMSklMEElMjAlMjAubXVsdCh2b3Jvbm9pKDEwMDAlMkMyKSUwQSUyMCUyMC5ibGVuZChvMCkubHVtYSgpKSUwQSUyMCUyMC5hZGQoc2hhcGUoMyUyQzAuMTI1KSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMC5yb3RhdGUoMSUyQzEpLm11bHQodm9yb25vaSgxMDAwJTJDMSkubHVtYSgpKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMC5yb3RhdGUoMS41KSkuc2Nyb2xsWCglNUIwLjElMkMtMC4wNjI1JTJDMC4wMDUlMkMwLjAwMDAxJTVEJTJDMCklMEElMjAlMjAuc2Nyb2xsWSglNUIwLjElMkMtMC4wNjI1JTJDMC4wMDUlMkMwLjAwMDAxJTVEJTJDMCklMEElMjAlMjAub3V0KCk="},{sketch_id:"rangga_4",code:"JTJGJTJGJTIwU3VtZXQlMEElMkYlMkYlMjBieSUyMFJhbmdnYSUyMFB1cm5hbWElMjBBamklMEElMkYlMkYlMjBodHRwcyUzQSUyRiUyRnJhbmdnYXB1cm5hbWFhamkxLndpeHNpdGUuY29tJTJGcG9ydGZvbGlvJTBBJTBBb3NjKDAuNSUyQzEuMjUpLm11bHQoc2hhcGUoMSUyQzAuMDkpLnJvdGF0ZSgxLjUpKSUwQSUyMCUyMC5kaWZmKGdyYWRpZW50KCkpJTBBJTIwJTIwLmFkZChzaGFwZSgyJTJDMikuYmxlbmQoZ3JhZGllbnQoMSkpKSUwQSUyMCUyMC5tb2R1bGF0ZShub2lzZSgpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLm1vZHVsYXRlKG5vaXNlKCkuc2Nyb2xsWSgxJTJDMC4wNjI1KSkpJTBBJTIwJTIwLmJsZW5kKG8wKSUwQSUyMCUyMC5jb2xvcigxJTJDLTAuNSUyQy0wLjc1KSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"marianne_0",code:"JTJGJTJGcG9ydCUwQSUyRiUyRmJ5JTIwTWFyaWFubmUlMjBUZWl4aWRvJTBBJTJGJTJGaHR0cHMlM0ElMkYlMkZtYXJpYW5uZXRlaXhpZG8uZ2l0aHViLmlvJTJGJTBBJTBBb3NjKDUlMkMlMjAwLjklMkMlMjAwLjAwMSklMEElMjAlMjAlMjAlMjAua2FsZWlkKCU1QjMlMkM0JTJDNSUyQzclMkM4JTJDOSUyQzEwJTVELmZhc3QoMC4xKSklMEElMjAlMjAlMjAlMjAuY29sb3IoMC41JTJDJTIwMC4zKSUwQSUyMCUyMCUyMCUyMC5jb2xvcmFtYSgwLjQpJTBBJTIwJTIwJTIwJTIwLnJvdGF0ZSgwLjAwOSUyQygpJTNEJTNFTWF0aC5zaW4odGltZSkqJTIwLTAuMDAxJTIwKSUwQSUyMCUyMCUyMCUyMC5tb2R1bGF0ZVJvdGF0ZShvMCUyQygpJTNEJTNFTWF0aC5zaW4odGltZSklMjAqJTIwMC4wMDMpJTBBJTIwJTIwJTIwJTIwLm1vZHVsYXRlKG8wJTJDJTIwMC45KSUwQSUyMCUyMCUyMCUyMC5zY2FsZSgwLjkpJTBBJTIwJTIwJTIwJTIwLm91dChvMCklMEElMEE="},{sketch_id:"marianne_1",code:"JTJGJTJGUGl4ZWxzY2FwZSUwQSUyRiUyRk1hcmlhbm5lJTIwVGVpeGlkbyUwQSUyRiUyRmh0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRk1hcmlhbm5lVGVpeGlkbyUwQSUwQXNyYyhvMCklMEElMjAuc2F0dXJhdGUoMS4wMSklMEElMjAuc2NhbGUoLjk5OSklMEElMjAuY29sb3IoMS4wMSUyQzEuMDElMkMxLjAxKSUwQSUyMC5odWUoLjAxKSUwQSUyMC5tb2R1bGF0ZUh1ZShzcmMobzEpLmh1ZSguMykucG9zdGVyaXplKC0xKS5jb250cmFzdCguNyklMkMyKSUwQSUyMCUyMC5sYXllcihzcmMobzEpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLmx1bWEoKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMC5tdWx0KGdyYWRpZW50KDEpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLnNhdHVyYXRlKC45KSkpJTBBJTIwJTIwLm91dChvMCklMEElMEFub2lzZSgxJTJDJTIwLjIpJTBBJTIwJTIwLnJvdGF0ZSgyJTJDLjUpJTBBJTIwJTIwLmxheWVyKHNyYyhvMCklMEElMjAlMjAuc2Nyb2xsWCguMikpJTBBJTIwJTIwLm91dChvMSklMEElMEFyZW5kZXIobzAp"},{sketch_id:"naoto_0",code:"JTJGJTJGJTIwJTQwbmFvdG9faGllZGElMEFvc2MoMjAlMkMlMjAwLjElMkMlMjAwKS5jb2xvcigwJTJDJTIwMSUyQyUyMDIpLnJvdGF0ZSgxLjU3JTJGMikub3V0KG8xKSUwQW9zYygzMCUyQyUyMDAuMDElMkMlMjAwKS5jb2xvcigyJTJDJTIwMC43JTJDJTIwMSkubW9kdWxhdGUobzElMkMlMjAwKS5hZGQobzElMkMxKS5tb2R1bGF0ZVBpeGVsYXRlKG8xJTJDMSUyQzEwKS5vdXQobzAp"},{sketch_id:"naoto_1",code:"JTJGJTJGJTIwJTQwbmFvdG9faGllZGElMEFzb2xpZCgwLjIlMkMwLjYlMkMwLjkpLmxheWVyKG9zYygzMS40JTJDMCkudGhyZXNoKDAuNykubHVtYSgpLm1vZHVsYXRlKG9zYyg0JTJDMSkucm90YXRlKDEpJTJDMC4wNSkuY29sb3IoMCUyQzAlMkMwKSkubGF5ZXIob3NjKDMxLjQlMkMwKS50aHJlc2goMC43KS5sdW1hKCkubW9kdWxhdGUob3NjKDQlMkMxKS5yb3RhdGUoMSklMkMwLjEpKS5vdXQoKQ=="},{sketch_id:"ritchse_0",code:"JTJGJTJGcmFuZG9tJTIwdHJ5cG9waG9iaWElMjAtJTIwY2hhbmdlcyUyMGV2ZXJ5dGltZSUyMHlvdSUyMGxvYWQlMjBpdCElMEElMkYlMkZieSUyMFJpdGNoc2UlMEElMkYlMkZpbnN0YWdyYW0uY29tJTJGcml0Y2hzZSUwQSUyMCUwQWZ1bmN0aW9uJTIwcihtaW4lM0QwJTJDbWF4JTNEMSklMjAlN0IlMjByZXR1cm4lMjBNYXRoLnJhbmRvbSgpKihtYXgtbWluKSUyQm1pbiUzQiUyMCU3RCUwQSUyMCUwQXNvbGlkKDElMkMxJTJDMSklMEElMjAlMjAlMDkuZGlmZihzaGFwZSglNUI0JTJDNCUyQzQlMkMyNCU1RC5zbW9vdGgoKS5mYXN0KC41KSUyQ3IoMC42JTJDMC45MyklMkMuMDkpLnJlcGVhdCgyMCUyQzEwKSklMEElMDkubW9kdWxhdGVTY2FsZShvc2MoOCkucm90YXRlKHIoLS41JTJDLjUpKSUyQy41MiklMEElMDkuYWRkKCUwQSUyMCUyMCUwOSUwOXNyYyhvMCkuc2NhbGUoMC45NjUpLnJvdGF0ZSguMDEyKihNYXRoLnJvdW5kKHIoLTIlMkMxKSkpKSUwQSUyMCUyMCUwOSUwOS5jb2xvcihyKCklMkNyKCklMkNyKCkpJTBBJTIwJTIwJTIwJTIwJTA5Lm1vZHVsYXRlUm90YXRlKG8wJTJDcigwJTJDMC41KSklMEElMjAlMjAlMDklMDkuYnJpZ2h0bmVzcyguMTUpJTBBJTIwJTIwJTA5JTA5JTJDLjcpJTBBJTA5Lm91dCgp"},{sketch_id:"ritchse_1",code:"JTJGJTJGY29ycnVwdGVkJTIwc2NyZWVuc2F2ZXIlMEElMkYlMkZieSUyMFJpdGNoc2UlMEElMkYlMkZpbnN0YWdyYW0uY29tJTJGcml0Y2hzZSUwQSUyMCUwQXZvcm9ub2koMzUwJTJDMC4xNSklMEElMjAlMjAlMDkubW9kdWxhdGVTY2FsZShvc2MoOCkucm90YXRlKE1hdGguc2luKHRpbWUpKSUyQy41KSUwQSUyMCUyMCUwOS50aHJlc2goLjgpJTBBJTA5Lm1vZHVsYXRlUm90YXRlKG9zYyg3KSUyQy40KSUwQSUwOS50aHJlc2goLjcpJTBBJTIwJTIwJTA5LmRpZmYoc3JjKG8wKS5zY2FsZSgxLjgpKSUwQSUwOS5tb2R1bGF0ZVNjYWxlKG9zYygyKS5tb2R1bGF0ZVJvdGF0ZShvMCUyQy43NCkpJTBBJTA5LmRpZmYoc3JjKG8wKS5yb3RhdGUoJTVCLS4wMTIlMkMuMDElMkMtLjAwMiUyQzAlNUQpLnNjcm9sbFkoMCUyQyU1Qi0xJTJGMTk5ODAwJTJDMCU1RC5mYXN0KDAuNykpKSUwQSUwOS5icmlnaHRuZXNzKCU1Qi0uMDIlMkMtLjE3JTVELnNtb290aCgpLmZhc3QoLjUpKSUwQSUwOS5vdXQoKQ=="},{sketch_id:"ritchse_2",code:"JTJGJTJGdHJvcGljYWwlMjBqdWljZSUwQSUyRiUyRmJ5JTIwUml0Y2hzZSUwQSUyRiUyRmluc3RhZ3JhbS5jb20lMkZyaXRjaHNlJTBBJTIwJTBBdm9yb25vaSgyJTJDMC4zJTJDMC4yKS5zaGlmdCgwLjUpJTBBLm1vZHVsYXRlUGl4ZWxhdGUodm9yb25vaSg0JTJDMC4yKSUyQzMyJTJDMiklMEEuc2NhbGUoKCklM0QlM0UxJTJCKE1hdGguc2luKHRpbWUqMi41KSowLjA1KSklMEEuZGlmZih2b3Jvbm9pKDMpLnNoaWZ0KDAuNikpJTBBLmRpZmYob3NjKDIlMkMwLjE1JTJDMS4xKS5yb3RhdGUoKSklMEEuYnJpZ2h0bmVzcygwLjEpLmNvbnRyYXN0KDEuMikuc2F0dXJhdGUoMS4yKSUwQSUwOS5vdXQoKSUwQXNwZWVkJTIwJTNEJTIwMC44"},{sketch_id:"ritchse_3",code:"JTJGJTJGdHJ5aW5nJTIwdG8lMjBnZXQlMjBjbG9zZXIlMEElMkYlMkZieSUyMFJpdGNoc2UlMEElMkYlMkZpbnN0YWdyYW0uY29tJTJGcml0Y2hzZSUwQSUyMCUwQW9zYyg2MCUyQy0wLjAxNSUyQzAuMykuZGlmZihvc2MoNjAlMkMwLjA4KS5yb3RhdGUoTWF0aC5QSSUyRjIpKSUwQSUwOS5tb2R1bGF0ZVNjYWxlKG5vaXNlKDMuNSUyQzAuMjUpLm1vZHVsYXRlU2NhbGUob3NjKDE1KS5yb3RhdGUoKCklM0QlM0VNYXRoLnNpbih0aW1lJTJGMikpKSUyQzAuNiklMEElMDkuY29sb3IoMSUyQzAuNSUyQzAuNCkuY29udHJhc3QoMS40KSUwQSUwOS5hZGQoc3JjKG8wKS5tb2R1bGF0ZShvMCUyQy4wNCklMkMuNiklMEElMDkuaW52ZXJ0KCkuYnJpZ2h0bmVzcygwLjEpLmNvbnRyYXN0KDEuMiklMEElMDkubW9kdWxhdGVTY2FsZShvc2MoMiklMkMtMC4yKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"ritchse_4",code:"JTJGJTJGJTIwZGlzaW50ZWdyYXRpb24lMEElMkYlMkYlMjBieSUyMFJpdGNoc2UlMEElMkYlMkYlMjBpbnN0YWdyYW0uY29tJTJGcml0Y2hzZSUwQSUyMCUwQW9zYyg1JTJDLjEpLm1vZHVsYXRlKG5vaXNlKDYpJTJDLjIyKS5kaWZmKG8wKSUwQSUyMCUyMCUwOS5tb2R1bGF0ZVNjcm9sbFkob3NjKDIpLm1vZHVsYXRlKG9zYygpLnJvdGF0ZSgpJTJDLjExKSklMEElMDkuc2NhbGUoLjcyKS5jb2xvcigwLjk5JTJDMS4wMTQlMkMxKSUwQSUyMCUyMCUwOS5vdXQoKQ==  "},{sketch_id:"flor_0",code:"JTJGJTJGRmxvciUyMGRlJTIwRnVlZ28lMEElMkYlMkZodHRwcyUzQSUyRiUyRmZsb3JkZWZ1ZWdvLmdpdGh1Yi5pbyUyRiUwQW9zYygzMCUyQzAuMDElMkMxKSUwQS5tdWx0KG9zYygyMCUyQy0wLjElMkMxKS5tb2R1bGF0ZShub2lzZSgzJTJDMSkpLnJvdGF0ZSgwLjcpKSUwQS5wb3N0ZXJpemUoJTVCMyUyQzEwJTJDMiU1RC5mYXN0KDAuNSkuc21vb3RoKDEpKSUwQS5tb2R1bGF0ZVJvdGF0ZShvMCUyQygpJTNEJTNFbW91c2UueCowLjAwMyklMEEub3V0KCk= "},{sketch_id:"mahalia_0",code:"JTJGJTJGJTIwTWFoYWxpYSUyMEgtUiUwQSUyRiUyRiUyMElHJTNBJTIwJTQwbW1faHJfJTBBJTBBc2hhcGUoMjAlMkMwLjElMkMwLjAxKSUwQSUyMCUyMC5zY2FsZSgoKSUyMCUzRCUzRSUyME1hdGguc2luKHRpbWUpKjMpJTBBJTIwJTIwLnJlcGVhdCgoKSUyMCUzRCUzRSUyME1hdGguc2luKHRpbWUpKjEwKSUwQSUyMCUyMC5tb2R1bGF0ZVJvdGF0ZShvMCklMEElMjAlMjAuc2NhbGUoKCklMjAlM0QlM0UlMjBNYXRoLnNpbih0aW1lKSoyKSUwQSUyMCUyMC5tb2R1bGF0ZShub2lzZSgyJTJDMCkpJTBBJTIwJTIwLnJvdGF0ZSgwLjElMkMlMjAwLjkpJTBBLm91dChvMCklMEElMEFzcmMobzApJTBBLm1vZHVsYXRlKG9zYyg1MDAlMkMwJTJDMCkpJTBBLm91dChvMSklMEElMEFzcmMobzEpJTBBLm1vZHVsYXRlS2FsZWlkKHZvcm9ub2koKCklMjAlM0QlM0UlMjBNYXRoLnNpbih0aW1lKSozJTJDMC4xJTJDMC4wMSklMkMoKSUyMCUzRCUzRSUyME1hdGguc2luKHRpbWUpKjMpJTBBLnNjYWxlKCgpJTIwJTNEJTNFJTIwTWF0aC5zaW4odGltZSkqMyklMEEub3V0KG8yKSUwQSUwQXJlbmRlcihvMik="},{sketch_id:"mahalia_1",code:"JTJGJTJGJTIwTWFoYWxpYSUyMEgtUiUwQSUyRiUyRiUyMElHJTNBJTIwJTQwbW1faHJfJTBBJTBBc2hhcGUoKCklMjAlM0QlM0UlMjBNYXRoLnNpbih0aW1lKSUyQjEqMiklMEEucm90YXRlKCgpJTIwJTNEJTNFJTIwTWF0aC5QSSUyMColMjBtb3VzZS54JTIwJTJGMTgwKSUwQS5yZXBlYXRYKDMpJTBBLnJlcGVhdFkoKCklM0QlM0VNYXRoLnNpbih0aW1lKSo1KSUwQS5zY2FsZSgoKSUyMCUzRCUzRSUyME1hdGguUEklMkY0KSUwQS5ibGVuZChzcmMobzApLmNvbG9yKDElMkMwJTJDMCkpJTBBLm1vZHVsYXRlKG9zYygyMCUyQyUyMDAlMkMuNCkpJTBBLmthbGVpZCgyKSUwQSUyMC5vdXQobzApJTBBJTBBcmVuZGVyKG8wKQ=="},{sketch_id:"mahalia_2",code:"JTJGJTJGJTIwVmVsdmV0JTIwUG9vbCUwQSUyRiUyRiUyMGJ5JTIwTWFoYWxpYSUyMEgtUiUwQSUyRiUyRiUyMElHJTNBJTIwbW1faHJfJTBBJTBBJTBBbm9pc2UoKSUwQS5jb2xvcigoKSUyMCUzRCUzRSUyMGEuZmZ0JTVCMiU1RCoyJTJDMCUyQy42KSUwQS5tb2R1bGF0ZShub2lzZSgoKSUyMCUzRCUzRSUyMGEuZmZ0JTVCMCU1RCoxMCkpJTBBLnNjYWxlKCgpJTNEJTNFJTIwYS5mZnQlNUIyJTVEKjUpJTBBLmxheWVyKCUwQSUyMCUyMHNyYyhvMCklMEElMjAlMjAubWFzayhvc2MoMTApLm1vZHVsYXRlUm90YXRlKG9zYygpJTJDOTAlMkMwKSklMEElMjAlMjAuc2NhbGUoKCklMjAlM0QlM0UlMjBhLmZmdCU1QjAlNUQqMiklMEElMjAlMjAubHVtYSgwLjIlMkMwLjMpJTBBKSUwQS5ibGVuZChvMCklMEEub3V0KG8wKSUwQSUwQW9zYygpJTBBLm1vZHVsYXRlKG5vaXNlKCgpJTIwJTNEJTNFJTIwYS5mZnQlNUIxJTVEJTJCNSkpJTBBLmNvbG9yKDElMkMwJTJDMCklMEEub3V0KG8xKSUwQSUwQXNyYyhvMCklMEEubW9kdWxhdGUobzEpJTBBLmxheWVyKCUwQSUyMCUyMHNyYyhvMSklMEElMjAlMjAubWFzayhvMSklMEElMjAlMjAuc2F0dXJhdGUoNyklMEEpJTBBLm1vZHVsYXRlUm90YXRlKG8xKSUwQS5yb3RhdGUoKCU3QnRpbWUlN0QpJTIwJTNEJTNFJTIwdGltZSUyNTM2MCowLjA1KSUwQS5vdXQobzIpJTBBJTBBcmVuZGVyKG8yKQ=="},{sketch_id:"mahalia_3",code:"JTJGJTJGJTIwYnklMjBNYWhhbGlhJTIwSC1SJTBBJTJGJTJGJTIwSUclM0ElMjBtbV9ocl8lMEElMEFzaGFwZSgoKSUzRCUzRU1hdGguc2luKHRpbWUpJTJCMSozJTJDJTIwLjUlMkMuMDEpJTBBLnJlcGVhdCg1JTJDMyUyQyUyMCgpJTNEJTNFYS5mZnQlNUIwJTVEKjIlMkMlMjAoKSUzRCUzRWEuZmZ0JTVCMSU1RCoyKSUwQS5zY3JvbGxZKC41JTJDMC4xKSUwQS5sYXllciglMEElMjAlMjBzcmMobzEpJTBBJTIwJTIwLm1hc2sobzApJTBBJTIwJTIwLmx1bWEoLjAxJTJDJTIwLjEpJTBBJTIwJTIwLmludmVydCguMiklMEEpJTBBLm1vZHVsYXRlKG8xJTJDLjAyKSUwQS5vdXQobzApJTBBJTBBb3NjKDQwJTJDJTIwMC4wOSUyQyUyMDAuOSklMEEuY29sb3IoLjklMkMwJTJDNSklMEEubW9kdWxhdGUob3NjKDEwKS5yb3RhdGUoMSUyQyUyMDAuNSkpJTBBLnJvdGF0ZSgxJTJDJTIwMC4yKSUwQS5vdXQobzEpJTBBJTBBcmVuZGVyKG8wKSUwQSUwQQ=="},{sketch_id:"mahalia_4",code:"JTJGJTJGJTIwQ2VsbHVsYXIlMjAlMjYlMjBCbG9idWxhciUwQSUyRiUyRiUyMGJ5JTIwTWFoYWxpYSUyMEgtUiUwQSUyRiUyRiUyMElHJTNBJTIwbW1faHJfJTBBJTBBc3BlZWQlMjAlM0QlMjAwLjMlMEElMEFzaGFwZSgyMCUyQzAuMiUyQzAuMyklMEEuY29sb3IoMC41JTJDMC44JTJDNTApJTBBJTIwJTIwLnNjYWxlKCgpJTIwJTNEJTNFJTIwTWF0aC5zaW4odGltZSklMkIxKjIpJTBBJTIwJTIwLnJlcGVhdCgoKSUyMCUzRCUzRSUyME1hdGguc2luKHRpbWUpKjEwKSUwQSUyMCUyMC5tb2R1bGF0ZVJvdGF0ZShvMCklMEElMjAlMjAuc2NhbGUoKCklMjAlM0QlM0UlMjBNYXRoLnNpbih0aW1lKSUyQjElMjAqMS41KSUwQSUyMCUyMC5tb2R1bGF0ZShub2lzZSgyJTJDMikpJTBBJTIwJTIwLnJvdGF0ZSgxJTJDJTIwLjIpJTBBJTIwJTIwJTJGJTJGJTIwLmludmVydCgyLjQpJTBBLm91dChvMCklMEE="},{sketch_id:"andromeda_0",code:"JTJGJTJGJTIwMy4wJTBBJTJGJTJGJTIwYnklMjAlQ0UlOTRORFIwTTNEJUNFJTk0JTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZ3d3cuaW5zdGFncmFtLmNvbSUyRmFuZHJvbTNfZGElMkYlMEElMEElMEFub2lzZSgzJTJDMC4zJTJDMykudGhyZXNoKDAuMyUyQzAuMDMpLmRpZmYobzMlMkMwLjMpLm91dChvMSklMEFncmFkaWVudCglNUIwLjMlMkMwLjMlMkMzJTVEKS5kaWZmKG8wKS5ibGVuZChvMSkub3V0KG8zKSUwQXZvcm9ub2koMzMlMkMzJTJDMzApLnJvdGF0ZSgzJTJDMC4zJTJDMCkubW9kdWxhdGVTY2FsZShvMiUyQzAuMykuY29sb3IoLTMlMkMzJTJDMCkuYnJpZ2h0bmVzcygzKS5vdXQobzApJTBBc2hhcGUoMzAlMkMwLjMlMkMxKS5pbnZlcnQoKCU3QnRpbWUlN0QpJTNEJTNFTWF0aC5zaW4odGltZSkqMykub3V0KG8yKSUwQSUwQXJlbmRlcihvMyklMEE="},{sketch_id:"andromeda_1",code:"JTJGJTJGJTIwMy4zJTBBJTJGJTJGJTIwYnklMjAlQ0UlOTRORFIwTTNEJUNFJTk0JTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZ3d3cuaW5zdGFncmFtLmNvbSUyRmFuZHJvbTNfZGElMkYlMEElMEFvc2MoKS5tb2R1bGF0ZVJvdGF0ZShvMCUyQzAuMykub3V0KCklMEFvc2MoMzMlMkMwLjMlMkMwLjMpLmRpZmYobzMlMkMzKS5vdXQobzEpJTBBb3NjKDMlMkMwLjMlMkMzMykubW9kdWxhdGVLYWxlaWQobzMlMkMzKS5kaWZmKG8wKS5vdXQobzIpJTBBc3JjKG8wJTJDMykubXVsdChvMSUyQzMpLmthbGVpZCgzKS5vdXQobzMpJTBBcmVuZGVyKG8yKQ=="},{sketch_id:"asdrubal_0",code:"JTJGJTJGQXNkciVDMyVCQWJhbCUyMEdvbWV6JTBBJTBBbm9pc2UoMyUyQzAuMSUyQzcpJTBBLnJvdGF0ZSgxJTJDLTElMkMtMikubWFzayhzaGFwZSgyMCkpJTBBLmNvbG9yYW1hKDAuNSklMEEubW9kdWxhdGVTY2FsZShvMCklMEEubW9kdWxhdGVTY2FsZShvMCUyQzElMkMpJTBBLmJsZW5kKG8wKSUwQS5ibGVuZChvMCklMEEuYmxlbmQobzApJTBBLmJsZW5kKG8wKSUwQS5vdXQobzApJTBB"},{sketch_id:"flor_1",code:"JTJGJTJGSHlkcmElMjBHbGl0Y2h5JTIwU2xpdCUyMFNjYW4lMEElMkYlMkZGbG9yJTIwZGUlMjBGdWVnbyUwQSUyRiUyRmh0dHBzJTNBJTJGJTJGZmxvcmRlZnVlZ28uZ2l0aHViLmlvJTJGJTIwJTBBczAuaW5pdENhbSgpJTBBc3JjKHMwKS5zYXR1cmF0ZSgyKS5jb250cmFzdCgxLjMpLmxheWVyKHNyYyhvMCkubWFzayhzaGFwZSg0JTJDMikuc2NhbGUoMC41JTJDMC43KS5zY3JvbGxYKDAuMjUpKS5zY3JvbGxYKDAuMDAxKSkubW9kdWxhdGUobzAlMkMwLjAwMSkub3V0KG8wKSUwQSUwQQ=="},{sketch_id:"flor_2",code:"JTJGJTJGR2xpdGNoJTIwUml2ZXIlMEElMkYlMkZGbG9yJTIwZGUlMjBGdWVnbyUwQSUyRiUyRmh0dHBzJTNBJTJGJTJGZmxvcmRlZnVlZ28uZ2l0aHViLmlvJTJGJTBBdm9yb25vaSg4JTJDMSklMEEubXVsdChvc2MoMTAlMkMwLjElMkMoKSUzRCUzRU1hdGguc2luKHRpbWUpKjMpLnNhdHVyYXRlKDMpLmthbGVpZCgyMDApKSUwQS5tb2R1bGF0ZShvMCUyQzAuNSklMEEuYWRkKG8wJTJDMC44KSUwQS5zY3JvbGxZKC0wLjAxKSUwQS5zY2FsZSgwLjk5KSUwQS5tb2R1bGF0ZSh2b3Jvbm9pKDglMkMxKSUyQzAuMDA4KSUwQS5sdW1hKDAuMyklMEEub3V0KCklMEElMEElMEFzcGVlZCUyMCUzRCUyMDAuMSUwQSUwQSUwQSUwQQ=="},{sketch_id:"nesso_0",code:"JTBBJTJGJTJGY2xvdWRzJTIwb2YlMjBwYXNzYWdlJTBBJTJGJTJGYnklMjBOZXNzbyUwQSUyRiUyRnd3dy5uZXNzby54eXolMEElMEFzaGFwZSglNUI0JTJDNSUyQzYlNUQuZmFzdCgwLjEpLnNtb290aCgxKSUyQzAuMDAwMDAxJTJDJTVCMC4yJTJDMC43JTVELnNtb290aCgxKSklMEEuY29sb3IoMC4yJTJDMC40JTJDMC4zKSUwQS5zY3JvbGxYKCgpJTNEJTNFTWF0aC5zaW4odGltZSowLjI3KSklMEEuYWRkKCUwQSUyMCUyMHNoYXBlKCU1QjQlMkM1JTJDNiU1RC5mYXN0KDAuMSkuc21vb3RoKDEpJTJDMC4wMDAwMDElMkMlNUIwLjIlMkMwLjclMkMwLjUlMkMwLjMlNUQuc21vb3RoKDEpKSUwQSUyMCUyMC5jb2xvcigwLjYlMkMwLjIlMkMwLjUpJTBBJTIwJTIwLnNjcm9sbFkoMC4zNSklMEElMjAlMjAuc2Nyb2xsWCgoKSUzRCUzRU1hdGguc2luKHRpbWUqMC4zMykpKSUwQS5hZGQoJTBBJTIwJTIwc2hhcGUoJTVCNCUyQzUlMkM2JTVELmZhc3QoMC4xKS5zbW9vdGgoMSklMkMwLjAwMDAwMSUyQyU1QjAuMiUyQzAuNyUyQzAuMyU1RC5zbW9vdGgoMSkpJTBBJTIwJTIwLmNvbG9yKDAuMiUyQzAuNCUyQzAuNiklMEElMjAlMjAuc2Nyb2xsWSgtMC4zNSklMEElMjAlMjAuc2Nyb2xsWCgoKSUzRCUzRU1hdGguc2luKHRpbWUqMC40MSkqLTEpKSUwQS5hZGQoJTBBJTIwJTIwJTIwJTIwJTIwJTIwc3JjKG8wKS5zaGlmdCgwLjAwMSUyQzAuMDElMkMwLjAwMSklMEElMjAlMjAlMjAlMjAlMjAlMjAuc2Nyb2xsWCglNUIwLjA1JTJDLTAuMDUlNUQuZmFzdCgwLjEpLnNtb290aCgxKSklMEElMjAlMjAlMjAlMjAlMjAlMjAuc2NhbGUoJTVCMS4wNSUyQzAuOSU1RC5mYXN0KDAuMykuc21vb3RoKDEpJTJDJTVCMS4wNSUyQzAuOSUyQzElNUQuZmFzdCgwLjI5KS5zbW9vdGgoMSkpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTJDMC44NSklMEEubW9kdWxhdGUodm9yb25vaSgxMCUyQzIlMkMyKSklMEEub3V0KCk="},{sketch_id:"malitzin_0",code:"JTJGJTJGQ05EU0QlMEElMkYlMkZodHRwJTNBJTJGJTJGbWFsaXR6aW5jb3J0ZXMubmV0JTJGJTBBJTJGJTJGJTIwc2FuZCUyMHNwaXJhbHMlMEElMEFvc2MoMyUyQyUyMDAuMDElMkMlMjAwLjQpJTBBLmNvbG9yKDEuMiUyQzEuMiUyQzEuMyklMEEuc2F0dXJhdGUoMC40KSUwQS5tb2R1bGF0ZVJlcGVhdChvc2MoMiklMkMxJTJDJTIwMiUyQyUyMDQlMkMlMjAzKSUwQS5tb2R1bGF0ZUthbGVpZChvc2MoMTIlMkMwLjA1JTJDMCklMkMxKSUwQS5sdW1hJTIwKDAuNCklMEEucm90YXRlKDQlMkMlMjAwLjElMkMwKSUwQS5tb2R1bGF0ZShvMCUyQyUyMCgpJTIwJTNEJTNFJTIwbW91c2UueSUyMCowLjAwMDIlMjApJTBBLnNjYWxlKDEpLmRpZmYobzEpJTBBLm91dChvMCk="},{sketch_id:"malitzin_1",code:"JTJGJTJGQ05EU0QlMEElMkYlMkZodHRwJTNBJTJGJTJGbWFsaXR6aW5jb3J0ZXMubmV0JTJGJTBBJTJGJTJGYW1lYmElMEElMEFvc2MoMTUlMkMlMjAwLjAxJTJDJTIwMC4xKS5tdWx0KG9zYygxJTJDJTIwLTAuMSkubW9kdWxhdGUob3NjKDIpLnJvdGF0ZSg0JTJDMSklMkMlMjAyMCkpJTBBLmNvbG9yKDAlMkMyLjQlMkM1KSUwQS5zYXR1cmF0ZSgwLjQpJTBBLmx1bWEoMSUyQzAuMSUyQyUyMCg2JTJDJTIwKCklM0QlM0UlMjAxJTIwJTJCJTIwYS5mZnQlNUIzJTVEKSklMEEuc2NhbGUoMC43JTJDJTIwKCklM0QlM0UlMjAwLjclMjAlMkIlMjBhLmZmdCU1QjMlNUQpJTBBLmRpZmYobzApJTJGJTJGJTIwbzAlMEEub3V0KG8wKSUyRiUyRiUyMG8x"},{sketch_id:"malitzin_2",code:"JTJGJTJGQ05EU0QlMEElMkYlMkZodHRwJTNBJTJGJTJGbWFsaXR6aW5jb3J0ZXMubmV0JTJGJTBBJTJGJTJGY3JhenklMjBzcXVhcmVzJTBBJTBBc2hhcGUoNCUyQyUyMCgwLjAxJTJDJTIwKCklM0QlM0UlMjAwLjIlMjAlMkIlMjBhLmZmdCU1QjIlNUQpJTJDMSklMEEubXVsdChvc2MoMSUyQyUyMDEpLm1vZHVsYXRlKG9zYyg1KS5yb3RhdGUoMS40JTJDMSklMkMzKSklMEEuY29sb3IoMSUyQzIlMkM0KSUwQS5zYXR1cmF0ZSgwLjIpJTBBLmx1bWEoMS4yJTJDMC4wNSUyQyUyMCg1JTJDJTIwKCklM0QlM0UlMjAyJTIwJTJCJTIwYS5mZnQlNUIzJTVEKSklMEEuc2NhbGUoMC42JTJDJTIwKCklM0QlM0UlMjAwLjklMjAlMkIlMjBhLmZmdCU1QjMlNUQpJTBBLmRpZmYobzApJTJGJTJGJTIwbzAlMEEub3V0KG8wKSUyRiUyRiUyMG8x"},{sketch_id:"khoparzi_0",code:"JTJGJTJGJTIwSGFwcHklMjBNYW5kYWxhJTBBJTJGJTJGJTIwQnklMjBBYmhpbmF5JTIwS2hvcGFyemklMEElMkYlMkYlMjB0d2l0dGVyJTJGZ2l0aHViJTJGaW5zdGFncmFtJTNBJTIwJTQwa2hvcGFyemklMEF2b3Jvbm9pKDUlMkMtMC4xJTJDNSklMEEuYWRkKG9zYygxJTJDMCUyQzEpKS5rYWxlaWQoMjEpJTBBLnNjYWxlKDElMkMxJTJDMikuY29sb3JhbWEoKS5vdXQobzEpJTBBc3JjKG8xKS5tdWx0KHNyYyhzMCkubW9kdWxhdGVSb3RhdGUobzElMkMxMDApJTJDJTIwLTAuNSklMEElMjAlMjAub3V0KG8wKSUwQSUwQQ=="},{sketch_id:"khoparzi_1",code:"JTJGJTJGJTIwUGVycGV0dWFsJTIwZWxldmF0b3IlMjBidXR0b25zJTBBJTJGJTJGJTIwQnklMjBLaG9wYXJ6aSUwQSUyRiUyRiUyMGh0dHAlM0ElMkYlMkZraG9wYXJ6aS5jb20lMEElMEFzaGFwZSgzKS5hZGQob3NjKDElMkMwLjUlMkMxKSUyQyUyMDEpJTBBJTA5LmFkZChvMSUyQyUyMCgpJTIwJTNEJTNFJTIwKE1hdGguc2luKHRpbWUlMkY0KSUyMColMjAwLjclMjAlMkIlMjAwLjEpKSUwQSUwOSUyRiUyRi5yZXBlYXQoNSklMEElMjAlMjAlMDkuc2NhbGUoKCklM0QlM0VNYXRoLnNpbih0aW1lJTIwJTJGJTIwMTYpKS5yb3RhdGUoMCUyQyUyMC0wLjEpJTBBJTA5Lm91dChvMSklMEElMEFzcmMobzEpJTBBJTIwJTIwLnJvdGF0ZSgwJTJDMC4xKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"khoparzi_2",code:"JTJGJTJGJTIwUmVhbGx5JTIwTG92ZSUwQSUyRiUyRiUyMGJ5JTIwQWJoaW5heSUyMEtob3BhcnppJTBBJTJGJTJGJTIwaHR0cCUzQSUyRiUyRmtob3BhcnppLmNvbSUwQW9zYygxMDAlMkMtMC4wMTI0NSUyQzEpLnBpeGVsYXRlKDUwKS5rYWxlaWQoKCklM0QlM0UoTWF0aC5zaW4odGltZSUyRjgpKjklMkIzKSkucm90YXRlKDAlMkMwLjEyNSklMEEubW9kdWxhdGVSb3RhdGUoc2hhcGUoMykuc2NhbGUoKCklM0QlM0UoTWF0aC5jb3ModGltZSkqMikpLnJvdGF0ZSgwJTJDLTAuMjUpKS5kaWZmKHNyYyhvMCkuYnJpZ2h0bmVzcygwLjMpKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"khoparzi_3",code:"JTJGJTJGJTIwQXFhdXRpYyUyMGJsdWJzJTBBJTJGJTJGJTIwQnklMjBLaG9wYXJ6aSUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGa2hvcGFyemkuY29tJTBBJTBBZ3JhZGllbnQoMC4yNSklMEEuYWRkKG5vaXNlKCklMkMlMjAoKSUzRCUzRU1hdGguY29zKHRpbWUpKSUwQS5tb2R1bGF0ZVJvdGF0ZShzcmMobzApLnJvdGF0ZSgwJTJDJTIwLTAuNTIpJTJDJTIwMC4yKS5tdWx0KHNoYXBlKDM2MCklMkMlMjAwLjgpJTBBLnJlcGVhdCgxMCUyQzUpLm11bHQoc2hhcGUoMzYwKS5zY2FsZSgoKSUzRCUzRU1hdGguc2luKHRpbWUpKSUyQyUyMDAuOCkucm90YXRlKDAlMkMlMjAwLjIpJTBBLmRpZmYoc3JjKG8wKS5yb3RhdGUoMCUyQyUyMC0wLjIpJTJDJTIwMC4yKSUwQS5vdXQoKQ=="},{sketch_id:"celeste_0",code:"JTBBJTIwJTJGJTJGJTIwUHVlcnRhcyUyMElJJTBBJTJGJTJGJTIwcG9yJTIwQ2VsZXN0ZSUyMEJldGFuY3VyJTBBJTJGJTJGJTIwaHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGZXNzdGViYW4lMEElMEFvc2MoMTMlMkMwJTJDMSklMEElMjAlMjAua2FsZWlkKCklMEElMjAlMjAubWFzayhzaGFwZSg0JTJDMC4zJTJDMSkpJTBBJTIwJTIwLm1vZHVsYXRlUm90YXRlKHNoYXBlKDQlMkMwLjElMkMxKSklMEElMjAlMjAubW9kdWxhdGVSb3RhdGUoc2hhcGUoNCUyQzAuMSUyQzAuOSkpJTBBJTIwJTIwLm1vZHVsYXRlUm90YXRlKHNoYXBlKDQlMkMwLjElMkMwLjgpKSUwQSUyMCUyMC5zY2FsZSgwLjMpJTBBJTIwJTIwLmFkZChzaGFwZSg0JTJDMC4yJTJDMSkuY29sb3IoMC4zJTJDMSUyQzElMkMwLjUpKSUwQSUyMCUyMC5yb3RhdGUoKCklM0QlM0V0aW1lKSUwQSUyMCUyMC5vdXQoKQ=="},{sketch_id:"celeste_1",code:"JTJGJTJGJTIwUHVlcnRhcyUyMElJSSUwQSUyRiUyRiUyMHBvciUyMENlbGVzdGUlMjBCZXRhbmN1ciUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmVzc3RlYmFuJTBBJTIwJTBBb3NjKDQwJTJDMC4yJTJDMSklMEElMjAlMjAubW9kdWxhdGVTY2FsZShvc2MoNDAlMkMwJTJDMSkua2FsZWlkKDgpKSUwQSUyMCUyMC5yZXBlYXQoMiUyQzQpJTBBJTIwJTIwLm1vZHVsYXRlKG8wJTJDMC4wNSklMEElMjAlMjAubW9kdWxhdGVLYWxlaWQoc2hhcGUoNCUyQzAuMSUyQzEpKSUwQSUyMCUyMC5vdXQobzAp"},{sketch_id:"celeste_2",code:"JTBBJTIwJTJGJTJGJTIwUHVlcnRhcyUwQSUyRiUyRiUyMHBvciUyMENlbGVzdGUlMjBCZXRhbmN1ciUwQSUyRiUyRiUyMGh0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmVzc3RlYmFuJTBBJTBBb3NjKDEzJTJDMCUyQzEpJTBBJTIwJTIwLm1vZHVsYXRlKG9zYygyMSUyQzAuMjUlMkMwKSklMEElMjAlMjAubW9kdWxhdGVTY2FsZShvc2MoMzQpKSUwQSUyMCUyMC5tb2R1bGF0ZUthbGVpZChvc2MoNTUpJTJDMC4xJTJDMSklMEElMjAlMjAub3V0KCk="},{sketch_id:"alexandre_0",code:"JTJGJTJGJTIwJTIydGhlLXdhbGwlMjIlMEElMkYlMkYlMjBBbGV4YW5kcmUlMjBSYW5nZWwlMEElMkYlMkYlMjB3d3cuYWxleGFuZHJlcmFuZ2VsLmFydC5iciUyRmh5ZHJhLmh0bWwlMEElMEFzcGVlZCUzRC4wMjIyJTBBb3NjKDQ4JTJDLS4xJTJDMCkudGhyZXNoKCU1Qi4zJTJDLjclNUQuZmFzdCguNzUpJTJDMCkuY29sb3IoMCUyQzAlMkMxKSUwQSUwQS5hZGQoJTBBJTIwJTIwJTIwJTIwb3NjKDI4JTJDLjElMkMwKS50aHJlc2goJTVCLjMlMkMuNyU1RC5mYXN0KC43NSklMkMwKS5yb3RhdGUoMy4xNCUyRjQpJTBBJTIwJTIwJTIwJTIwLmNvbG9yKDElMkMwJTJDMCklMEElMjAlMjAlMjAlMjAubW9kdWxhdGVTY2FsZSglMjBvc2MoNjQlMkMtLjAxJTJDMCkudGhyZXNoKCU1Qi4zJTJDLjclNUQuZmFzdCguNzUpJTJDMCklMjApJTBBKSUwQS5kaWZmKCUwQSUyMCUyMCUyMCUyMG9zYygyOCUyQy4xJTJDMCkudGhyZXNoKCU1Qi4zJTJDLjclNUQuZmFzdCguNSklMkMwKS5yb3RhdGUoMy4xNCUyRjIpJTBBJTIwJTIwJTIwJTIwLmNvbG9yKDElMkMwJTJDMSklMEElMjAlMjAlMjAlMjAubW9kdWxhdGVTY2FsZSglMjBvc2MoNjQlMkMtLjAxNSUyQzApLnRocmVzaCglNUIuMyUyQy43JTVELmZhc3QoLjUpJTJDMCklMjApJTBBKSUwQS5tb2R1bGF0ZVJvdGF0ZSglMjBvc2MoNTQlMkMtLjAwNSUyQzApLnRocmVzaCglNUIuMyUyQy43JTVELmZhc3QoLjI1KSUyQzApJTIwKSUwQS5tb2R1bGF0ZVNjYWxlKCUyMG9zYyg0NCUyQy0uMDIwJTJDMCkudGhyZXNoKCU1Qi4zJTJDLjclNUQuZmFzdCguMjUpJTJDMCklMjApJTBBLmNvbG9yYW1hKCUyMCgpJTNEJTNFTWF0aC5zaW4odGltZSUyRjI3KSouMDEyMjIlMkI5Ljg5KSUwQS5zY2FsZSgyLjEyMiklMEElMEEub3V0KCk="},{sketch_id:"alexandre_1",code:"JTBBJTIwJTJGJTJGJTIwJTIyZXllJTIwb2YlMjB0aGUlMjBiZWhvbGRlciUyMiUwQSUyRiUyRiUyMEFsZXhhbmRyZSUyMFJhbmdlbCUwQSUyRiUyRiUyMHd3dy5hbGV4YW5kcmVyYW5nZWwuYXJ0LmJyJTJGaHlkcmEuaHRtbCUwQSUwQW5vaXNlKDYlMkMuMDUpJTBBLm11bHQoJTIwb3NjKDklMkMwJTJDJTIwKCklM0QlM0VNYXRoLnNpbih0aW1lJTJGMS41KSUyQjIlMjApJTIwKSUwQS5tdWx0KCUwQSUyMCUyMCUyMCUyMG5vaXNlKDklMkMuMDMpLmJyaWdodG5lc3MoMS4yKS5jb250cmFzdCgyKSUwQSUyMCUyMCUyMCUyMC5tdWx0KCUyMG9zYyg5JTJDMCUyQyUyMCgpJTNEJTNFTWF0aC5zaW4odGltZSUyRjMpJTJCMTMlMjApJTIwKSUwQSklMEEuZGlmZiglMEElMjAlMjAlMjAlMjBub2lzZSgxNSUyQy4wNCkuYnJpZ2h0bmVzcyguMikuY29udHJhc3QoMS4zKSUwQSUyMCUyMCUyMCUyMC5tdWx0KCUyMG9zYyg5JTJDMCUyQyUyMCgpJTNEJTNFTWF0aC5zaW4odGltZSUyRjUpJTJCMTMlMjApJTIwKSUwQSUyMCUyMCUyMCUyMC5yb3RhdGUoJTIwKCklM0QlM0V0aW1lJTJGMzMlMjApJTBBKSUwQS5zY2FsZSglMjAoKSUzRCUzRU1hdGguc2luKHRpbWUlMkY2LjIpKi4xMiUyQi4xNSUyMCklMEEubW9kdWxhdGVTY2FsZSglMEElMjAlMjAlMjAlMjBvc2MoMyUyQzAlMkMwKS5tdWx0KCUyMG9zYygzJTJDMCUyQzApLnJvdGF0ZSgzLjE0JTJGMiklMjApJTBBJTIwJTIwJTIwJTIwLnJvdGF0ZSglMjAoKSUzRCUzRXRpbWUlMkYyNSUyMCkuc2NhbGUoLjM5KS5zY2FsZSgxJTJDLjYlMkMxKS5pbnZlcnQoKSUwQSUyMCUyMCUyMCUyMCUyQyUyMCgpJTNEJTNFTWF0aC5zaW4odGltZSUyRjUuMykqMS41JTJCMyUyMCUyMCklMEEucm90YXRlKCUyMCgpJTNEJTNFdGltZSUyRjIyJTIwKSUwQS5tdWx0KCUyMHNoYXBlKDEwMCUyQy45JTJDLjAxKS5zY2FsZSgxJTJDLjYlMkMxKSUyMCklMEEub3V0KCk="},{sketch_id:"alexandre_2",code:"JTJGJTJGJTIwJTIyZWdnJTIwb2YlMjB0aGUlMjBwaG9lbml4JTIyJTBBJTJGJTJGJTIwQWxleGFuZHJlJTIwUmFuZ2VsJTBBJTJGJTJGJTIwd3d3LmFsZXhhbmRyZXJhbmdlbC5hcnQuYnIlMkZoeWRyYS5odG1sJTBBJTBBc3BlZWQlM0QxLjIlMEFzaGFwZSg5OSUyQy4xNSUyQy41KS5jb2xvcigwJTJDMSUyQzIpJTBBJTBBLmRpZmYoJTIwc2hhcGUoMjQwJTJDLjUlMkMwKS5zY3JvbGxYKC4wNSkucm90YXRlKCUyMCgpJTNEJTNFdGltZSUyRjEwJTIwKS5jb2xvcigxJTJDMCUyQy43NSklMjApJTBBLmRpZmYoJTIwc2hhcGUoOTklMkMuNCUyQy4wMDIpLnNjcm9sbFgoLjEwKS5yb3RhdGUoJTIwKCklM0QlM0V0aW1lJTJGMjAlMjApLmNvbG9yKDElMkMwJTJDLjc1KSUyMCklMEEuZGlmZiglMjBzaGFwZSg5OSUyQy4zJTJDLjAwMikuc2Nyb2xsWCguMTUpLnJvdGF0ZSglMjAoKSUzRCUzRXRpbWUlMkYzMCUyMCkuY29sb3IoMSUyQzAlMkMuNzUpJTIwKSUwQS5kaWZmKCUyMHNoYXBlKDk5JTJDLjIlMkMuMDAyKS5zY3JvbGxYKC4yMCkucm90YXRlKCUyMCgpJTNEJTNFdGltZSUyRjQwJTIwKS5jb2xvcigxJTJDMCUyQy43NSklMjApJTBBLmRpZmYoJTIwc2hhcGUoOTklMkMuMSUyQy4wMDIpLnNjcm9sbFgoLjI1KS5yb3RhdGUoJTIwKCklM0QlM0V0aW1lJTJGNTAlMjApLmNvbG9yKDElMkMwJTJDLjc1KSUyMCklMEElMEEubW9kdWxhdGVTY2FsZSglMEElMjAlMjBzaGFwZSgyNDAlMkMuNSUyQzApLnNjcm9sbFgoLjA1KS5yb3RhdGUoJTIwKCklM0QlM0V0aW1lJTJGMTAlMjApJTBBJTIwJTIwJTJDJTIwKCklM0QlM0UoTWF0aC5zaW4odGltZSUyRjMpKi4yKSUyQi4yJTIwKSUwQSUwQS5zY2FsZSgxLjYlMkMuNiUyQzEpJTBBLm91dCgp"},{sketch_id:"afalfl_0",code:"JTJGJTJGZmlsZXQlMjBtaWdub24lMEElMkYlMkYlMjBBRkFMRkwlMEElMkYlMkYlMjBpbnN0YWdyYW0lMkZhX2ZfYWxmbCUyMCUwQSUwQW9zYygxMDAlMkMtMC4wMDE4JTJDMC4xNykuZGlmZihvc2MoMjAlMkMwLjAwMDA4KS5yb3RhdGUoTWF0aC5QSSUyRjAuMDAwMDMpKSUwQS5tb2R1bGF0ZVNjYWxlKG5vaXNlKDEuNSUyQzAuMTgpLm1vZHVsYXRlU2NhbGUob3NjKDEzKS5yb3RhdGUoKCklM0QlM0VNYXRoLnNpbih0aW1lJTJGMjIpKSklMkMzKSUwQS5jb2xvcigxMSUyQzAuNSUyQzAuNCUyQyUyMDAuOSUyQyUyMDAuMiUyQyUyMDAuMDExJTJDJTIwNSUyQyUyMDIyJTJDJTIwJTIwMC41JTJDJTIwLTEpLmNvbnRyYXN0KDEuNCklMEEuYWRkKHNyYyhvMCkubW9kdWxhdGUobzAlMkMuMDQpJTJDLjYlMkMlMjAuOSklMEElMjAlMjAlMkYlMkYucGl4ZWxhdGUoMC40JTJDJTIwMC4yJTJDJTIwMC4xKSUwQS5pbnZlcnQoKS5icmlnaHRuZXNzKDAuMDAwMyUyQyUyMDIpLmNvbnRyYXN0KCUyMDAuNSUyQyUyMDIlMkMlMjAwLjElMkMlMjAyKS5jb2xvcig0JTJDJTIwLTIlMkMlMjAwLjEpJTBBLm1vZHVsYXRlU2NhbGUob3NjKDIpJTJDLTAuMiUyQyUyMDIlMkMlMjAxJTJDJTIwMC4zKSUwQSUyMC5wb3N0ZXJpemUoMjAwKSUyMC5yb3RhdGUoMSUyQyUyMDAuMiUyQyUyMDAuMDElMkMlMjAwLjAwMSklMEElMjAuY29sb3IoMjIlMkMlMjAtMiUyQyUyMDAuNSUyQyUyMDAuNSUyQyUyMDAuMDAwMSUyQyUyMCUyMDAuMSUyQyUyMDAuMiUyQyUyMDgpLmNvbnRyYXN0KDAuMTglMkMlMjAwLjMlMkMlMjAwLjElMkMlMjAwLjIlMkMlMjAwLjAzJTJDJTIwMSklMjAuJTIwYnJpZ2h0bmVzcygwLjAwMDElMkMlMjAtMSUyQyUyMDEwKSUwQSUwOS5vdXQoKQ=="},{sketch_id:"eerie_ear_0",code:"JTJGJTJGJTIwZWVfMiUyMC4lMjBNVUxUSVZFUlNFJTIwLiUyMHRpbWUlMjBhbmQlMjBmZWVkYmFjayUwQSUyRiUyRiUyMGVfZSUyMCUyRiUyRiUyMCU0MGVlcmllX2VhciUwQXBhdCUyMCUzRCUyMCgpJTNEJTNFJTBBc29saWQoKSUwQS5sYXllcihzb2xpZCgpLmRpZmYoJTBBJTIwJTIwb3NjKCh0aW1lJTJGMTYpJTIwKiUyMDElMkMlMjAodGltZSUyRjEwMDApJTIwKiUyMDAuMiUyMCUyMCklMEElMjAlMjAlMjAlMjAubXVsdChvc2MoKHRpbWUlMkY4KSUyMColMjAxJTJDJTIwKHRpbWUlMkYxMDA2KSUyMColMjAwLjIlMjAlMjApLnJvdGF0ZSgxLjU3KSklMEElMjAlMjAlMjAlMjAubW9kdWxhdGUoKHNoYXBlKDEwNiUyQzElMkMwLjA1KSkpJTBBJTIwJTIwJTIwJTIwLm11bHQoc2hhcGUoMTA2JTJDMSUyQzAuMDUpKSUwQSUyMCUyMCkpJTBBJTIwJTIwLm1vZHVsYXRlU2NhbGUob3NjKDIlMkMwLjEyNSklMkMwLjEyNSklMEElMkYlMkYlMEFzb2xpZCgpJTBBLmxheWVyKHNvbGlkKDElMkMxJTJDMSklMEElMjAlMjAubXVsdChwYXQoKSUwQSUyMCUyMC5kaWZmKHNyYyhvMCkuc2NhbGUoMC4yKS5tdWx0KHNvbGlkKCklMkMlNUIwLjclMkMwLjYlMkMwLjQlMkMwLjYlNUQpLmthbGVpZCgxLjAxKS5zYXR1cmF0ZSgwLjMpKSUwQSklMEEubGF5ZXIoc29saWQoMSUyQzElMkMxKSUwQSUyMCUyMCUyMCUyMC5tYXNrKCUwQSUyMCUyMCUyMCUyMCUyMCUyMG5vaXNlKDIlMkMwLjA1KSUwQSUyMCUyMCUyMCUyMCUyMCUyMC5pbnZlcnQoKS5jb2xvcmFtYSgyKS5wb3N0ZXJpemUoOCUyQzQpLmx1bWEoMC4yNSkudGhyZXNoKDAuNSklMEElMjAlMjAlMjAlMjAlMjAlMjAubW9kdWxhdGVSb3RhdGUob3NjKDElMkMwLjUpKSUwQSUyMCUyMCUyMCUyMCklMEElMjAlMjAlMjAlMjAubXVsdChncmFkaWVudCgwLjUpLmthbGVpZCgxKS5jb2xvcmFtYSgyKS5zYXR1cmF0ZSgxLjEpLmNvbnRyYXN0KDEuNikubXVsdChzb2xpZCgpJTJDMC40NSkpJTBBJTIwJTIwKSklMEElMjAlMjAub3V0KCklMEElMkYlMkYlMEFzcGVlZCUzRCUyMDAuNSUwQQ=="},{sketch_id:"eerie_ear_1",code:"JTJGJTJGJTIwZWVfMyUyMCUyRiUyRkxJTkVTJTBBJTJGJTJGJTIwZV9lJTIwJTJGJTJGJTIwJTQwZWVyaWVfZWFyJTBBJTJGJTJGJTBBJTJGJTJGYmFzZWQlMjBvbiUwQSUyRiUyRiU0MG5hb3RvX2hpZWRhJTBBJTJGJTJGaHR0cHMlM0ElMkYlMkZuYW90b2hpZWRhLmNvbSUyRmJsb2clMkZoeWRyYS1ib29rJTJGJTBBJTJGJTJGJTBBbiUyMCUzRCUyMDglMEFhJTIwJTNEJTIwKCklMjAlM0QlM0UlMjBzaGFwZSg0JTJDMC4yNSUyQzAuMDA5KS5yb3RhdGUoKCklM0QlM0V0aW1lJTJGLTQwKS5yZXBlYXQobiUyQ24pJTBBYSgpLmFkZChhKCkuc2Nyb2xsWCgwLjUlMkZuKS5zY3JvbGxZKDAuNSUyRm4pJTJDMSkubW9kdWxhdGUobzElMkMwLjEpLm1vZHVsYXRlKHNyYyhvMSkuY29sb3IoMTAlMkMxMCkuYWRkKHNvbGlkKC0xNCUyQy0xNCkpLnJvdGF0ZSgoKSUzRCUzRXRpbWUlMkY0MCklMkMwLjAwNSkuYWRkKHNyYyhvMSkuc2Nyb2xsWSgwLjAxMiUyQzAuMDIpJTJDMC41KS5vdXQobzEpJTBBc3JjKG8xKS5jb2xvcmFtYSgxLjIpLnBvc3Rlcml6ZSg0KS5zYXR1cmF0ZSgwLjcpLmNvbnRyYXN0KDYpLm11bHQoc29saWQoKSUyQzAuMTUpLm91dChvMCklMEElMEElMEE="},{sketch_id:"eerie_ear_2",code:"JTJGJTJGZWVfNSUyMC4lMjBGVUdJVElWRSUyMEdFT01FVFJZJTIwVkhTJTIwLiUyMGF1ZGlvcmVhY3RpdmUlMjBzaGFwZXMlMjBhbmQlMjBncmFkaWVudHMlMEElMkYlMkYlMjBlX2UlMjAlMkYlMkYlMjAlNDBlZXJpZV9lYXIlMEElMkYlMkYlMEFzJTNEJTIwKCklM0QlM0UlMEElMjAlMjBzaGFwZSg0KSUwQS5zY3JvbGxYKCU1Qi0wLjUlMkMtMC4yJTJDMC4zJTJDLTAuMSUyQy0wLjElNUQuc21vb3RoKDAuMSkuZmFzdCgwLjMpKSUwQS5zY3JvbGxZKCU1QjAuMjUlMkMtMC4yJTJDMC4zJTJDLTAuMSUyQzAuMiU1RC5zbW9vdGgoMC45KS5mYXN0KDAuMTUpKSUwQSUyRiUyRiUwQXNvbGlkKCklMEEuYWRkKGdyYWRpZW50KDMlMkMwLjA1KS5yb3RhdGUoMC4wNSUyQy0wLjIpLnBvc3Rlcml6ZSgyKS5jb250cmFzdCgwLjYpJTJDJTVCMSUyQzAlMkMxJTJDMC41JTJDMCUyQzAuNiU1RC5zbW9vdGgoMC45KSklMEEuYWRkKHMoKSklMEEubXVsdChzKCkuc2NhbGUoMC44KS5zY3JvbGxYKDAuMDEpLnNjcm9sbFkoLTAuMDEpLnJvdGF0ZSgwLjIlMkMwLjA2KS5hZGQoZ3JhZGllbnQoMykuY29udHJhc3QoMC42KSUyQyU1QjElMkMwJTJDMSUyQzAuNSU1RC5zbW9vdGgoMC45KSUyQzAuNSkubXVsdChzcmMobzApLnNjYWxlKDAuOTgpJTJDKCklM0QlM0VhLmZmdCU1QjAlNUQqOSklMEElMjAlMjAlMjAlMjAlMjApJTBBLmRpZmYocygpLm1vZHVsYXRlKHNoYXBlKDUwMCkpLnNjYWxlKCU1QjEuNyUyQzEuMiU1RC5zbW9vdGgoMC45KS5mYXN0KDAuMDUpKSklMEEuYWRkKGdyYWRpZW50KDIpLmludmVydCgpJTJDKCklM0QlM0VhLmZmdCU1QjIlNUQpJTBBLm11bHQoZ3JhZGllbnQoKCklM0QlM0VhLmZmdCU1QjMlNUQqOCkpJTBBLmJsZW5kKHNyYygobzApJTJDKCklM0QlM0VhLmZmdCU1QjElNUQqNDApKSUwQS5hZGQodm9yb25vaSgoKSUzRCUzRWEuZmZ0JTVCMSU1RCUyQygpJTNEJTNFYS5mZnQlNUIzJTVEJTJDKCklM0QlM0VhLmZmdCU1QjAlNUQpLnRocmVzaCgwLjcpLnBvc3Rlcml6ZSgyJTJDNCkubHVtYSgwLjkpLnNjcm9sbFkoMSUyQygpJTNEJTNFYS5mZnQlNUIwJTVEJTJGMzApLmNvbG9yYW1hKDMpLnRocmVzaCgoKSUzRCUzRWEuZmZ0JTVCMSU1RCkuc2NhbGUoKCklM0QlM0VhLmZmdCU1QjMlNUQqMiklMkMoKSUzRCUzRWEuZmZ0JTVCMCU1RCUyRjIpJTBBJTIwJTIwLm91dCgpJTBBJTJGJTJGJTBBc3BlZWQlM0QlMjAxJTBBJTBBYS5zZXRTbW9vdGgoMC45Nik="},{sketch_id:"eerie_ear_3",code:"JTJGJTJGJTIwZWVfMSUyMC4lMjBFWUUlMjBJTiUyMFRIRSUyMFNLWSUwQSUyRiUyRmV4YW1wbGUlMjBvZiUyMG1hc2slMjBhbmQlMjBmdW5jdGlvbiUyMG1vZHVsYXRpb24lMEElMkYlMkYlMjBlX2UlMjAlMkYlMkYlMjAlNDBlZXJpZV9lYXIlMEFub2lzZSgxOCklMEElMjAlMjAuY29sb3JhbWEoMSklMEElMjAlMjAucG9zdGVyaXplKDIpJTBBJTIwJTIwLmthbGVpZCg1MCklMEElMjAlMjAubWFzayglMEElMjAlMjAlMjAlMjBzaGFwZSgyNSUyQyUyMDAuMjUpLm1vZHVsYXRlU2NhbGUoJTBBJTIwJTIwJTIwJTIwJTIwJTIwbm9pc2UoNDAwLjUlMkMlMjAwLjUpJTBBJTIwJTIwJTIwJTIwKSUwQSUyMCUyMCklMEElMjAlMjAubWFzayhzaGFwZSg0MDAlMkMlMjAxJTJDJTIwMi4xMjUpKSUwQSUyMCUyMC5tb2R1bGF0ZVNjYWxlKG9zYyg2JTJDJTIwMC4xMjUlMkMlMjAwLjA1KS5rYWxlaWQoNTApKSUwQSUyMCUyMC5tdWx0KG9zYygyMCUyQyUyMDAuMDUlMkMlMjAyLjQpLmthbGVpZCg1MCklMkMlMjAwLjI1KSUwQSUyMCUyMC5zY2FsZSgxLjc1JTJDJTIwMC42NSUyQyUyMDAuNSklMEElMjAlMjAubW9kdWxhdGUobm9pc2UoMC41KSklMEElMjAlMjAuc2F0dXJhdGUoNiklMEElMjAlMjAucG9zdGVyaXplKDQlMkMlMjAwLjIpJTBBJTIwJTIwLnNjYWxlKDEuNSklMEElMjAlMjAub3V0KCklM0IlMEE="}],license="// licensed with CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/";class Gallery{constructor(t){this.sketches=[],this.examples=[],this.current=null,this.code=null,this.exampleIndex=null,this.examples=examples,this.setSketchFromURL(t),window.addEventListener("popstate",r=>{this.setSketchFromURL(t)}),this.setRandomSketch=this.setRandomSketch.bind(this)}clear(){this.current=null,this.code=null;let t=window.location.protocol+"//"+window.location.host+window.location.pathname;window.history.pushState({path:t},"",t),this.url=t}setSketchFromURL(t){hush(),render(o0);let r=new URLSearchParams(window.location.search);this.searchParams=r;let o=r.get("code"),u=r.get("sketch_id");if(this.foundSketch=!1,u){var f=this.getExampleById(u);f?(this.setSketch(f),t(this.code,!1)):request.get("/sketchById").query({sketch_id:u}).end((g,b)=>{g?(console.log("err getting sketches",g),this.setSketchFromCode(o,t)):(this.sketches=JSON.parse(b.text),this.sketches.length>0?(this.setSketch(this.sketches[0]),this.foundSketch=!0,t(this.code,this.foundSketch)):this.setSketchFromCode(o,t))})}else this.setSketchFromCode(o,t)}setSketchFromCode(t,r){t?(this.code=this.decodeBase64(t),this.foundSketch=!0):this.setRandomSketch(),r(this.code,this.foundSketch)}saveImage(){}setToURL(t){this.searchParams.delete("sketch_id"),this.searchParams.delete("code"),t.sketch_id?(`${t.sketch_id}`,this.searchParams.append("sketch_id",t.sketch_id)):(`${t.sketch_id}${t.code}`,this.searchParams.append("sketch_id",t.sketch_id),this.searchParams.append("code",t.code));let r=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+this.searchParams.toString();window.history.replaceState({path:r},"",r),this.url=r}encodeBase64(t){return btoa(encodeURIComponent(t))}decodeBase64(t){return decodeURIComponent(atob(t))}setSketch(t){let r=this.decodeBase64(t.code);r.indexOf(license)<0&&(r=`${license}
${r}
`),this.code=r,this.current=t,this.setToURL(t)}setRandomSketch(){if(this.examples.length>0){let r;for(r=Math.floor(Math.random()*this.examples.length);r===this.exampleIndex;)r=Math.floor(Math.random()*this.examples.length);this.exampleIndex=r,this.setSketch(this.examples[r])}else{var t="osc(2"+Math.floor(Math.pow(10,Math.random()*2))+")";t+=".color("+Math.random().toFixed(2)+","+Math.random().toFixed(2)+","+Math.random().toFixed(2)+")",t+=".rotate("+Math.random().toFixed(2)+")",t+=".out(o0)",this.code=t}}shareSketch(t,r,o){this.saveSketch(t,()=>{console.log("URL is",this.url,"sketch is",this.current),r.getScreenImage(u=>{request.post("/image").attach("previewImage",u).query({url:this.url,sketch_id:this.current.sketch_id,name:o}).end((f,g)=>{f?console.log("error postingimage",f):console.log("image response",g.text)})})})}saveSketch(t,r){let o=this,u=this.encodeBase64(t),f={code:u,parent:this.current?this.current.sketch_id:null};console.log("saving in gallery",f),request.post("/sketch").query(f).end((g,b)=>{g?(console.log("error posting sketch",g),r&&r(g)):(console.log("response",b.text),o.setSketch({sketch_id:b.text,code:u}),r&&r(null))})}saveLocally(t){let r=this.encodeBase64(t);this.searchParams.delete("sketch_id"),this.searchParams.delete("code"),this.searchParams.append("code",r);var o=this.searchParams.toString();let u=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+o;window.history.pushState({path:u},"",u),this.url=u}getExampleById(t){var r=this.examples.filter(o=>o.sketch_id===t);return r.length<=0&&(r=this.sketches.filter(o=>o.sketch_id===t)),r[0]}}var logElement;const log$1={init:e=>{logElement=e},log:(e,t="")=>{console.log("logging",e,t),logElement&&(logElement.innerHTML=` >> <span class=${t}> ${e} </span> `)},hide:()=>{logElement&&(logElement.style.display="none")},show:()=>{logElement&&(logElement.style.display="block")},toggle:()=>{logElement.style.display=="none"?logElement.style.display="block":logElement.style.display="none"}},log=log$1.log,repl={eval:(arg,callback)=>{var jsString=`(async() => {
    ${arg}
})().catch(${e=>log(e.message,"log-error")})`,isError=!1;try{eval(jsString),log("")}catch(e){isError=!0,console.log("logging",e),log(e.message,"log-error")}callback&&callback(jsString,isError)}};function store$1(e,t){e.showInfo=!0,e.showUI=!0;let r;t.on("DOMContentLoaded",function(){const u=e.editor.editor;r=new Gallery((f,g)=>{u.setValue(f),repl.eval(f),g?e.showInfo=!1:e.showInfo=!0,t.emit("render")})}),t.on("screencap",()=>{screencap();const f=e.editor.editor.getValue(),g=new Blob([f],{type:"text/plain"}),b=document.createElement("a");b.style.display="none";let S=new Date;b.download=`hydra-${S.getFullYear()}-${S.getMonth()+1}-${S.getDate()}-${S.getHours()}.${S.getMinutes()}.${S.getSeconds()}.js`,b.href=URL.createObjectURL(g),b.click(),setTimeout(()=>{window.URL.revokeObjectURL(b.href)},300)}),t.on("editor:randomize",function(u){const f=e.editor.editor;u.shiftKey?f.mutator.doUndo():(f.mutator.mutate({reroll:!1,changeTransform:u.metaKey}),f.formatCode(),r.saveLocally(f.getValue()))});function o(){const u=e.editor.editor;hush(),speed=1,r.clear(),u.clear()}t.on("editor:clearAll",function(){o()}),t.on("editor:evalAll",function(){const u=e.editor.editor,f=u.getValue();repl.eval(f,(g,b)=>{u.flashCode(),b||r.saveLocally(f)})}),t.on("editor:evalLine",u=>{repl.eval(u)}),t.on("editor:evalBlock",u=>{repl.eval(u)}),t.on("gallery:saveToURL",function(){const f=e.editor.editor.getValue();r.saveLocally(f)}),t.on("gallery:shareSketch",function(){let u=e.editor.editor;const f=u.getValue();repl.eval(u.getValue(),(g,b)=>{b?console.warn(b):showConfirmation(S=>{r.shareSketch(f,e.hydra.hydra,S)},()=>{})})}),t.on("gallery:showExample",()=>{const u=e.editor.editor;o(),r.setRandomSketch(),u.setValue(r.code),repl.eval(u.getValue())}),t.on("show confirmation",function(u){}),t.on("clear all",function(u){}),t.on("hideAll",function(){e.showUI=!e.showUI,t.emit("render")}),t.on("toggle info",function(u){e.showInfo=!e.showInfo,t.emit("render")}),t.on("mutate sketch",function(){})}function showConfirmation(e,t){var r=prompt(`Pressing OK will share this sketch to 
https://twitter.com/hydra_patterns.

Include your name or twitter handle (optional):`);r!==null?e(r):t()}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass$2(e,t,r){return t&&_defineProperties$2(e.prototype,t),r&&_defineProperties$2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(o,u){return o.__proto__=u,o},_setPrototypeOf(e,t)}function _inherits(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _possibleConstructorReturn(e,t){if(t&&(_typeof(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(e)}function _defineProperty$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach(function(o){_defineProperty$2(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var consoleLogger={type:"logger",log:function e(t){this.output("log",t)},warn:function e(t){this.output("warn",t)},error:function e(t){this.output("error",t)},output:function e(t,r){console&&console[t]&&console[t].apply(console,r)}},Logger=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$2(this,e),this.init(t,r)}return _createClass$2(e,[{key:"init",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=o.prefix||"i18next:",this.logger=r||consoleLogger,this.options=o,this.debug=o.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this.forward(o,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this.forward(o,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this.forward(o,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return this.forward(o,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,o,u,f){return f&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(u).concat(this.prefix," ").concat(r[0])),this.logger[o](r))}},{key:"create",value:function(r){return new e(this.logger,_objectSpread$1(_objectSpread$1({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}}]),e}(),baseLogger=new Logger,EventEmitter$2=function(){function e(){_classCallCheck$2(this,e),this.observers={}}return _createClass$2(e,[{key:"on",value:function(r,o){var u=this;return r.split(" ").forEach(function(f){u.observers[f]=u.observers[f]||[],u.observers[f].push(o)}),this}},{key:"off",value:function(r,o){if(this.observers[r]){if(!o){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(u){return u!==o})}}},{key:"emit",value:function(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),f=1;f<o;f++)u[f-1]=arguments[f];if(this.observers[r]){var g=[].concat(this.observers[r]);g.forEach(function(S){S.apply(void 0,u)})}if(this.observers["*"]){var b=[].concat(this.observers["*"]);b.forEach(function(S){S.apply(S,[r].concat(u))})}}}]),e}();function defer(){var e,t,r=new Promise(function(o,u){e=o,t=u});return r.resolve=e,r.reject=t,r}function makeString(e){return e==null?"":""+e}function copy(e,t,r){e.forEach(function(o){t[o]&&(r[o]=t[o])})}function getLastOfPath(e,t,r){function o(b){return b&&b.indexOf("###")>-1?b.replace(/###/g,"."):b}function u(){return!e||typeof e=="string"}for(var f=typeof t!="string"?[].concat(t):t.split(".");f.length>1;){if(u())return{};var g=o(f.shift());!e[g]&&r&&(e[g]=new r),Object.prototype.hasOwnProperty.call(e,g)?e=e[g]:e={}}return u()?{}:{obj:e,k:o(f.shift())}}function setPath(e,t,r){var o=getLastOfPath(e,t,Object),u=o.obj,f=o.k;u[f]=r}function pushPath(e,t,r,o){var u=getLastOfPath(e,t,Object),f=u.obj,g=u.k;f[g]=f[g]||[],o&&(f[g]=f[g].concat(r)),o||f[g].push(r)}function getPath(e,t){var r=getLastOfPath(e,t),o=r.obj,u=r.k;if(o)return o[u]}function getPathWithDefaults(e,t,r){var o=getPath(e,r);return o!==void 0?o:getPath(t,r)}function deepExtend(e,t,r){for(var o in t)o!=="__proto__"&&o!=="constructor"&&(o in e?typeof e[o]=="string"||e[o]instanceof String||typeof t[o]=="string"||t[o]instanceof String?r&&(e[o]=t[o]):deepExtend(e[o],t[o],r):e[o]=t[o]);return e}function regexEscape(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return _entityMap[t]}):e}var isIE10=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,chars=[" ",",","?","!",";"];function looksLikeObjectPath(e,t,r){t=t||"",r=r||"";var o=chars.filter(function(b){return t.indexOf(b)<0&&r.indexOf(b)<0});if(o.length===0)return!0;var u=new RegExp("(".concat(o.map(function(b){return b==="?"?"\\?":b}).join("|"),")")),f=!u.test(e);if(!f){var g=e.indexOf(r);g>0&&!u.test(e.substring(0,g))&&(f=!0)}return f}function ownKeys$1$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$1$1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1$1(Object(r),!0).forEach(function(o){_defineProperty$2(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1$1(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var o=_getPrototypeOf(e),u;if(t){var f=_getPrototypeOf(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function deepFind(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var o=t.split(r),u=e,f=0;f<o.length;++f){if(!u||typeof u[o[f]]=="string"&&f+1<o.length)return;if(u[o[f]]===void 0){for(var g=2,b=o.slice(f,f+g).join(r),S=u[b];S===void 0&&o.length>f+g;)g++,b=o.slice(f,f+g).join(r),S=u[b];if(S===void 0)return;if(t.endsWith(b)){if(typeof S=="string")return S;if(b&&typeof S[b]=="string")return S[b]}var T=o.slice(f+g).join(r);return T?deepFind(S,T,r):void 0}u=u[o[f]]}return u}}var ResourceStore=function(e){_inherits(r,e);var t=_createSuper(r);function r(o){var u,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck$2(this,r),u=t.call(this),isIE10&&EventEmitter$2.call(_assertThisInitialized(u)),u.data=o||{},u.options=f,u.options.keySeparator===void 0&&(u.options.keySeparator="."),u.options.ignoreJSONStructure===void 0&&(u.options.ignoreJSONStructure=!0),u}return _createClass$2(r,[{key:"addNamespaces",value:function(u){this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}},{key:"removeNamespaces",value:function(u){var f=this.options.ns.indexOf(u);f>-1&&this.options.ns.splice(f,1)}},{key:"getResource",value:function(u,f,g){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=b.keySeparator!==void 0?b.keySeparator:this.options.keySeparator,T=b.ignoreJSONStructure!==void 0?b.ignoreJSONStructure:this.options.ignoreJSONStructure,$=[u,f];g&&typeof g!="string"&&($=$.concat(g)),g&&typeof g=="string"&&($=$.concat(S?g.split(S):g)),u.indexOf(".")>-1&&($=u.split("."));var A=getPath(this.data,$);return A||!T||typeof g!="string"?A:deepFind(this.data&&this.data[u]&&this.data[u][f],g,S)}},{key:"addResource",value:function(u,f,g,b){var S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},T=this.options.keySeparator;T===void 0&&(T=".");var $=[u,f];g&&($=$.concat(T?g.split(T):g)),u.indexOf(".")>-1&&($=u.split("."),b=f,f=$[1]),this.addNamespaces(f),setPath(this.data,$,b),S.silent||this.emit("added",u,f,g,b)}},{key:"addResources",value:function(u,f,g){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var S in g)(typeof g[S]=="string"||Object.prototype.toString.apply(g[S])==="[object Array]")&&this.addResource(u,f,S,g[S],{silent:!0});b.silent||this.emit("added",u,f,g)}},{key:"addResourceBundle",value:function(u,f,g,b,S){var T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},$=[u,f];u.indexOf(".")>-1&&($=u.split("."),b=g,g=f,f=$[1]),this.addNamespaces(f);var A=getPath(this.data,$)||{};b?deepExtend(A,g,S):A=_objectSpread$1$1(_objectSpread$1$1({},A),g),setPath(this.data,$,A),T.silent||this.emit("added",u,f,g)}},{key:"removeResourceBundle",value:function(u,f){this.hasResourceBundle(u,f)&&delete this.data[u][f],this.removeNamespaces(f),this.emit("removed",u,f)}},{key:"hasResourceBundle",value:function(u,f){return this.getResource(u,f)!==void 0}},{key:"getResourceBundle",value:function(u,f){return f||(f=this.options.defaultNS),this.options.compatibilityAPI==="v1"?_objectSpread$1$1(_objectSpread$1$1({},{}),this.getResource(u,f)):this.getResource(u,f)}},{key:"getDataByLanguage",value:function(u){return this.data[u]}},{key:"hasLanguageSomeTranslations",value:function(u){var f=this.getDataByLanguage(u),g=f&&Object.keys(f)||[];return!!g.find(function(b){return f[b]&&Object.keys(f[b]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(EventEmitter$2),postProcessor={processors:{},addPostProcessor:function e(t){this.processors[t.name]=t},handle:function e(t,r,o,u,f){var g=this;return t.forEach(function(b){g.processors[b]&&(r=g.processors[b].process(r,o,u,f))}),r}};function ownKeys$2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$2(Object(r),!0).forEach(function(o){_defineProperty$2(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _createSuper$1(e){var t=_isNativeReflectConstruct$1();return function(){var o=_getPrototypeOf(e),u;if(t){var f=_getPrototypeOf(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var checkedLoadedFor={},Translator=function(e){_inherits(r,e);var t=_createSuper$1(r);function r(o){var u,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _classCallCheck$2(this,r),u=t.call(this),isIE10&&EventEmitter$2.call(_assertThisInitialized(u)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o,_assertThisInitialized(u)),u.options=f,u.options.keySeparator===void 0&&(u.options.keySeparator="."),u.logger=baseLogger.create("translator"),u}return _createClass$2(r,[{key:"changeLanguage",value:function(u){u&&(this.language=u)}},{key:"exists",value:function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(u==null)return!1;var g=this.resolve(u,f);return g&&g.res!==void 0}},{key:"extractFromKey",value:function(u,f){var g=f.nsSeparator!==void 0?f.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");var b=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,S=f.ns||this.options.defaultNS||[],T=g&&u.indexOf(g)>-1,$=!this.options.userDefinedKeySeparator&&!f.keySeparator&&!this.options.userDefinedNsSeparator&&!f.nsSeparator&&!looksLikeObjectPath(u,g,b);if(T&&!$){var A=u.match(this.interpolator.nestingRegexp);if(A&&A.length>0)return{key:u,namespaces:S};var M=u.split(g);(g!==b||g===b&&this.options.ns.indexOf(M[0])>-1)&&(S=M.shift()),u=M.join(b)}return typeof S=="string"&&(S=[S]),{key:u,namespaces:S}}},{key:"translate",value:function(u,f,g){var b=this;if(_typeof(f)!=="object"&&this.options.overloadTranslationOptionHandler&&(f=this.options.overloadTranslationOptionHandler(arguments)),f||(f={}),u==null)return"";Array.isArray(u)||(u=[String(u)]);var S=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,T=this.extractFromKey(u[u.length-1],f),$=T.key,A=T.namespaces,M=A[A.length-1],O=f.lng||this.language,D=f.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(O&&O.toLowerCase()==="cimode"){if(D){var U=f.nsSeparator||this.options.nsSeparator;return M+U+$}return $}var F=this.resolve(u,f),P=F&&F.res,oe=F&&F.usedKey||$,Me=F&&F.exactUsedKey||$,he=Object.prototype.toString.apply(P),de=["[object Number]","[object Function]","[object RegExp]"],xe=f.joinArrays!==void 0?f.joinArrays:this.options.joinArrays,Ce=!this.i18nFormat||this.i18nFormat.handleAsObject,De=typeof P!="string"&&typeof P!="boolean"&&typeof P!="number";if(Ce&&P&&De&&de.indexOf(he)<0&&!(typeof xe=="string"&&he==="[object Array]")){if(!f.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(oe,P,_objectSpread$2(_objectSpread$2({},f),{},{ns:A})):"key '".concat($," (").concat(this.language,")' returned an object instead of string.");if(S){var et=he==="[object Array]",Ve=et?[]:{},Ze=et?Me:oe;for(var se in P)if(Object.prototype.hasOwnProperty.call(P,se)){var me="".concat(Ze).concat(S).concat(se);Ve[se]=this.translate(me,_objectSpread$2(_objectSpread$2({},f),{joinArrays:!1,ns:A})),Ve[se]===me&&(Ve[se]=P[se])}P=Ve}}else if(Ce&&typeof xe=="string"&&he==="[object Array]")P=P.join(xe),P&&(P=this.extendTranslation(P,u,f,g));else{var Se=!1,Y=!1,Q=f.count!==void 0&&typeof f.count!="string",G=r.hasDefaultValue(f),H=Q?this.pluralResolver.getSuffix(O,f.count,f):"",ve=f["defaultValue".concat(H)]||f.defaultValue;!this.isValidLookup(P)&&G&&(Se=!0,P=ve),this.isValidLookup(P)||(Y=!0,P=$);var Ue=f.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,qe=Ue&&Y?void 0:P,ut=G&&ve!==P&&this.options.updateMissing;if(Y||Se||ut){if(this.logger.log(ut?"updateKey":"missingKey",O,M,$,ut?ve:P),S){var gt=this.resolve($,_objectSpread$2(_objectSpread$2({},f),{},{keySeparator:!1}));gt&&gt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var wt=[],Ct=this.languageUtils.getFallbackCodes(this.options.fallbackLng,f.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ct&&Ct[0])for(var er=0;er<Ct.length;er++)wt.push(Ct[er]);else this.options.saveMissingTo==="all"?wt=this.languageUtils.toResolveHierarchy(f.lng||this.language):wt.push(f.lng||this.language);var Ut=function(pr,Mr,Hr){var or=G&&Hr!==P?Hr:qe;b.options.missingKeyHandler?b.options.missingKeyHandler(pr,M,Mr,or,ut,f):b.backendConnector&&b.backendConnector.saveMissing&&b.backendConnector.saveMissing(pr,M,Mr,or,ut,f),b.emit("missingKey",pr,M,Mr,P)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Q?wt.forEach(function(_r){b.pluralResolver.getSuffixes(_r,f).forEach(function(pr){Ut([_r],$+pr,f["defaultValue".concat(pr)]||ve)})}):Ut(wt,$,ve))}P=this.extendTranslation(P,u,f,F,g),Y&&P===$&&this.options.appendNamespaceToMissingKey&&(P="".concat(M,":").concat($)),(Y||Se)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?P=this.options.parseMissingKeyHandler($,Se?P:void 0):P=this.options.parseMissingKeyHandler(P))}return P}},{key:"extendTranslation",value:function(u,f,g,b,S){var T=this;if(this.i18nFormat&&this.i18nFormat.parse)u=this.i18nFormat.parse(u,g,b.usedLng,b.usedNS,b.usedKey,{resolved:b});else if(!g.skipInterpolation){g.interpolation&&this.interpolator.init(_objectSpread$2(_objectSpread$2({},g),{interpolation:_objectSpread$2(_objectSpread$2({},this.options.interpolation),g.interpolation)}));var $=typeof u=="string"&&(g&&g.interpolation&&g.interpolation.skipOnVariables!==void 0?g.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),A;if($){var M=u.match(this.interpolator.nestingRegexp);A=M&&M.length}var O=g.replace&&typeof g.replace!="string"?g.replace:g;if(this.options.interpolation.defaultVariables&&(O=_objectSpread$2(_objectSpread$2({},this.options.interpolation.defaultVariables),O)),u=this.interpolator.interpolate(u,O,g.lng||this.language,g),$){var D=u.match(this.interpolator.nestingRegexp),U=D&&D.length;A<U&&(g.nest=!1)}g.nest!==!1&&(u=this.interpolator.nest(u,function(){for(var oe=arguments.length,Me=new Array(oe),he=0;he<oe;he++)Me[he]=arguments[he];return S&&S[0]===Me[0]&&!g.context?(T.logger.warn("It seems you are nesting recursively key: ".concat(Me[0]," in key: ").concat(f[0])),null):T.translate.apply(T,Me.concat([f]))},g)),g.interpolation&&this.interpolator.reset()}var F=g.postProcess||this.options.postProcess,P=typeof F=="string"?[F]:F;return u!=null&&P&&P.length&&g.applyPostProcessor!==!1&&(u=postProcessor.handle(P,u,f,this.options&&this.options.postProcessPassResolved?_objectSpread$2({i18nResolved:b},g):g,this)),u}},{key:"resolve",value:function(u){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b,S,T,$,A;return typeof u=="string"&&(u=[u]),u.forEach(function(M){if(!f.isValidLookup(b)){var O=f.extractFromKey(M,g),D=O.key;S=D;var U=O.namespaces;f.options.fallbackNS&&(U=U.concat(f.options.fallbackNS));var F=g.count!==void 0&&typeof g.count!="string",P=F&&!g.ordinal&&g.count===0&&f.pluralResolver.shouldUseIntlApi(),oe=g.context!==void 0&&(typeof g.context=="string"||typeof g.context=="number")&&g.context!=="",Me=g.lngs?g.lngs:f.languageUtils.toResolveHierarchy(g.lng||f.language,g.fallbackLng);U.forEach(function(he){f.isValidLookup(b)||(A=he,!checkedLoadedFor["".concat(Me[0],"-").concat(he)]&&f.utils&&f.utils.hasLoadedNamespace&&!f.utils.hasLoadedNamespace(A)&&(checkedLoadedFor["".concat(Me[0],"-").concat(he)]=!0,f.logger.warn('key "'.concat(S,'" for languages "').concat(Me.join(", "),`" won't get resolved as namespace "`).concat(A,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Me.forEach(function(de){if(!f.isValidLookup(b)){$=de;var xe=[D];if(f.i18nFormat&&f.i18nFormat.addLookupKeys)f.i18nFormat.addLookupKeys(xe,D,de,he,g);else{var Ce;F&&(Ce=f.pluralResolver.getSuffix(de,g.count,g));var De="_zero";if(F&&(xe.push(D+Ce),P&&xe.push(D+De)),oe){var et="".concat(D).concat(f.options.contextSeparator).concat(g.context);xe.push(et),F&&(xe.push(et+Ce),P&&xe.push(et+De))}}for(var Ve;Ve=xe.pop();)f.isValidLookup(b)||(T=Ve,b=f.getResource(de,he,Ve,g))}}))})}}),{res:b,usedKey:S,exactUsedKey:T,usedLng:$,usedNS:A}}},{key:"isValidLookup",value:function(u){return u!==void 0&&!(!this.options.returnNull&&u===null)&&!(!this.options.returnEmptyString&&u==="")}},{key:"getResource",value:function(u,f,g){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(u,f,g,b):this.resourceStore.getResource(u,f,g,b)}}],[{key:"hasDefaultValue",value:function(u){var f="defaultValue";for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&f===g.substring(0,f.length)&&u[g]!==void 0)return!0;return!1}}]),r}(EventEmitter$2);function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}var LanguageUtil=function(){function e(t){_classCallCheck$2(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}return _createClass$2(e,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var o=r.split("-");return o.length===2||(o.pop(),o[o.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(o.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var o=r.split("-");return this.formatLanguageCode(o[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var o=["hans","hant","latn","cyrl","cans","mong","arab"],u=r.split("-");return this.options.lowerCaseLng?u=u.map(function(f){return f.toLowerCase()}):u.length===2?(u[0]=u[0].toLowerCase(),u[1]=u[1].toUpperCase(),o.indexOf(u[1].toLowerCase())>-1&&(u[1]=capitalize(u[1].toLowerCase()))):u.length===3&&(u[0]=u[0].toLowerCase(),u[1].length===2&&(u[1]=u[1].toUpperCase()),u[0]!=="sgn"&&u[2].length===2&&(u[2]=u[2].toUpperCase()),o.indexOf(u[1].toLowerCase())>-1&&(u[1]=capitalize(u[1].toLowerCase())),o.indexOf(u[2].toLowerCase())>-1&&(u[2]=capitalize(u[2].toLowerCase()))),u.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var o=this;if(!r)return null;var u;return r.forEach(function(f){if(!u){var g=o.formatLanguageCode(f);(!o.options.supportedLngs||o.isSupportedCode(g))&&(u=g)}}),!u&&this.options.supportedLngs&&r.forEach(function(f){if(!u){var g=o.getLanguagePartFromCode(f);if(o.isSupportedCode(g))return u=g;u=o.options.supportedLngs.find(function(b){if(b.indexOf(g)===0)return b})}}),u||(u=this.getFallbackCodes(this.options.fallbackLng)[0]),u}},{key:"getFallbackCodes",value:function(r,o){if(!r)return[];if(typeof r=="function"&&(r=r(o)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!o)return r.default||[];var u=r[o];return u||(u=r[this.getScriptPartFromCode(o)]),u||(u=r[this.formatLanguageCode(o)]),u||(u=r[this.getLanguagePartFromCode(o)]),u||(u=r.default),u||[]}},{key:"toResolveHierarchy",value:function(r,o){var u=this,f=this.getFallbackCodes(o||this.options.fallbackLng||[],r),g=[],b=function(T){T&&(u.isSupportedCode(T)?g.push(T):u.logger.warn("rejecting language code not found in supportedLngs: ".concat(T)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&b(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&b(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&b(this.getLanguagePartFromCode(r))):typeof r=="string"&&b(this.formatLanguageCode(r)),f.forEach(function(S){g.indexOf(S)<0&&b(u.formatLanguageCode(S))}),g}}]),e}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function e(t){return+(t>1)},2:function e(t){return+(t!=1)},3:function e(t){return 0},4:function e(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function e(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function e(t){return t==1?0:t>=2&&t<=4?1:2},7:function e(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function e(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function e(t){return+(t>=2)},10:function e(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function e(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function e(t){return+(t%10!=1||t%100==11)},13:function e(t){return+(t!==0)},14:function e(t){return t==1?0:t==2?1:t==3?2:3},15:function e(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function e(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function e(t){return t==1||t%10==1&&t%100!=11?0:1},18:function e(t){return t==0?0:t==1?1:2},19:function e(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function e(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function e(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function e(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},deprecatedJsonVersions=["v1","v2","v3"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){var e={};return sets.forEach(function(t){t.lngs.forEach(function(r){e[r]={numbers:t.nr,plurals:_rulesPluralsTypes[t.fc]}})}),e}var PluralResolver=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$2(this,e),this.languageUtils=t,this.options=r,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}return _createClass$2(e,[{key:"addRule",value:function(r,o){this.rules[r]=o}},{key:"getRule",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:o.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.getRule(r,o);return this.shouldUseIntlApi()?u&&u.resolvedOptions().pluralCategories.length>1:u&&u.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,u).map(function(f){return"".concat(o).concat(f)})}},{key:"getSuffixes",value:function(r){var o=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=this.getRule(r,u);return f?this.shouldUseIntlApi()?f.resolvedOptions().pluralCategories.sort(function(g,b){return suffixesOrder[g]-suffixesOrder[b]}).map(function(g){return"".concat(o.options.prepend).concat(g)}):f.numbers.map(function(g){return o.getSuffix(r,g,u)}):[]}},{key:"getSuffix",value:function(r,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=this.getRule(r,u);return f?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(f.select(o)):this.getSuffixRetroCompatible(f,o):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,o){var u=this,f=r.noAbs?r.plurals(o):r.plurals(Math.abs(o)),g=r.numbers[f];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(g===2?g="plural":g===1&&(g=""));var b=function(){return u.options.prepend&&g.toString()?u.options.prepend+g.toString():g.toString()};return this.options.compatibilityJSON==="v1"?g===1?"":typeof g=="number"?"_plural_".concat(g.toString()):b():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?b():this.options.prepend&&f.toString()?this.options.prepend+f.toString():f.toString()}},{key:"shouldUseIntlApi",value:function(){return!deprecatedJsonVersions.includes(this.options.compatibilityJSON)}}]),e}();function ownKeys$3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$3(Object(r),!0).forEach(function(o){_defineProperty$2(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var Interpolator=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$2(this,e),this.logger=baseLogger.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return _createClass$2(e,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var o=r.interpolation;this.escape=o.escape!==void 0?o.escape:escape$1,this.escapeValue=o.escapeValue!==void 0?o.escapeValue:!0,this.useRawValueToEscape=o.useRawValueToEscape!==void 0?o.useRawValueToEscape:!1,this.prefix=o.prefix?regexEscape(o.prefix):o.prefixEscaped||"{{",this.suffix=o.suffix?regexEscape(o.suffix):o.suffixEscaped||"}}",this.formatSeparator=o.formatSeparator?o.formatSeparator:o.formatSeparator||",",this.unescapePrefix=o.unescapeSuffix?"":o.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":o.unescapeSuffix||"",this.nestingPrefix=o.nestingPrefix?regexEscape(o.nestingPrefix):o.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=o.nestingSuffix?regexEscape(o.nestingSuffix):o.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=o.nestingOptionsSeparator?o.nestingOptionsSeparator:o.nestingOptionsSeparator||",",this.maxReplaces=o.maxReplaces?o.maxReplaces:1e3,this.alwaysFormat=o.alwaysFormat!==void 0?o.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var o="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(o,"g");var u="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(u,"g")}},{key:"interpolate",value:function(r,o,u,f){var g=this,b,S,T,$=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function A(F){return F.replace(/\$/g,"$$$$")}var M=function(P){if(P.indexOf(g.formatSeparator)<0){var oe=getPathWithDefaults(o,$,P);return g.alwaysFormat?g.format(oe,void 0,u,_objectSpread$3(_objectSpread$3(_objectSpread$3({},f),o),{},{interpolationkey:P})):oe}var Me=P.split(g.formatSeparator),he=Me.shift().trim(),de=Me.join(g.formatSeparator).trim();return g.format(getPathWithDefaults(o,$,he),de,u,_objectSpread$3(_objectSpread$3(_objectSpread$3({},f),o),{},{interpolationkey:he}))};this.resetRegExp();var O=f&&f.missingInterpolationHandler||this.options.missingInterpolationHandler,D=f&&f.interpolation&&f.interpolation.skipOnVariables!==void 0?f.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,U=[{regex:this.regexpUnescape,safeValue:function(P){return A(P)}},{regex:this.regexp,safeValue:function(P){return g.escapeValue?A(g.escape(P)):A(P)}}];return U.forEach(function(F){for(T=0;b=F.regex.exec(r);){var P=b[1].trim();if(S=M(P),S===void 0)if(typeof O=="function"){var oe=O(r,b,f);S=typeof oe=="string"?oe:""}else if(f&&f.hasOwnProperty(P))S="";else if(D){S=b[0];continue}else g.logger.warn("missed to pass in variable ".concat(P," for interpolating ").concat(r)),S="";else typeof S!="string"&&!g.useRawValueToEscape&&(S=makeString(S));var Me=F.safeValue(S);if(r=r.replace(b[0],Me),D?(F.regex.lastIndex+=Me.length,F.regex.lastIndex-=b[0].length):F.regex.lastIndex=0,T++,T>=g.maxReplaces)break}}),r}},{key:"nest",value:function(r,o){var u=this,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g,b,S=_objectSpread$3({},f);S.applyPostProcessor=!1,delete S.defaultValue;function T(O,D){var U=this.nestingOptionsSeparator;if(O.indexOf(U)<0)return O;var F=O.split(new RegExp("".concat(U,"[ ]*{"))),P="{".concat(F[1]);O=F[0],P=this.interpolate(P,S),P=P.replace(/'/g,'"');try{S=JSON.parse(P),D&&(S=_objectSpread$3(_objectSpread$3({},D),S))}catch(oe){return this.logger.warn("failed parsing options string in nesting for key ".concat(O),oe),"".concat(O).concat(U).concat(P)}return delete S.defaultValue,O}for(;g=this.nestingRegexp.exec(r);){var $=[],A=!1;if(g[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(g[1])){var M=g[1].split(this.formatSeparator).map(function(O){return O.trim()});g[1]=M.shift(),$=M,A=!0}if(b=o(T.call(this,g[1].trim(),S),S),b&&g[0]===r&&typeof b!="string")return b;typeof b!="string"&&(b=makeString(b)),b||(this.logger.warn("missed to resolve ".concat(g[1]," for nesting ").concat(r)),b=""),A&&(b=$.reduce(function(O,D){return u.format(O,D,f.lng,_objectSpread$3(_objectSpread$3({},f),{},{interpolationkey:g[1].trim()}))},b.trim())),r=r.replace(g[0],b),this.regexp.lastIndex=0}return r}}]),e}();function ownKeys$4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$4(Object(r),!0).forEach(function(o){_defineProperty$2(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$4(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function parseFormatStr(e){var t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var o=e.split("(");t=o[0].toLowerCase().trim();var u=o[1].substring(0,o[1].length-1);if(t==="currency"&&u.indexOf(":")<0)r.currency||(r.currency=u.trim());else if(t==="relativetime"&&u.indexOf(":")<0)r.range||(r.range=u.trim());else{var f=u.split(";");f.forEach(function(g){if(g){var b=g.split(":"),S=_toArray(b),T=S[0],$=S.slice(1),A=$.join(":");r[T.trim()]||(r[T.trim()]=A.trim()),A.trim()==="false"&&(r[T.trim()]=!1),A.trim()==="true"&&(r[T.trim()]=!0),isNaN(A.trim())||(r[T.trim()]=parseInt(A.trim(),10))}})}}return{formatName:t,formatOptions:r}}var Formatter=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$2(this,e),this.logger=baseLogger.create("formatter"),this.options=t,this.formats={number:function(o,u,f){return new Intl.NumberFormat(u,f).format(o)},currency:function(o,u,f){return new Intl.NumberFormat(u,_objectSpread$4(_objectSpread$4({},f),{},{style:"currency"})).format(o)},datetime:function(o,u,f){return new Intl.DateTimeFormat(u,_objectSpread$4({},f)).format(o)},relativetime:function(o,u,f){return new Intl.RelativeTimeFormat(u,_objectSpread$4({},f)).format(o,f.range||"day")},list:function(o,u,f){return new Intl.ListFormat(u,_objectSpread$4({},f)).format(o)}},this.init(t)}return _createClass$2(e,[{key:"init",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},u=o.interpolation;this.formatSeparator=u.formatSeparator?u.formatSeparator:u.formatSeparator||","}},{key:"add",value:function(r,o){this.formats[r.toLowerCase().trim()]=o}},{key:"format",value:function(r,o,u,f){var g=this,b=o.split(this.formatSeparator),S=b.reduce(function(T,$){var A=parseFormatStr($),M=A.formatName,O=A.formatOptions;if(g.formats[M]){var D=T;try{var U=f&&f.formatParams&&f.formatParams[f.interpolationkey]||{},F=U.locale||U.lng||f.locale||f.lng||u;D=g.formats[M](T,F,_objectSpread$4(_objectSpread$4(_objectSpread$4({},O),f),U))}catch(P){g.logger.warn(P)}return D}else g.logger.warn("there was no format function for ".concat(M));return T},r);return S}}]),e}();function ownKeys$5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$5(Object(r),!0).forEach(function(o){_defineProperty$2(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$5(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _createSuper$2(e){var t=_isNativeReflectConstruct$2();return function(){var o=_getPrototypeOf(e),u;if(t){var f=_getPrototypeOf(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function remove(e,t){for(var r=e.indexOf(t);r!==-1;)e.splice(r,1),r=e.indexOf(t)}var Connector=function(e){_inherits(r,e);var t=_createSuper$2(r);function r(o,u,f){var g,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return _classCallCheck$2(this,r),g=t.call(this),isIE10&&EventEmitter$2.call(_assertThisInitialized(g)),g.backend=o,g.store=u,g.services=f,g.languageUtils=f.languageUtils,g.options=b,g.logger=baseLogger.create("backendConnector"),g.state={},g.queue=[],g.backend&&g.backend.init&&g.backend.init(f,b.backend,b),g}return _createClass$2(r,[{key:"queueLoad",value:function(u,f,g,b){var S=this,T=[],$=[],A=[],M=[];return u.forEach(function(O){var D=!0;f.forEach(function(U){var F="".concat(O,"|").concat(U);!g.reload&&S.store.hasResourceBundle(O,U)?S.state[F]=2:S.state[F]<0||(S.state[F]===1?$.indexOf(F)<0&&$.push(F):(S.state[F]=1,D=!1,$.indexOf(F)<0&&$.push(F),T.indexOf(F)<0&&T.push(F),M.indexOf(U)<0&&M.push(U)))}),D||A.push(O)}),(T.length||$.length)&&this.queue.push({pending:$,loaded:{},errors:[],callback:b}),{toLoad:T,pending:$,toLoadLanguages:A,toLoadNamespaces:M}}},{key:"loaded",value:function(u,f,g){var b=u.split("|"),S=b[0],T=b[1];f&&this.emit("failedLoading",S,T,f),g&&this.store.addResourceBundle(S,T,g),this.state[u]=f?-1:2;var $={};this.queue.forEach(function(A){pushPath(A.loaded,[S],T),remove(A.pending,u),f&&A.errors.push(f),A.pending.length===0&&!A.done&&(Object.keys(A.loaded).forEach(function(M){$[M]||($[M]=[]),A.loaded[M].length&&A.loaded[M].forEach(function(O){$[M].indexOf(O)<0&&$[M].push(O)})}),A.done=!0,A.errors.length?A.callback(A.errors):A.callback())}),this.emit("loaded",$),this.queue=this.queue.filter(function(A){return!A.done})}},{key:"read",value:function(u,f,g){var b=this,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,$=arguments.length>5?arguments[5]:void 0;return u.length?this.backend[g](u,f,function(A,M){if(A&&M&&S<5){setTimeout(function(){b.read.call(b,u,f,g,S+1,T*2,$)},T);return}$(A,M)}):$(null,{})}},{key:"prepareLoading",value:function(u,f){var g=this,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),S&&S();typeof u=="string"&&(u=this.languageUtils.toResolveHierarchy(u)),typeof f=="string"&&(f=[f]);var T=this.queueLoad(u,f,b,S);if(!T.toLoad.length)return T.pending.length||S(),null;T.toLoad.forEach(function($){g.loadOne($)})}},{key:"load",value:function(u,f,g){this.prepareLoading(u,f,{},g)}},{key:"reload",value:function(u,f,g){this.prepareLoading(u,f,{reload:!0},g)}},{key:"loadOne",value:function(u){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",b=u.split("|"),S=b[0],T=b[1];this.read(S,T,"read",void 0,void 0,function($,A){$&&f.logger.warn("".concat(g,"loading namespace ").concat(T," for language ").concat(S," failed"),$),!$&&A&&f.logger.log("".concat(g,"loaded namespace ").concat(T," for language ").concat(S),A),f.loaded(u,$,A)})}},{key:"saveMissing",value:function(u,f,g,b,S){var T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(f)){this.logger.warn('did not save key "'.concat(g,'" as the namespace "').concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}g==null||g===""||(this.backend&&this.backend.create&&this.backend.create(u,f,g,b,null,_objectSpread$5(_objectSpread$5({},T),{},{isUpdate:S})),!(!u||!u[0])&&this.store.addResource(u[0],f,g,b))}}]),r}(EventEmitter$2);function get$1(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(_typeof(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),_typeof(t[2])==="object"||_typeof(t[3])==="object"){var o=t[3]||t[2];Object.keys(o).forEach(function(u){r[u]=o[u]})}return r},interpolation:{escapeValue:!0,format:function(t,r,o,u){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ownKeys$6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$6(Object(r),!0).forEach(function(o){_defineProperty$2(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$6(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _createSuper$3(e){var t=_isNativeReflectConstruct$3();return function(){var o=_getPrototypeOf(e),u;if(t){var f=_getPrototypeOf(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function noop$3(){}function bindMemberFunctions(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(r){typeof e[r]=="function"&&(e[r]=e[r].bind(e))})}var I18n=function(e){_inherits(r,e);var t=_createSuper$3(r);function r(){var o,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;if(_classCallCheck$2(this,r),o=t.call(this),isIE10&&EventEmitter$2.call(_assertThisInitialized(o)),o.options=transformOptions(u),o.services={},o.logger=baseLogger,o.modules={external:[]},bindMemberFunctions(_assertThisInitialized(o)),f&&!o.isInitialized&&!u.isClone){if(!o.options.initImmediate)return o.init(u,f),_possibleConstructorReturn(o,_assertThisInitialized(o));setTimeout(function(){o.init(u,f)},0)}return o}return _createClass$2(r,[{key:"init",value:function(){var u=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1?arguments[1]:void 0;typeof f=="function"&&(g=f,f={}),!f.defaultNS&&f.ns&&(typeof f.ns=="string"?f.defaultNS=f.ns:f.ns.indexOf("translation")<0&&(f.defaultNS=f.ns[0]));var b=get$1();this.options=_objectSpread$6(_objectSpread$6(_objectSpread$6({},b),this.options),transformOptions(f)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_objectSpread$6(_objectSpread$6({},b.interpolation),this.options.interpolation)),f.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=f.keySeparator),f.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=f.nsSeparator);function S(P){return P?typeof P=="function"?new P:P:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(S(this.modules.logger),this.options):baseLogger.init(null,this.options);var T;this.modules.formatter?T=this.modules.formatter:typeof Intl<"u"&&(T=Formatter);var $=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var A=this.services;A.logger=baseLogger,A.resourceStore=this.store,A.languageUtils=$,A.pluralResolver=new PluralResolver($,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),T&&(!this.options.interpolation.format||this.options.interpolation.format===b.interpolation.format)&&(A.formatter=S(T),A.formatter.init(A,this.options),this.options.interpolation.format=A.formatter.format.bind(A.formatter)),A.interpolator=new Interpolator(this.options),A.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},A.backendConnector=new Connector(S(this.modules.backend),A.resourceStore,A,this.options),A.backendConnector.on("*",function(P){for(var oe=arguments.length,Me=new Array(oe>1?oe-1:0),he=1;he<oe;he++)Me[he-1]=arguments[he];u.emit.apply(u,[P].concat(Me))}),this.modules.languageDetector&&(A.languageDetector=S(this.modules.languageDetector),A.languageDetector.init(A,this.options.detection,this.options)),this.modules.i18nFormat&&(A.i18nFormat=S(this.modules.i18nFormat),A.i18nFormat.init&&A.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(P){for(var oe=arguments.length,Me=new Array(oe>1?oe-1:0),he=1;he<oe;he++)Me[he-1]=arguments[he];u.emit.apply(u,[P].concat(Me))}),this.modules.external.forEach(function(P){P.init&&P.init(u)})}if(this.format=this.options.interpolation.format,g||(g=noop$3),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var M=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);M.length>0&&M[0]!=="dev"&&(this.options.lng=M[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var O=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];O.forEach(function(P){u[P]=function(){var oe;return(oe=u.store)[P].apply(oe,arguments)}});var D=["addResource","addResources","addResourceBundle","removeResourceBundle"];D.forEach(function(P){u[P]=function(){var oe;return(oe=u.store)[P].apply(oe,arguments),u}});var U=defer(),F=function(){var oe=function(he,de){u.isInitialized&&!u.initializedStoreOnce&&u.logger.warn("init: i18next is already initialized. You should call init just once!"),u.isInitialized=!0,u.options.isClone||u.logger.log("initialized",u.options),u.emit("initialized",u.options),U.resolve(de),g(he,de)};if(u.languages&&u.options.compatibilityAPI!=="v1"&&!u.isInitialized)return oe(null,u.t.bind(u));u.changeLanguage(u.options.lng,oe)};return this.options.resources||!this.options.initImmediate?F():setTimeout(F,0),U}},{key:"loadResources",value:function(u){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$3,b=g,S=typeof u=="string"?u:this.language;if(typeof u=="function"&&(b=u),!this.options.resources||this.options.partialBundledLanguages){if(S&&S.toLowerCase()==="cimode")return b();var T=[],$=function(O){if(O){var D=f.services.languageUtils.toResolveHierarchy(O);D.forEach(function(U){T.indexOf(U)<0&&T.push(U)})}};if(S)$(S);else{var A=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);A.forEach(function(M){return $(M)})}this.options.preload&&this.options.preload.forEach(function(M){return $(M)}),this.services.backendConnector.load(T,this.options.ns,function(M){!M&&!f.resolvedLanguage&&f.language&&f.setResolvedLanguage(f.language),b(M)})}else b(null)}},{key:"reloadResources",value:function(u,f,g){var b=defer();return u||(u=this.languages),f||(f=this.options.ns),g||(g=noop$3),this.services.backendConnector.reload(u,f,function(S){b.resolve(),g(S)}),b}},{key:"use",value:function(u){if(!u)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!u.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return u.type==="backend"&&(this.modules.backend=u),(u.type==="logger"||u.log&&u.warn&&u.error)&&(this.modules.logger=u),u.type==="languageDetector"&&(this.modules.languageDetector=u),u.type==="i18nFormat"&&(this.modules.i18nFormat=u),u.type==="postProcessor"&&postProcessor.addPostProcessor(u),u.type==="formatter"&&(this.modules.formatter=u),u.type==="3rdParty"&&this.modules.external.push(u),this}},{key:"setResolvedLanguage",value:function(u){if(!(!u||!this.languages)&&!(["cimode","dev"].indexOf(u)>-1))for(var f=0;f<this.languages.length;f++){var g=this.languages[f];if(!(["cimode","dev"].indexOf(g)>-1)&&this.store.hasLanguageSomeTranslations(g)){this.resolvedLanguage=g;break}}}},{key:"changeLanguage",value:function(u,f){var g=this;this.isLanguageChangingTo=u;var b=defer();this.emit("languageChanging",u);var S=function(M){g.language=M,g.languages=g.services.languageUtils.toResolveHierarchy(M),g.resolvedLanguage=void 0,g.setResolvedLanguage(M)},T=function(M,O){O?(S(O),g.translator.changeLanguage(O),g.isLanguageChangingTo=void 0,g.emit("languageChanged",O),g.logger.log("languageChanged",O)):g.isLanguageChangingTo=void 0,b.resolve(function(){return g.t.apply(g,arguments)}),f&&f(M,function(){return g.t.apply(g,arguments)})},$=function(M){!u&&!M&&g.services.languageDetector&&(M=[]);var O=typeof M=="string"?M:g.services.languageUtils.getBestMatchFromCodes(M);O&&(g.language||S(O),g.translator.language||g.translator.changeLanguage(O),g.services.languageDetector&&g.services.languageDetector.cacheUserLanguage(O)),g.loadResources(O,function(D){T(D,O)})};return!u&&this.services.languageDetector&&!this.services.languageDetector.async?$(this.services.languageDetector.detect()):!u&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect($):$(u),b}},{key:"getFixedT",value:function(u,f,g){var b=this,S=function T($,A){var M;if(_typeof(A)!=="object"){for(var O=arguments.length,D=new Array(O>2?O-2:0),U=2;U<O;U++)D[U-2]=arguments[U];M=b.options.overloadTranslationOptionHandler([$,A].concat(D))}else M=_objectSpread$6({},A);M.lng=M.lng||T.lng,M.lngs=M.lngs||T.lngs,M.ns=M.ns||T.ns;var F=b.options.keySeparator||".",P=g?"".concat(g).concat(F).concat($):$;return b.t(P,M)};return typeof u=="string"?S.lng=u:S.lngs=u,S.ns=f,S.keyPrefix=g,S}},{key:"t",value:function(){var u;return this.translator&&(u=this.translator).translate.apply(u,arguments)}},{key:"exists",value:function(){var u;return this.translator&&(u=this.translator).exists.apply(u,arguments)}},{key:"setDefaultNamespace",value:function(u){this.options.defaultNS=u}},{key:"hasLoadedNamespace",value:function(u){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var b=this.resolvedLanguage||this.languages[0],S=this.options?this.options.fallbackLng:!1,T=this.languages[this.languages.length-1];if(b.toLowerCase()==="cimode")return!0;var $=function(O,D){var U=f.services.backendConnector.state["".concat(O,"|").concat(D)];return U===-1||U===2};if(g.precheck){var A=g.precheck(this,$);if(A!==void 0)return A}return!!(this.hasResourceBundle(b,u)||!this.services.backendConnector.backend||$(b,u)&&(!S||$(T,u)))}},{key:"loadNamespaces",value:function(u,f){var g=this,b=defer();return this.options.ns?(typeof u=="string"&&(u=[u]),u.forEach(function(S){g.options.ns.indexOf(S)<0&&g.options.ns.push(S)}),this.loadResources(function(S){b.resolve(),f&&f(S)}),b):(f&&f(),Promise.resolve())}},{key:"loadLanguages",value:function(u,f){var g=defer();typeof u=="string"&&(u=[u]);var b=this.options.preload||[],S=u.filter(function(T){return b.indexOf(T)<0});return S.length?(this.options.preload=b.concat(S),this.loadResources(function(T){g.resolve(),f&&f(T)}),g):(f&&f(),Promise.resolve())}},{key:"dir",value:function(u){if(u||(u=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!u)return"rtl";var f=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return f.indexOf(this.services.languageUtils.getLanguagePartFromCode(u))>-1||u.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var u=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$3,b=_objectSpread$6(_objectSpread$6(_objectSpread$6({},this.options),f),{isClone:!0}),S=new r(b),T=["store","services","language"];return T.forEach(function($){S[$]=u[$]}),S.services=_objectSpread$6({},this.services),S.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S.translator=new Translator(S.services,S.options),S.translator.on("*",function($){for(var A=arguments.length,M=new Array(A>1?A-1:0),O=1;O<A;O++)M[O-1]=arguments[O];S.emit.apply(S,[$].concat(M))}),S.init(b,g),S.translator.options=S.options,S.translator.backendConnector.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(EventEmitter$2);_defineProperty$2(I18n,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new I18n(e,t)});var instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass$1(e,t,r){return t&&_defineProperties$1(e.prototype,t),r&&_defineProperties$1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var arr=[],each=arr.forEach,slice$1=arr.slice;function defaults(e){return each.call(slice$1.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function e(t,r,o){var u=o||{};u.path=u.path||"/";var f=encodeURIComponent(r),g=t+"="+f;if(u.maxAge>0){var b=u.maxAge-0;if(isNaN(b))throw new Error("maxAge should be a Number");g+="; Max-Age="+Math.floor(b)}if(u.domain){if(!fieldContentRegExp.test(u.domain))throw new TypeError("option domain is invalid");g+="; Domain="+u.domain}if(u.path){if(!fieldContentRegExp.test(u.path))throw new TypeError("option path is invalid");g+="; Path="+u.path}if(u.expires){if(typeof u.expires.toUTCString!="function")throw new TypeError("option expires is invalid");g+="; Expires="+u.expires.toUTCString()}if(u.httpOnly&&(g+="; HttpOnly"),u.secure&&(g+="; Secure"),u.sameSite){var S=typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite;switch(S){case!0:g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"strict":g+="; SameSite=Strict";break;case"none":g+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return g},cookie={create:function e(t,r,o,u){var f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};o&&(f.expires=new Date,f.expires.setTime(f.expires.getTime()+o*60*1e3)),u&&(f.domain=u),document.cookie=serializeCookie(t,encodeURIComponent(r),f)},read:function e(t){for(var r=t+"=",o=document.cookie.split(";"),u=0;u<o.length;u++){for(var f=o[u];f.charAt(0)===" ";)f=f.substring(1,f.length);if(f.indexOf(r)===0)return f.substring(r.length,f.length)}return null},remove:function e(t){this.create(t,"",-1)}},cookie$1={name:"cookie",lookup:function e(t){var r;if(t.lookupCookie&&typeof document<"u"){var o=cookie.read(t.lookupCookie);o&&(r=o)}return r},cacheUserLanguage:function e(t,r){r.lookupCookie&&typeof document<"u"&&cookie.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},querystring={name:"querystring",lookup:function e(t){var r;if(typeof window<"u"){var o=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));for(var u=o.substring(1),f=u.split("&"),g=0;g<f.length;g++){var b=f[g].indexOf("=");if(b>0){var S=f[g].substring(0,b);S===t.lookupQuerystring&&(r=f[g].substring(b+1))}}}return r}},hasLocalStorageSupport=null,localStorageAvailable=function e(){if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport},localStorage$1={name:"localStorage",lookup:function e(t){var r;if(t.lookupLocalStorage&&localStorageAvailable()){var o=window.localStorage.getItem(t.lookupLocalStorage);o&&(r=o)}return r},cacheUserLanguage:function e(t,r){r.lookupLocalStorage&&localStorageAvailable()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},hasSessionStorageSupport=null,sessionStorageAvailable=function e(){if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport},sessionStorage$1={name:"sessionStorage",lookup:function e(t){var r;if(t.lookupSessionStorage&&sessionStorageAvailable()){var o=window.sessionStorage.getItem(t.lookupSessionStorage);o&&(r=o)}return r},cacheUserLanguage:function e(t,r){r.lookupSessionStorage&&sessionStorageAvailable()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},navigator$1={name:"navigator",lookup:function e(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var o=0;o<navigator.languages.length;o++)r.push(navigator.languages[o]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},htmlTag={name:"htmlTag",lookup:function e(t){var r,o=t.htmlTag||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(r=o.getAttribute("lang")),r}},path={name:"path",lookup:function e(t){var r;if(typeof window<"u"){var o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(o instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof o[t.lookupFromPathIndex]!="string")return;r=o[t.lookupFromPathIndex].replace("/","")}else r=o[0].replace("/","")}return r}},subdomain={name:"subdomain",lookup:function e(t){var r;if(typeof window<"u"){var o=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);o instanceof Array&&(typeof t.lookupFromSubdomainIndex=="number"?r=o[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):r=o[0].replace("http://","").replace("https://","").replace(".",""))}return r}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Browser=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$1(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return _createClass$1(e,[{key:"init",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=defaults(o,this.options||{},getDefaults()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=u,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage$1),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var o=this;r||(r=this.options.order);var u=[];return r.forEach(function(f){if(o.detectors[f]){var g=o.detectors[f].lookup(o.options);g&&typeof g=="string"&&(g=[g]),g&&(u=u.concat(g))}}),this.services.languageUtils.getBestMatchFromCodes?u:u.length>0?u[0]:null}},{key:"cacheUserLanguage",value:function(r,o){var u=this;o||(o=this.options.caches),o&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||o.forEach(function(f){u.detectors[f]&&u.detectors[f].cacheUserLanguage(r,u.options)}))}}]),e}();Browser.type="languageDetector";const languageResources={en:{translation:{"language-name":"english",toolbar:{run:"Run all code (ctrl+shift+enter)",upload:"upload to gallery",clear:"clear all",shuffle:"show random sketch",random:"make random change","show-info":"show info window","hide-info":"hide info window"},info:{title:"hydra",subtitle:"live coding video synth",description:"Hydra is live code-able video synth and coding environment that runs directly in the browser. It is free and open-source and made for beginners and experts alike.","get-started-title":"To get started:","get-started-list":["Close this window","Change some numbers","Type Ctrl + Shift + Enter"],"description-detailed":"Hydra is written in JavaScript and compiles to WebGL under the hood. The syntax is inspired by analog modular synthesis, in which chaining or patching a set of transformations together generates a visual result.",uses:"Hydra can be used:","uses-list":["to mix and add effects to camera feeds, screenshares, live streams, and videos","to create generative and audio-reactive visuals, and share them online with others","in combination with other javascript libraries such as P5.js, Tone.js, THREE.js, or gibber","to add interactive video effects to a website","to experiment with and learn about video feedback, fractals, and pixel operations","to stream video between browsers and live-jam with others online"],author:"Created by <a {{author}}>olivia.</a>","more-info":"For more information and instructions, see: <a {{docs}}>the interactive documentation</a>, <a {{functions}}>a list of hydra functions</a>, <a {{garden}}>the community database of projects and tutorials</a>, <a {{gallery}}>a gallery of user-generated sketches</a>, and <a {{repo}}>the source code on github</a>,","more-info-forums":"There is also an active <a {{discord}}>Discord server</a> and <a {{facebook}}>facebook group</a> for hydra users+contributors.",support:"If you enjoy using Hydra, please consider  <a {{open-collective}} >supporting continued development <3 </a>."}}}},availableLanguages=["ja","es","ar","id","pt-br"],languagePath=e=>`https://raw.githubusercontent.com/hydra-synth/l10n/main/${e}/editor.json`;instance.use(Browser).init({debug:!0,fallbackLng:"en",partialBundledLanguages:!0,resources:languageResources});function store(e,t){const r={};let o=new URLSearchParams(window.location.search),u=o.get("l10n-lang"),f=o.get("l10n-url");availableLanguages.forEach(S=>{b(S,languagePath(S))}),u!==null&&f!==null&&b(u,f),g(),t.on("set language",S=>{instance.changeLanguage(S,(T,$)=>{e.translation.selectedLanguage=S,t.emit("render")})});function g(){Object.keys(languageResources).forEach(S=>{const T=S.split("-")[0];r[T]=instance.getFixedT(T)("language-name")}),e.translation={t:instance.t,languages:r,selectedLanguage:instance.language}}function b(S="es",T){const $="color: purple; background: orange; font-size: 14px;padding:10px";console.log(`%cloading translation for ${S} from ${T}`,$),fetch(T).then(A=>A.ok?A.json():A.text().then(M=>{throw new Error(M)})).then(A=>{window.i18n=instance,console.log("adding language",S,A);const M=S.split("-")[0];instance.addResourceBundle(M,"translation",A),g(),t.emit("render")})}}var hyperscriptAttributeToProperty=attributeToProperty,transform={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};function attributeToProperty(e){return function(t,r,o){for(var u in r)u in transform&&(r[transform[u]]=r[u],delete r[u]);return e(t,r,o)}}var attrToProp=hyperscriptAttributeToProperty,VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12,COMMENT=13,hyperx$1=function(e,t){t||(t={});var r=t.concat||function(u,f){return String(u)+String(f)};return t.attrToProp!==!1&&(e=attrToProp(e)),function(u){for(var f=TEXT,g="",b=arguments.length,S=[],T=0;T<u.length;T++)if(T<b-1){var $=arguments[T+1],A=xe(u[T]),M=f;M===ATTR_VALUE_DQ&&(M=ATTR_VALUE),M===ATTR_VALUE_SQ&&(M=ATTR_VALUE),M===ATTR_VALUE_W&&(M=ATTR_VALUE),M===ATTR&&(M=ATTR_KEY),M===OPEN?g==="/"?(A.push([OPEN,"/",$]),g=""):A.push([OPEN,$]):M===COMMENT&&t.comments?g+=String($):M!==COMMENT&&A.push([VAR,M,$]),S.push.apply(S,A)}else S.push.apply(S,xe(u[T]));for(var O=[null,{},[]],D=[[O,-1]],T=0;T<S.length;T++){var U=D[D.length-1][0],A=S[T],F=A[0];if(F===OPEN&&/^\//.test(A[1])){var P=D[D.length-1][1];D.length>1&&(D.pop(),D[D.length-1][0][2][P]=e(U[0],U[1],U[2].length?U[2]:void 0))}else if(F===OPEN){var oe=[A[1],{},[]];U[2].push(oe),D.push([oe,U[2].length-1])}else if(F===ATTR_KEY||F===VAR&&A[1]===ATTR_KEY){for(var Me="",he;T<S.length;T++)if(S[T][0]===ATTR_KEY)Me=r(Me,S[T][1]);else if(S[T][0]===VAR&&S[T][1]===ATTR_KEY)if(typeof S[T][2]=="object"&&!Me)for(he in S[T][2])S[T][2].hasOwnProperty(he)&&!U[1][he]&&(U[1][he]=S[T][2][he]);else Me=r(Me,S[T][2]);else break;S[T][0]===ATTR_EQ&&T++;for(var de=T;T<S.length;T++)if(S[T][0]===ATTR_VALUE||S[T][0]===ATTR_KEY)U[1][Me]?S[T][1]===""||(U[1][Me]=r(U[1][Me],S[T][1])):U[1][Me]=o(S[T][1]);else if(S[T][0]===VAR&&(S[T][1]===ATTR_VALUE||S[T][1]===ATTR_KEY))U[1][Me]?S[T][2]===""||(U[1][Me]=r(U[1][Me],S[T][2])):U[1][Me]=o(S[T][2]);else{Me.length&&!U[1][Me]&&T===de&&(S[T][0]===CLOSE||S[T][0]===ATTR_BREAK)&&(U[1][Me]=Me.toLowerCase()),S[T][0]===CLOSE&&T--;break}}else if(F===ATTR_KEY)U[1][A[1]]=!0;else if(F===VAR&&A[1]===ATTR_KEY)U[1][A[2]]=!0;else if(F===CLOSE){if(selfClosing(U[0])&&D.length){var P=D[D.length-1][1];D.pop(),D[D.length-1][0][2][P]=e(U[0],U[1],U[2].length?U[2]:void 0)}}else if(F===VAR&&A[1]===TEXT)A[2]===void 0||A[2]===null?A[2]="":A[2]||(A[2]=r("",A[2])),Array.isArray(A[2][0])?U[2].push.apply(U[2],A[2]):U[2].push(A[2]);else if(F===TEXT)U[2].push(A[1]);else if(!(F===ATTR_EQ||F===ATTR_BREAK))throw new Error("unhandled: "+F)}if(O[2].length>1&&/^\s*$/.test(O[2][0])&&O[2].shift(),O[2].length>2||O[2].length===2&&/\S/.test(O[2][1])){if(t.createFragment)return t.createFragment(O[2]);throw new Error("multiple root elements must be wrapped in an enclosing tag")}return Array.isArray(O[2][0])&&typeof O[2][0][0]=="string"&&Array.isArray(O[2][0][2])&&(O[2][0]=e(O[2][0][0],O[2][0][1],O[2][0][2])),O[2][0];function xe(Ce){var De=[];f===ATTR_VALUE_W&&(f=ATTR);for(var et=0;et<Ce.length;et++){var Ve=Ce.charAt(et);f===TEXT&&Ve==="<"?(g.length&&De.push([TEXT,g]),g="",f=OPEN):Ve===">"&&!quot(f)&&f!==COMMENT?(f===OPEN&&g.length?De.push([OPEN,g]):f===ATTR_KEY?De.push([ATTR_KEY,g]):f===ATTR_VALUE&&g.length&&De.push([ATTR_VALUE,g]),De.push([CLOSE]),g="",f=TEXT):f===COMMENT&&/-$/.test(g)&&Ve==="-"?(t.comments&&De.push([ATTR_VALUE,g.substr(0,g.length-1)]),g="",f=TEXT):f===OPEN&&/^!--$/.test(g)?(t.comments&&De.push([OPEN,g],[ATTR_KEY,"comment"],[ATTR_EQ]),g=Ve,f=COMMENT):f===TEXT||f===COMMENT?g+=Ve:f===OPEN&&Ve==="/"&&g.length||(f===OPEN&&/\s/.test(Ve)?(g.length&&De.push([OPEN,g]),g="",f=ATTR):f===OPEN?g+=Ve:f===ATTR&&/[^\s"'=/]/.test(Ve)?(f=ATTR_KEY,g=Ve):f===ATTR&&/\s/.test(Ve)?(g.length&&De.push([ATTR_KEY,g]),De.push([ATTR_BREAK])):f===ATTR_KEY&&/\s/.test(Ve)?(De.push([ATTR_KEY,g]),g="",f=ATTR_KEY_W):f===ATTR_KEY&&Ve==="="?(De.push([ATTR_KEY,g],[ATTR_EQ]),g="",f=ATTR_VALUE_W):f===ATTR_KEY?g+=Ve:(f===ATTR_KEY_W||f===ATTR)&&Ve==="="?(De.push([ATTR_EQ]),f=ATTR_VALUE_W):(f===ATTR_KEY_W||f===ATTR)&&!/\s/.test(Ve)?(De.push([ATTR_BREAK]),/[\w-]/.test(Ve)?(g+=Ve,f=ATTR_KEY):f=ATTR):f===ATTR_VALUE_W&&Ve==='"'?f=ATTR_VALUE_DQ:f===ATTR_VALUE_W&&Ve==="'"?f=ATTR_VALUE_SQ:f===ATTR_VALUE_DQ&&Ve==='"'?(De.push([ATTR_VALUE,g],[ATTR_BREAK]),g="",f=ATTR):f===ATTR_VALUE_SQ&&Ve==="'"?(De.push([ATTR_VALUE,g],[ATTR_BREAK]),g="",f=ATTR):f===ATTR_VALUE_W&&!/\s/.test(Ve)?(f=ATTR_VALUE,et--):f===ATTR_VALUE&&/\s/.test(Ve)?(De.push([ATTR_VALUE,g],[ATTR_BREAK]),g="",f=ATTR):(f===ATTR_VALUE||f===ATTR_VALUE_SQ||f===ATTR_VALUE_DQ)&&(g+=Ve))}return f===TEXT&&g.length?(De.push([TEXT,g]),g=""):f===ATTR_VALUE&&g.length?(De.push([ATTR_VALUE,g]),g=""):f===ATTR_VALUE_DQ&&g.length?(De.push([ATTR_VALUE,g]),g=""):f===ATTR_VALUE_SQ&&g.length?(De.push([ATTR_VALUE,g]),g=""):f===ATTR_KEY&&(De.push([ATTR_KEY,g]),g=""),De}};function o(u){return typeof u=="function"||typeof u=="string"||u&&typeof u=="object"||u==null?u:r("",u)}};function quot(e){return e===ATTR_VALUE_SQ||e===ATTR_VALUE_DQ}var closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");function selfClosing(e){return closeRE.test(e)}var trailingNewlineRegex=/\n[\s]+$/,leadingNewlineRegex=/^\n[\s]+/,trailingSpaceRegex=/[\s]+$/,leadingSpaceRegex=/^[\s]+/,multiSpaceRegex=/[\n\s]+/g,TEXT_TAGS=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],VERBATIM_TAGS=["code","pre","textarea"],appendChild$1=function e(t,r){if(Array.isArray(r))for(var o=t.nodeName.toLowerCase(),u=!1,f,g,b=0,S=r.length;b<S;b++){var T=r[b];if(Array.isArray(T)){e(t,T);continue}(typeof T=="number"||typeof T=="boolean"||typeof T=="function"||T instanceof Date||T instanceof RegExp)&&(T=T.toString());var $=t.childNodes[t.childNodes.length-1];if(typeof T=="string")u=!0,$&&$.nodeName==="#text"?$.nodeValue+=T:(T=t.ownerDocument.createTextNode(T),t.appendChild(T),$=T),b===S-1&&(u=!1,TEXT_TAGS.indexOf(o)===-1&&VERBATIM_TAGS.indexOf(o)===-1?(f=$.nodeValue.replace(leadingNewlineRegex,"").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," "),f===""?t.removeChild($):$.nodeValue=f):VERBATIM_TAGS.indexOf(o)===-1&&(g=b===0?"":" ",f=$.nodeValue.replace(leadingNewlineRegex,g).replace(leadingSpaceRegex," ").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," "),$.nodeValue=f));else if(T&&T.nodeType){u&&(u=!1,TEXT_TAGS.indexOf(o)===-1&&VERBATIM_TAGS.indexOf(o)===-1?(f=$.nodeValue.replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," "),f===""?t.removeChild($):$.nodeValue=f):VERBATIM_TAGS.indexOf(o)===-1&&(f=$.nodeValue.replace(leadingSpaceRegex," ").replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," "),$.nodeValue=f));var A=T.nodeName;A&&(o=A.toLowerCase()),t.appendChild(T)}}},svgTags=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],boolProps=["async","autofocus","autoplay","checked","controls","default","defaultchecked","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","selected"],directProps=["indeterminate"],hyperx=hyperx$1,appendChild=appendChild$1,SVG_TAGS=svgTags,BOOL_PROPS=boolProps,DIRECT_PROPS=directProps,SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",COMMENT_TAG="!--",dom=function(e){function t(u,f,g){var b;SVG_TAGS.indexOf(u)!==-1&&(f.namespace=SVGNS);var S=!1;f.namespace&&(S=f.namespace,delete f.namespace);var T=!1;if(f.is&&(T=f.is,delete f.is),S)T?b=e.createElementNS(S,u,{is:T}):b=e.createElementNS(S,u);else{if(u===COMMENT_TAG)return e.createComment(f.comment);T?b=e.createElement(u,{is:T}):b=e.createElement(u)}for(var $ in f)if(f.hasOwnProperty($)){var A=$.toLowerCase(),M=f[$];if(A==="classname"&&(A="class",$="class"),$==="htmlFor"&&($="for"),BOOL_PROPS.indexOf(A)!==-1){if(String(M)==="true")M=A;else if(String(M)==="false")continue}A.slice(0,2)==="on"||DIRECT_PROPS.indexOf(A)!==-1?b[$]=M:S?$==="xlink:href"?b.setAttributeNS(XLINKNS,$,M):/^xmlns($|:)/i.test($)||b.setAttributeNS(null,$,M):b.setAttribute($,M)}return appendChild(b,g),b}function r(u){for(var f=e.createDocumentFragment(),g=0;g<u.length;g++)u[g]!=null&&(Array.isArray(u[g])?f.appendChild(r(u[g])):(typeof u[g]=="string"&&(u[g]=e.createTextNode(u[g])),f.appendChild(u[g])));return f}var o=hyperx(t,{comments:!0,createFragment:r});return o.default=o,o.createComment=t,o},browser$8=dom(document),html$1=browser$8;const html$2=getDefaultExportFromCjs(html$1);function nanohtmlRawBrowser(e){var t=document.createElement("div");return t.innerHTML=e,toArray$1(t.childNodes)}function toArray$1(e){return Array.isArray(e)?e:[].slice.call(e)}var rawBrowser=nanohtmlRawBrowser,raw=rawBrowser;const raw$1=getDefaultExportFromCjs(raw);function toolbar(e,t){const r=e.showInfo?"hidden":"",{t:o}=e.translation,u=b=>S=>t(b,S),f=(b,S,T,$)=>html$2`
        <i id="${b}-icon" class="fas icon ${S}" title="${T}" onclick=${u($)} aria-hidden="true"></i>`,g=e.showInfo?f("close","fa-times",o("toolbar.hide-info"),"toggle info"):f("close","fa-question-circle",o("toolbar.show-info"),"toggle info");return html$2`<div>
        ${f("run",`fa-play-circle ${r}`,o("toolbar.run"),"editor:evalAll")}
        ${f("share",`fa-upload ${r}`,o("toolbar.upload"),"gallery:shareSketch")}
        ${f("clear",`fa fa-trash ${r}`,o("toolbar.clear"),"editor:clearAll")}
        ${f("shuffle","fa-random",o("toolbar.shuffle"),"gallery:showExample")}
        ${f("mutator",`fa-dice ${r}`,o("toolbar.random"),"editor:randomize")}
        ${g}
    </div>`}const link=e=>`href=${e} target=_blank`;function mainView$1(e,t){const{t:r,languages:o}=e.translation,u=e.translation.selectedLanguage==="ar"&&e.showInfo===!0?"rtl":"ltr",f=Object.entries(o);return html$2`
<div id="info-container" class="${e.showInfo?"":"hidden"}" style="direction:${u}">
  <div id="modal">
    <div id="modal-header" style="opacity:${e.showUI===!0?1:0}">
      ${e.showInfo&&f.length>1?html$2`<div style="display:flex;flex-wrap:wrap">${f.map(([g,b])=>html$2`
        <div class="language-select" onclick=${()=>t("set language",g)}>${b}</div>
      `)}</div>`:html$2`<div></div>`}
      ${toolbar(e,t)}
    </div>
    <div id="modal-body">
      <div id="modal-content">
        <h1>${r("info.title")}</h1>
        <h3>${r("info.subtitle")}</h3>
          <br> ///////////////////////////////////////////////////////////<br>
          <h4>${r("info.description")}</h4>
        <h4>${r("info.get-started-title")}<ol>
            <li>${r("info.get-started-list.0")}</li>
            <li>${r("info.get-started-list.1")}</li>
            <li>${r("info.get-started-list.2")}</li>
          </ol>
        </h4>

        <p> ///////////////////////////////////////////////////////////<br><br><br>
          ${r("info.description-detailed")}
        </p>
        <p>${r("info.uses")}<ul>
        ${r("info.uses-list",{returnObjects:!0}).map(g=>html$2`<li>${g}</li>`)}
        </ul></p>
       
           <p class="align-right">${raw$1(r("info.author",{author:"href=https://ojack.xyz class=olivia target=_blank"}))}</p>
           <p>${raw$1(r("info.more-info",{docs:link("https://hydra.ojack.xyz/docs"),functions:link("https://hydra.ojack.xyz/api"),gallery:link("https://twitter.com/hydra_patterns"),repo:link("https://github.com/hydra-synth/hydra"),pixeljam:link("http://pixeljam.glitch.me/"),garden:link("https://hydra.ojack.xyz/garden"),"hydra-book":link("https://hydra-book.glitch.me/"),tutorials:link("https://github.com/ojack/hydra/blob/master/examples/README.md")}))}</p>
          <p>${raw$1(r("info.more-info-forums",{discord:link("https://discord.gg/ZQjfHkNHXC"),facebook:link("https://www.facebook.com/groups/1084288351771117/")}))}</p>

        <p>${raw$1(r("info.support",{"open-collective":link("https://opencollective.com/hydra-synth")}))}</p>
      </div>
    </div>
  </div>
</div>
`}var onLoad={exports:{}},document$2=require$$0$1,window$1=require$$1,watch=Object.create(null),KEY_ID="onloadid"+Math.random().toString(36).slice(2),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window$1&&window$1.MutationObserver){var observer=new MutationObserver(function(e){if(!(Object.keys(watch).length<1))for(var t=0;t<e.length;t++){if(e[t].attributeName===KEY_ATTR){eachAttr(e[t],turnon,turnoff);continue}eachMutation(e[t].removedNodes,function(r,o){document$2.documentElement.contains(o)||turnoff(r,o)}),eachMutation(e[t].addedNodes,function(r,o){document$2.documentElement.contains(o)&&turnon(r,o)})}});observer.observe(document$2.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}onLoad.exports=function e(t,r,o,u){return r=r||function(){},o=o||function(){},t.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[r,o,0,u||e.caller],INDEX+=1,t};onLoad.exports.KEY_ATTR=KEY_ATTR;onLoad.exports.KEY_ID=KEY_ID;function turnon(e,t){watch[e][0]&&watch[e][2]===0&&(watch[e][0](t),watch[e][2]=1)}function turnoff(e,t){watch[e][1]&&watch[e][2]===1&&(watch[e][1](t),watch[e][2]=0)}function eachAttr(e,t,r){var o=e.target.getAttribute(KEY_ATTR);if(sameOrigin(e.oldValue,o)){watch[o]=watch[e.oldValue];return}watch[e.oldValue]&&r(e.oldValue,e.target),watch[o]&&t(o,e.target)}function sameOrigin(e,t){return!e||!t?!1:watch[e][3]===watch[t][3]}function eachMutation(e,t){for(var r=Object.keys(watch),o=0;o<e.length;o++){if(e[o]&&e[o].getAttribute&&e[o].getAttribute(KEY_ATTR)){var u=e[o].getAttribute(KEY_ATTR);r.forEach(function(f){u===f&&t(f,e[o])})}e[o]&&e[o].childNodes.length>0&&eachMutation(e[o].childNodes,t)}}var onLoadExports=onLoad.exports,nanoassert=assert$1;class AssertionError extends Error{}AssertionError.prototype.name="AssertionError";function assert$1(e,t){if(!e){var r=new AssertionError(t);throw Error.captureStackTrace&&Error.captureStackTrace(r,assert$1),r}}const document$1=require$$0$1,nanotiming=browser$a,morph=nanomorph_1,onload=onLoadExports,assert=nanoassert,OL_KEY_ID=onload.KEY_ID,OL_ATTR_ID=onload.KEY_ATTR;var nanocomponent=Nanocomponent;function makeID(){return"ncid-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)}Nanocomponent.makeID=makeID;function Nanocomponent(e){this._hasWindow=typeof window<"u",this._id=null,this._ncID=null,this._olID=null,this._proxy=null,this._loaded=!1,this._rootNodeName=null,this._name=e||"nanocomponent",this._rerender=!1,this._handleLoad=this._handleLoad.bind(this),this._handleUnload=this._handleUnload.bind(this),this._arguments=[];const t=this;Object.defineProperty(this,"element",{get:function(){const r=document$1.getElementById(t._id);if(r)return r.dataset.nanocomponent===t._ncID?r:void 0}})}Nanocomponent.prototype.render=function(){const e=nanotiming(this._name+".render"),t=this,r=new Array(arguments.length);let o;for(let u=0;u<arguments.length;u++)r[u]=arguments[u];if(this._hasWindow)if(this.element){o=this.element;const u=nanotiming(this._name+".update"),f=this._rerender||this.update.apply(this,r);if(u(),this._rerender&&(this._rerender=!1),f){const g=this._handleRender(r),b=nanotiming(this._name+".morph");morph(o,g),b(),this.afterupdate&&this.afterupdate(o)}return this._proxy||(this._proxy=this._createProxy()),e(),this._proxy}else return this._reset(),o=this._handleRender(r),this.beforerender&&this.beforerender(o),(this.load||this.unload||this.afterreorder)&&(onload(o,t._handleLoad,t._handleUnload,t._ncID),this._olID=o.dataset[OL_KEY_ID]),e(),o;else{const u=nanotiming(this._name+".create");return o=this.createElement.apply(this,r),u(),e(),o}};Nanocomponent.prototype.rerender=function(){assert(this.element,"nanocomponent: cant rerender on an unmounted dom node"),this._rerender=!0,this.render.apply(this,this._arguments)};Nanocomponent.prototype._handleRender=function(e){const t=nanotiming(this._name+".createElement"),r=this.createElement.apply(this,e);return t(),this._rootNodeName||(this._rootNodeName=r.nodeName),assert(r instanceof window.Element,"nanocomponent: createElement should return a single DOM node"),assert(this._rootNodeName===r.nodeName,"nanocomponent: root node types cannot differ between re-renders"),this._arguments=e,this._brandNode(this._ensureID(r))};Nanocomponent.prototype._createProxy=function(){const e=document$1.createElement(this._rootNodeName),t=this;return this._brandNode(e),e.id=this._id,e.setAttribute("data-proxy",""),e.isSameNode=function(r){return r&&r.dataset.nanocomponent===t._ncID},e};Nanocomponent.prototype._reset=function(){this._ncID=Nanocomponent.makeID(),this._olID=null,this._id=null,this._proxy=null,this._rootNodeName=null};Nanocomponent.prototype._brandNode=function(e){return e.setAttribute("data-nanocomponent",this._ncID),this._olID&&e.setAttribute(OL_ATTR_ID,this._olID),e};Nanocomponent.prototype._ensureID=function(e){return e.id?this._id=e.id:e.id=this._id=this._ncID,this._proxy&&this._proxy.id!==this._id&&(this._proxy.id=this._id),e};Nanocomponent.prototype._handleLoad=function(e){if(this._loaded){this.afterreorder&&this.afterreorder(e);return}this._loaded=!0,this.load&&this.load(e)};Nanocomponent.prototype._handleUnload=function(e){this.element||(this._loaded=!1,this.unload&&this.unload(e))};Nanocomponent.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")};Nanocomponent.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")};var component=nanocomponent;const Component=getDefaultExportFromCjs(component);var Output$4=function({regl:e,precision:t,label:r="",width:o,height:u}){this.regl=e,this.precision=t,this.label=r,this.positionBuffer=this.regl.buffer([[-2,0],[0,-2],[2,2]]),this.draw=()=>{},this.init(),this.pingPongIndex=0,this.fbos=Array(2).fill().map(()=>this.regl.framebuffer({color:this.regl.texture({mag:"nearest",width:o,height:u,format:"rgba"}),depthStencil:!1}))};Output$4.prototype.resize=function(e,t){this.fbos.forEach(r=>{r.resize(e,t)})};Output$4.prototype.getCurrent=function(){return this.fbos[this.pingPongIndex]};Output$4.prototype.getTexture=function(){var e=this.pingPongIndex?0:1;return this.fbos[e]};Output$4.prototype.init=function(){return this.transformIndex=0,this.fragHeader=`
  precision ${this.precision} float;

  uniform float time;
  varying vec2 uv;
  `,this.fragBody="",this.vert=`
  precision ${this.precision} float;
  attribute vec2 position;
  varying vec2 uv;

  void main () {
    uv = position;
    gl_Position = vec4(2.0 * position - 1.0, 0, 1);
  }`,this.attributes={position:this.positionBuffer},this.uniforms={time:this.regl.prop("time"),resolution:this.regl.prop("resolution")},this.frag=`
       ${this.fragHeader}

      void main () {
        vec4 c = vec4(0, 0, 0, 0);
        vec2 st = uv;
        ${this.fragBody}
        gl_FragColor = c;
      }
  `,this};Output$4.prototype.render=function(e){let t=e[0];var r=this,o=Object.assign(t.uniforms,{prevBuffer:()=>r.fbos[r.pingPongIndex]});r.draw=r.regl({frag:t.frag,vert:r.vert,attributes:r.attributes,uniforms:o,count:3,framebuffer:()=>(r.pingPongIndex=r.pingPongIndex?0:1,r.fbos[r.pingPongIndex])})};Output$4.prototype.tick=function(e){this.draw(e)};var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,r){if(r){t.super_=r;var o=function(){};o.prototype=r.prototype,t.prototype=new o,t.prototype.constructor=t}};var inherits_browserExports=inherits_browser.exports;const inherits$1=getDefaultExportFromCjs(inherits_browserExports);function EventEmitter$1(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var events=EventEmitter$1;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._maxListeners=void 0;EventEmitter$1.defaultMaxListeners=10;EventEmitter$1.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};EventEmitter$1.prototype.emit=function(e){var t,r,o,u,f,g;if(this._events||(this._events={}),e==="error"&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var b=new Error('Uncaught, unspecified "error" event. ('+t+")");throw b.context=t,b}if(r=this._events[e],isUndefined(r))return!1;if(isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),r.apply(this,u)}else if(isObject(r))for(u=Array.prototype.slice.call(arguments,1),g=r.slice(),o=g.length,f=0;f<o;f++)g[f].apply(this,u);return!0};EventEmitter$1.prototype.addListener=function(e,t){var r;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(isUndefined(this._maxListeners)?r=EventEmitter$1.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.once=function(e,t){if(!isFunction(t))throw TypeError("listener must be a function");var r=!1;function o(){this.removeListener(e,o),r||(r=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this};EventEmitter$1.prototype.removeListener=function(e,t){var r,o,u,f;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],u=r.length,o=-1,r===t||isFunction(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(r)){for(f=u;f-- >0;)if(r[f]===t||r[f].listener&&r[f].listener===t){o=f;break}if(o<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};EventEmitter$1.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],isFunction(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};EventEmitter$1.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:isFunction(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};EventEmitter$1.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0};EventEmitter$1.listenerCount=function(e,t){return e.listenerCount(t)};function isFunction(e){return typeof e=="function"}function isNumber(e){return typeof e=="number"}function isObject(e){return typeof e=="object"&&e!==null}function isUndefined(e){return e===void 0}var browser$7=globalThis.performance&&globalThis.performance.now?function e(){return performance.now()}:Date.now||function e(){return+new Date},raf$2={exports:{}},performanceNow={exports:{}};(function(){var e,t,r,o,u,f;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(e()-u)/1e6},t=process.hrtime,e=function(){var g;return g=t(),g[0]*1e9+g[1]},o=e(),f=process.uptime()*1e9,u=o-f):Date.now?(performanceNow.exports=function(){return Date.now()-r},r=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(globalThis);var performanceNowExports=performanceNow.exports,now$1=performanceNowExports,root=typeof window>"u"?globalThis:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf$1=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i$3=0;!raf$1&&i$3<vendors.length;i$3++)raf$1=root[vendors[i$3]+"Request"+suffix],caf=root[vendors[i$3]+"Cancel"+suffix]||root[vendors[i$3]+"CancelRequest"+suffix];if(!raf$1||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf$1=function(e){if(queue.length===0){var t=now$1(),r=Math.max(0,frameDuration-(t-last));last=r+t,setTimeout(function(){var o=queue.slice(0);queue.length=0;for(var u=0;u<o.length;u++)if(!o[u].cancelled)try{o[u].callback(last)}catch(f){setTimeout(function(){throw f},0)}},Math.round(r))}return queue.push({handle:++id,callback:e,cancelled:!1}),id},caf=function(e){for(var t=0;t<queue.length;t++)queue[t].handle===e&&(queue[t].cancelled=!0)}}raf$2.exports=function(e){return raf$1.call(root,e)};raf$2.exports.cancel=function(){caf.apply(root,arguments)};raf$2.exports.polyfill=function(e){e||(e=root),e.requestAnimationFrame=raf$1,e.cancelAnimationFrame=caf};var rafExports=raf$2.exports,inherits=inherits_browserExports,EventEmitter=events.EventEmitter,now=browser$7,raf=rafExports,rafLoop=Engine;function Engine(e){if(!(this instanceof Engine))return new Engine(e);this.running=!1,this.last=now(),this._frame=0,this._tick=this.tick.bind(this),e&&this.on("tick",e)}inherits(Engine,EventEmitter);Engine.prototype.start=function(){if(!this.running)return this.running=!0,this.last=now(),this._frame=raf(this._tick),this};Engine.prototype.stop=function(){return this.running=!1,this._frame!==0&&raf.cancel(this._frame),this._frame=0,this};Engine.prototype.tick=function(){this._frame=raf(this._tick);var e=now(),t=e-this.last;this.emit("tick",t),this.last=e};const loop=getDefaultExportFromCjs(rafLoop);function Webcam(e){return navigator.mediaDevices.enumerateDevices().then(t=>t.filter(r=>r.kind==="videoinput")).then(t=>{let r={audio:!1,video:!0};return t[e]&&(r.video={deviceId:{exact:t[e].deviceId}}),window.navigator.mediaDevices.getUserMedia(r)}).then(t=>{const r=document.createElement("video");return r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.setAttribute("playsinline",""),r.srcObject=t,new Promise((o,u)=>{r.addEventListener("loadedmetadata",()=>{r.play().then(()=>o({video:r}))})})}).catch(console.log.bind(console))}function Screen(e){return new Promise(function(t,r){navigator.mediaDevices.getDisplayMedia(e).then(o=>{const u=document.createElement("video");u.srcObject=o,u.addEventListener("loadedmetadata",()=>{u.play(),t({video:u})})}).catch(o=>r(o))})}class HydraSource{constructor({regl:t,width:r,height:o,pb:u,label:f=""}){this.label=f,this.regl=t,this.src=null,this.dynamic=!0,this.width=r,this.height=o,this.tex=this.regl.texture({shape:[1,1]}),this.pb=u}init(t,r){"src"in t&&(this.src=t.src,this.tex=this.regl.texture({data:this.src,...r})),"dynamic"in t&&(this.dynamic=t.dynamic)}initCam(t,r){const o=this;Webcam(t).then(u=>{o.src=u.video,o.dynamic=!0,o.tex=o.regl.texture({data:o.src,...r})}).catch(u=>console.log("could not get camera",u))}initVideo(t="",r){const o=document.createElement("video");o.crossOrigin="anonymous",o.autoplay=!0,o.loop=!0,o.muted=!0,o.addEventListener("loadeddata",()=>{this.src=o,o.play(),this.tex=this.regl.texture({data:this.src,...r}),this.dynamic=!0}),o.src=t}initImage(t="",r){const o=document.createElement("img");o.crossOrigin="anonymous",o.src=t,o.onload=()=>{this.src=o,this.dynamic=!1,this.tex=this.regl.texture({data:this.src,...r})}}initStream(t,r){let o=this;t&&this.pb&&(this.pb.initSource(t),this.pb.on("got video",function(u,f){u===t&&(o.src=f,o.dynamic=!0,o.tex=o.regl.texture({data:o.src,...r}))}))}initScreen(t=0,r){const o=this;Screen().then(function(u){o.src=u.video,o.tex=o.regl.texture({data:o.src,...r}),o.dynamic=!0}).catch(u=>console.log("could not get screen",u))}resize(t,r){this.width=t,this.height=r}clear(){this.src&&this.src.srcObject&&this.src.srcObject.getTracks&&this.src.srcObject.getTracks().forEach(t=>t.stop()),this.src=null,this.tex=this.regl.texture({shape:[1,1]})}tick(t){this.src!==null&&this.dynamic===!0&&(this.src.videoWidth&&this.src.videoWidth!==this.tex.width&&(console.log(this.src.videoWidth,this.src.videoHeight,this.tex.width,this.tex.height),this.tex.resize(this.src.videoWidth,this.src.videoHeight)),this.src.width&&this.src.width!==this.tex.width&&this.tex.resize(this.src.width,this.src.height),this.tex.subimage(this.src))}getTexture(){return this.tex}}const mouse={};function mouseButtons(e){if(typeof e=="object"){if("buttons"in e)return e.buttons;if("which"in e){var t=e.which;if(t===2)return 4;if(t===3)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t=e.button;if(t===1)return 4;if(t===2)return 2;if(t>=0)return 1<<t}}return 0}mouse.buttons=mouseButtons;function mouseElement(e){return e.target||e.srcElement||window}mouse.element=mouseElement;function mouseRelativeX(e){return typeof e=="object"&&"pageX"in e?e.pageX:0}mouse.x=mouseRelativeX;function mouseRelativeY(e){return typeof e=="object"&&"pageY"in e?e.pageY:0}mouse.y=mouseRelativeY;function mouseListen(e,t){t||(t=e,e=window);var r=0,o=0,u=0,f={shift:!1,alt:!1,control:!1,meta:!1},g=!1;function b(oe){var Me=!1;return"altKey"in oe&&(Me=Me||oe.altKey!==f.alt,f.alt=!!oe.altKey),"shiftKey"in oe&&(Me=Me||oe.shiftKey!==f.shift,f.shift=!!oe.shiftKey),"ctrlKey"in oe&&(Me=Me||oe.ctrlKey!==f.control,f.control=!!oe.ctrlKey),"metaKey"in oe&&(Me=Me||oe.metaKey!==f.meta,f.meta=!!oe.metaKey),Me}function S(oe,Me){var he=mouse.x(Me),de=mouse.y(Me);"buttons"in Me&&(oe=Me.buttons|0),(oe!==r||he!==o||de!==u||b(Me))&&(r=oe|0,o=he||0,u=de||0,t&&t(r,o,u,f))}function T(oe){S(0,oe)}function $(){(r||o||u||f.shift||f.alt||f.meta||f.control)&&(o=u=0,r=0,f.shift=f.alt=f.control=f.meta=!1,t&&t(0,0,0,f))}function A(oe){b(oe)&&t&&t(r,o,u,f)}function M(oe){mouse.buttons(oe)===0?S(0,oe):S(r,oe)}function O(oe){S(r|mouse.buttons(oe),oe)}function D(oe){S(r&~mouse.buttons(oe),oe)}function U(){g||(g=!0,e.addEventListener("mousemove",M),e.addEventListener("mousedown",O),e.addEventListener("mouseup",D),e.addEventListener("mouseleave",T),e.addEventListener("mouseenter",T),e.addEventListener("mouseout",T),e.addEventListener("mouseover",T),e.addEventListener("blur",$),e.addEventListener("keyup",A),e.addEventListener("keydown",A),e.addEventListener("keypress",A),e!==window&&(window.addEventListener("blur",$),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function F(){g&&(g=!1,e.removeEventListener("mousemove",M),e.removeEventListener("mousedown",O),e.removeEventListener("mouseup",D),e.removeEventListener("mouseleave",T),e.removeEventListener("mouseenter",T),e.removeEventListener("mouseout",T),e.removeEventListener("mouseover",T),e.removeEventListener("blur",$),e.removeEventListener("keyup",A),e.removeEventListener("keydown",A),e.removeEventListener("keypress",A),e!==window&&(window.removeEventListener("blur",$),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}U();var P={element:e};return Object.defineProperties(P,{enabled:{get:function(){return g},set:function(oe){oe?U():F()},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return o},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return f},enumerable:!0}}),P}var meyda_min={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(this,function(){function r(Y,Q,G){if(G||arguments.length===2)for(var H,ve=0,Ue=Q.length;ve<Ue;ve++)!H&&ve in Q||(H||(H=Array.prototype.slice.call(Q,0,ve)),H[ve]=Q[ve]);return Y.concat(H||Array.prototype.slice.call(Q))}var o=Object.freeze({__proto__:null,blackman:function(Y){for(var Q=new Float32Array(Y),G=2*Math.PI/(Y-1),H=2*G,ve=0;ve<Y/2;ve++)Q[ve]=.42-.5*Math.cos(ve*G)+.08*Math.cos(ve*H);for(ve=Math.ceil(Y/2);ve>0;ve--)Q[Y-ve]=Q[ve-1];return Q},sine:function(Y){for(var Q=Math.PI/(Y-1),G=new Float32Array(Y),H=0;H<Y;H++)G[H]=Math.sin(Q*H);return G},hanning:function(Y){for(var Q=new Float32Array(Y),G=0;G<Y;G++)Q[G]=.5-.5*Math.cos(2*Math.PI*G/(Y-1));return Q},hamming:function(Y){for(var Q=new Float32Array(Y),G=0;G<Y;G++)Q[G]=.54-.46*Math.cos(2*Math.PI*(G/Y-1));return Q}}),u={};function f(Y){for(;Y%2==0&&Y>1;)Y/=2;return Y===1}function g(Y,Q){if(Q!=="rect"){if(Q!==""&&Q||(Q="hanning"),u[Q]||(u[Q]={}),!u[Q][Y.length])try{u[Q][Y.length]=o[Q](Y.length)}catch{throw new Error("Invalid windowing function")}Y=function(G,H){for(var ve=[],Ue=0;Ue<Math.min(G.length,H.length);Ue++)ve[Ue]=G[Ue]*H[Ue];return ve}(Y,u[Q][Y.length])}return Y}function b(Y,Q,G){for(var H=new Float32Array(Y),ve=0;ve<H.length;ve++)H[ve]=ve*Q/G,H[ve]=13*Math.atan(H[ve]/1315.8)+3.5*Math.atan(Math.pow(H[ve]/7518,2));return H}function S(Y){return Float32Array.from(Y)}function T(Y){return 1125*Math.log(1+Y/700)}function $(Y,Q,G){for(var H,ve=new Float32Array(Y+2),Ue=new Float32Array(Y+2),qe=Q/2,ut=T(0),gt=(T(qe)-ut)/(Y+1),wt=new Array(Y+2),Ct=0;Ct<ve.length;Ct++)ve[Ct]=Ct*gt,Ue[Ct]=(H=ve[Ct],700*(Math.exp(H/1125)-1)),wt[Ct]=Math.floor((G+1)*Ue[Ct]/Q);for(var er=new Array(Y),Ut=0;Ut<er.length;Ut++){for(er[Ut]=new Array(G/2+1).fill(0),Ct=wt[Ut];Ct<wt[Ut+1];Ct++)er[Ut][Ct]=(Ct-wt[Ut])/(wt[Ut+1]-wt[Ut]);for(Ct=wt[Ut+1];Ct<wt[Ut+2];Ct++)er[Ut][Ct]=(wt[Ut+2]-Ct)/(wt[Ut+2]-wt[Ut+1])}return er}function A(Y,Q,G,H,ve,Ue,qe){H===void 0&&(H=5),ve===void 0&&(ve=2),Ue===void 0&&(Ue=!0),qe===void 0&&(qe=440);var ut=Math.floor(G/2)+1,gt=new Array(G).fill(0).map(function(or,Er){return Y*function(_t,rr){return Math.log2(16*_t/rr)}(Q*Er/G,qe)});gt[0]=gt[1]-1.5*Y;var wt,Ct,er,Ut=gt.slice(1).map(function(or,Er){return Math.max(or-gt[Er])},1).concat([1]),_r=Math.round(Y/2),pr=new Array(Y).fill(0).map(function(or,Er){return gt.map(function(_t){return(10*Y+_r+_t-Er)%Y-_r})}),Mr=pr.map(function(or,Er){return or.map(function(_t,rr){return Math.exp(-.5*Math.pow(2*pr[Er][rr]/Ut[rr],2))})});if(Ct=(wt=Mr)[0].map(function(){return 0}),er=wt.reduce(function(or,Er){return Er.forEach(function(_t,rr){or[rr]+=Math.pow(_t,2)}),or},Ct).map(Math.sqrt),Mr=wt.map(function(or,Er){return or.map(function(_t,rr){return _t/(er[rr]||1)})}),ve){var Hr=gt.map(function(or){return Math.exp(-.5*Math.pow((or/Y-H)/ve,2))});Mr=Mr.map(function(or){return or.map(function(Er,_t){return Er*Hr[_t]})})}return Ue&&(Mr=r(r([],Mr.slice(3),!0),Mr.slice(0,3),!0)),Mr.map(function(or){return or.slice(0,ut)})}function M(Y,Q){for(var G=0,H=0,ve=0;ve<Q.length;ve++)G+=Math.pow(ve,Y)*Math.abs(Q[ve]),H+=Q[ve];return G/H}function O(Y){var Q=Y.ampSpectrum,G=Y.barkScale,H=Y.numberOfBarkBands,ve=H===void 0?24:H;if(typeof Q!="object"||typeof G!="object")throw new TypeError;var Ue=ve,qe=new Float32Array(Ue),ut=0,gt=Q,wt=new Int32Array(Ue+1);wt[0]=0;for(var Ct=G[gt.length-1]/Ue,er=1,Ut=0;Ut<gt.length;Ut++)for(;G[Ut]>Ct;)wt[er++]=Ut,Ct=er*G[gt.length-1]/Ue;for(wt[Ue]=gt.length-1,Ut=0;Ut<Ue;Ut++){for(var _r=0,pr=wt[Ut];pr<wt[Ut+1];pr++)_r+=gt[pr];qe[Ut]=Math.pow(_r,.23)}for(Ut=0;Ut<qe.length;Ut++)ut+=qe[Ut];return{specific:qe,total:ut}}function D(Y){var Q=Y.ampSpectrum;if(typeof Q!="object")throw new TypeError;for(var G=new Float32Array(Q.length),H=0;H<G.length;H++)G[H]=Math.pow(Q[H],2);return G}function U(Y){var Q=Y.ampSpectrum,G=Y.melFilterBank,H=Y.bufferSize;if(typeof Q!="object")throw new TypeError("Valid ampSpectrum is required to generate melBands");if(typeof G!="object")throw new TypeError("Valid melFilterBank is required to generate melBands");for(var ve=D({ampSpectrum:Q}),Ue=G.length,qe=Array(Ue),ut=new Float32Array(Ue),gt=0;gt<ut.length;gt++){qe[gt]=new Float32Array(H/2),ut[gt]=0;for(var wt=0;wt<H/2;wt++)qe[gt][wt]=G[gt][wt]*ve[wt],ut[gt]+=qe[gt][wt];ut[gt]=Math.log(ut[gt]+1)}return Array.prototype.slice.call(ut)}function F(Y){return Y&&Y.__esModule&&Object.prototype.hasOwnProperty.call(Y,"default")?Y.default:Y}var P={exports:{}},oe=null,Me=function(Y,Q){var G=Y.length;return Q=Q||2,oe&&oe[G]||function(H){(oe=oe||{})[H]=new Array(H*H);for(var ve=Math.PI/H,Ue=0;Ue<H;Ue++)for(var qe=0;qe<H;qe++)oe[H][qe+Ue*H]=Math.cos(ve*(qe+.5)*Ue)}(G),Y.map(function(){return 0}).map(function(H,ve){return Q*Y.reduce(function(Ue,qe,ut,gt){return Ue+qe*oe[G][ut+ve*G]},0)})};(function(Y){Y.exports=Me})(P);var he=F(P.exports),de=Object.freeze({__proto__:null,buffer:function(Y){return Y.signal},rms:function(Y){var Q=Y.signal;if(typeof Q!="object")throw new TypeError;for(var G=0,H=0;H<Q.length;H++)G+=Math.pow(Q[H],2);return G/=Q.length,G=Math.sqrt(G)},energy:function(Y){var Q=Y.signal;if(typeof Q!="object")throw new TypeError;for(var G=0,H=0;H<Q.length;H++)G+=Math.pow(Math.abs(Q[H]),2);return G},complexSpectrum:function(Y){return Y.complexSpectrum},spectralSlope:function(Y){var Q=Y.ampSpectrum,G=Y.sampleRate,H=Y.bufferSize;if(typeof Q!="object")throw new TypeError;for(var ve=0,Ue=0,qe=new Float32Array(Q.length),ut=0,gt=0,wt=0;wt<Q.length;wt++){ve+=Q[wt];var Ct=wt*G/H;qe[wt]=Ct,ut+=Ct*Ct,Ue+=Ct,gt+=Ct*Q[wt]}return(Q.length*gt-Ue*ve)/(ve*(ut-Math.pow(Ue,2)))},spectralCentroid:function(Y){var Q=Y.ampSpectrum;if(typeof Q!="object")throw new TypeError;return M(1,Q)},spectralRolloff:function(Y){var Q=Y.ampSpectrum,G=Y.sampleRate;if(typeof Q!="object")throw new TypeError;for(var H=Q,ve=G/(2*(H.length-1)),Ue=0,qe=0;qe<H.length;qe++)Ue+=H[qe];for(var ut=.99*Ue,gt=H.length-1;Ue>ut&&gt>=0;)Ue-=H[gt],--gt;return(gt+1)*ve},spectralFlatness:function(Y){var Q=Y.ampSpectrum;if(typeof Q!="object")throw new TypeError;for(var G=0,H=0,ve=0;ve<Q.length;ve++)G+=Math.log(Q[ve]),H+=Q[ve];return Math.exp(G/Q.length)*Q.length/H},spectralSpread:function(Y){var Q=Y.ampSpectrum;if(typeof Q!="object")throw new TypeError;return Math.sqrt(M(2,Q)-Math.pow(M(1,Q),2))},spectralSkewness:function(Y){var Q=Y.ampSpectrum;if(typeof Q!="object")throw new TypeError;var G=M(1,Q),H=M(2,Q),ve=M(3,Q);return(2*Math.pow(G,3)-3*G*H+ve)/Math.pow(Math.sqrt(H-Math.pow(G,2)),3)},spectralKurtosis:function(Y){var Q=Y.ampSpectrum;if(typeof Q!="object")throw new TypeError;var G=Q,H=M(1,G),ve=M(2,G),Ue=M(3,G),qe=M(4,G);return(-3*Math.pow(H,4)+6*H*ve-4*H*Ue+qe)/Math.pow(Math.sqrt(ve-Math.pow(H,2)),4)},amplitudeSpectrum:function(Y){return Y.ampSpectrum},zcr:function(Y){var Q=Y.signal;if(typeof Q!="object")throw new TypeError;for(var G=0,H=1;H<Q.length;H++)(Q[H-1]>=0&&Q[H]<0||Q[H-1]<0&&Q[H]>=0)&&G++;return G},loudness:O,perceptualSpread:function(Y){for(var Q=O({ampSpectrum:Y.ampSpectrum,barkScale:Y.barkScale}),G=0,H=0;H<Q.specific.length;H++)Q.specific[H]>G&&(G=Q.specific[H]);return Math.pow((Q.total-G)/Q.total,2)},perceptualSharpness:function(Y){for(var Q=O({ampSpectrum:Y.ampSpectrum,barkScale:Y.barkScale}),G=Q.specific,H=0,ve=0;ve<G.length;ve++)H+=ve<15?(ve+1)*G[ve+1]:.066*Math.exp(.171*(ve+1));return H*=.11/Q.total},powerSpectrum:D,mfcc:function(Y){var Q=Y.ampSpectrum,G=Y.melFilterBank,H=Y.numberOfMFCCCoefficients,ve=Y.bufferSize,Ue=Math.min(40,Math.max(1,H||13));if(G.length<Ue)throw new Error("Insufficient filter bank for requested number of coefficients");var qe=U({ampSpectrum:Q,melFilterBank:G,bufferSize:ve});return he(qe).slice(0,Ue)},chroma:function(Y){var Q=Y.ampSpectrum,G=Y.chromaFilterBank;if(typeof Q!="object")throw new TypeError("Valid ampSpectrum is required to generate chroma");if(typeof G!="object")throw new TypeError("Valid chromaFilterBank is required to generate chroma");var H=G.map(function(Ue,qe){return Q.reduce(function(ut,gt,wt){return ut+gt*Ue[wt]},0)}),ve=Math.max.apply(Math,H);return ve?H.map(function(Ue){return Ue/ve}):H},spectralFlux:function(Y){var Q=Y.signal,G=Y.previousSignal,H=Y.bufferSize;if(typeof Q!="object"||typeof G!="object")throw new TypeError;for(var ve=0,Ue=-H/2;Ue<Q.length/2-1;Ue++)x=Math.abs(Q[Ue])-Math.abs(G[Ue]),ve+=(x+Math.abs(x))/2;return ve},spectralCrest:function(Y){var Q=Y.ampSpectrum;if(typeof Q!="object")throw new TypeError;var G=0,H=-1/0;return Q.forEach(function(ve){G+=Math.pow(ve,2),H=ve>H?ve:H}),G/=Q.length,G=Math.sqrt(G),H/G},melBands:U});function xe(Y){if(Array.isArray(Y)){for(var Q=0,G=Array(Y.length);Q<Y.length;Q++)G[Q]=Y[Q];return G}return Array.from(Y)}var Ce={},De={},et={bitReverseArray:function(Y){if(Ce[Y]===void 0){for(var Q=(Y-1).toString(2).length,G="0".repeat(Q),H={},ve=0;ve<Y;ve++){var Ue=ve.toString(2);Ue=G.substr(Ue.length)+Ue,Ue=[].concat(xe(Ue)).reverse().join(""),H[ve]=parseInt(Ue,2)}Ce[Y]=H}return Ce[Y]},multiply:function(Y,Q){return{real:Y.real*Q.real-Y.imag*Q.imag,imag:Y.real*Q.imag+Y.imag*Q.real}},add:function(Y,Q){return{real:Y.real+Q.real,imag:Y.imag+Q.imag}},subtract:function(Y,Q){return{real:Y.real-Q.real,imag:Y.imag-Q.imag}},euler:function(Y,Q){var G=-2*Math.PI*Y/Q;return{real:Math.cos(G),imag:Math.sin(G)}},conj:function(Y){return Y.imag*=-1,Y},constructComplexArray:function(Y){var Q={};Q.real=Y.real===void 0?Y.slice():Y.real.slice();var G=Q.real.length;return De[G]===void 0&&(De[G]=Array.apply(null,Array(G)).map(Number.prototype.valueOf,0)),Q.imag=De[G].slice(),Q}},Ve=function(Y){var Q={};Y.real===void 0||Y.imag===void 0?Q=et.constructComplexArray(Y):(Q.real=Y.real.slice(),Q.imag=Y.imag.slice());var G=Q.real.length,H=Math.log2(G);if(Math.round(H)!=H)throw new Error("Input size must be a power of 2.");if(Q.real.length!=Q.imag.length)throw new Error("Real and imaginary components must have the same length.");for(var ve=et.bitReverseArray(G),Ue={real:[],imag:[]},qe=0;qe<G;qe++)Ue.real[ve[qe]]=Q.real[qe],Ue.imag[ve[qe]]=Q.imag[qe];for(var ut=0;ut<G;ut++)Q.real[ut]=Ue.real[ut],Q.imag[ut]=Ue.imag[ut];for(var gt=1;gt<=H;gt++)for(var wt=Math.pow(2,gt),Ct=0;Ct<wt/2;Ct++)for(var er=et.euler(Ct,wt),Ut=0;Ut<G/wt;Ut++){var _r=wt*Ut+Ct,pr=wt*Ut+Ct+wt/2,Mr={real:Q.real[_r],imag:Q.imag[_r]},Hr={real:Q.real[pr],imag:Q.imag[pr]},or=et.multiply(er,Hr),Er=et.subtract(Mr,or);Q.real[pr]=Er.real,Q.imag[pr]=Er.imag;var _t=et.add(or,Mr);Q.real[_r]=_t.real,Q.imag[_r]=_t.imag}return Q},Ze=Ve,se=function(){function Y(Q,G){var H=this;if(this._m=G,!Q.audioContext)throw this._m.errors.noAC;if(Q.bufferSize&&!f(Q.bufferSize))throw this._m._errors.notPow2;if(!Q.source)throw this._m._errors.noSource;this._m.audioContext=Q.audioContext,this._m.bufferSize=Q.bufferSize||this._m.bufferSize||256,this._m.hopSize=Q.hopSize||this._m.hopSize||this._m.bufferSize,this._m.sampleRate=Q.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=Q.callback,this._m.windowingFunction=Q.windowingFunction||"hanning",this._m.featureExtractors=de,this._m.EXTRACTION_STARTED=Q.startImmediately||!1,this._m.channel=typeof Q.channel=="number"?Q.channel:0,this._m.inputs=Q.inputs||1,this._m.outputs=Q.outputs||1,this._m.numberOfMFCCCoefficients=Q.numberOfMFCCCoefficients||this._m.numberOfMFCCCoefficients||13,this._m.numberOfBarkBands=Q.numberOfBarkBands||this._m.numberOfBarkBands||24,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,this._m.inputs,this._m.outputs),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=Q.featureExtractors||[],this._m.barkScale=b(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=$(Math.max(this._m.melBands,this._m.numberOfMFCCCoefficients),this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this._m.frame=null,this._m.previousFrame=null,this.setSource(Q.source),this._m.spn.onaudioprocess=function(ve){var Ue;H._m.inputData!==null&&(H._m.previousInputData=H._m.inputData),H._m.inputData=ve.inputBuffer.getChannelData(H._m.channel),H._m.previousInputData?((Ue=new Float32Array(H._m.previousInputData.length+H._m.inputData.length-H._m.hopSize)).set(H._m.previousInputData.slice(H._m.hopSize)),Ue.set(H._m.inputData,H._m.previousInputData.length-H._m.hopSize)):Ue=H._m.inputData,function(qe,ut,gt){if(qe.length<ut)throw new Error("Buffer is too short for frame length");if(gt<1)throw new Error("Hop length cannot be less that 1");if(ut<1)throw new Error("Frame length cannot be less that 1");var wt=1+Math.floor((qe.length-ut)/gt);return new Array(wt).fill(0).map(function(Ct,er){return qe.slice(er*gt,er*gt+ut)})}(Ue,H._m.bufferSize,H._m.hopSize).forEach(function(qe){H._m.frame=qe;var ut=H._m.extract(H._m._featuresToExtract,H._m.frame,H._m.previousFrame);typeof H._m.callback=="function"&&H._m.EXTRACTION_STARTED&&H._m.callback(ut),H._m.previousFrame=H._m.frame})}}return Y.prototype.start=function(Q){this._m._featuresToExtract=Q||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0},Y.prototype.stop=function(){this._m.EXTRACTION_STARTED=!1},Y.prototype.setSource=function(Q){this._m.source&&this._m.source.disconnect(this._m.spn),this._m.source=Q,this._m.source.connect(this._m.spn)},Y.prototype.setChannel=function(Q){Q<=this._m.inputs?this._m.channel=Q:console.error("Channel ".concat(Q," does not exist. Make sure you've provided a value for 'inputs' that is greater than ").concat(Q," when instantiating the MeydaAnalyzer"))},Y.prototype.get=function(Q){return this._m.inputData?this._m.extract(Q||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null},Y}(),me={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,chromaBands:12,callback:null,windowingFunction:"hanning",featureExtractors:de,EXTRACTION_STARTED:!1,numberOfMFCCCoefficients:13,numberOfBarkBands:24,_featuresToExtract:[],windowing:g,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(Y){return new se(Y,Object.assign({},me))},listAvailableFeatureExtractors:function(){return Object.keys(this.featureExtractors)},extract:function(Y,Q,G){var H=this;if(!Q)throw this._errors.invalidInput;if(typeof Q!="object")throw this._errors.invalidInput;if(!Y)throw this._errors.featureUndef;if(!f(Q.length))throw this._errors.notPow2;this.barkScale!==void 0&&this.barkScale.length==this.bufferSize||(this.barkScale=b(this.bufferSize,this.sampleRate,this.bufferSize)),this.melFilterBank!==void 0&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=$(Math.max(this.melBands,this.numberOfMFCCCoefficients),this.sampleRate,this.bufferSize)),this.chromaFilterBank!==void 0&&this.chromaFilterBank.length==this.chromaBands||(this.chromaFilterBank=A(this.chromaBands,this.sampleRate,this.bufferSize)),"buffer"in Q&&Q.buffer===void 0?this.signal=S(Q):this.signal=Q;var ve=Se(Q,this.windowingFunction,this.bufferSize);if(this.signal=ve.windowedSignal,this.complexSpectrum=ve.complexSpectrum,this.ampSpectrum=ve.ampSpectrum,G){var Ue=Se(G,this.windowingFunction,this.bufferSize);this.previousSignal=Ue.windowedSignal,this.previousComplexSpectrum=Ue.complexSpectrum,this.previousAmpSpectrum=Ue.ampSpectrum}var qe=function(ut){return H.featureExtractors[ut]({ampSpectrum:H.ampSpectrum,chromaFilterBank:H.chromaFilterBank,complexSpectrum:H.complexSpectrum,signal:H.signal,bufferSize:H.bufferSize,sampleRate:H.sampleRate,barkScale:H.barkScale,melFilterBank:H.melFilterBank,previousSignal:H.previousSignal,previousAmpSpectrum:H.previousAmpSpectrum,previousComplexSpectrum:H.previousComplexSpectrum,numberOfMFCCCoefficients:H.numberOfMFCCCoefficients,numberOfBarkBands:H.numberOfBarkBands})};if(typeof Y=="object")return Y.reduce(function(ut,gt){var wt;return Object.assign({},ut,((wt={})[gt]=qe(gt),wt))},{});if(typeof Y=="string")return qe(Y);throw this._errors.invalidFeatureFmt}},Se=function(Y,Q,G){var H={};Y.buffer===void 0?H.signal=S(Y):H.signal=Y,H.windowedSignal=g(H.signal,Q),H.complexSpectrum=Ze(H.windowedSignal),H.ampSpectrum=new Float32Array(G/2);for(var ve=0;ve<G/2;ve++)H.ampSpectrum[ve]=Math.sqrt(Math.pow(H.complexSpectrum.real[ve],2)+Math.pow(H.complexSpectrum.imag[ve],2));return H};return typeof window<"u"&&(window.Meyda=me),me})})(meyda_min);var meyda_minExports=meyda_min.exports;const Meyda=getDefaultExportFromCjs(meyda_minExports);class Audio{constructor({numBins:t=4,cutoff:r=2,smooth:o=.4,max:u=15,scale:f=10,isDrawing:g=!1,parentEl:b=document.body}){this.vol=0,this.scale=f,this.max=u,this.cutoff=r,this.smooth=o,this.setBins(t),this.beat={holdFrames:20,threshold:40,_cutoff:0,decay:.98,_framesSinceBeat:0},this.onBeat=()=>{},this.canvas=document.createElement("canvas"),this.canvas.width=100,this.canvas.height=80,this.canvas.style.width="100px",this.canvas.style.height="80px",this.canvas.style.position="absolute",this.canvas.style.right="0px",this.canvas.style.bottom="0px",b.appendChild(this.canvas),this.isDrawing=g,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#DFFFFF",this.ctx.strokeStyle="#0ff",this.ctx.lineWidth=.5,window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(S=>{this.stream=S,this.context=new AudioContext;let T=this.context.createMediaStreamSource(S);this.meyda=Meyda.createMeydaAnalyzer({audioContext:this.context,source:T,featureExtractors:["loudness"]})}).catch(S=>console.log("ERROR",S))}detectBeat(t){t>this.beat._cutoff&&t>this.beat.threshold?(this.onBeat(),this.beat._cutoff=t*1.2,this.beat._framesSinceBeat=0):this.beat._framesSinceBeat<=this.beat.holdFrames?this.beat._framesSinceBeat++:(this.beat._cutoff*=this.beat.decay,this.beat._cutoff=Math.max(this.beat._cutoff,this.beat.threshold))}tick(){if(this.meyda){var t=this.meyda.get();if(t&&t!==null){this.vol=t.loudness.total,this.detectBeat(this.vol);const r=(u,f)=>u+f;let o=Math.floor(t.loudness.specific.length/this.bins.length);this.prevBins=this.bins.slice(0),this.bins=this.bins.map((u,f)=>t.loudness.specific.slice(f*o,(f+1)*o).reduce(r)).map((u,f)=>u*(1-this.settings[f].smooth)+this.prevBins[f]*this.settings[f].smooth),this.fft=this.bins.map((u,f)=>Math.max(0,(u-this.settings[f].cutoff)/this.settings[f].scale)),this.isDrawing&&this.draw()}}}setCutoff(t){this.cutoff=t,this.settings=this.settings.map(r=>(r.cutoff=t,r))}setSmooth(t){this.smooth=t,this.settings=this.settings.map(r=>(r.smooth=t,r))}setBins(t){this.bins=Array(t).fill(0),this.prevBins=Array(t).fill(0),this.fft=Array(t).fill(0),this.settings=Array(t).fill(0).map(()=>({cutoff:this.cutoff,scale:this.scale,smooth:this.smooth})),this.bins.forEach((r,o)=>{window["a"+o]=(u=1,f=0)=>()=>a.fft[o]*u+f})}setScale(t){this.scale=t,this.settings=this.settings.map(r=>(r.scale=t,r))}setMax(t){this.max=t,console.log("set max is deprecated")}hide(){this.isDrawing=!1,this.canvas.style.display="none"}show(){this.isDrawing=!0,this.canvas.style.display="block"}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.canvas.width/this.bins.length,r=this.canvas.height/(this.max*2);this.bins.forEach((o,u)=>{var f=o*r;this.ctx.fillRect(u*t,this.canvas.height-f,t,f);var g=this.canvas.height-r*this.settings[u].cutoff;this.ctx.beginPath(),this.ctx.moveTo(u*t,g),this.ctx.lineTo((u+1)*t,g),this.ctx.stroke();var b=this.canvas.height-r*(this.settings[u].scale+this.settings[u].cutoff);this.ctx.beginPath(),this.ctx.moveTo(u*t,b),this.ctx.lineTo((u+1)*t,b),this.ctx.stroke()})}}class VideoRecorder{constructor(t){this.mediaSource=new MediaSource,this.stream=t,this.output=document.createElement("video"),this.output.autoplay=!0,this.output.loop=!0;let r=this;this.mediaSource.addEventListener("sourceopen",()=>{console.log("MediaSource opened"),r.sourceBuffer=r.mediaSource.addSourceBuffer('video/webm; codecs="vp8"'),console.log("Source buffer: ",sourceBuffer)})}start(){let t={mimeType:"video/webm;codecs=vp9"};this.recordedBlobs=[];try{this.mediaRecorder=new MediaRecorder(this.stream,t)}catch(r){console.log("Unable to create MediaRecorder with options Object: ",r);try{t={mimeType:"video/webm,codecs=vp9"},this.mediaRecorder=new MediaRecorder(this.stream,t)}catch(o){console.log("Unable to create MediaRecorder with options Object: ",o);try{t="video/vp8",this.mediaRecorder=new MediaRecorder(this.stream,t)}catch(u){alert(`MediaRecorder is not supported by this browser.

Try Firefox 29 or later, or Chrome 47 or later, with Enable experimental Web Platform features enabled from chrome://flags.`),console.error("Exception while creating MediaRecorder:",u);return}}}console.log("Created MediaRecorder",this.mediaRecorder,"with options",t),this.mediaRecorder.onstop=this._handleStop.bind(this),this.mediaRecorder.ondataavailable=this._handleDataAvailable.bind(this),this.mediaRecorder.start(100),console.log("MediaRecorder started",this.mediaRecorder)}stop(){this.mediaRecorder.stop()}_handleStop(){const t=new Blob(this.recordedBlobs,{type:this.mediaRecorder.mimeType}),r=window.URL.createObjectURL(t);this.output.src=r;const o=document.createElement("a");o.style.display="none",o.href=r;let u=new Date;o.download=`hydra-${u.getFullYear()}-${u.getMonth()+1}-${u.getDate()}-${u.getHours()}.${u.getMinutes()}.${u.getSeconds()}.webm`,document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),window.URL.revokeObjectURL(r)},300)}_handleDataAvailable(t){t.data&&t.data.size>0&&this.recordedBlobs.push(t.data)}}const easing={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},sin:function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}};var map$1=(e,t,r,o,u)=>(e-t)*(u-o)/(r-t)+o;const ArrayUtils={init:()=>{Array.prototype.fast=function(e=1){return this._speed=e,this},Array.prototype.smooth=function(e=1){return this._smooth=e,this},Array.prototype.ease=function(e="linear"){return typeof e=="function"?(this._smooth=1,this._ease=e):easing[e]&&(this._smooth=1,this._ease=easing[e]),this},Array.prototype.offset=function(e=.5){return this._offset=e%1,this},Array.prototype.fit=function(e=0,t=1){let r=Math.min(...this),o=Math.max(...this);var u=this.map(f=>map$1(f,r,o,e,t));return u._speed=this._speed,u._smooth=this._smooth,u._ease=this._ease,u}},getValue:(e=[])=>({time:t,bpm:r})=>{let o=e._speed?e._speed:1,u=e._smooth?e._smooth:0,f=t*o*(r/60)+(e._offset||0);if(u!==0){let g=e._ease?e._ease:easing.linear,b=f-u/2,S=e[Math.floor(b%e.length)],T=e[Math.floor((b+1)%e.length)],$=Math.min(b%1/u,1);return g($)*(T-S)+S}else return e[Math.floor(f%e.length)],e[Math.floor(f%e.length)]}},Sandbox=parent=>{var initialCode="",sandbox=createSandbox(initialCode),addToContext=(e,t)=>{initialCode+=`
      var ${e} = ${t}
    `,sandbox=createSandbox(initialCode)};return{addToContext,eval:e=>sandbox.eval(e)};function createSandbox(initial){eval(initial);var localEval=function(code){eval(code)};return{eval:localEval}}};class EvalSandbox{constructor(t,r,o=[]){this.makeGlobal=r,this.sandbox=Sandbox(),this.parent=t;var u=Object.keys(t);u.forEach(f=>this.add(f)),this.userProps=o}add(t){this.makeGlobal&&(window[t]=this.parent[t]),this.sandbox.addToContext(t,`parent.${t}`)}set(t,r){this.makeGlobal&&(window[t]=r),this.parent[t]=r}tick(){this.makeGlobal&&this.userProps.forEach(t=>{this.parent[t]=window[t]})}eval(t){this.sandbox.eval(t)}}const DEFAULT_CONVERSIONS={float:{vec4:{name:"sum",args:[[1,1,1,1]]},vec2:{name:"sum",args:[[1,1]]}}},ensure_decimal_dot=e=>(e=e.toString(),e.indexOf(".")<0&&(e+="."),e);function formatArguments(e,t,r){const o=e.transform.inputs,u=e.userArgs,{generators:f}=e.synth,{src:g}=f;return o.map((b,S)=>{const T={value:b.default,type:b.type,isUniform:!1,name:b.name,vecLen:0};if(T.type==="float"&&(T.value=ensure_decimal_dot(b.default)),b.type.startsWith("vec"))try{T.vecLen=Number.parseInt(b.type.substr(3))}catch{console.log(`Error determining length of vector input type ${b.type} (${b.name})`)}if(u.length>S&&(T.value=u[S],typeof u[S]=="function"?(T.value=(M,O,D)=>{try{const U=u[S](O);return typeof U=="number"?U:(console.warn("function does not return a number",u[S]),b.default)}catch(U){return console.warn("ERROR",U),b.default}},T.isUniform=!0):u[S].constructor===Array&&(T.value=(M,O,D)=>ArrayUtils.getValue(u[S])(O),T.isUniform=!0)),!(t<0)){if(T.value&&T.value.transforms){const M=T.value.transforms[T.value.transforms.length-1];if(M.transform.glsl_return_type!==b.type){const O=DEFAULT_CONVERSIONS[b.type];if(typeof O<"u"){const D=O[M.transform.glsl_return_type];if(typeof D<"u"){const{name:U,args:F}=D;T.value=T.value[U](...F)}}}T.isUniform=!1}else if(T.type==="float"&&typeof T.value=="number")T.value=ensure_decimal_dot(T.value);else if(T.type.startsWith("vec")&&typeof T.value=="object"&&Array.isArray(T.value))T.isUniform=!1,T.value=`${T.type}(${T.value.map(ensure_decimal_dot).join(", ")})`;else if(b.type==="sampler2D"){var $=T.value;T.value=()=>$.getTexture(),T.isUniform=!0}else if(T.value.getTexture&&b.type==="vec4"){var A=T.value;T.value=g(A),T.isUniform=!1}T.isUniform&&(T.name+=t)}return T})}function generateGlsl(e){var t={uniforms:[],glslFunctions:[],fragColor:""},r=generateGlsl$1(e,t)("st");t.fragColor=r;let o={};return t.uniforms.forEach(u=>o[u.name]=u),t.uniforms=Object.values(o),t}function generateGlsl$1(e,t){var r=()=>"";return e.forEach(o=>{var u=formatArguments(o,t.uniforms.length);u.forEach(b=>{b.isUniform&&t.uniforms.push(b)}),contains(o,t.glslFunctions)||t.glslFunctions.push(o);var f=r;if(o.transform.type==="src")r=b=>`${shaderString(b,o.name,u,t)}`;else if(o.transform.type==="coord")r=b=>`${f(`${shaderString(b,o.name,u,t)}`)}`;else if(o.transform.type==="color")r=b=>`${shaderString(`${f(b)}`,o.name,u,t)}`;else if(o.transform.type==="combine"){var g=u[0].value&&u[0].value.transforms?b=>`${generateGlsl$1(u[0].value.transforms,t)(b)}`:u[0].isUniform?()=>u[0].name:()=>u[0].value;r=b=>`${shaderString(`${f(b)}, ${g(b)}`,o.name,u.slice(1),t)}`}else if(o.transform.type==="combineCoord"){var g=u[0].value&&u[0].value.transforms?S=>`${generateGlsl$1(u[0].value.transforms,t)(S)}`:u[0].isUniform?()=>u[0].name:()=>u[0].value;r=S=>`${f(`${shaderString(`${S}, ${g(S)}`,o.name,u.slice(1),t)}`)}`}}),r}function shaderString(e,t,r,o){const u=r.map(f=>f.isUniform?f.name:f.value&&f.value.transforms?`${generateGlsl$1(f.value.transforms,o)("st")}`:f.value).reduce((f,g)=>`${f}, ${g}`,"");return`${t}(${e}${u})`}function contains(e,t){for(var r=0;r<t.length;r++)if(e.name==t[r].name)return!0;return!1}const utilityGlsl={_luminance:{type:"util",glsl:`float _luminance(vec3 rgb){
      const vec3 W = vec3(0.2125, 0.7154, 0.0721);
      return dot(rgb, W);
    }`},_noise:{type:"util",glsl:`
    //	Simplex 3D Noise
    //	by Ian McEwan, Ashima Arts
    vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float _noise(vec3 v){
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;

  // Other corners
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );

    //  x0 = x0 - 0. + 0.0 * C
    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
    i = mod(i, 289.0 );
    vec4 p = permute( permute( permute(
               i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
             + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
             + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));

  // Gradients
  // ( N*N points uniformly over a square, mapped onto an octahedron.)
    float n_ = 1.0/7.0; // N=7
    vec3  ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

  //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

  // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                  dot(p2,x2), dot(p3,x3) ) );
  }
    `},_rgbToHsv:{type:"util",glsl:`vec3 _rgbToHsv(vec3 c){
            vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
            vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));
            vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));

            float d = q.x - min(q.w, q.y);
            float e = 1.0e-10;
            return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);
        }`},_hsvToRgb:{type:"util",glsl:`vec3 _hsvToRgb(vec3 c){
        vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
        vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
        return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
    }`}};var GlslSource=function(e){return this.transforms=[],this.transforms.push(e),this.defaultOutput=e.defaultOutput,this.synth=e.synth,this.type="GlslSource",this.defaultUniforms=e.defaultUniforms,this};GlslSource.prototype.addTransform=function(e){this.transforms.push(e)};GlslSource.prototype.out=function(e){var t=e||this.defaultOutput,r=this.glsl(t);if(this.synth.currentFunctions=[],t)try{t.render(r)}catch(o){console.log("shader could not compile",o)}};GlslSource.prototype.glsl=function(){var e=[],t=[];return this.transforms.forEach(r=>{r.transform.type==="renderpass"?console.warn("no support for renderpass"):t.push(r)}),t.length>0&&e.push(this.compile(t)),e};GlslSource.prototype.compile=function(e){var t=generateGlsl(e,this.synth),r={};t.uniforms.forEach(u=>{r[u.name]=u.value});var o=`
  precision ${this.defaultOutput.precision} float;
  ${Object.values(t.uniforms).map(u=>{let f=u.type;switch(u.type){case"texture":f="sampler2D";break}return`
      uniform ${f} ${u.name};`}).join("")}
  uniform float time;
  uniform vec2 resolution;
  varying vec2 uv;
  uniform sampler2D prevBuffer;

  ${Object.values(utilityGlsl).map(u=>`
            ${u.glsl}
          `).join("")}

  ${t.glslFunctions.map(u=>`
            ${u.transform.glsl}
          `).join("")}

  void main () {
    vec4 c = vec4(1, 0, 0, 1);
    vec2 st = gl_FragCoord.xy/resolution.xy;
    gl_FragColor = ${t.fragColor};
  }
  `;return{frag:o,uniforms:Object.assign({},this.defaultUniforms,r)}};const glslTransforms=()=>[{name:"noise",type:"src",inputs:[{type:"float",name:"scale",default:10},{type:"float",name:"offset",default:.1}],glsl:"   return vec4(vec3(_noise(vec3(_st*scale, offset*time))), 1.0);"},{name:"voronoi",type:"src",inputs:[{type:"float",name:"scale",default:5},{type:"float",name:"speed",default:.3},{type:"float",name:"blending",default:.3}],glsl:`   vec3 color = vec3(.0);
   // Scale
   _st *= scale;
   // Tile the space
   vec2 i_st = floor(_st);
   vec2 f_st = fract(_st);
   float m_dist = 10.;  // minimun distance
   vec2 m_point;        // minimum point
   for (int j=-1; j<=1; j++ ) {
   for (int i=-1; i<=1; i++ ) {
   vec2 neighbor = vec2(float(i),float(j));
   vec2 p = i_st + neighbor;
   vec2 point = fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);
   point = 0.5 + 0.5*sin(time*speed + 6.2831*point);
   vec2 diff = neighbor + point - f_st;
   float dist = length(diff);
   if( dist < m_dist ) {
   m_dist = dist;
   m_point = point;
   }
   }
   }
   // Assign a color using the closest point position
   color += dot(m_point,vec2(.3,.6));
   color *= 1.0 - blending*m_dist;
   return vec4(color, 1.0);`},{name:"osc",type:"src",inputs:[{type:"float",name:"frequency",default:60},{type:"float",name:"sync",default:.1},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st;
   float r = sin((st.x-offset/frequency+time*sync)*frequency)*0.5  + 0.5;
   float g = sin((st.x+time*sync)*frequency)*0.5 + 0.5;
   float b = sin((st.x+offset/frequency+time*sync)*frequency)*0.5  + 0.5;
   return vec4(r, g, b, 1.0);`},{name:"shape",type:"src",inputs:[{type:"float",name:"sides",default:3},{type:"float",name:"radius",default:.3},{type:"float",name:"smoothing",default:.01}],glsl:`   vec2 st = _st * 2. - 1.;
   // Angle and radius from the current pixel
   float a = atan(st.x,st.y)+3.1416;
   float r = (2.*3.1416)/sides;
   float d = cos(floor(.5+a/r)*r-a)*length(st);
   return vec4(vec3(1.0-smoothstep(radius,radius + smoothing + 0.0000001,d)), 1.0);`},{name:"gradient",type:"src",inputs:[{type:"float",name:"speed",default:0}],glsl:"   return vec4(_st, sin(time*speed), 1.0);"},{name:"src",type:"src",inputs:[{type:"sampler2D",name:"tex",default:NaN}],glsl:`   //  vec2 uv = gl_FragCoord.xy/vec2(1280., 720.);
   return texture2D(tex, fract(_st));`},{name:"solid",type:"src",inputs:[{type:"float",name:"r",default:0},{type:"float",name:"g",default:0},{type:"float",name:"b",default:0},{type:"float",name:"a",default:1}],glsl:"   return vec4(r, g, b, a);"},{name:"rotate",type:"coord",inputs:[{type:"float",name:"angle",default:10},{type:"float",name:"speed",default:0}],glsl:`   vec2 xy = _st - vec2(0.5);
   float ang = angle + speed *time;
   xy = mat2(cos(ang),-sin(ang), sin(ang),cos(ang))*xy;
   xy += 0.5;
   return xy;`},{name:"scale",type:"coord",inputs:[{type:"float",name:"amount",default:1.5},{type:"float",name:"xMult",default:1},{type:"float",name:"yMult",default:1},{type:"float",name:"offsetX",default:.5},{type:"float",name:"offsetY",default:.5}],glsl:`   vec2 xy = _st - vec2(offsetX, offsetY);
   xy*=(1.0/vec2(amount*xMult, amount*yMult));
   xy+=vec2(offsetX, offsetY);
   return xy;
   `},{name:"pixelate",type:"coord",inputs:[{type:"float",name:"pixelX",default:20},{type:"float",name:"pixelY",default:20}],glsl:`   vec2 xy = vec2(pixelX, pixelY);
   return (floor(_st * xy) + 0.5)/xy;`},{name:"posterize",type:"color",inputs:[{type:"float",name:"bins",default:3},{type:"float",name:"gamma",default:.6}],glsl:`   vec4 c2 = pow(_c0, vec4(gamma));
   c2 *= vec4(bins);
   c2 = floor(c2);
   c2/= vec4(bins);
   c2 = pow(c2, vec4(1.0/gamma));
   return vec4(c2.xyz, _c0.a);`},{name:"shift",type:"color",inputs:[{type:"float",name:"r",default:.5},{type:"float",name:"g",default:0},{type:"float",name:"b",default:0},{type:"float",name:"a",default:0}],glsl:`   vec4 c2 = vec4(_c0);
   c2.r = fract(c2.r + r);
   c2.g = fract(c2.g + g);
   c2.b = fract(c2.b + b);
   c2.a = fract(c2.a + a);
   return vec4(c2.rgba);`},{name:"repeat",type:"coord",inputs:[{type:"float",name:"repeatX",default:3},{type:"float",name:"repeatY",default:3},{type:"float",name:"offsetX",default:0},{type:"float",name:"offsetY",default:0}],glsl:`   vec2 st = _st * vec2(repeatX, repeatY);
   st.x += step(1., mod(st.y,2.0)) * offsetX;
   st.y += step(1., mod(st.x,2.0)) * offsetY;
   return fract(st);`},{name:"modulateRepeat",type:"combineCoord",inputs:[{type:"float",name:"repeatX",default:3},{type:"float",name:"repeatY",default:3},{type:"float",name:"offsetX",default:.5},{type:"float",name:"offsetY",default:.5}],glsl:`   vec2 st = _st * vec2(repeatX, repeatY);
   st.x += step(1., mod(st.y,2.0)) + _c0.r * offsetX;
   st.y += step(1., mod(st.x,2.0)) + _c0.g * offsetY;
   return fract(st);`},{name:"repeatX",type:"coord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.y += step(1., mod(st.x,2.0))* offset;
   return fract(st);`},{name:"modulateRepeatX",type:"combineCoord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:.5}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.y += step(1., mod(st.x,2.0)) + _c0.r * offset;
   return fract(st);`},{name:"repeatY",type:"coord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:0}],glsl:`   vec2 st = _st * vec2(1.0, reps);
   //  float f =  mod(_st.y,2.0);
   st.x += step(1., mod(st.y,2.0))* offset;
   return fract(st);`},{name:"modulateRepeatY",type:"combineCoord",inputs:[{type:"float",name:"reps",default:3},{type:"float",name:"offset",default:.5}],glsl:`   vec2 st = _st * vec2(reps, 1.0);
   //  float f =  mod(_st.y,2.0);
   st.x += step(1., mod(st.y,2.0)) + _c0.r * offset;
   return fract(st);`},{name:"kaleid",type:"coord",inputs:[{type:"float",name:"nSides",default:4}],glsl:`   vec2 st = _st;
   st -= 0.5;
   float r = length(st);
   float a = atan(st.y, st.x);
   float pi = 2.*3.1416;
   a = mod(a,pi/nSides);
   a = abs(a-pi/nSides/2.);
   return r*vec2(cos(a), sin(a));`},{name:"modulateKaleid",type:"combineCoord",inputs:[{type:"float",name:"nSides",default:4}],glsl:`   vec2 st = _st - 0.5;
   float r = length(st);
   float a = atan(st.y, st.x);
   float pi = 2.*3.1416;
   a = mod(a,pi/nSides);
   a = abs(a-pi/nSides/2.);
   return (_c0.r+r)*vec2(cos(a), sin(a));`},{name:"scroll",type:"coord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"scrollY",default:.5},{type:"float",name:"speedX",default:0},{type:"float",name:"speedY",default:0}],glsl:`
   _st.x += scrollX + time*speedX;
   _st.y += scrollY + time*speedY;
   return fract(_st);`},{name:"scrollX",type:"coord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.x += scrollX + time*speed;
   return fract(_st);`},{name:"modulateScrollX",type:"combineCoord",inputs:[{type:"float",name:"scrollX",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.x += _c0.r*scrollX + time*speed;
   return fract(_st);`},{name:"scrollY",type:"coord",inputs:[{type:"float",name:"scrollY",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.y += scrollY + time*speed;
   return fract(_st);`},{name:"modulateScrollY",type:"combineCoord",inputs:[{type:"float",name:"scrollY",default:.5},{type:"float",name:"speed",default:0}],glsl:`   _st.y += _c0.r*scrollY + time*speed;
   return fract(_st);`},{name:"add",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return (_c0+_c1)*amount + _c0*(1.0-amount);"},{name:"sub",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return (_c0-_c1)*amount + _c0*(1.0-amount);"},{name:"layer",type:"combine",inputs:[],glsl:"   return vec4(mix(_c0.rgb, _c1.rgb, _c1.a), clamp(_c0.a + _c1.a, 0.0, 1.0));"},{name:"blend",type:"combine",inputs:[{type:"float",name:"amount",default:.5}],glsl:"   return _c0*(1.0-amount)+_c1*amount;"},{name:"mult",type:"combine",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return _c0*(1.0-amount)+(_c0*_c1)*amount;"},{name:"diff",type:"combine",inputs:[],glsl:"   return vec4(abs(_c0.rgb-_c1.rgb), max(_c0.a, _c1.a));"},{name:"modulate",type:"combineCoord",inputs:[{type:"float",name:"amount",default:.1}],glsl:`   //  return fract(st+(_c0.xy-0.5)*amount);
   return _st + _c0.xy*amount;`},{name:"modulateScale",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:1},{type:"float",name:"offset",default:1}],glsl:`   vec2 xy = _st - vec2(0.5);
   xy*=(1.0/vec2(offset + multiple*_c0.r, offset + multiple*_c0.g));
   xy+=vec2(0.5);
   return xy;`},{name:"modulatePixelate",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:10},{type:"float",name:"offset",default:3}],glsl:`   vec2 xy = vec2(offset + _c0.x*multiple, offset + _c0.y*multiple);
   return (floor(_st * xy) + 0.5)/xy;`},{name:"modulateRotate",type:"combineCoord",inputs:[{type:"float",name:"multiple",default:1},{type:"float",name:"offset",default:0}],glsl:`   vec2 xy = _st - vec2(0.5);
   float angle = offset + _c0.x * multiple;
   xy = mat2(cos(angle),-sin(angle), sin(angle),cos(angle))*xy;
   xy += 0.5;
   return xy;`},{name:"modulateHue",type:"combineCoord",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return _st + (vec2(_c0.g - _c0.r, _c0.b - _c0.g) * amount * 1.0/resolution);"},{name:"invert",type:"color",inputs:[{type:"float",name:"amount",default:1}],glsl:"   return vec4((1.0-_c0.rgb)*amount + _c0.rgb*(1.0-amount), _c0.a);"},{name:"contrast",type:"color",inputs:[{type:"float",name:"amount",default:1.6}],glsl:`   vec4 c = (_c0-vec4(0.5))*vec4(amount) + vec4(0.5);
   return vec4(c.rgb, _c0.a);`},{name:"brightness",type:"color",inputs:[{type:"float",name:"amount",default:.4}],glsl:"   return vec4(_c0.rgb + vec3(amount), _c0.a);"},{name:"mask",type:"combine",inputs:[],glsl:`   float a = _luminance(_c1.rgb);
  return vec4(_c0.rgb*a, a*_c0.a);`},{name:"luma",type:"color",inputs:[{type:"float",name:"threshold",default:.5},{type:"float",name:"tolerance",default:.1}],glsl:`   float a = smoothstep(threshold-(tolerance+0.0000001), threshold+(tolerance+0.0000001), _luminance(_c0.rgb));
   return vec4(_c0.rgb*a, a);`},{name:"thresh",type:"color",inputs:[{type:"float",name:"threshold",default:.5},{type:"float",name:"tolerance",default:.04}],glsl:"   return vec4(vec3(smoothstep(threshold-(tolerance+0.0000001), threshold+(tolerance+0.0000001), _luminance(_c0.rgb))), _c0.a);"},{name:"color",type:"color",inputs:[{type:"float",name:"r",default:1},{type:"float",name:"g",default:1},{type:"float",name:"b",default:1},{type:"float",name:"a",default:1}],glsl:`   vec4 c = vec4(r, g, b, a);
   vec4 pos = step(0.0, c); // detect whether negative
   // if > 0, return r * _c0
   // if < 0 return (1.0-r) * _c0
   return vec4(mix((1.0-_c0)*abs(c), c*_c0, pos));`},{name:"saturate",type:"color",inputs:[{type:"float",name:"amount",default:2}],glsl:`   const vec3 W = vec3(0.2125, 0.7154, 0.0721);
   vec3 intensity = vec3(dot(_c0.rgb, W));
   return vec4(mix(intensity, _c0.rgb, amount), _c0.a);`},{name:"hue",type:"color",inputs:[{type:"float",name:"hue",default:.4}],glsl:`   vec3 c = _rgbToHsv(_c0.rgb);
   c.r += hue;
   //  c.r = fract(c.r);
   return vec4(_hsvToRgb(c), _c0.a);`},{name:"colorama",type:"color",inputs:[{type:"float",name:"amount",default:.005}],glsl:`   vec3 c = _rgbToHsv(_c0.rgb);
   c += vec3(amount);
   c = _hsvToRgb(c);
   c = fract(c);
   return vec4(c, _c0.a);`},{name:"prev",type:"src",inputs:[],glsl:"   return texture2D(prevBuffer, fract(_st));"},{name:"sum",type:"color",inputs:[{type:"vec4",name:"scale",default:1}],glsl:`   vec4 v = _c0 * s;
   return v.r + v.g + v.b + v.a;
   }
   float sum(vec2 _st, vec4 s) { // vec4 is not a typo, because argument type is not overloaded
   vec2 v = _st.xy * s.xy;
   return v.x + v.y;`},{name:"r",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.r * scale + offset);"},{name:"g",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.g * scale + offset);"},{name:"b",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.b * scale + offset);"},{name:"a",type:"color",inputs:[{type:"float",name:"scale",default:1},{type:"float",name:"offset",default:0}],glsl:"   return vec4(_c0.a * scale + offset);"}];class GeneratorFactory{constructor({defaultUniforms:t,defaultOutput:r,extendTransforms:o=[],changeListener:u=()=>{}}={}){this.defaultOutput=r,this.defaultUniforms=t,this.changeListener=u,this.extendTransforms=o,this.generators={},this.init()}init(){const t=glslTransforms();return this.glslTransforms={},this.generators=Object.entries(this.generators).reduce((r,[o,u])=>(this.changeListener({type:"remove",synth:this,method:o}),r),{}),this.sourceClass=(()=>class extends GlslSource{})(),Array.isArray(this.extendTransforms)?t.concat(this.extendTransforms):typeof this.extendTransforms=="object"&&this.extendTransforms.type&&t.push(this.extendTransforms),t.map(r=>this.setFunction(r))}_addMethod(t,r){const o=this;if(this.glslTransforms[t]=r,r.type==="src"){const u=(...f)=>new this.sourceClass({name:t,transform:r,userArgs:f,defaultOutput:this.defaultOutput,defaultUniforms:this.defaultUniforms,synth:o});return this.generators[t]=u,this.changeListener({type:"add",synth:this,method:t}),u}else this.sourceClass.prototype[t]=function(...u){return this.transforms.push({name:t,transform:r,userArgs:u,synth:o}),this}}setFunction(t){var r=processGlsl(t);r&&this._addMethod(t.name,r)}}const typeLookup={src:{returnType:"vec4",args:["vec2 _st"]},coord:{returnType:"vec2",args:["vec2 _st"]},color:{returnType:"vec4",args:["vec4 _c0"]},combine:{returnType:"vec4",args:["vec4 _c0","vec4 _c1"]},combineCoord:{returnType:"vec2",args:["vec2 _st","vec4 _c0"]}};function processGlsl(e){let t=typeLookup[e.type];if(t){let r=t.args.map(g=>g).join(", "),o=e.inputs.map(g=>`${g.type} ${g.name}`).join(", "),u=`${r}${o.length>0?", "+o:""}`,f=`
  ${t.returnType} ${e.name}(${u}) {
      ${e.glsl}
  }
`;return(e.type==="combine"||e.type==="combineCoord")&&e.inputs.unshift({name:"color",type:"vec4"}),Object.assign({},e,{glsl:f})}else console.warn(`type ${e.type} not recognized`,e)}var regl$1={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(this,function(){var r=function(N){return N instanceof Uint8Array||N instanceof Uint16Array||N instanceof Uint32Array||N instanceof Int8Array||N instanceof Int16Array||N instanceof Int32Array||N instanceof Float32Array||N instanceof Float64Array||N instanceof Uint8ClampedArray},o=function(N,V){for(var ne=Object.keys(V),Oe=0;Oe<ne.length;++Oe)N[ne[Oe]]=V[ne[Oe]];return N},u=`
`;function f(N){return typeof atob<"u"?atob(N):"base64:"+N}function g(N){var V=new Error("(regl) "+N);throw console.error(V),V}function b(N,V){N||g(V)}function S(N){return N?": "+N:""}function T(N,V,ne){N in V||g("unknown parameter ("+N+")"+S(ne)+". possible values: "+Object.keys(V).join())}function $(N,V){r(N)||g("invalid parameter type"+S(V)+". must be a typed array")}function A(N,V){switch(V){case"number":return typeof N=="number";case"object":return typeof N=="object";case"string":return typeof N=="string";case"boolean":return typeof N=="boolean";case"function":return typeof N=="function";case"undefined":return typeof N>"u";case"symbol":return typeof N=="symbol"}}function M(N,V,ne){A(N,V)||g("invalid parameter type"+S(ne)+". expected "+V+", got "+typeof N)}function O(N,V){N>=0&&(N|0)===N||g("invalid parameter type, ("+N+")"+S(V)+". must be a nonnegative integer")}function D(N,V,ne){V.indexOf(N)<0&&g("invalid value"+S(ne)+". must be one of: "+V)}var U=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function F(N){Object.keys(N).forEach(function(V){U.indexOf(V)<0&&g('invalid regl constructor argument "'+V+'". must be one of '+U)})}function P(N,V){for(N=N+"";N.length<V;)N=" "+N;return N}function oe(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function Me(N,V){this.number=N,this.line=V,this.errors=[]}function he(N,V,ne){this.file=N,this.line=V,this.message=ne}function de(){var N=new Error,V=(N.stack||N).toString(),ne=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(V);if(ne)return ne[1];var Oe=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(V);return Oe?Oe[1]:"unknown"}function xe(){var N=new Error,V=(N.stack||N).toString(),ne=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(V);if(ne)return ne[1];var Oe=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(V);return Oe?Oe[1]:"unknown"}function Ce(N,V){var ne=N.split(`
`),Oe=1,Ge=0,Re={unknown:new oe,0:new oe};Re.unknown.name=Re[0].name=V||de(),Re.unknown.lines.push(new Me(0,""));for(var Ne=0;Ne<ne.length;++Ne){var tt=ne[Ne],it=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(tt);if(it)switch(it[1]){case"line":var at=/(\d+)(\s+\d+)?/.exec(it[2]);at&&(Oe=at[1]|0,at[2]&&(Ge=at[2]|0,Ge in Re||(Re[Ge]=new oe)));break;case"define":var nt=/SHADER_NAME(_B64)?\s+(.*)$/.exec(it[2]);nt&&(Re[Ge].name=nt[1]?f(nt[2]):nt[2]);break}Re[Ge].lines.push(new Me(Oe++,tt))}return Object.keys(Re).forEach(function(ct){var mt=Re[ct];mt.lines.forEach(function(rt){mt.index[rt.number]=rt})}),Re}function De(N){var V=[];return N.split(`
`).forEach(function(ne){if(!(ne.length<5)){var Oe=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(ne);Oe?V.push(new he(Oe[1]|0,Oe[2]|0,Oe[3].trim())):ne.length>0&&V.push(new he("unknown",0,ne))}}),V}function et(N,V){V.forEach(function(ne){var Oe=N[ne.file];if(Oe){var Ge=Oe.index[ne.line];if(Ge){Ge.errors.push(ne),Oe.hasErrors=!0;return}}N.unknown.hasErrors=!0,N.unknown.lines[0].errors.push(ne)})}function Ve(N,V,ne,Oe,Ge){if(!N.getShaderParameter(V,N.COMPILE_STATUS)){var Re=N.getShaderInfoLog(V),Ne=Oe===N.FRAGMENT_SHADER?"fragment":"vertex";G(ne,"string",Ne+" shader source must be a string",Ge);var tt=Ce(ne,Ge),it=De(Re);et(tt,it),Object.keys(tt).forEach(function(at){var nt=tt[at];if(!nt.hasErrors)return;var ct=[""],mt=[""];function rt(ht,Te){ct.push(ht),mt.push(Te||"")}rt("file number "+at+": "+nt.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),nt.lines.forEach(function(ht){if(ht.errors.length>0){rt(P(ht.number,4)+"|  ","background-color:yellow; font-weight:bold"),rt(ht.line+u,"color:red; background-color:yellow; font-weight:bold");var Te=0;ht.errors.forEach(function(Ie){var ot=Ie.message,vt=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ot);if(vt){var He=vt[1];switch(ot=vt[2],He){case"assign":He="=";break}Te=Math.max(ht.line.indexOf(He,Te),0)}else Te=0;rt(P("| ",6)),rt(P("^^^",Te+3)+u,"font-weight:bold"),rt(P("| ",6)),rt(ot+u,"font-weight:bold")}),rt(P("| ",6)+u)}else rt(P(ht.number,4)+"|  "),rt(ht.line+u,"color:red")}),typeof document<"u"&&!window.chrome?(mt[0]=ct.join("%c"),console.log.apply(console,mt)):console.log(ct.join(""))}),b.raise("Error compiling "+Ne+" shader, "+tt[0].name)}}function Ze(N,V,ne,Oe,Ge){if(!N.getProgramParameter(V,N.LINK_STATUS)){var Re=N.getProgramInfoLog(V),Ne=Ce(ne,Ge),tt=Ce(Oe,Ge),it='Error linking program with vertex shader, "'+tt[0].name+'", and fragment shader "'+Ne[0].name+'"';typeof document<"u"?console.log("%c"+it+u+"%c"+Re,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(it+u+Re),b.raise(it)}}function se(N){N._commandRef=de()}function me(N,V,ne,Oe){se(N);function Ge(it){return it?Oe.id(it):0}N._fragId=Ge(N.static.frag),N._vertId=Ge(N.static.vert);function Re(it,at){Object.keys(at).forEach(function(nt){it[Oe.id(nt)]=!0})}var Ne=N._uniformSet={};Re(Ne,V.static),Re(Ne,V.dynamic);var tt=N._attributeSet={};Re(tt,ne.static),Re(tt,ne.dynamic),N._hasCount="count"in N.static||"count"in N.dynamic||"elements"in N.static||"elements"in N.dynamic}function Se(N,V){var ne=xe();g(N+" in command "+(V||de())+(ne==="unknown"?"":" called from "+ne))}function Y(N,V,ne){N||Se(V,ne||de())}function Q(N,V,ne,Oe){N in V||Se("unknown parameter ("+N+")"+S(ne)+". possible values: "+Object.keys(V).join(),Oe||de())}function G(N,V,ne,Oe){A(N,V)||Se("invalid parameter type"+S(ne)+". expected "+V+", got "+typeof N,Oe||de())}function H(N){N()}function ve(N,V,ne){N.texture?D(N.texture._texture.internalformat,V,"unsupported texture format for attachment"):D(N.renderbuffer._renderbuffer.format,ne,"unsupported renderbuffer format for attachment")}var Ue=33071,qe=9728,ut=9984,gt=9985,wt=9986,Ct=9987,er=5120,Ut=5121,_r=5122,pr=5123,Mr=5124,Hr=5125,or=5126,Er=32819,_t=32820,rr=33635,Mi=34042,jr=36193,Ft={};Ft[er]=Ft[Ut]=1,Ft[_r]=Ft[pr]=Ft[jr]=Ft[rr]=Ft[Er]=Ft[_t]=2,Ft[Mr]=Ft[Hr]=Ft[or]=Ft[Mi]=4;function Ai(N,V){return N===_t||N===Er||N===rr?2:N===Mi?4:Ft[N]*V}function pi(N){return!(N&N-1)&&!!N}function Wi(N,V,ne){var Oe,Ge=V.width,Re=V.height,Ne=V.channels;b(Ge>0&&Ge<=ne.maxTextureSize&&Re>0&&Re<=ne.maxTextureSize,"invalid texture shape"),(N.wrapS!==Ue||N.wrapT!==Ue)&&b(pi(Ge)&&pi(Re),"incompatible wrap mode for texture, both width and height must be power of 2"),V.mipmask===1?Ge!==1&&Re!==1&&b(N.minFilter!==ut&&N.minFilter!==wt&&N.minFilter!==gt&&N.minFilter!==Ct,"min filter requires mipmap"):(b(pi(Ge)&&pi(Re),"texture must be a square power of 2 to support mipmapping"),b(V.mipmask===(Ge<<1)-1,"missing or incomplete mipmap data")),V.type===or&&(ne.extensions.indexOf("oes_texture_float_linear")<0&&b(N.minFilter===qe&&N.magFilter===qe,"filter not supported, must enable oes_texture_float_linear"),b(!N.genMipmaps,"mipmap generation not supported with float textures"));var tt=V.images;for(Oe=0;Oe<16;++Oe)if(tt[Oe]){var it=Ge>>Oe,at=Re>>Oe;b(V.mipmask&1<<Oe,"missing mipmap data");var nt=tt[Oe];if(b(nt.width===it&&nt.height===at,"invalid shape for mip images"),b(nt.format===V.format&&nt.internalformat===V.internalformat&&nt.type===V.type,"incompatible type for mip image"),!nt.compressed)if(nt.data){var ct=Math.ceil(Ai(nt.type,Ne)*it/nt.unpackAlignment)*nt.unpackAlignment;b(nt.data.byteLength===ct*at,"invalid data for image, buffer size is inconsistent with image format")}else nt.element||nt.copy}else N.genMipmaps||b((V.mipmask&1<<Oe)===0,"extra mipmap data");V.compressed&&b(!N.genMipmaps,"mipmap generation for compressed images not supported")}function Fe(N,V,ne,Oe){var Ge=N.width,Re=N.height,Ne=N.channels;b(Ge>0&&Ge<=Oe.maxTextureSize&&Re>0&&Re<=Oe.maxTextureSize,"invalid texture shape"),b(Ge===Re,"cube map must be square"),b(V.wrapS===Ue&&V.wrapT===Ue,"wrap mode not supported by cube map");for(var tt=0;tt<ne.length;++tt){var it=ne[tt];b(it.width===Ge&&it.height===Re,"inconsistent cube map face shape"),V.genMipmaps&&(b(!it.compressed,"can not generate mipmap for compressed textures"),b(it.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var at=it.images,nt=0;nt<16;++nt){var ct=at[nt];if(ct){var mt=Ge>>nt,rt=Re>>nt;b(it.mipmask&1<<nt,"missing mipmap data"),b(ct.width===mt&&ct.height===rt,"invalid shape for mip images"),b(ct.format===N.format&&ct.internalformat===N.internalformat&&ct.type===N.type,"incompatible type for mip image"),ct.compressed||(ct.data?b(ct.data.byteLength===mt*rt*Math.max(Ai(ct.type,Ne),ct.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ct.element||ct.copy)}}}}var K=o(b,{optional:H,raise:g,commandRaise:Se,command:Y,parameter:T,commandParameter:Q,constructor:F,type:M,commandType:G,isTypedArray:$,nni:O,oneOf:D,shaderError:Ve,linkError:Ze,callSite:xe,saveCommandRef:se,saveDrawInfo:me,framebufferFormat:ve,guessCommand:de,texture2D:Wi,textureCube:Fe}),un=0,Qr=0,zi=5,z=6;function L(N,V){this.id=un++,this.type=N,this.data=V}function I(N){return N.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ie(N){if(N.length===0)return[];var V=N.charAt(0),ne=N.charAt(N.length-1);if(N.length>1&&V===ne&&(V==='"'||V==="'"))return['"'+I(N.substr(1,N.length-2))+'"'];var Oe=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(N);if(Oe)return ie(N.substr(0,Oe.index)).concat(ie(Oe[1])).concat(ie(N.substr(Oe.index+Oe[0].length)));var Ge=N.split(".");if(Ge.length===1)return['"'+I(N)+'"'];for(var Re=[],Ne=0;Ne<Ge.length;++Ne)Re=Re.concat(ie(Ge[Ne]));return Re}function Ee(N){return"["+ie(N).join("][")+"]"}function Be(N,V){return new L(N,Ee(V+""))}function Ye(N){return typeof N=="function"&&!N._reglType||N instanceof L}function Nt(N,V){if(typeof N=="function")return new L(Qr,N);if(typeof N=="number"||typeof N=="boolean")return new L(zi,N);if(Array.isArray(N))return new L(z,N.map((ne,Oe)=>Nt(ne,V+"["+Oe+"]")));if(N instanceof L)return N;K(!1,"invalid option type in uniform "+V)}var Zt={DynamicVariable:L,define:Be,isDynamic:Ye,unbox:Nt,accessor:Ee},gr={next:typeof requestAnimationFrame=="function"?function(N){return requestAnimationFrame(N)}:function(N){return setTimeout(N,16)},cancel:typeof cancelAnimationFrame=="function"?function(N){return cancelAnimationFrame(N)}:clearTimeout},ar=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function dr(){var N={"":0},V=[""];return{id:function(ne){var Oe=N[ne];return Oe||(Oe=N[ne]=V.length,V.push(ne),Oe)},str:function(ne){return V[ne]}}}function Ro(N,V,ne){var Oe=document.createElement("canvas");o(Oe.style,{border:0,margin:0,padding:0,top:0,left:0}),N.appendChild(Oe),N===document.body&&(Oe.style.position="absolute",o(N.style,{margin:0,padding:0}));function Ge(){var tt=window.innerWidth,it=window.innerHeight;if(N!==document.body){var at=N.getBoundingClientRect();tt=at.right-at.left,it=at.bottom-at.top}Oe.width=ne*tt,Oe.height=ne*it,o(Oe.style,{width:tt+"px",height:it+"px"})}var Re;N!==document.body&&typeof ResizeObserver=="function"?(Re=new ResizeObserver(function(){setTimeout(Ge)}),Re.observe(N)):window.addEventListener("resize",Ge,!1);function Ne(){Re?Re.disconnect():window.removeEventListener("resize",Ge),N.removeChild(Oe)}return Ge(),{canvas:Oe,onDestroy:Ne}}function Oo(N,V){function ne(Oe){try{return N.getContext(Oe,V)}catch{return null}}return ne("webgl")||ne("experimental-webgl")||ne("webgl-experimental")}function ys(N){return typeof N.nodeName=="string"&&typeof N.appendChild=="function"&&typeof N.getBoundingClientRect=="function"}function ki(N){return typeof N.drawArrays=="function"||typeof N.drawElements=="function"}function bi(N){return typeof N=="string"?N.split():(K(Array.isArray(N),"invalid extension array"),N)}function Vi(N){return typeof N=="string"?(K(typeof document<"u","not supported outside of DOM"),document.querySelector(N)):N}function Lo(N){var V=N||{},ne,Oe,Ge,Re,Ne={},tt=[],it=[],at=typeof window>"u"?1:window.devicePixelRatio,nt=!1,ct=function(ht){ht&&K.raise(ht)},mt=function(){};if(typeof V=="string"?(K(typeof document<"u","selector queries only supported in DOM enviroments"),ne=document.querySelector(V),K(ne,"invalid query string for element")):typeof V=="object"?ys(V)?ne=V:ki(V)?(Re=V,Ge=Re.canvas):(K.constructor(V),"gl"in V?Re=V.gl:"canvas"in V?Ge=Vi(V.canvas):"container"in V&&(Oe=Vi(V.container)),"attributes"in V&&(Ne=V.attributes,K.type(Ne,"object","invalid context attributes")),"extensions"in V&&(tt=bi(V.extensions)),"optionalExtensions"in V&&(it=bi(V.optionalExtensions)),"onDone"in V&&(K.type(V.onDone,"function","invalid or missing onDone callback"),ct=V.onDone),"profile"in V&&(nt=!!V.profile),"pixelRatio"in V&&(at=+V.pixelRatio,K(at>0,"invalid pixel ratio"))):K.raise("invalid arguments to regl"),ne&&(ne.nodeName.toLowerCase()==="canvas"?Ge=ne:Oe=ne),!Re){if(!Ge){K(typeof document<"u","must manually specify webgl context outside of DOM environments");var rt=Ro(Oe||document.body,ct,at);if(!rt)return null;Ge=rt.canvas,mt=rt.onDestroy}Ne.premultipliedAlpha===void 0&&(Ne.premultipliedAlpha=!0),Re=Oo(Ge,Ne)}return Re?{gl:Re,canvas:Ge,container:Oe,extensions:tt,optionalExtensions:it,pixelRatio:at,profile:nt,onDone:ct,onDestroy:mt}:(mt(),ct("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Hi(N,V){var ne={};function Oe(Ne){K.type(Ne,"string","extension name must be string");var tt=Ne.toLowerCase(),it;try{it=ne[tt]=N.getExtension(tt)}catch{}return!!it}for(var Ge=0;Ge<V.extensions.length;++Ge){var Re=V.extensions[Ge];if(!Oe(Re))return V.onDestroy(),V.onDone('"'+Re+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return V.optionalExtensions.forEach(Oe),{extensions:ne,restore:function(){Object.keys(ne).forEach(function(Ne){if(ne[Ne]&&!Oe(Ne))throw new Error("(regl): error restoring extension "+Ne)})}}}function qr(N,V){for(var ne=Array(N),Oe=0;Oe<N;++Oe)ne[Oe]=V(Oe);return ne}var gs=5120,Bi=5121,$i=5122,li=5123,Qs=5124,Ys=5125,Qi=5126;function bn(N){for(var V=16;V<=1<<28;V*=16)if(N<=V)return V;return 0}function di(N){var V,ne;return V=(N>65535)<<4,N>>>=V,ne=(N>255)<<3,N>>>=ne,V|=ne,ne=(N>15)<<2,N>>>=ne,V|=ne,ne=(N>3)<<1,N>>>=ne,V|=ne,V|N>>1}function Kn(){var N=qr(8,function(){return[]});function V(Re){var Ne=bn(Re),tt=N[di(Ne)>>2];return tt.length>0?tt.pop():new ArrayBuffer(Ne)}function ne(Re){N[di(Re.byteLength)>>2].push(Re)}function Oe(Re,Ne){var tt=null;switch(Re){case gs:tt=new Int8Array(V(Ne),0,Ne);break;case Bi:tt=new Uint8Array(V(Ne),0,Ne);break;case $i:tt=new Int16Array(V(2*Ne),0,Ne);break;case li:tt=new Uint16Array(V(2*Ne),0,Ne);break;case Qs:tt=new Int32Array(V(4*Ne),0,Ne);break;case Ys:tt=new Uint32Array(V(4*Ne),0,Ne);break;case Qi:tt=new Float32Array(V(4*Ne),0,Ne);break;default:return null}return tt.length!==Ne?tt.subarray(0,Ne):tt}function Ge(Re){ne(Re.buffer)}return{alloc:V,free:ne,allocType:Oe,freeType:Ge}}var Sr=Kn();Sr.zero=Kn();var No=3408,Xs=3410,xa=3411,Io=3412,En=3413,Zs=3414,Wn=3415,Ri=33901,Bo=33902,zt=3379,vs=3386,eo=34921,Sn=36347,Uo=36348,fn=35661,zn=35660,Ca=34930,_s=36349,Tn=34076,Vn=34024,J=7936,ae=7937,je=7938,ft=35724,Pt=34047,Yt=36063,Ur=34852,Yi=3553,xn=34067,Ui=34069,xl=33984,ws=6408,Po=5126,bs=5121,Do=36160,Cl=36053,Ma=36064,Fo=16384,Ml=function(N,V){var ne=1;V.ext_texture_filter_anisotropic&&(ne=N.getParameter(Pt));var Oe=1,Ge=1;V.webgl_draw_buffers&&(Oe=N.getParameter(Ur),Ge=N.getParameter(Yt));var Re=!!V.oes_texture_float;if(Re){var Ne=N.createTexture();N.bindTexture(Yi,Ne),N.texImage2D(Yi,0,ws,1,1,0,ws,Po,null);var tt=N.createFramebuffer();if(N.bindFramebuffer(Do,tt),N.framebufferTexture2D(Do,Ma,Yi,Ne,0),N.bindTexture(Yi,null),N.checkFramebufferStatus(Do)!==Cl)Re=!1;else{N.viewport(0,0,1,1),N.clearColor(1,0,0,1),N.clear(Fo);var it=Sr.allocType(Po,4);N.readPixels(0,0,1,1,ws,Po,it),N.getError()?Re=!1:(N.deleteFramebuffer(tt),N.deleteTexture(Ne),Re=it[0]===1),Sr.freeType(it)}}var at=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),nt=!0;if(!at){var ct=N.createTexture(),mt=Sr.allocType(bs,36);N.activeTexture(xl),N.bindTexture(xn,ct),N.texImage2D(Ui,0,ws,3,3,0,ws,bs,mt),Sr.freeType(mt),N.bindTexture(xn,null),N.deleteTexture(ct),nt=!N.getError()}return{colorBits:[N.getParameter(Xs),N.getParameter(xa),N.getParameter(Io),N.getParameter(En)],depthBits:N.getParameter(Zs),stencilBits:N.getParameter(Wn),subpixelBits:N.getParameter(No),extensions:Object.keys(V).filter(function(rt){return!!V[rt]}),maxAnisotropic:ne,maxDrawbuffers:Oe,maxColorAttachments:Ge,pointSizeDims:N.getParameter(Ri),lineWidthDims:N.getParameter(Bo),maxViewportDims:N.getParameter(vs),maxCombinedTextureUnits:N.getParameter(fn),maxCubeMapSize:N.getParameter(Tn),maxRenderbufferSize:N.getParameter(Vn),maxTextureUnits:N.getParameter(Ca),maxTextureSize:N.getParameter(zt),maxAttributes:N.getParameter(eo),maxVertexUniforms:N.getParameter(Sn),maxVertexTextureUnits:N.getParameter(zn),maxVaryingVectors:N.getParameter(Uo),maxFragmentUniforms:N.getParameter(_s),glsl:N.getParameter(ft),renderer:N.getParameter(ae),vendor:N.getParameter(J),version:N.getParameter(je),readFloat:Re,npotTextureCube:nt}};function mi(N){return!!N&&typeof N=="object"&&Array.isArray(N.shape)&&Array.isArray(N.stride)&&typeof N.offset=="number"&&N.shape.length===N.stride.length&&(Array.isArray(N.data)||r(N.data))}var kr=function(N){return Object.keys(N).map(function(V){return N[V]})},to={shape:_u,flatten:Oa};function Aa(N,V,ne){for(var Oe=0;Oe<V;++Oe)ne[Oe]=N[Oe]}function ka(N,V,ne,Oe){for(var Ge=0,Re=0;Re<V;++Re)for(var Ne=N[Re],tt=0;tt<ne;++tt)Oe[Ge++]=Ne[tt]}function $a(N,V,ne,Oe,Ge,Re){for(var Ne=Re,tt=0;tt<V;++tt)for(var it=N[tt],at=0;at<ne;++at)for(var nt=it[at],ct=0;ct<Oe;++ct)Ge[Ne++]=nt[ct]}function Ra(N,V,ne,Oe,Ge){for(var Re=1,Ne=ne+1;Ne<V.length;++Ne)Re*=V[Ne];var tt=V[ne];if(V.length-ne===4){var it=V[ne+1],at=V[ne+2],nt=V[ne+3];for(Ne=0;Ne<tt;++Ne)$a(N[Ne],it,at,nt,Oe,Ge),Ge+=Re}else for(Ne=0;Ne<tt;++Ne)Ra(N[Ne],V,ne+1,Oe,Ge),Ge+=Re}function Oa(N,V,ne,Oe){var Ge=1;if(V.length)for(var Re=0;Re<V.length;++Re)Ge*=V[Re];else Ge=0;var Ne=Oe||Sr.allocType(ne,Ge);switch(V.length){case 0:break;case 1:Aa(N,V[0],Ne);break;case 2:ka(N,V[0],V[1],Ne);break;case 3:$a(N,V[0],V[1],V[2],Ne,0);break;default:Ra(N,V,0,Ne,0)}return Ne}function _u(N){for(var V=[],ne=N;ne.length;ne=ne[0])V.push(ne.length);return V}var La={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},wu=5120,Es=5122,Ss=5124,Na=5121,Ia=5123,Al=5125,Ba=5126,Hn=5126,Ei={int8:wu,int16:Es,int32:Ss,uint8:Na,uint16:Ia,uint32:Al,float:Ba,float32:Hn},ui=35048,Cn=35040,Pi={dynamic:ui,stream:Cn,static:35044},Ts=to.flatten,Ua=to.shape,xs=35044,kl=35040,ro=5121,Cs=5126,Mn=[];Mn[5120]=1,Mn[5122]=2,Mn[5124]=4,Mn[5121]=1,Mn[5123]=2,Mn[5125]=4,Mn[5126]=4;function Ms(N){return La[Object.prototype.toString.call(N)]|0}function Pa(N,V){for(var ne=0;ne<V.length;++ne)N[ne]=V[ne]}function Jo(N,V,ne,Oe,Ge,Re,Ne){for(var tt=0,it=0;it<ne;++it)for(var at=0;at<Oe;++at)N[tt++]=V[Ge*it+Re*at+Ne]}function Da(N,V,ne,Oe){var Ge=0,Re={};function Ne(Te){this.id=Ge++,this.buffer=N.createBuffer(),this.type=Te,this.usage=xs,this.byteLength=0,this.dimension=1,this.dtype=ro,this.persistentData=null,ne.profile&&(this.stats={size:0})}Ne.prototype.bind=function(){N.bindBuffer(this.type,this.buffer)},Ne.prototype.destroy=function(){mt(this)};var tt=[];function it(Te,Ie){var ot=tt.pop();return ot||(ot=new Ne(Te)),ot.bind(),ct(ot,Ie,kl,0,1,!1),ot}function at(Te){tt.push(Te)}function nt(Te,Ie,ot){Te.byteLength=Ie.byteLength,N.bufferData(Te.type,Ie,ot)}function ct(Te,Ie,ot,vt,He,Et){var Xe;if(Te.usage=ot,Array.isArray(Ie)){if(Te.dtype=vt||Cs,Ie.length>0){var pt;if(Array.isArray(Ie[0])){Xe=Ua(Ie);for(var Qe=1,dt=1;dt<Xe.length;++dt)Qe*=Xe[dt];Te.dimension=Qe,pt=Ts(Ie,Xe,Te.dtype),nt(Te,pt,ot),Et?Te.persistentData=pt:Sr.freeType(pt)}else if(typeof Ie[0]=="number"){Te.dimension=He;var At=Sr.allocType(Te.dtype,Ie.length);Pa(At,Ie),nt(Te,At,ot),Et?Te.persistentData=At:Sr.freeType(At)}else r(Ie[0])?(Te.dimension=Ie[0].length,Te.dtype=vt||Ms(Ie[0])||Cs,pt=Ts(Ie,[Ie.length,Ie[0].length],Te.dtype),nt(Te,pt,ot),Et?Te.persistentData=pt:Sr.freeType(pt)):K.raise("invalid buffer data")}}else if(r(Ie))Te.dtype=vt||Ms(Ie),Te.dimension=He,nt(Te,Ie,ot),Et&&(Te.persistentData=new Uint8Array(new Uint8Array(Ie.buffer)));else if(mi(Ie)){Xe=Ie.shape;var Bt=Ie.stride,yt=Ie.offset,lt=0,ze=0,Ot=0,jt=0;Xe.length===1?(lt=Xe[0],ze=1,Ot=Bt[0],jt=0):Xe.length===2?(lt=Xe[0],ze=Xe[1],Ot=Bt[0],jt=Bt[1]):K.raise("invalid shape"),Te.dtype=vt||Ms(Ie.data)||Cs,Te.dimension=ze;var Tt=Sr.allocType(Te.dtype,lt*ze);Jo(Tt,Ie.data,lt,ze,Ot,jt,yt),nt(Te,Tt,ot),Et?Te.persistentData=Tt:Sr.freeType(Tt)}else Ie instanceof ArrayBuffer?(Te.dtype=ro,Te.dimension=He,nt(Te,Ie,ot),Et&&(Te.persistentData=new Uint8Array(new Uint8Array(Ie)))):K.raise("invalid buffer data")}function mt(Te){V.bufferCount--,Oe(Te);var Ie=Te.buffer;K(Ie,"buffer must not be deleted already"),N.deleteBuffer(Ie),Te.buffer=null,delete Re[Te.id]}function rt(Te,Ie,ot,vt){V.bufferCount++;var He=new Ne(Ie);Re[He.id]=He;function Et(Qe){var dt=xs,At=null,Bt=0,yt=0,lt=1;return Array.isArray(Qe)||r(Qe)||mi(Qe)||Qe instanceof ArrayBuffer?At=Qe:typeof Qe=="number"?Bt=Qe|0:Qe&&(K.type(Qe,"object","buffer arguments must be an object, a number or an array"),"data"in Qe&&(K(At===null||Array.isArray(At)||r(At)||mi(At),"invalid data for buffer"),At=Qe.data),"usage"in Qe&&(K.parameter(Qe.usage,Pi,"invalid buffer usage"),dt=Pi[Qe.usage]),"type"in Qe&&(K.parameter(Qe.type,Ei,"invalid buffer type"),yt=Ei[Qe.type]),"dimension"in Qe&&(K.type(Qe.dimension,"number","invalid dimension"),lt=Qe.dimension|0),"length"in Qe&&(K.nni(Bt,"buffer length must be a nonnegative integer"),Bt=Qe.length|0)),He.bind(),At?ct(He,At,dt,yt,lt,vt):(Bt&&N.bufferData(He.type,Bt,dt),He.dtype=yt||ro,He.usage=dt,He.dimension=lt,He.byteLength=Bt),ne.profile&&(He.stats.size=He.byteLength*Mn[He.dtype]),Et}function Xe(Qe,dt){K(dt+Qe.byteLength<=He.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Qe.byteLength+" starting from offset "+dt+" to a buffer of size "+He.byteLength),N.bufferSubData(He.type,dt,Qe)}function pt(Qe,dt){var At=(dt||0)|0,Bt;if(He.bind(),r(Qe)||Qe instanceof ArrayBuffer)Xe(Qe,At);else if(Array.isArray(Qe)){if(Qe.length>0)if(typeof Qe[0]=="number"){var yt=Sr.allocType(He.dtype,Qe.length);Pa(yt,Qe),Xe(yt,At),Sr.freeType(yt)}else if(Array.isArray(Qe[0])||r(Qe[0])){Bt=Ua(Qe);var lt=Ts(Qe,Bt,He.dtype);Xe(lt,At),Sr.freeType(lt)}else K.raise("invalid buffer data")}else if(mi(Qe)){Bt=Qe.shape;var ze=Qe.stride,Ot=0,jt=0,Tt=0,Vt=0;Bt.length===1?(Ot=Bt[0],jt=1,Tt=ze[0],Vt=0):Bt.length===2?(Ot=Bt[0],jt=Bt[1],Tt=ze[0],Vt=ze[1]):K.raise("invalid shape");var Dt=Array.isArray(Qe.data)?He.dtype:Ms(Qe.data),Wt=Sr.allocType(Dt,Ot*jt);Jo(Wt,Qe.data,Ot,jt,Tt,Vt,Qe.offset),Xe(Wt,At),Sr.freeType(Wt)}else K.raise("invalid data for buffer subdata");return Et}return ot||Et(Te),Et._reglType="buffer",Et._buffer=He,Et.subdata=pt,ne.profile&&(Et.stats=He.stats),Et.destroy=function(){mt(He)},Et}function ht(){kr(Re).forEach(function(Te){Te.buffer=N.createBuffer(),N.bindBuffer(Te.type,Te.buffer),N.bufferData(Te.type,Te.persistentData||Te.byteLength,Te.usage)})}return ne.profile&&(V.getTotalBufferSize=function(){var Te=0;return Object.keys(Re).forEach(function(Ie){Te+=Re[Ie].stats.size}),Te}),{create:rt,createStream:it,destroyStream:at,clear:function(){kr(Re).forEach(mt),tt.forEach(mt)},getBuffer:function(Te){return Te&&Te._buffer instanceof Ne?Te._buffer:null},restore:ht,_initBuffer:ct}}var As=0,jo=0,$l=1,Go=1,Fa=4,Ko=4,Di={points:As,point:jo,lines:$l,line:Go,triangles:Fa,triangle:Ko,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},no=0,Wo=1,ks=4,so=5120,Qn=5121,An=5122,Xi=5123,Yn=5124,kn=5125,zo=34963,Xn=35040,Zn=35044;function yi(N,V,ne,Oe){var Ge={},Re=0,Ne={uint8:Qn,uint16:Xi};V.oes_element_index_uint&&(Ne.uint32=kn);function tt(ht){this.id=Re++,Ge[this.id]=this,this.buffer=ht,this.primType=ks,this.vertCount=0,this.type=0}tt.prototype.bind=function(){this.buffer.bind()};var it=[];function at(ht){var Te=it.pop();return Te||(Te=new tt(ne.create(null,zo,!0,!1)._buffer)),ct(Te,ht,Xn,-1,-1,0,0),Te}function nt(ht){it.push(ht)}function ct(ht,Te,Ie,ot,vt,He,Et){ht.buffer.bind();var Xe;if(Te){var pt=Et;!Et&&(!r(Te)||mi(Te)&&!r(Te.data))&&(pt=V.oes_element_index_uint?kn:Xi),ne._initBuffer(ht.buffer,Te,Ie,pt,3)}else N.bufferData(zo,He,Ie),ht.buffer.dtype=Xe||Qn,ht.buffer.usage=Ie,ht.buffer.dimension=3,ht.buffer.byteLength=He;if(Xe=Et,!Et){switch(ht.buffer.dtype){case Qn:case so:Xe=Qn;break;case Xi:case An:Xe=Xi;break;case kn:case Yn:Xe=kn;break;default:K.raise("unsupported type for element array")}ht.buffer.dtype=Xe}ht.type=Xe,K(Xe!==kn||!!V.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Qe=vt;Qe<0&&(Qe=ht.buffer.byteLength,Xe===Xi?Qe>>=1:Xe===kn&&(Qe>>=2)),ht.vertCount=Qe;var dt=ot;if(ot<0){dt=ks;var At=ht.buffer.dimension;At===1&&(dt=no),At===2&&(dt=Wo),At===3&&(dt=ks)}ht.primType=dt}function mt(ht){Oe.elementsCount--,K(ht.buffer!==null,"must not double destroy elements"),delete Ge[ht.id],ht.buffer.destroy(),ht.buffer=null}function rt(ht,Te){var Ie=ne.create(null,zo,!0),ot=new tt(Ie._buffer);Oe.elementsCount++;function vt(He){if(!He)Ie(),ot.primType=ks,ot.vertCount=0,ot.type=Qn;else if(typeof He=="number")Ie(He),ot.primType=ks,ot.vertCount=He|0,ot.type=Qn;else{var Et=null,Xe=Zn,pt=-1,Qe=-1,dt=0,At=0;Array.isArray(He)||r(He)||mi(He)?Et=He:(K.type(He,"object","invalid arguments for elements"),"data"in He&&(Et=He.data,K(Array.isArray(Et)||r(Et)||mi(Et),"invalid data for element buffer")),"usage"in He&&(K.parameter(He.usage,Pi,"invalid element buffer usage"),Xe=Pi[He.usage]),"primitive"in He&&(K.parameter(He.primitive,Di,"invalid element buffer primitive"),pt=Di[He.primitive]),"count"in He&&(K(typeof He.count=="number"&&He.count>=0,"invalid vertex count for elements"),Qe=He.count|0),"type"in He&&(K.parameter(He.type,Ne,"invalid buffer type"),At=Ne[He.type]),"length"in He?dt=He.length|0:(dt=Qe,At===Xi||At===An?dt*=2:(At===kn||At===Yn)&&(dt*=4))),ct(ot,Et,Xe,pt,Qe,dt,At)}return vt}return vt(ht),vt._reglType="elements",vt._elements=ot,vt.subdata=function(He,Et){return Ie.subdata(He,Et),vt},vt.destroy=function(){mt(ot)},vt}return{create:rt,createStream:at,destroyStream:nt,getElements:function(ht){return typeof ht=="function"&&ht._elements instanceof tt?ht._elements:null},clear:function(){kr(Ge).forEach(mt)}}}var Pr=new Float32Array(1),ri=new Uint32Array(Pr.buffer),Gr=5123;function $s(N){for(var V=Sr.allocType(Gr,N.length),ne=0;ne<N.length;++ne)if(isNaN(N[ne]))V[ne]=65535;else if(N[ne]===1/0)V[ne]=31744;else if(N[ne]===-1/0)V[ne]=64512;else{Pr[0]=N[ne];var Oe=ri[0],Ge=Oe>>>31<<15,Re=(Oe<<1>>>24)-127,Ne=Oe>>13&1024-1;if(Re<-24)V[ne]=Ge;else if(Re<-14){var tt=-14-Re;V[ne]=Ge+(Ne+1024>>tt)}else Re>15?V[ne]=Ge+31744:V[ne]=Ge+(Re+15<<10)+Ne}return V}function $r(N){return Array.isArray(N)||r(N)}var Vo=function(N){return!(N&N-1)&&!!N},Rl=34467,Oi=3553,Ja=34067,Rs=34069,cn=6408,Ho=6406,oo=6407,qn=6409,ao=6410,Os=32854,ja=32855,Ga=36194,bu=32819,Ol=32820,Fi=33635,hn=34042,Zi=6402,lo=34041,uo=35904,Qo=35906,$n=36193,es=33776,Yo=33777,fo=33778,qi=33779,Ka=35986,Wa=35987,Ll=34798,co=35840,Xo=35841,za=35842,Va=35843,ho=36196,ts=5121,Zo=5123,Rn=5125,rs=5126,qo=10242,Nl=10243,Ha=10497,Qa=33071,Il=33648,Yr=10240,ea=10241,ta=9728,Bl=9729,ra=9984,is=9985,po=9986,ia=9987,Ul=33170,mo=4352,Ls=4353,Pl=4354,na=34046,Dl=3317,yo=37440,Eu=37441,Ns=37443,Ya=37444,Is=33984,Fl=[ra,po,is,ia],On=[0,qn,ao,oo,cn],ii={};ii[qn]=ii[Ho]=ii[Zi]=1,ii[lo]=ii[ao]=2,ii[oo]=ii[uo]=3,ii[cn]=ii[Qo]=4;function en(N){return"[object "+N+"]"}var Jl=en("HTMLCanvasElement"),ns=en("OffscreenCanvas"),jl=en("CanvasRenderingContext2D"),Xa=en("ImageBitmap"),Gl=en("HTMLImageElement"),Kl=en("HTMLVideoElement"),Wl=Object.keys(La).concat([Jl,ns,jl,Xa,Gl,Kl]),ss=[];ss[ts]=1,ss[rs]=4,ss[$n]=2,ss[Zo]=2,ss[Rn]=4;var Xr=[];Xr[Os]=2,Xr[ja]=2,Xr[Ga]=2,Xr[lo]=4,Xr[es]=.5,Xr[Yo]=.5,Xr[fo]=1,Xr[qi]=1,Xr[Ka]=.5,Xr[Wa]=1,Xr[Ll]=1,Xr[co]=.5,Xr[Xo]=.25,Xr[za]=.5,Xr[Va]=.25,Xr[ho]=.5;function zl(N){return Array.isArray(N)&&(N.length===0||typeof N[0]=="number")}function Vl(N){if(!Array.isArray(N))return!1;var V=N.length;return!(V===0||!$r(N[0]))}function os(N){return Object.prototype.toString.call(N)}function as(N){return os(N)===Jl}function Za(N){return os(N)===ns}function Hl(N){return os(N)===jl}function Ql(N){return os(N)===Xa}function sa(N){return os(N)===Gl}function Bs(N){return os(N)===Kl}function go(N){if(!N)return!1;var V=os(N);return Wl.indexOf(V)>=0?!0:zl(N)||Vl(N)||mi(N)}function oa(N){return La[Object.prototype.toString.call(N)]|0}function qa(N,V){var ne=V.length;switch(N.type){case ts:case Zo:case Rn:case rs:var Oe=Sr.allocType(N.type,ne);Oe.set(V),N.data=Oe;break;case $n:N.data=$s(V);break;default:K.raise("unsupported texture type, must specify a typed array")}}function Yl(N,V){return Sr.allocType(N.type===$n?rs:N.type,V)}function el(N,V){N.type===$n?(N.data=$s(V),Sr.freeType(V)):N.data=V}function Xl(N,V,ne,Oe,Ge,Re){for(var Ne=N.width,tt=N.height,it=N.channels,at=Ne*tt*it,nt=Yl(N,at),ct=0,mt=0;mt<tt;++mt)for(var rt=0;rt<Ne;++rt)for(var ht=0;ht<it;++ht)nt[ct++]=V[ne*rt+Oe*mt+Ge*ht+Re];el(N,nt)}function ls(N,V,ne,Oe,Ge,Re){var Ne;if(typeof Xr[N]<"u"?Ne=Xr[N]:Ne=ii[N]*ss[V],Re&&(Ne*=6),Ge){for(var tt=0,it=ne;it>=1;)tt+=Ne*it*it,it/=2;return tt}else return Ne*ne*Oe}function vo(N,V,ne,Oe,Ge,Re,Ne){var tt={"don't care":mo,"dont care":mo,nice:Pl,fast:Ls},it={repeat:Ha,clamp:Qa,mirror:Il},at={nearest:ta,linear:Bl},nt=o({mipmap:ia,"nearest mipmap nearest":ra,"linear mipmap nearest":is,"nearest mipmap linear":po,"linear mipmap linear":ia},at),ct={none:0,browser:Ya},mt={uint8:ts,rgba4:bu,rgb565:Fi,"rgb5 a1":Ol},rt={alpha:Ho,luminance:qn,"luminance alpha":ao,rgb:oo,rgba:cn,rgba4:Os,"rgb5 a1":ja,rgb565:Ga},ht={};V.ext_srgb&&(rt.srgb=uo,rt.srgba=Qo),V.oes_texture_float&&(mt.float32=mt.float=rs),V.oes_texture_half_float&&(mt.float16=mt["half float"]=$n),V.webgl_depth_texture&&(o(rt,{depth:Zi,"depth stencil":lo}),o(mt,{uint16:Zo,uint32:Rn,"depth stencil":hn})),V.webgl_compressed_texture_s3tc&&o(ht,{"rgb s3tc dxt1":es,"rgba s3tc dxt1":Yo,"rgba s3tc dxt3":fo,"rgba s3tc dxt5":qi}),V.webgl_compressed_texture_atc&&o(ht,{"rgb atc":Ka,"rgba atc explicit alpha":Wa,"rgba atc interpolated alpha":Ll}),V.webgl_compressed_texture_pvrtc&&o(ht,{"rgb pvrtc 4bppv1":co,"rgb pvrtc 2bppv1":Xo,"rgba pvrtc 4bppv1":za,"rgba pvrtc 2bppv1":Va}),V.webgl_compressed_texture_etc1&&(ht["rgb etc1"]=ho);var Te=Array.prototype.slice.call(N.getParameter(Rl));Object.keys(ht).forEach(function(te){var Le=ht[te];Te.indexOf(Le)>=0&&(rt[te]=Le)});var Ie=Object.keys(rt);ne.textureFormats=Ie;var ot=[];Object.keys(rt).forEach(function(te){var Le=rt[te];ot[Le]=te});var vt=[];Object.keys(mt).forEach(function(te){var Le=mt[te];vt[Le]=te});var He=[];Object.keys(at).forEach(function(te){var Le=at[te];He[Le]=te});var Et=[];Object.keys(nt).forEach(function(te){var Le=nt[te];Et[Le]=te});var Xe=[];Object.keys(it).forEach(function(te){var Le=it[te];Xe[Le]=te});var pt=Ie.reduce(function(te,Le){var $e=rt[Le];return $e===qn||$e===Ho||$e===qn||$e===ao||$e===Zi||$e===lo||V.ext_srgb&&($e===uo||$e===Qo)?te[$e]=$e:$e===ja||Le.indexOf("rgba")>=0?te[$e]=cn:te[$e]=oo,te},{});function Qe(){this.internalformat=cn,this.format=cn,this.type=ts,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ya,this.width=0,this.height=0,this.channels=0}function dt(te,Le){te.internalformat=Le.internalformat,te.format=Le.format,te.type=Le.type,te.compressed=Le.compressed,te.premultiplyAlpha=Le.premultiplyAlpha,te.flipY=Le.flipY,te.unpackAlignment=Le.unpackAlignment,te.colorSpace=Le.colorSpace,te.width=Le.width,te.height=Le.height,te.channels=Le.channels}function At(te,Le){if(!(typeof Le!="object"||!Le)){if("premultiplyAlpha"in Le&&(K.type(Le.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),te.premultiplyAlpha=Le.premultiplyAlpha),"flipY"in Le&&(K.type(Le.flipY,"boolean","invalid texture flip"),te.flipY=Le.flipY),"alignment"in Le&&(K.oneOf(Le.alignment,[1,2,4,8],"invalid texture unpack alignment"),te.unpackAlignment=Le.alignment),"colorSpace"in Le&&(K.parameter(Le.colorSpace,ct,"invalid colorSpace"),te.colorSpace=ct[Le.colorSpace]),"type"in Le){var $e=Le.type;K(V.oes_texture_float||!($e==="float"||$e==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),K(V.oes_texture_half_float||!($e==="half float"||$e==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),K(V.webgl_depth_texture||!($e==="uint16"||$e==="uint32"||$e==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),K.parameter($e,mt,"invalid texture type"),te.type=mt[$e]}var St=te.width,Ht=te.height,q=te.channels,W=!1;"shape"in Le?(K(Array.isArray(Le.shape)&&Le.shape.length>=2,"shape must be an array"),St=Le.shape[0],Ht=Le.shape[1],Le.shape.length===3&&(q=Le.shape[2],K(q>0&&q<=4,"invalid number of channels"),W=!0),K(St>=0&&St<=ne.maxTextureSize,"invalid width"),K(Ht>=0&&Ht<=ne.maxTextureSize,"invalid height")):("radius"in Le&&(St=Ht=Le.radius,K(St>=0&&St<=ne.maxTextureSize,"invalid radius")),"width"in Le&&(St=Le.width,K(St>=0&&St<=ne.maxTextureSize,"invalid width")),"height"in Le&&(Ht=Le.height,K(Ht>=0&&Ht<=ne.maxTextureSize,"invalid height")),"channels"in Le&&(q=Le.channels,K(q>0&&q<=4,"invalid number of channels"),W=!0)),te.width=St|0,te.height=Ht|0,te.channels=q|0;var fe=!1;if("format"in Le){var we=Le.format;K(V.webgl_depth_texture||!(we==="depth"||we==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),K.parameter(we,rt,"invalid texture format");var Ae=te.internalformat=rt[we];te.format=pt[Ae],we in mt&&("type"in Le||(te.type=mt[we])),we in ht&&(te.compressed=!0),fe=!0}!W&&fe?te.channels=ii[te.format]:W&&!fe?te.channels!==On[te.format]&&(te.format=te.internalformat=On[te.channels]):fe&&W&&K(te.channels===ii[te.format],"number of channels inconsistent with specified format")}}function Bt(te){N.pixelStorei(yo,te.flipY),N.pixelStorei(Eu,te.premultiplyAlpha),N.pixelStorei(Ns,te.colorSpace),N.pixelStorei(Dl,te.unpackAlignment)}function yt(){Qe.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function lt(te,Le){var $e=null;if(go(Le)?$e=Le:Le&&(K.type(Le,"object","invalid pixel data type"),At(te,Le),"x"in Le&&(te.xOffset=Le.x|0),"y"in Le&&(te.yOffset=Le.y|0),go(Le.data)&&($e=Le.data)),K(!te.compressed||$e instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Le.copy){K(!$e,"can not specify copy and data field for the same texture");var St=Ge.viewportWidth,Ht=Ge.viewportHeight;te.width=te.width||St-te.xOffset,te.height=te.height||Ht-te.yOffset,te.needsCopy=!0,K(te.xOffset>=0&&te.xOffset<St&&te.yOffset>=0&&te.yOffset<Ht&&te.width>0&&te.width<=St&&te.height>0&&te.height<=Ht,"copy texture read out of bounds")}else if(!$e)te.width=te.width||1,te.height=te.height||1,te.channels=te.channels||4;else if(r($e))te.channels=te.channels||4,te.data=$e,!("type"in Le)&&te.type===ts&&(te.type=oa($e));else if(zl($e))te.channels=te.channels||4,qa(te,$e),te.alignment=1,te.needsFree=!0;else if(mi($e)){var q=$e.data;!Array.isArray(q)&&te.type===ts&&(te.type=oa(q));var W=$e.shape,fe=$e.stride,we,Ae,pe,ue,ge,X;W.length===3?(pe=W[2],X=fe[2]):(K(W.length===2,"invalid ndarray pixel data, must be 2 or 3D"),pe=1,X=1),we=W[0],Ae=W[1],ue=fe[0],ge=fe[1],te.alignment=1,te.width=we,te.height=Ae,te.channels=pe,te.format=te.internalformat=On[pe],te.needsFree=!0,Xl(te,q,ue,ge,X,$e.offset)}else if(as($e)||Za($e)||Hl($e))as($e)||Za($e)?te.element=$e:te.element=$e.canvas,te.width=te.element.width,te.height=te.element.height,te.channels=4;else if(Ql($e))te.element=$e,te.width=$e.width,te.height=$e.height,te.channels=4;else if(sa($e))te.element=$e,te.width=$e.naturalWidth,te.height=$e.naturalHeight,te.channels=4;else if(Bs($e))te.element=$e,te.width=$e.videoWidth,te.height=$e.videoHeight,te.channels=4;else if(Vl($e)){var le=te.width||$e[0].length,ee=te.height||$e.length,be=te.channels;$r($e[0][0])?be=be||$e[0][0].length:be=be||1;for(var ke=to.shape($e),Je=1,Ke=0;Ke<ke.length;++Ke)Je*=ke[Ke];var Pe=Yl(te,Je);to.flatten($e,ke,"",Pe),el(te,Pe),te.alignment=1,te.width=le,te.height=ee,te.channels=be,te.format=te.internalformat=On[be],te.needsFree=!0}te.type===rs?K(ne.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):te.type===$n&&K(ne.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function ze(te,Le,$e){var St=te.element,Ht=te.data,q=te.internalformat,W=te.format,fe=te.type,we=te.width,Ae=te.height;Bt(te),St?N.texImage2D(Le,$e,W,W,fe,St):te.compressed?N.compressedTexImage2D(Le,$e,q,we,Ae,0,Ht):te.needsCopy?(Oe(),N.copyTexImage2D(Le,$e,W,te.xOffset,te.yOffset,we,Ae,0)):N.texImage2D(Le,$e,W,we,Ae,0,W,fe,Ht||null)}function Ot(te,Le,$e,St,Ht){var q=te.element,W=te.data,fe=te.internalformat,we=te.format,Ae=te.type,pe=te.width,ue=te.height;Bt(te),q?N.texSubImage2D(Le,Ht,$e,St,we,Ae,q):te.compressed?N.compressedTexSubImage2D(Le,Ht,$e,St,fe,pe,ue,W):te.needsCopy?(Oe(),N.copyTexSubImage2D(Le,Ht,$e,St,te.xOffset,te.yOffset,pe,ue)):N.texSubImage2D(Le,Ht,$e,St,pe,ue,we,Ae,W)}var jt=[];function Tt(){return jt.pop()||new yt}function Vt(te){te.needsFree&&Sr.freeType(te.data),yt.call(te),jt.push(te)}function Dt(){Qe.call(this),this.genMipmaps=!1,this.mipmapHint=mo,this.mipmask=0,this.images=Array(16)}function Wt(te,Le,$e){var St=te.images[0]=Tt();te.mipmask=1,St.width=te.width=Le,St.height=te.height=$e,St.channels=te.channels=4}function nr(te,Le){var $e=null;if(go(Le))$e=te.images[0]=Tt(),dt($e,te),lt($e,Le),te.mipmask=1;else if(At(te,Le),Array.isArray(Le.mipmap))for(var St=Le.mipmap,Ht=0;Ht<St.length;++Ht)$e=te.images[Ht]=Tt(),dt($e,te),$e.width>>=Ht,$e.height>>=Ht,lt($e,St[Ht]),te.mipmask|=1<<Ht;else $e=te.images[0]=Tt(),dt($e,te),lt($e,Le),te.mipmask=1;dt(te,te.images[0]),te.compressed&&(te.internalformat===es||te.internalformat===Yo||te.internalformat===fo||te.internalformat===qi)&&K(te.width%4===0&&te.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Fr(te,Le){for(var $e=te.images,St=0;St<$e.length;++St){if(!$e[St])return;ze($e[St],Le,St)}}var Zr=[];function Xt(){var te=Zr.pop()||new Dt;Qe.call(te),te.mipmask=0;for(var Le=0;Le<16;++Le)te.images[Le]=null;return te}function Wr(te){for(var Le=te.images,$e=0;$e<Le.length;++$e)Le[$e]&&Vt(Le[$e]),Le[$e]=null;Zr.push(te)}function Cr(){this.minFilter=ta,this.magFilter=ta,this.wrapS=Qa,this.wrapT=Qa,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=mo}function Jr(te,Le){if("min"in Le){var $e=Le.min;K.parameter($e,nt),te.minFilter=nt[$e],Fl.indexOf(te.minFilter)>=0&&!("faces"in Le)&&(te.genMipmaps=!0)}if("mag"in Le){var St=Le.mag;K.parameter(St,at),te.magFilter=at[St]}var Ht=te.wrapS,q=te.wrapT;if("wrap"in Le){var W=Le.wrap;typeof W=="string"?(K.parameter(W,it),Ht=q=it[W]):Array.isArray(W)&&(K.parameter(W[0],it),K.parameter(W[1],it),Ht=it[W[0]],q=it[W[1]])}else{if("wrapS"in Le){var fe=Le.wrapS;K.parameter(fe,it),Ht=it[fe]}if("wrapT"in Le){var we=Le.wrapT;K.parameter(we,it),q=it[we]}}if(te.wrapS=Ht,te.wrapT=q,"anisotropic"in Le){var Ae=Le.anisotropic;K(typeof Ae=="number"&&Ae>=1&&Ae<=ne.maxAnisotropic,"aniso samples must be between 1 and "),te.anisotropic=Le.anisotropic}if("mipmap"in Le){var pe=!1;switch(typeof Le.mipmap){case"string":K.parameter(Le.mipmap,tt,"invalid mipmap hint"),te.mipmapHint=tt[Le.mipmap],te.genMipmaps=!0,pe=!0;break;case"boolean":pe=te.genMipmaps=Le.mipmap;break;case"object":K(Array.isArray(Le.mipmap),"invalid mipmap type"),te.genMipmaps=!1,pe=!0;break;default:K.raise("invalid mipmap type")}pe&&!("min"in Le)&&(te.minFilter=ra)}}function zr(te,Le){N.texParameteri(Le,ea,te.minFilter),N.texParameteri(Le,Yr,te.magFilter),N.texParameteri(Le,qo,te.wrapS),N.texParameteri(Le,Nl,te.wrapT),V.ext_texture_filter_anisotropic&&N.texParameteri(Le,na,te.anisotropic),te.genMipmaps&&(N.hint(Ul,te.mipmapHint),N.generateMipmap(Le))}var Vr=0,ti={},oi=ne.maxTextureUnits,Ir=Array(oi).map(function(){return null});function Gt(te){Qe.call(this),this.mipmask=0,this.internalformat=cn,this.id=Vr++,this.refCount=1,this.target=te,this.texture=N.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Cr,Ne.profile&&(this.stats={size:0})}function ai(te){N.activeTexture(Is),N.bindTexture(te.target,te.texture)}function ur(){var te=Ir[0];te?N.bindTexture(te.target,te.texture):N.bindTexture(Oi,null)}function $t(te){var Le=te.texture;K(Le,"must not double destroy texture");var $e=te.unit,St=te.target;$e>=0&&(N.activeTexture(Is+$e),N.bindTexture(St,null),Ir[$e]=null),N.deleteTexture(Le),te.texture=null,te.params=null,te.pixels=null,te.refCount=0,delete ti[te.id],Re.textureCount--}o(Gt.prototype,{bind:function(){var te=this;te.bindCount+=1;var Le=te.unit;if(Le<0){for(var $e=0;$e<oi;++$e){var St=Ir[$e];if(St){if(St.bindCount>0)continue;St.unit=-1}Ir[$e]=te,Le=$e;break}Le>=oi&&K.raise("insufficient number of texture units"),Ne.profile&&Re.maxTextureUnits<Le+1&&(Re.maxTextureUnits=Le+1),te.unit=Le,N.activeTexture(Is+Le),N.bindTexture(te.target,te.texture)}return Le},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$t(this)}});function Qt(te,Le){var $e=new Gt(Oi);ti[$e.id]=$e,Re.textureCount++;function St(W,fe){var we=$e.texInfo;Cr.call(we);var Ae=Xt();return typeof W=="number"?typeof fe=="number"?Wt(Ae,W|0,fe|0):Wt(Ae,W|0,W|0):W?(K.type(W,"object","invalid arguments to regl.texture"),Jr(we,W),nr(Ae,W)):Wt(Ae,1,1),we.genMipmaps&&(Ae.mipmask=(Ae.width<<1)-1),$e.mipmask=Ae.mipmask,dt($e,Ae),K.texture2D(we,Ae,ne),$e.internalformat=Ae.internalformat,St.width=Ae.width,St.height=Ae.height,ai($e),Fr(Ae,Oi),zr(we,Oi),ur(),Wr(Ae),Ne.profile&&($e.stats.size=ls($e.internalformat,$e.type,Ae.width,Ae.height,we.genMipmaps,!1)),St.format=ot[$e.internalformat],St.type=vt[$e.type],St.mag=He[we.magFilter],St.min=Et[we.minFilter],St.wrapS=Xe[we.wrapS],St.wrapT=Xe[we.wrapT],St}function Ht(W,fe,we,Ae){K(!!W,"must specify image data");var pe=fe|0,ue=we|0,ge=Ae|0,X=Tt();return dt(X,$e),X.width=0,X.height=0,lt(X,W),X.width=X.width||($e.width>>ge)-pe,X.height=X.height||($e.height>>ge)-ue,K($e.type===X.type&&$e.format===X.format&&$e.internalformat===X.internalformat,"incompatible format for texture.subimage"),K(pe>=0&&ue>=0&&pe+X.width<=$e.width&&ue+X.height<=$e.height,"texture.subimage write out of bounds"),K($e.mipmask&1<<ge,"missing mipmap data"),K(X.data||X.element||X.needsCopy,"missing image data"),ai($e),Ot(X,Oi,pe,ue,ge),ur(),Vt(X),St}function q(W,fe){var we=W|0,Ae=fe|0||we;if(we===$e.width&&Ae===$e.height)return St;St.width=$e.width=we,St.height=$e.height=Ae,ai($e);for(var pe=0;$e.mipmask>>pe;++pe){var ue=we>>pe,ge=Ae>>pe;if(!ue||!ge)break;N.texImage2D(Oi,pe,$e.format,ue,ge,0,$e.format,$e.type,null)}return ur(),Ne.profile&&($e.stats.size=ls($e.internalformat,$e.type,we,Ae,!1,!1)),St}return St(te,Le),St.subimage=Ht,St.resize=q,St._reglType="texture2d",St._texture=$e,Ne.profile&&(St.stats=$e.stats),St.destroy=function(){$e.decRef()},St}function tr(te,Le,$e,St,Ht,q){var W=new Gt(Ja);ti[W.id]=W,Re.cubeCount++;var fe=new Array(6);function we(ue,ge,X,le,ee,be){var ke,Je=W.texInfo;for(Cr.call(Je),ke=0;ke<6;++ke)fe[ke]=Xt();if(typeof ue=="number"||!ue){var Ke=ue|0||1;for(ke=0;ke<6;++ke)Wt(fe[ke],Ke,Ke)}else if(typeof ue=="object")if(ge)nr(fe[0],ue),nr(fe[1],ge),nr(fe[2],X),nr(fe[3],le),nr(fe[4],ee),nr(fe[5],be);else if(Jr(Je,ue),At(W,ue),"faces"in ue){var Pe=ue.faces;for(K(Array.isArray(Pe)&&Pe.length===6,"cube faces must be a length 6 array"),ke=0;ke<6;++ke)K(typeof Pe[ke]=="object"&&!!Pe[ke],"invalid input for cube map face"),dt(fe[ke],W),nr(fe[ke],Pe[ke])}else for(ke=0;ke<6;++ke)nr(fe[ke],ue);else K.raise("invalid arguments to cube map");for(dt(W,fe[0]),ne.npotTextureCube||K(Vo(W.width)&&Vo(W.height),"your browser does not support non power or two texture dimensions"),Je.genMipmaps?W.mipmask=(fe[0].width<<1)-1:W.mipmask=fe[0].mipmask,K.textureCube(W,Je,fe,ne),W.internalformat=fe[0].internalformat,we.width=fe[0].width,we.height=fe[0].height,ai(W),ke=0;ke<6;++ke)Fr(fe[ke],Rs+ke);for(zr(Je,Ja),ur(),Ne.profile&&(W.stats.size=ls(W.internalformat,W.type,we.width,we.height,Je.genMipmaps,!0)),we.format=ot[W.internalformat],we.type=vt[W.type],we.mag=He[Je.magFilter],we.min=Et[Je.minFilter],we.wrapS=Xe[Je.wrapS],we.wrapT=Xe[Je.wrapT],ke=0;ke<6;++ke)Wr(fe[ke]);return we}function Ae(ue,ge,X,le,ee){K(!!ge,"must specify image data"),K(typeof ue=="number"&&ue===(ue|0)&&ue>=0&&ue<6,"invalid face");var be=X|0,ke=le|0,Je=ee|0,Ke=Tt();return dt(Ke,W),Ke.width=0,Ke.height=0,lt(Ke,ge),Ke.width=Ke.width||(W.width>>Je)-be,Ke.height=Ke.height||(W.height>>Je)-ke,K(W.type===Ke.type&&W.format===Ke.format&&W.internalformat===Ke.internalformat,"incompatible format for texture.subimage"),K(be>=0&&ke>=0&&be+Ke.width<=W.width&&ke+Ke.height<=W.height,"texture.subimage write out of bounds"),K(W.mipmask&1<<Je,"missing mipmap data"),K(Ke.data||Ke.element||Ke.needsCopy,"missing image data"),ai(W),Ot(Ke,Rs+ue,be,ke,Je),ur(),Vt(Ke),we}function pe(ue){var ge=ue|0;if(ge!==W.width){we.width=W.width=ge,we.height=W.height=ge,ai(W);for(var X=0;X<6;++X)for(var le=0;W.mipmask>>le;++le)N.texImage2D(Rs+X,le,W.format,ge>>le,ge>>le,0,W.format,W.type,null);return ur(),Ne.profile&&(W.stats.size=ls(W.internalformat,W.type,we.width,we.height,!1,!0)),we}}return we(te,Le,$e,St,Ht,q),we.subimage=Ae,we.resize=pe,we._reglType="textureCube",we._texture=W,Ne.profile&&(we.stats=W.stats),we.destroy=function(){W.decRef()},we}function Br(){for(var te=0;te<oi;++te)N.activeTexture(Is+te),N.bindTexture(Oi,null),Ir[te]=null;kr(ti).forEach($t),Re.cubeCount=0,Re.textureCount=0}Ne.profile&&(Re.getTotalTextureSize=function(){var te=0;return Object.keys(ti).forEach(function(Le){te+=ti[Le].stats.size}),te});function Gn(){for(var te=0;te<oi;++te){var Le=Ir[te];Le&&(Le.bindCount=0,Le.unit=-1,Ir[te]=null)}kr(ti).forEach(function($e){$e.texture=N.createTexture(),N.bindTexture($e.target,$e.texture);for(var St=0;St<32;++St)if($e.mipmask&1<<St)if($e.target===Oi)N.texImage2D(Oi,St,$e.internalformat,$e.width>>St,$e.height>>St,0,$e.internalformat,$e.type,null);else for(var Ht=0;Ht<6;++Ht)N.texImage2D(Rs+Ht,St,$e.internalformat,$e.width>>St,$e.height>>St,0,$e.internalformat,$e.type,null);zr($e.texInfo,$e.target)})}function $o(){for(var te=0;te<oi;++te){var Le=Ir[te];Le&&(Le.bindCount=0,Le.unit=-1,Ir[te]=null),N.activeTexture(Is+te),N.bindTexture(Oi,null),N.bindTexture(Ja,null)}}return{create2D:Qt,createCube:tr,clear:Br,getTexture:function(te){return null},restore:Gn,refresh:$o}}var pn=36161,_o=32854,Zl=32855,tl=36194,ql=33189,rl=36168,il=34041,eu=35907,nl=34836,tu=34842,ru=34843,Ji=[];Ji[_o]=2,Ji[Zl]=2,Ji[tl]=2,Ji[ql]=2,Ji[rl]=1,Ji[il]=4,Ji[eu]=4,Ji[nl]=16,Ji[tu]=8,Ji[ru]=6;function sl(N,V,ne){return Ji[N]*V*ne}var Su=function(N,V,ne,Oe,Ge){var Re={rgba4:_o,rgb565:tl,"rgb5 a1":Zl,depth:ql,stencil:rl,"depth stencil":il};V.ext_srgb&&(Re.srgba=eu),V.ext_color_buffer_half_float&&(Re.rgba16f=tu,Re.rgb16f=ru),V.webgl_color_buffer_float&&(Re.rgba32f=nl);var Ne=[];Object.keys(Re).forEach(function(rt){var ht=Re[rt];Ne[ht]=rt});var tt=0,it={};function at(rt){this.id=tt++,this.refCount=1,this.renderbuffer=rt,this.format=_o,this.width=0,this.height=0,Ge.profile&&(this.stats={size:0})}at.prototype.decRef=function(){--this.refCount<=0&&nt(this)};function nt(rt){var ht=rt.renderbuffer;K(ht,"must not double destroy renderbuffer"),N.bindRenderbuffer(pn,null),N.deleteRenderbuffer(ht),rt.renderbuffer=null,rt.refCount=0,delete it[rt.id],Oe.renderbufferCount--}function ct(rt,ht){var Te=new at(N.createRenderbuffer());it[Te.id]=Te,Oe.renderbufferCount++;function Ie(vt,He){var Et=0,Xe=0,pt=_o;if(typeof vt=="object"&&vt){var Qe=vt;if("shape"in Qe){var dt=Qe.shape;K(Array.isArray(dt)&&dt.length>=2,"invalid renderbuffer shape"),Et=dt[0]|0,Xe=dt[1]|0}else"radius"in Qe&&(Et=Xe=Qe.radius|0),"width"in Qe&&(Et=Qe.width|0),"height"in Qe&&(Xe=Qe.height|0);"format"in Qe&&(K.parameter(Qe.format,Re,"invalid renderbuffer format"),pt=Re[Qe.format])}else typeof vt=="number"?(Et=vt|0,typeof He=="number"?Xe=He|0:Xe=Et):vt?K.raise("invalid arguments to renderbuffer constructor"):Et=Xe=1;if(K(Et>0&&Xe>0&&Et<=ne.maxRenderbufferSize&&Xe<=ne.maxRenderbufferSize,"invalid renderbuffer size"),!(Et===Te.width&&Xe===Te.height&&pt===Te.format))return Ie.width=Te.width=Et,Ie.height=Te.height=Xe,Te.format=pt,N.bindRenderbuffer(pn,Te.renderbuffer),N.renderbufferStorage(pn,pt,Et,Xe),K(N.getError()===0,"invalid render buffer format"),Ge.profile&&(Te.stats.size=sl(Te.format,Te.width,Te.height)),Ie.format=Ne[Te.format],Ie}function ot(vt,He){var Et=vt|0,Xe=He|0||Et;return Et===Te.width&&Xe===Te.height||(K(Et>0&&Xe>0&&Et<=ne.maxRenderbufferSize&&Xe<=ne.maxRenderbufferSize,"invalid renderbuffer size"),Ie.width=Te.width=Et,Ie.height=Te.height=Xe,N.bindRenderbuffer(pn,Te.renderbuffer),N.renderbufferStorage(pn,Te.format,Et,Xe),K(N.getError()===0,"invalid render buffer format"),Ge.profile&&(Te.stats.size=sl(Te.format,Te.width,Te.height))),Ie}return Ie(rt,ht),Ie.resize=ot,Ie._reglType="renderbuffer",Ie._renderbuffer=Te,Ge.profile&&(Ie.stats=Te.stats),Ie.destroy=function(){Te.decRef()},Ie}Ge.profile&&(Oe.getTotalRenderbufferSize=function(){var rt=0;return Object.keys(it).forEach(function(ht){rt+=it[ht].stats.size}),rt});function mt(){kr(it).forEach(function(rt){rt.renderbuffer=N.createRenderbuffer(),N.bindRenderbuffer(pn,rt.renderbuffer),N.renderbufferStorage(pn,rt.format,rt.width,rt.height)}),N.bindRenderbuffer(pn,null)}return{create:ct,clear:function(){kr(it).forEach(nt)},restore:mt}},dn=36160,Us=36161,Ln=3553,wo=34069,iu=36064,nu=36096,Tr=36128,su=33306,Ps=36053,ol=36054,ou=36055,au=36057,lu=36061,uu=36193,fu=5121,al=5126,ll=6407,ul=6408,Tu=6402,Ds=[ll,ul],fl=[];fl[ul]=4,fl[ll]=3;var us=[];us[fu]=1,us[al]=4,us[uu]=2;var xu=32854,fi=32855,cu=36194,mn=33189,hu=36168,cl=34041,aa=35907,lr=34836,xr=34842,ni=34843,Cu=[xu,fi,cu,aa,xr,ni,lr],yn={};yn[Ps]="complete",yn[ol]="incomplete attachment",yn[au]="incomplete dimensions",yn[ou]="incomplete, missing attachment",yn[lu]="unsupported";function ji(N,V,ne,Oe,Ge,Re){var Ne={cur:null,next:null,dirty:!1,setFBO:null},tt=["rgba"],it=["rgba4","rgb565","rgb5 a1"];V.ext_srgb&&it.push("srgba"),V.ext_color_buffer_half_float&&it.push("rgba16f","rgb16f"),V.webgl_color_buffer_float&&it.push("rgba32f");var at=["uint8"];V.oes_texture_half_float&&at.push("half float","float16"),V.oes_texture_float&&at.push("float","float32");function nt(yt,lt,ze){this.target=yt,this.texture=lt,this.renderbuffer=ze;var Ot=0,jt=0;lt?(Ot=lt.width,jt=lt.height):ze&&(Ot=ze.width,jt=ze.height),this.width=Ot,this.height=jt}function ct(yt){yt&&(yt.texture&&yt.texture._texture.decRef(),yt.renderbuffer&&yt.renderbuffer._renderbuffer.decRef())}function mt(yt,lt,ze){if(yt)if(yt.texture){var Ot=yt.texture._texture,jt=Math.max(1,Ot.width),Tt=Math.max(1,Ot.height);K(jt===lt&&Tt===ze,"inconsistent width/height for supplied texture"),Ot.refCount+=1}else{var Vt=yt.renderbuffer._renderbuffer;K(Vt.width===lt&&Vt.height===ze,"inconsistent width/height for renderbuffer"),Vt.refCount+=1}}function rt(yt,lt){lt&&(lt.texture?N.framebufferTexture2D(dn,yt,lt.target,lt.texture._texture.texture,0):N.framebufferRenderbuffer(dn,yt,Us,lt.renderbuffer._renderbuffer.renderbuffer))}function ht(yt){var lt=Ln,ze=null,Ot=null,jt=yt;typeof yt=="object"&&(jt=yt.data,"target"in yt&&(lt=yt.target|0)),K.type(jt,"function","invalid attachment data");var Tt=jt._reglType;return Tt==="texture2d"?(ze=jt,K(lt===Ln)):Tt==="textureCube"?(ze=jt,K(lt>=wo&&lt<wo+6,"invalid cube map target")):Tt==="renderbuffer"?(Ot=jt,lt=Us):K.raise("invalid regl object for attachment"),new nt(lt,ze,Ot)}function Te(yt,lt,ze,Ot,jt){if(ze){var Tt=Oe.create2D({width:yt,height:lt,format:Ot,type:jt});return Tt._texture.refCount=0,new nt(Ln,Tt,null)}else{var Vt=Ge.create({width:yt,height:lt,format:Ot});return Vt._renderbuffer.refCount=0,new nt(Us,null,Vt)}}function Ie(yt){return yt&&(yt.texture||yt.renderbuffer)}function ot(yt,lt,ze){yt&&(yt.texture?yt.texture.resize(lt,ze):yt.renderbuffer&&yt.renderbuffer.resize(lt,ze),yt.width=lt,yt.height=ze)}var vt=0,He={};function Et(){this.id=vt++,He[this.id]=this,this.framebuffer=N.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Xe(yt){yt.colorAttachments.forEach(ct),ct(yt.depthAttachment),ct(yt.stencilAttachment),ct(yt.depthStencilAttachment)}function pt(yt){var lt=yt.framebuffer;K(lt,"must not double destroy framebuffer"),N.deleteFramebuffer(lt),yt.framebuffer=null,Re.framebufferCount--,delete He[yt.id]}function Qe(yt){var lt;N.bindFramebuffer(dn,yt.framebuffer);var ze=yt.colorAttachments;for(lt=0;lt<ze.length;++lt)rt(iu+lt,ze[lt]);for(lt=ze.length;lt<ne.maxColorAttachments;++lt)N.framebufferTexture2D(dn,iu+lt,Ln,null,0);N.framebufferTexture2D(dn,su,Ln,null,0),N.framebufferTexture2D(dn,nu,Ln,null,0),N.framebufferTexture2D(dn,Tr,Ln,null,0),rt(nu,yt.depthAttachment),rt(Tr,yt.stencilAttachment),rt(su,yt.depthStencilAttachment);var Ot=N.checkFramebufferStatus(dn);!N.isContextLost()&&Ot!==Ps&&K.raise("framebuffer configuration not supported, status = "+yn[Ot]),N.bindFramebuffer(dn,Ne.next?Ne.next.framebuffer:null),Ne.cur=Ne.next,N.getError()}function dt(yt,lt){var ze=new Et;Re.framebufferCount++;function Ot(Tt,Vt){var Dt;K(Ne.next!==ze,"can not update framebuffer which is currently in use");var Wt=0,nr=0,Fr=!0,Zr=!0,Xt=null,Wr=!0,Cr="rgba",Jr="uint8",zr=1,Vr=null,ti=null,oi=null,Ir=!1;if(typeof Tt=="number")Wt=Tt|0,nr=Vt|0||Wt;else if(!Tt)Wt=nr=1;else{K.type(Tt,"object","invalid arguments for framebuffer");var Gt=Tt;if("shape"in Gt){var ai=Gt.shape;K(Array.isArray(ai)&&ai.length>=2,"invalid shape for framebuffer"),Wt=ai[0],nr=ai[1]}else"radius"in Gt&&(Wt=nr=Gt.radius),"width"in Gt&&(Wt=Gt.width),"height"in Gt&&(nr=Gt.height);("color"in Gt||"colors"in Gt)&&(Xt=Gt.color||Gt.colors,Array.isArray(Xt)&&K(Xt.length===1||V.webgl_draw_buffers,"multiple render targets not supported")),Xt||("colorCount"in Gt&&(zr=Gt.colorCount|0,K(zr>0,"invalid color buffer count")),"colorTexture"in Gt&&(Wr=!!Gt.colorTexture,Cr="rgba4"),"colorType"in Gt&&(Jr=Gt.colorType,Wr?(K(V.oes_texture_float||!(Jr==="float"||Jr==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),K(V.oes_texture_half_float||!(Jr==="half float"||Jr==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Jr==="half float"||Jr==="float16"?(K(V.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Cr="rgba16f"):(Jr==="float"||Jr==="float32")&&(K(V.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Cr="rgba32f"),K.oneOf(Jr,at,"invalid color type")),"colorFormat"in Gt&&(Cr=Gt.colorFormat,tt.indexOf(Cr)>=0?Wr=!0:it.indexOf(Cr)>=0?Wr=!1:Wr?K.oneOf(Gt.colorFormat,tt,"invalid color format for texture"):K.oneOf(Gt.colorFormat,it,"invalid color format for renderbuffer"))),("depthTexture"in Gt||"depthStencilTexture"in Gt)&&(Ir=!!(Gt.depthTexture||Gt.depthStencilTexture),K(!Ir||V.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Gt&&(typeof Gt.depth=="boolean"?Fr=Gt.depth:(Vr=Gt.depth,Zr=!1)),"stencil"in Gt&&(typeof Gt.stencil=="boolean"?Zr=Gt.stencil:(ti=Gt.stencil,Fr=!1)),"depthStencil"in Gt&&(typeof Gt.depthStencil=="boolean"?Fr=Zr=Gt.depthStencil:(oi=Gt.depthStencil,Fr=!1,Zr=!1))}var ur=null,$t=null,Qt=null,tr=null;if(Array.isArray(Xt))ur=Xt.map(ht);else if(Xt)ur=[ht(Xt)];else for(ur=new Array(zr),Dt=0;Dt<zr;++Dt)ur[Dt]=Te(Wt,nr,Wr,Cr,Jr);K(V.webgl_draw_buffers||ur.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),K(ur.length<=ne.maxColorAttachments,"too many color attachments, not supported"),Wt=Wt||ur[0].width,nr=nr||ur[0].height,Vr?$t=ht(Vr):Fr&&!Zr&&($t=Te(Wt,nr,Ir,"depth","uint32")),ti?Qt=ht(ti):Zr&&!Fr&&(Qt=Te(Wt,nr,!1,"stencil","uint8")),oi?tr=ht(oi):!Vr&&!ti&&Zr&&Fr&&(tr=Te(Wt,nr,Ir,"depth stencil","depth stencil")),K(!!Vr+!!ti+!!oi<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Br=null;for(Dt=0;Dt<ur.length;++Dt)if(mt(ur[Dt],Wt,nr),K(!ur[Dt]||ur[Dt].texture&&Ds.indexOf(ur[Dt].texture._texture.format)>=0||ur[Dt].renderbuffer&&Cu.indexOf(ur[Dt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Dt+" is invalid"),ur[Dt]&&ur[Dt].texture){var Gn=fl[ur[Dt].texture._texture.format]*us[ur[Dt].texture._texture.type];Br===null?Br=Gn:K(Br===Gn,"all color attachments much have the same number of bits per pixel.")}return mt($t,Wt,nr),K(!$t||$t.texture&&$t.texture._texture.format===Tu||$t.renderbuffer&&$t.renderbuffer._renderbuffer.format===mn,"invalid depth attachment for framebuffer object"),mt(Qt,Wt,nr),K(!Qt||Qt.renderbuffer&&Qt.renderbuffer._renderbuffer.format===hu,"invalid stencil attachment for framebuffer object"),mt(tr,Wt,nr),K(!tr||tr.texture&&tr.texture._texture.format===cl||tr.renderbuffer&&tr.renderbuffer._renderbuffer.format===cl,"invalid depth-stencil attachment for framebuffer object"),Xe(ze),ze.width=Wt,ze.height=nr,ze.colorAttachments=ur,ze.depthAttachment=$t,ze.stencilAttachment=Qt,ze.depthStencilAttachment=tr,Ot.color=ur.map(Ie),Ot.depth=Ie($t),Ot.stencil=Ie(Qt),Ot.depthStencil=Ie(tr),Ot.width=ze.width,Ot.height=ze.height,Qe(ze),Ot}function jt(Tt,Vt){K(Ne.next!==ze,"can not resize a framebuffer which is currently in use");var Dt=Math.max(Tt|0,1),Wt=Math.max(Vt|0||Dt,1);if(Dt===ze.width&&Wt===ze.height)return Ot;for(var nr=ze.colorAttachments,Fr=0;Fr<nr.length;++Fr)ot(nr[Fr],Dt,Wt);return ot(ze.depthAttachment,Dt,Wt),ot(ze.stencilAttachment,Dt,Wt),ot(ze.depthStencilAttachment,Dt,Wt),ze.width=Ot.width=Dt,ze.height=Ot.height=Wt,Qe(ze),Ot}return Ot(yt,lt),o(Ot,{resize:jt,_reglType:"framebuffer",_framebuffer:ze,destroy:function(){pt(ze),Xe(ze)},use:function(Tt){Ne.setFBO({framebuffer:Ot},Tt)}})}function At(yt){var lt=Array(6);function ze(jt){var Tt;K(lt.indexOf(Ne.next)<0,"can not update framebuffer which is currently in use");var Vt={color:null},Dt=0,Wt=null,nr="rgba",Fr="uint8",Zr=1;if(typeof jt=="number")Dt=jt|0;else if(!jt)Dt=1;else{K.type(jt,"object","invalid arguments for framebuffer");var Xt=jt;if("shape"in Xt){var Wr=Xt.shape;K(Array.isArray(Wr)&&Wr.length>=2,"invalid shape for framebuffer"),K(Wr[0]===Wr[1],"cube framebuffer must be square"),Dt=Wr[0]}else"radius"in Xt&&(Dt=Xt.radius|0),"width"in Xt?(Dt=Xt.width|0,"height"in Xt&&K(Xt.height===Dt,"must be square")):"height"in Xt&&(Dt=Xt.height|0);("color"in Xt||"colors"in Xt)&&(Wt=Xt.color||Xt.colors,Array.isArray(Wt)&&K(Wt.length===1||V.webgl_draw_buffers,"multiple render targets not supported")),Wt||("colorCount"in Xt&&(Zr=Xt.colorCount|0,K(Zr>0,"invalid color buffer count")),"colorType"in Xt&&(K.oneOf(Xt.colorType,at,"invalid color type"),Fr=Xt.colorType),"colorFormat"in Xt&&(nr=Xt.colorFormat,K.oneOf(Xt.colorFormat,tt,"invalid color format for texture"))),"depth"in Xt&&(Vt.depth=Xt.depth),"stencil"in Xt&&(Vt.stencil=Xt.stencil),"depthStencil"in Xt&&(Vt.depthStencil=Xt.depthStencil)}var Cr;if(Wt)if(Array.isArray(Wt))for(Cr=[],Tt=0;Tt<Wt.length;++Tt)Cr[Tt]=Wt[Tt];else Cr=[Wt];else{Cr=Array(Zr);var Jr={radius:Dt,format:nr,type:Fr};for(Tt=0;Tt<Zr;++Tt)Cr[Tt]=Oe.createCube(Jr)}for(Vt.color=Array(Cr.length),Tt=0;Tt<Cr.length;++Tt){var zr=Cr[Tt];K(typeof zr=="function"&&zr._reglType==="textureCube","invalid cube map"),Dt=Dt||zr.width,K(zr.width===Dt&&zr.height===Dt,"invalid cube map shape"),Vt.color[Tt]={target:wo,data:Cr[Tt]}}for(Tt=0;Tt<6;++Tt){for(var Vr=0;Vr<Cr.length;++Vr)Vt.color[Vr].target=wo+Tt;Tt>0&&(Vt.depth=lt[0].depth,Vt.stencil=lt[0].stencil,Vt.depthStencil=lt[0].depthStencil),lt[Tt]?lt[Tt](Vt):lt[Tt]=dt(Vt)}return o(ze,{width:Dt,height:Dt,color:Cr})}function Ot(jt){var Tt,Vt=jt|0;if(K(Vt>0&&Vt<=ne.maxCubeMapSize,"invalid radius for cube fbo"),Vt===ze.width)return ze;var Dt=ze.color;for(Tt=0;Tt<Dt.length;++Tt)Dt[Tt].resize(Vt);for(Tt=0;Tt<6;++Tt)lt[Tt].resize(Vt);return ze.width=ze.height=Vt,ze}return ze(yt),o(ze,{faces:lt,resize:Ot,_reglType:"framebufferCube",destroy:function(){lt.forEach(function(jt){jt.destroy()})}})}function Bt(){Ne.cur=null,Ne.next=null,Ne.dirty=!0,kr(He).forEach(function(yt){yt.framebuffer=N.createFramebuffer(),Qe(yt)})}return o(Ne,{getFramebuffer:function(yt){if(typeof yt=="function"&&yt._reglType==="framebuffer"){var lt=yt._framebuffer;if(lt instanceof Et)return lt}return null},create:dt,createCube:At,clear:function(){kr(He).forEach(pt)},restore:Bt})}var la=5126,pu=34962;function hl(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=la,this.offset=0,this.stride=0,this.divisor=0}function bo(N,V,ne,Oe,Ge){for(var Re=ne.maxAttributes,Ne=new Array(Re),tt=0;tt<Re;++tt)Ne[tt]=new hl;var it=0,at={},nt={Record:hl,scope:{},state:Ne,currentVAO:null,targetVAO:null,restore:mt()?He:function(){},createVAO:Et,getVAO:ht,destroyBuffer:ct,setVAO:mt()?Te:Ie,clear:mt()?ot:function(){}};function ct(Xe){for(var pt=0;pt<Ne.length;++pt){var Qe=Ne[pt];Qe.buffer===Xe&&(N.disableVertexAttribArray(pt),Qe.buffer=null)}}function mt(){return V.oes_vertex_array_object}function rt(){return V.angle_instanced_arrays}function ht(Xe){return typeof Xe=="function"&&Xe._vao?Xe._vao:null}function Te(Xe){if(Xe!==nt.currentVAO){var pt=mt();Xe?pt.bindVertexArrayOES(Xe.vao):pt.bindVertexArrayOES(null),nt.currentVAO=Xe}}function Ie(Xe){if(Xe!==nt.currentVAO){if(Xe)Xe.bindAttrs();else for(var pt=rt(),Qe=0;Qe<Ne.length;++Qe){var dt=Ne[Qe];dt.buffer?(N.enableVertexAttribArray(Qe),N.vertexAttribPointer(Qe,dt.size,dt.type,dt.normalized,dt.stride,dt.offfset),pt&&dt.divisor&&pt.vertexAttribDivisorANGLE(Qe,dt.divisor)):(N.disableVertexAttribArray(Qe),N.vertexAttrib4f(Qe,dt.x,dt.y,dt.z,dt.w))}nt.currentVAO=Xe}}function ot(){kr(at).forEach(function(Xe){Xe.destroy()})}function vt(){this.id=++it,this.attributes=[];var Xe=mt();Xe?this.vao=Xe.createVertexArrayOES():this.vao=null,at[this.id]=this,this.buffers=[]}vt.prototype.bindAttrs=function(){for(var Xe=rt(),pt=this.attributes,Qe=0;Qe<pt.length;++Qe){var dt=pt[Qe];dt.buffer?(N.enableVertexAttribArray(Qe),N.bindBuffer(pu,dt.buffer.buffer),N.vertexAttribPointer(Qe,dt.size,dt.type,dt.normalized,dt.stride,dt.offset),Xe&&dt.divisor&&Xe.vertexAttribDivisorANGLE(Qe,dt.divisor)):(N.disableVertexAttribArray(Qe),N.vertexAttrib4f(Qe,dt.x,dt.y,dt.z,dt.w))}for(var At=pt.length;At<Re;++At)N.disableVertexAttribArray(At)},vt.prototype.refresh=function(){var Xe=mt();Xe&&(Xe.bindVertexArrayOES(this.vao),this.bindAttrs(),nt.currentVAO=this)},vt.prototype.destroy=function(){if(this.vao){var Xe=mt();this===nt.currentVAO&&(nt.currentVAO=null,Xe.bindVertexArrayOES(null)),Xe.deleteVertexArrayOES(this.vao),this.vao=null}at[this.id]&&(delete at[this.id],Oe.vaoCount-=1)};function He(){var Xe=mt();Xe&&kr(at).forEach(function(pt){pt.refresh()})}function Et(Xe){var pt=new vt;Oe.vaoCount+=1;function Qe(dt){K(Array.isArray(dt),"arguments to vertex array constructor must be an array"),K(dt.length<Re,"too many attributes"),K(dt.length>0,"must specify at least one attribute");var At={},Bt=pt.attributes;Bt.length=dt.length;for(var yt=0;yt<dt.length;++yt){var lt=dt[yt],ze=Bt[yt]=new hl,Ot=lt.data||lt;if(Array.isArray(Ot)||r(Ot)||mi(Ot)){var jt;pt.buffers[yt]&&(jt=pt.buffers[yt],r(Ot)&&jt._buffer.byteLength>=Ot.byteLength?jt.subdata(Ot):(jt.destroy(),pt.buffers[yt]=null)),pt.buffers[yt]||(jt=pt.buffers[yt]=Ge.create(lt,pu,!1,!0)),ze.buffer=Ge.getBuffer(jt),ze.size=ze.buffer.dimension|0,ze.normalized=!1,ze.type=ze.buffer.dtype,ze.offset=0,ze.stride=0,ze.divisor=0,ze.state=1,At[yt]=1}else Ge.getBuffer(lt)?(ze.buffer=Ge.getBuffer(lt),ze.size=ze.buffer.dimension|0,ze.normalized=!1,ze.type=ze.buffer.dtype,ze.offset=0,ze.stride=0,ze.divisor=0,ze.state=1):Ge.getBuffer(lt.buffer)?(ze.buffer=Ge.getBuffer(lt.buffer),ze.size=(+lt.size||ze.buffer.dimension)|0,ze.normalized=!!lt.normalized||!1,"type"in lt?(K.parameter(lt.type,Ei,"invalid buffer type"),ze.type=Ei[lt.type]):ze.type=ze.buffer.dtype,ze.offset=(lt.offset||0)|0,ze.stride=(lt.stride||0)|0,ze.divisor=(lt.divisor||0)|0,ze.state=1,K(ze.size>=1&&ze.size<=4,"size must be between 1 and 4"),K(ze.offset>=0,"invalid offset"),K(ze.stride>=0&&ze.stride<=255,"stride must be between 0 and 255"),K(ze.divisor>=0,"divisor must be positive"),K(!ze.divisor||!!V.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in lt?(K(yt>0,"first attribute must not be a constant"),ze.x=+lt.x||0,ze.y=+lt.y||0,ze.z=+lt.z||0,ze.w=+lt.w||0,ze.state=2):K(!1,"invalid attribute spec for location "+yt)}for(var Tt=0;Tt<pt.buffers.length;++Tt)!At[Tt]&&pt.buffers[Tt]&&(pt.buffers[Tt].destroy(),pt.buffers[Tt]=null);return pt.refresh(),Qe}return Qe.destroy=function(){for(var dt=0;dt<pt.buffers.length;++dt)pt.buffers[dt]&&pt.buffers[dt].destroy();pt.buffers.length=0,pt.destroy()},Qe._vao=pt,Qe._reglType="vao",Qe(Xe)}return nt}var Eo=35632,So=35633,Li=35718,Mu=35721;function Au(N,V,ne,Oe){var Ge={},Re={};function Ne(Te,Ie,ot,vt){this.name=Te,this.id=Ie,this.location=ot,this.info=vt}function tt(Te,Ie){for(var ot=0;ot<Te.length;++ot)if(Te[ot].id===Ie.id){Te[ot].location=Ie.location;return}Te.push(Ie)}function it(Te,Ie,ot){var vt=Te===Eo?Ge:Re,He=vt[Ie];if(!He){var Et=V.str(Ie);He=N.createShader(Te),N.shaderSource(He,Et),N.compileShader(He),K.shaderError(N,He,Et,Te,ot),vt[Ie]=He}return He}var at={},nt=[],ct=0;function mt(Te,Ie){this.id=ct++,this.fragId=Te,this.vertId=Ie,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Oe.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function rt(Te,Ie,ot){var vt,He,Et=it(Eo,Te.fragId),Xe=it(So,Te.vertId),pt=Te.program=N.createProgram();if(N.attachShader(pt,Et),N.attachShader(pt,Xe),ot)for(vt=0;vt<ot.length;++vt){var Qe=ot[vt];N.bindAttribLocation(pt,Qe[0],Qe[1])}N.linkProgram(pt),K.linkError(N,pt,V.str(Te.fragId),V.str(Te.vertId),Ie);var dt=N.getProgramParameter(pt,Li);Oe.profile&&(Te.stats.uniformsCount=dt);var At=Te.uniforms;for(vt=0;vt<dt;++vt)if(He=N.getActiveUniform(pt,vt),He)if(He.size>1)for(var Bt=0;Bt<He.size;++Bt){var yt=He.name.replace("[0]","["+Bt+"]");tt(At,new Ne(yt,V.id(yt),N.getUniformLocation(pt,yt),He))}else tt(At,new Ne(He.name,V.id(He.name),N.getUniformLocation(pt,He.name),He));var lt=N.getProgramParameter(pt,Mu);Oe.profile&&(Te.stats.attributesCount=lt);var ze=Te.attributes;for(vt=0;vt<lt;++vt)He=N.getActiveAttrib(pt,vt),He&&tt(ze,new Ne(He.name,V.id(He.name),N.getAttribLocation(pt,He.name),He))}Oe.profile&&(ne.getMaxUniformsCount=function(){var Te=0;return nt.forEach(function(Ie){Ie.stats.uniformsCount>Te&&(Te=Ie.stats.uniformsCount)}),Te},ne.getMaxAttributesCount=function(){var Te=0;return nt.forEach(function(Ie){Ie.stats.attributesCount>Te&&(Te=Ie.stats.attributesCount)}),Te});function ht(){Ge={},Re={};for(var Te=0;Te<nt.length;++Te)rt(nt[Te],null,nt[Te].attributes.map(function(Ie){return[Ie.location,Ie.name]}))}return{clear:function(){var Te=N.deleteShader.bind(N);kr(Ge).forEach(Te),Ge={},kr(Re).forEach(Te),Re={},nt.forEach(function(Ie){N.deleteProgram(Ie.program)}),nt.length=0,at={},ne.shaderCount=0},program:function(Te,Ie,ot,vt){K.command(Te>=0,"missing vertex shader",ot),K.command(Ie>=0,"missing fragment shader",ot);var He=at[Ie];He||(He=at[Ie]={});var Et=He[Te];if(Et&&(Et.refCount++,!vt))return Et;var Xe=new mt(Ie,Te);return ne.shaderCount++,rt(Xe,ot,vt),Et||(He[Te]=Xe),nt.push(Xe),o(Xe,{destroy:function(){if(Xe.refCount--,Xe.refCount<=0){N.deleteProgram(Xe.program);var pt=nt.indexOf(Xe);nt.splice(pt,1),ne.shaderCount--}He[Xe.vertId].refCount<=0&&(N.deleteShader(Re[Xe.vertId]),delete Re[Xe.vertId],delete at[Xe.fragId][Xe.vertId]),Object.keys(at[Xe.fragId]).length||(N.deleteShader(Ge[Xe.fragId]),delete Ge[Xe.fragId],delete at[Xe.fragId])}})},restore:ht,shader:it,frag:-1,vert:-1}}var fs=6408,Fs=5121,pl=3333,tn=5126;function To(N,V,ne,Oe,Ge,Re,Ne){function tt(nt){var ct;V.next===null?(K(Ge.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ct=Fs):(K(V.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ct=V.next.colorAttachments[0].texture._texture.type,Re.oes_texture_float?(K(ct===Fs||ct===tn,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ct===tn&&K(Ne.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):K(ct===Fs,"Reading from a framebuffer is only allowed for the type 'uint8'"));var mt=0,rt=0,ht=Oe.framebufferWidth,Te=Oe.framebufferHeight,Ie=null;r(nt)?Ie=nt:nt&&(K.type(nt,"object","invalid arguments to regl.read()"),mt=nt.x|0,rt=nt.y|0,K(mt>=0&&mt<Oe.framebufferWidth,"invalid x offset for regl.read"),K(rt>=0&&rt<Oe.framebufferHeight,"invalid y offset for regl.read"),ht=(nt.width||Oe.framebufferWidth-mt)|0,Te=(nt.height||Oe.framebufferHeight-rt)|0,Ie=nt.data||null),Ie&&(ct===Fs?K(Ie instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ct===tn&&K(Ie instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),K(ht>0&&ht+mt<=Oe.framebufferWidth,"invalid width for read pixels"),K(Te>0&&Te+rt<=Oe.framebufferHeight,"invalid height for read pixels"),ne();var ot=ht*Te*4;return Ie||(ct===Fs?Ie=new Uint8Array(ot):ct===tn&&(Ie=Ie||new Float32Array(ot))),K.isTypedArray(Ie,"data buffer for regl.read() must be a typedarray"),K(Ie.byteLength>=ot,"data buffer for regl.read() too small"),N.pixelStorei(pl,4),N.readPixels(mt,rt,ht,Te,fs,ct,Ie),Ie}function it(nt){var ct;return V.setFBO({framebuffer:nt.framebuffer},function(){ct=tt(nt)}),ct}function at(nt){return!nt||!("framebuffer"in nt)?tt(nt):it(nt)}return at}function rn(N){return Array.prototype.slice.call(N)}function Si(N){return rn(N).join("")}function ua(){var N=0,V=[],ne=[];function Oe(ct){for(var mt=0;mt<ne.length;++mt)if(ne[mt]===ct)return V[mt];var rt="g"+N++;return V.push(rt),ne.push(ct),rt}function Ge(){var ct=[];function mt(){ct.push.apply(ct,rn(arguments))}var rt=[];function ht(){var Te="v"+N++;return rt.push(Te),arguments.length>0&&(ct.push(Te,"="),ct.push.apply(ct,rn(arguments)),ct.push(";")),Te}return o(mt,{def:ht,toString:function(){return Si([rt.length>0?"var "+rt.join(",")+";":"",Si(ct)])}})}function Re(){var ct=Ge(),mt=Ge(),rt=ct.toString,ht=mt.toString;function Te(Ie,ot){mt(Ie,ot,"=",ct.def(Ie,ot),";")}return o(function(){ct.apply(ct,rn(arguments))},{def:ct.def,entry:ct,exit:mt,save:Te,set:function(Ie,ot,vt){Te(Ie,ot),ct(Ie,ot,"=",vt,";")},toString:function(){return rt()+ht()}})}function Ne(){var ct=Si(arguments),mt=Re(),rt=Re(),ht=mt.toString,Te=rt.toString;return o(mt,{then:function(){return mt.apply(mt,rn(arguments)),this},else:function(){return rt.apply(rt,rn(arguments)),this},toString:function(){var Ie=Te();return Ie&&(Ie="else{"+Ie+"}"),Si(["if(",ct,"){",ht(),"}",Ie])}})}var tt=Ge(),it={};function at(ct,mt){var rt=[];function ht(){var He="a"+rt.length;return rt.push(He),He}mt=mt||0;for(var Te=0;Te<mt;++Te)ht();var Ie=Re(),ot=Ie.toString,vt=it[ct]=o(Ie,{arg:ht,toString:function(){return Si(["function(",rt.join(),"){",ot(),"}"])}});return vt}function nt(){var ct=['"use strict";',tt,"return {"];Object.keys(it).forEach(function(ht){ct.push('"',ht,'":',it[ht].toString(),",")}),ct.push("}");var mt=Si(ct).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),rt=Function.apply(null,V.concat(mt));return rt.apply(null,ne)}return{globalThis:tt,link:Oe,block:Ge,proc:at,scope:Re,cond:Ne,compile:nt}}var ci="xyzw".split(""),fa=5121,nn=1,Js=2,dl=0,ml=1,cs=2,yl=3,hs=4,It=5,du=6,ca="dither",ha="blend.enable",pa="blend.color",gl="blend.equation",vl="blend.func",da="depth.enable",ma="depth.func",ps="depth.range",ds="depth.mask",Rr="colorMask",xo="cull.enable",Gi="cull.face",ya="frontFace",ga="lineWidth",sn="polygonOffset.enable",Nn="polygonOffset.offset",mu="sample.alpha",yu="sample.enable",In="sample.coverage",Gs="stencil.enable",_l="stencil.mask",gn="stencil.func",vn="stencil.opFront",_n="stencil.opBack",wl="scissor.enable",va="scissor.box",Ni="viewport",Bn="profile",hi="framebuffer",ei="vert",ir="frag",Ki="elements",Un="primitive",gi="count",Pn="offset",_a="instances",Kr="vao",wa="Width",ba="Height",Ti=hi+wa,an=hi+ba,Ea=Ni+wa,Co=Ni+ba,Ks="drawingBuffer",Ws=Ks+wa,gu=Ks+ba,bl=[vl,gl,gn,vn,_n,In,Ni,va,Nn],Dn=34962,Mo=34963,Ao=35632,zs=35633,El=3553,Sa=34067,Sl=2884,vi=3042,wr=3024,Or=2960,ku=2929,ko=3089,n=32823,l=32926,p=32928,c=5126,_=35664,E=35665,C=35666,k=5124,B=35667,j=35668,Z=35669,ce=35670,ye=35671,_e=35672,We=35673,bt=35674,Lt=35675,Ar=35676,kt=35678,fr=35680,mr=4,yr=1028,cr=1029,qt=2304,br=2305,hr=32775,vr=32776,si=519,Lr=7680,wi=0,Fn=1,Jn=32774,Tl=513,Ou=36160,Ku=36064,jn={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Lu=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ta={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Vs={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Nu={frag:Ao,vert:zs},$u={cw:qt,ccw:br};function vu(N){return Array.isArray(N)||r(N)||mi(N)}function Iu(N){return N.sort(function(V,ne){return V===Ni?-1:ne===Ni?1:V<ne?-1:1})}function xi(N,V,ne,Oe){this.thisDep=N,this.contextDep=V,this.propDep=ne,this.append=Oe}function Hs(N){return N&&!(N.thisDep||N.contextDep||N.propDep)}function Dr(N){return new xi(!1,!1,!1,N)}function Ii(N,V){var ne=N.type;if(ne===dl){var Oe=N.data.length;return new xi(!0,Oe>=1,Oe>=2,V)}else if(ne===hs){var Ge=N.data;return new xi(Ge.thisDep,Ge.contextDep,Ge.propDep,V)}else{if(ne===It)return new xi(!1,!1,!1,V);if(ne===du){for(var Re=!1,Ne=!1,tt=!1,it=0;it<N.data.length;++it){var at=N.data[it];if(at.type===ml)tt=!0;else if(at.type===cs)Ne=!0;else if(at.type===yl)Re=!0;else if(at.type===dl){Re=!0;var nt=at.data;nt>=1&&(Ne=!0),nt>=2&&(tt=!0)}else at.type===hs&&(Re=Re||at.data.thisDep,Ne=Ne||at.data.contextDep,tt=tt||at.data.propDep)}return new xi(Re,Ne,tt,V)}else return new xi(ne===yl,ne===cs,ne===ml,V)}}var Bu=new xi(!1,!1,!1,function(){});function Wu(N,V,ne,Oe,Ge,Re,Ne,tt,it,at,nt,ct,mt,rt,ht){var Te=at.Record,Ie={add:32774,subtract:32778,"reverse subtract":32779};ne.ext_blend_minmax&&(Ie.min=hr,Ie.max=vr);var ot=ne.angle_instanced_arrays,vt=ne.webgl_draw_buffers,He={dirty:!0,profile:ht.profile},Et={},Xe=[],pt={},Qe={};function dt(q){return q.replace(".","_")}function At(q,W,fe){var we=dt(q);Xe.push(q),Et[we]=He[we]=!!fe,pt[we]=W}function Bt(q,W,fe){var we=dt(q);Xe.push(q),Array.isArray(fe)?(He[we]=fe.slice(),Et[we]=fe.slice()):He[we]=Et[we]=fe,Qe[we]=W}At(ca,wr),At(ha,vi),Bt(pa,"blendColor",[0,0,0,0]),Bt(gl,"blendEquationSeparate",[Jn,Jn]),Bt(vl,"blendFuncSeparate",[Fn,wi,Fn,wi]),At(da,ku,!0),Bt(ma,"depthFunc",Tl),Bt(ps,"depthRange",[0,1]),Bt(ds,"depthMask",!0),Bt(Rr,Rr,[!0,!0,!0,!0]),At(xo,Sl),Bt(Gi,"cullFace",cr),Bt(ya,ya,br),Bt(ga,ga,1),At(sn,n),Bt(Nn,"polygonOffset",[0,0]),At(mu,l),At(yu,p),Bt(In,"sampleCoverage",[1,!1]),At(Gs,Or),Bt(_l,"stencilMask",-1),Bt(gn,"stencilFunc",[si,0,-1]),Bt(vn,"stencilOpSeparate",[yr,Lr,Lr,Lr]),Bt(_n,"stencilOpSeparate",[cr,Lr,Lr,Lr]),At(wl,ko),Bt(va,"scissor",[0,0,N.drawingBufferWidth,N.drawingBufferHeight]),Bt(Ni,Ni,[0,0,N.drawingBufferWidth,N.drawingBufferHeight]);var yt={gl:N,context:mt,strings:V,next:Et,current:He,draw:ct,elements:Re,buffer:Ge,shader:nt,attributes:at.state,vao:at,uniforms:it,framebuffer:tt,extensions:ne,timer:rt,isBufferArgs:vu},lt={primTypes:Di,compareFuncs:Ta,blendFuncs:jn,blendEquations:Ie,stencilOps:Vs,glTypes:Ei,orientationType:$u};K.optional(function(){yt.isArrayLike=$r}),vt&&(lt.backBuffer=[cr],lt.drawBuffer=qr(Oe.maxDrawbuffers,function(q){return q===0?[0]:qr(q,function(W){return Ku+W})}));var ze=0;function Ot(){var q=ua(),W=q.link;q.global,q.id=ze++,q.batchId="0";var fe=W(yt),we=q.shared={props:"a0"};Object.keys(yt).forEach(function(X){we[X]=globalThis.def(fe,".",X)}),K.optional(function(){q.CHECK=W(K),q.commandStr=K.guessCommand(),q.command=W(q.commandStr),q.assert=function(X,le,ee){X("if(!(",le,"))",this.CHECK,".commandRaise(",W(ee),",",this.command,");")},lt.invalidBlendCombinations=Lu});var Ae=q.next={},pe=q.current={};Object.keys(Qe).forEach(function(X){Array.isArray(He[X])&&(Ae[X]=globalThis.def(we.next,".",X),pe[X]=globalThis.def(we.current,".",X))});var ue=q.constants={};Object.keys(lt).forEach(function(X){ue[X]=globalThis.def(JSON.stringify(lt[X]))}),q.invoke=function(X,le){switch(le.type){case dl:var ee=["this",we.context,we.props,q.batchId];return X.def(W(le.data),".call(",ee.slice(0,Math.max(le.data.length+1,4)),")");case ml:return X.def(we.props,le.data);case cs:return X.def(we.context,le.data);case yl:return X.def("this",le.data);case hs:return le.data.append(q,X),le.data.ref;case It:return le.data.toString();case du:return le.data.map(function(be){return q.invoke(X,be)})}},q.attribCache={};var ge={};return q.scopeAttrib=function(X){var le=V.id(X);if(le in ge)return ge[le];var ee=at.scope[le];ee||(ee=at.scope[le]=new Te);var be=ge[le]=W(ee);return be},q}function jt(q){var W=q.static,fe=q.dynamic,we;if(Bn in W){var Ae=!!W[Bn];we=Dr(function(ue,ge){return Ae}),we.enable=Ae}else if(Bn in fe){var pe=fe[Bn];we=Ii(pe,function(ue,ge){return ue.invoke(ge,pe)})}return we}function Tt(q,W){var fe=q.static,we=q.dynamic;if(hi in fe){var Ae=fe[hi];return Ae?(Ae=tt.getFramebuffer(Ae),K.command(Ae,"invalid framebuffer object"),Dr(function(ue,ge){var X=ue.link(Ae),le=ue.shared;ge.set(le.framebuffer,".next",X);var ee=le.context;return ge.set(ee,"."+Ti,X+".width"),ge.set(ee,"."+an,X+".height"),X})):Dr(function(ue,ge){var X=ue.shared;ge.set(X.framebuffer,".next","null");var le=X.context;return ge.set(le,"."+Ti,le+"."+Ws),ge.set(le,"."+an,le+"."+gu),"null"})}else if(hi in we){var pe=we[hi];return Ii(pe,function(ue,ge){var X=ue.invoke(ge,pe),le=ue.shared,ee=le.framebuffer,be=ge.def(ee,".getFramebuffer(",X,")");K.optional(function(){ue.assert(ge,"!"+X+"||"+be,"invalid framebuffer object")}),ge.set(ee,".next",be);var ke=le.context;return ge.set(ke,"."+Ti,be+"?"+be+".width:"+ke+"."+Ws),ge.set(ke,"."+an,be+"?"+be+".height:"+ke+"."+gu),be})}else return null}function Vt(q,W,fe){var we=q.static,Ae=q.dynamic;function pe(X){if(X in we){var le=we[X];K.commandType(le,"object","invalid "+X,fe.commandStr);var ee=!0,be=le.x|0,ke=le.y|0,Je,Ke;return"width"in le?(Je=le.width|0,K.command(Je>=0,"invalid "+X,fe.commandStr)):ee=!1,"height"in le?(Ke=le.height|0,K.command(Ke>=0,"invalid "+X,fe.commandStr)):ee=!1,new xi(!ee&&W&&W.thisDep,!ee&&W&&W.contextDep,!ee&&W&&W.propDep,function(Mt,Kt){var xt=Mt.shared.context,Rt=Je;"width"in le||(Rt=Kt.def(xt,".",Ti,"-",be));var Jt=Ke;return"height"in le||(Jt=Kt.def(xt,".",an,"-",ke)),[be,ke,Rt,Jt]})}else if(X in Ae){var Pe=Ae[X],st=Ii(Pe,function(Mt,Kt){var xt=Mt.invoke(Kt,Pe);K.optional(function(){Mt.assert(Kt,xt+"&&typeof "+xt+'==="object"',"invalid "+X)});var Rt=Mt.shared.context,Jt=Kt.def(xt,".x|0"),sr=Kt.def(xt,".y|0"),Nr=Kt.def('"width" in ',xt,"?",xt,".width|0:","(",Rt,".",Ti,"-",Jt,")"),Ci=Kt.def('"height" in ',xt,"?",xt,".height|0:","(",Rt,".",an,"-",sr,")");return K.optional(function(){Mt.assert(Kt,Nr+">=0&&"+Ci+">=0","invalid "+X)}),[Jt,sr,Nr,Ci]});return W&&(st.thisDep=st.thisDep||W.thisDep,st.contextDep=st.contextDep||W.contextDep,st.propDep=st.propDep||W.propDep),st}else return W?new xi(W.thisDep,W.contextDep,W.propDep,function(Mt,Kt){var xt=Mt.shared.context;return[0,0,Kt.def(xt,".",Ti),Kt.def(xt,".",an)]}):null}var ue=pe(Ni);if(ue){var ge=ue;ue=new xi(ue.thisDep,ue.contextDep,ue.propDep,function(X,le){var ee=ge.append(X,le),be=X.shared.context;return le.set(be,"."+Ea,ee[2]),le.set(be,"."+Co,ee[3]),ee})}return{viewport:ue,scissor_box:pe(va)}}function Dt(q,W){var fe=q.static,we=typeof fe[ir]=="string"&&typeof fe[ei]=="string";if(we){if(Object.keys(W.dynamic).length>0)return null;var Ae=W.static,pe=Object.keys(Ae);if(pe.length>0&&typeof Ae[pe[0]]=="number"){for(var ue=[],ge=0;ge<pe.length;++ge)K(typeof Ae[pe[ge]]=="number","must specify all vertex attribute locations when using vaos"),ue.push([Ae[pe[ge]]|0,pe[ge]]);return ue}}return null}function Wt(q,W,fe){var we=q.static,Ae=q.dynamic;function pe(ee){if(ee in we){var be=V.id(we[ee]);K.optional(function(){nt.shader(Nu[ee],be,K.guessCommand())});var ke=Dr(function(){return be});return ke.id=be,ke}else if(ee in Ae){var Je=Ae[ee];return Ii(Je,function(Ke,Pe){var st=Ke.invoke(Pe,Je),Mt=Pe.def(Ke.shared.strings,".id(",st,")");return K.optional(function(){Pe(Ke.shared.shader,".shader(",Nu[ee],",",Mt,",",Ke.command,");")}),Mt})}return null}var ue=pe(ir),ge=pe(ei),X=null,le;return Hs(ue)&&Hs(ge)?(X=nt.program(ge.id,ue.id,null,fe),le=Dr(function(ee,be){return ee.link(X)})):le=new xi(ue&&ue.thisDep||ge&&ge.thisDep,ue&&ue.contextDep||ge&&ge.contextDep,ue&&ue.propDep||ge&&ge.propDep,function(ee,be){var ke=ee.shared.shader,Je;ue?Je=ue.append(ee,be):Je=be.def(ke,".",ir);var Ke;ge?Ke=ge.append(ee,be):Ke=be.def(ke,".",ei);var Pe=ke+".program("+Ke+","+Je;return K.optional(function(){Pe+=","+ee.command}),be.def(Pe+")")}),{frag:ue,vert:ge,progVar:le,program:X}}function nr(q,W){var fe=q.static,we=q.dynamic;function Ae(){if(Ki in fe){var ee=fe[Ki];vu(ee)?ee=Re.getElements(Re.create(ee,!0)):ee&&(ee=Re.getElements(ee),K.command(ee,"invalid elements",W.commandStr));var be=Dr(function(Je,Ke){if(ee){var Pe=Je.link(ee);return Je.ELEMENTS=Pe,Pe}return Je.ELEMENTS=null,null});return be.value=ee,be}else if(Ki in we){var ke=we[Ki];return Ii(ke,function(Je,Ke){var Pe=Je.shared,st=Pe.isBufferArgs,Mt=Pe.elements,Kt=Je.invoke(Ke,ke),xt=Ke.def("null"),Rt=Ke.def(st,"(",Kt,")"),Jt=Je.cond(Rt).then(xt,"=",Mt,".createStream(",Kt,");").else(xt,"=",Mt,".getElements(",Kt,");");return K.optional(function(){Je.assert(Jt.else,"!"+Kt+"||"+xt,"invalid elements")}),Ke.entry(Jt),Ke.exit(Je.cond(Rt).then(Mt,".destroyStream(",xt,");")),Je.ELEMENTS=xt,xt})}return null}var pe=Ae();function ue(){if(Un in fe){var ee=fe[Un];return K.commandParameter(ee,Di,"invalid primitve",W.commandStr),Dr(function(ke,Je){return Di[ee]})}else if(Un in we){var be=we[Un];return Ii(be,function(ke,Je){var Ke=ke.constants.primTypes,Pe=ke.invoke(Je,be);return K.optional(function(){ke.assert(Je,Pe+" in "+Ke,"invalid primitive, must be one of "+Object.keys(Di))}),Je.def(Ke,"[",Pe,"]")})}else if(pe)return Hs(pe)?pe.value?Dr(function(ke,Je){return Je.def(ke.ELEMENTS,".primType")}):Dr(function(){return mr}):new xi(pe.thisDep,pe.contextDep,pe.propDep,function(ke,Je){var Ke=ke.ELEMENTS;return Je.def(Ke,"?",Ke,".primType:",mr)});return null}function ge(ee,be){if(ee in fe){var ke=fe[ee]|0;return K.command(!be||ke>=0,"invalid "+ee,W.commandStr),Dr(function(Ke,Pe){return be&&(Ke.OFFSET=ke),ke})}else if(ee in we){var Je=we[ee];return Ii(Je,function(Ke,Pe){var st=Ke.invoke(Pe,Je);return be&&(Ke.OFFSET=st,K.optional(function(){Ke.assert(Pe,st+">=0","invalid "+ee)})),st})}else if(be&&pe)return Dr(function(Ke,Pe){return Ke.OFFSET="0",0});return null}var X=ge(Pn,!0);function le(){if(gi in fe){var ee=fe[gi]|0;return K.command(typeof ee=="number"&&ee>=0,"invalid vertex count",W.commandStr),Dr(function(){return ee})}else if(gi in we){var be=we[gi];return Ii(be,function(Ke,Pe){var st=Ke.invoke(Pe,be);return K.optional(function(){Ke.assert(Pe,"typeof "+st+'==="number"&&'+st+">=0&&"+st+"===("+st+"|0)","invalid vertex count")}),st})}else if(pe)if(Hs(pe)){if(pe)return X?new xi(X.thisDep,X.contextDep,X.propDep,function(Ke,Pe){var st=Pe.def(Ke.ELEMENTS,".vertCount-",Ke.OFFSET);return K.optional(function(){Ke.assert(Pe,st+">=0","invalid vertex offset/element buffer too small")}),st}):Dr(function(Ke,Pe){return Pe.def(Ke.ELEMENTS,".vertCount")});var ke=Dr(function(){return-1});return K.optional(function(){ke.MISSING=!0}),ke}else{var Je=new xi(pe.thisDep||X.thisDep,pe.contextDep||X.contextDep,pe.propDep||X.propDep,function(Ke,Pe){var st=Ke.ELEMENTS;return Ke.OFFSET?Pe.def(st,"?",st,".vertCount-",Ke.OFFSET,":-1"):Pe.def(st,"?",st,".vertCount:-1")});return K.optional(function(){Je.DYNAMIC=!0}),Je}return null}return{elements:pe,primitive:ue(),count:le(),instances:ge(_a,!1),offset:X}}function Fr(q,W){var fe=q.static,we=q.dynamic,Ae={};return Xe.forEach(function(pe){var ue=dt(pe);function ge(X,le){if(pe in fe){var ee=X(fe[pe]);Ae[ue]=Dr(function(){return ee})}else if(pe in we){var be=we[pe];Ae[ue]=Ii(be,function(ke,Je){return le(ke,Je,ke.invoke(Je,be))})}}switch(pe){case xo:case ha:case ca:case Gs:case da:case wl:case sn:case mu:case yu:case ds:return ge(function(X){return K.commandType(X,"boolean",pe,W.commandStr),X},function(X,le,ee){return K.optional(function(){X.assert(le,"typeof "+ee+'==="boolean"',"invalid flag "+pe,X.commandStr)}),ee});case ma:return ge(function(X){return K.commandParameter(X,Ta,"invalid "+pe,W.commandStr),Ta[X]},function(X,le,ee){var be=X.constants.compareFuncs;return K.optional(function(){X.assert(le,ee+" in "+be,"invalid "+pe+", must be one of "+Object.keys(Ta))}),le.def(be,"[",ee,"]")});case ps:return ge(function(X){return K.command($r(X)&&X.length===2&&typeof X[0]=="number"&&typeof X[1]=="number"&&X[0]<=X[1],"depth range is 2d array",W.commandStr),X},function(X,le,ee){K.optional(function(){X.assert(le,X.shared.isArrayLike+"("+ee+")&&"+ee+".length===2&&typeof "+ee+'[0]==="number"&&typeof '+ee+'[1]==="number"&&'+ee+"[0]<="+ee+"[1]","depth range must be a 2d array")});var be=le.def("+",ee,"[0]"),ke=le.def("+",ee,"[1]");return[be,ke]});case vl:return ge(function(X){K.commandType(X,"object","blend.func",W.commandStr);var le="srcRGB"in X?X.srcRGB:X.src,ee="srcAlpha"in X?X.srcAlpha:X.src,be="dstRGB"in X?X.dstRGB:X.dst,ke="dstAlpha"in X?X.dstAlpha:X.dst;return K.commandParameter(le,jn,ue+".srcRGB",W.commandStr),K.commandParameter(ee,jn,ue+".srcAlpha",W.commandStr),K.commandParameter(be,jn,ue+".dstRGB",W.commandStr),K.commandParameter(ke,jn,ue+".dstAlpha",W.commandStr),K.command(Lu.indexOf(le+", "+be)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+le+", "+be+")",W.commandStr),[jn[le],jn[be],jn[ee],jn[ke]]},function(X,le,ee){var be=X.constants.blendFuncs;K.optional(function(){X.assert(le,ee+"&&typeof "+ee+'==="object"',"invalid blend func, must be an object")});function ke(xt,Rt){var Jt=le.def('"',xt,Rt,'" in ',ee,"?",ee,".",xt,Rt,":",ee,".",xt);return K.optional(function(){X.assert(le,Jt+" in "+be,"invalid "+pe+"."+xt+Rt+", must be one of "+Object.keys(jn))}),Jt}var Je=ke("src","RGB"),Ke=ke("dst","RGB");K.optional(function(){var xt=X.constants.invalidBlendCombinations;X.assert(le,xt+".indexOf("+Je+'+", "+'+Ke+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Pe=le.def(be,"[",Je,"]"),st=le.def(be,"[",ke("src","Alpha"),"]"),Mt=le.def(be,"[",Ke,"]"),Kt=le.def(be,"[",ke("dst","Alpha"),"]");return[Pe,Mt,st,Kt]});case gl:return ge(function(X){if(typeof X=="string")return K.commandParameter(X,Ie,"invalid "+pe,W.commandStr),[Ie[X],Ie[X]];if(typeof X=="object")return K.commandParameter(X.rgb,Ie,pe+".rgb",W.commandStr),K.commandParameter(X.alpha,Ie,pe+".alpha",W.commandStr),[Ie[X.rgb],Ie[X.alpha]];K.commandRaise("invalid blend.equation",W.commandStr)},function(X,le,ee){var be=X.constants.blendEquations,ke=le.def(),Je=le.def(),Ke=X.cond("typeof ",ee,'==="string"');return K.optional(function(){function Pe(st,Mt,Kt){X.assert(st,Kt+" in "+be,"invalid "+Mt+", must be one of "+Object.keys(Ie))}Pe(Ke.then,pe,ee),X.assert(Ke.else,ee+"&&typeof "+ee+'==="object"',"invalid "+pe),Pe(Ke.else,pe+".rgb",ee+".rgb"),Pe(Ke.else,pe+".alpha",ee+".alpha")}),Ke.then(ke,"=",Je,"=",be,"[",ee,"];"),Ke.else(ke,"=",be,"[",ee,".rgb];",Je,"=",be,"[",ee,".alpha];"),le(Ke),[ke,Je]});case pa:return ge(function(X){return K.command($r(X)&&X.length===4,"blend.color must be a 4d array",W.commandStr),qr(4,function(le){return+X[le]})},function(X,le,ee){return K.optional(function(){X.assert(le,X.shared.isArrayLike+"("+ee+")&&"+ee+".length===4","blend.color must be a 4d array")}),qr(4,function(be){return le.def("+",ee,"[",be,"]")})});case _l:return ge(function(X){return K.commandType(X,"number",ue,W.commandStr),X|0},function(X,le,ee){return K.optional(function(){X.assert(le,"typeof "+ee+'==="number"',"invalid stencil.mask")}),le.def(ee,"|0")});case gn:return ge(function(X){K.commandType(X,"object",ue,W.commandStr);var le=X.cmp||"keep",ee=X.ref||0,be="mask"in X?X.mask:-1;return K.commandParameter(le,Ta,pe+".cmp",W.commandStr),K.commandType(ee,"number",pe+".ref",W.commandStr),K.commandType(be,"number",pe+".mask",W.commandStr),[Ta[le],ee,be]},function(X,le,ee){var be=X.constants.compareFuncs;K.optional(function(){function Pe(){X.assert(le,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Pe(ee+"&&typeof ",ee,'==="object"'),Pe('!("cmp" in ',ee,")||(",ee,".cmp in ",be,")")});var ke=le.def('"cmp" in ',ee,"?",be,"[",ee,".cmp]",":",Lr),Je=le.def(ee,".ref|0"),Ke=le.def('"mask" in ',ee,"?",ee,".mask|0:-1");return[ke,Je,Ke]});case vn:case _n:return ge(function(X){K.commandType(X,"object",ue,W.commandStr);var le=X.fail||"keep",ee=X.zfail||"keep",be=X.zpass||"keep";return K.commandParameter(le,Vs,pe+".fail",W.commandStr),K.commandParameter(ee,Vs,pe+".zfail",W.commandStr),K.commandParameter(be,Vs,pe+".zpass",W.commandStr),[pe===_n?cr:yr,Vs[le],Vs[ee],Vs[be]]},function(X,le,ee){var be=X.constants.stencilOps;K.optional(function(){X.assert(le,ee+"&&typeof "+ee+'==="object"',"invalid "+pe)});function ke(Je){return K.optional(function(){X.assert(le,'!("'+Je+'" in '+ee+")||("+ee+"."+Je+" in "+be+")","invalid "+pe+"."+Je+", must be one of "+Object.keys(Vs))}),le.def('"',Je,'" in ',ee,"?",be,"[",ee,".",Je,"]:",Lr)}return[pe===_n?cr:yr,ke("fail"),ke("zfail"),ke("zpass")]});case Nn:return ge(function(X){K.commandType(X,"object",ue,W.commandStr);var le=X.factor|0,ee=X.units|0;return K.commandType(le,"number",ue+".factor",W.commandStr),K.commandType(ee,"number",ue+".units",W.commandStr),[le,ee]},function(X,le,ee){K.optional(function(){X.assert(le,ee+"&&typeof "+ee+'==="object"',"invalid "+pe)});var be=le.def(ee,".factor|0"),ke=le.def(ee,".units|0");return[be,ke]});case Gi:return ge(function(X){var le=0;return X==="front"?le=yr:X==="back"&&(le=cr),K.command(!!le,ue,W.commandStr),le},function(X,le,ee){return K.optional(function(){X.assert(le,ee+'==="front"||'+ee+'==="back"',"invalid cull.face")}),le.def(ee,'==="front"?',yr,":",cr)});case ga:return ge(function(X){return K.command(typeof X=="number"&&X>=Oe.lineWidthDims[0]&&X<=Oe.lineWidthDims[1],"invalid line width, must be a positive number between "+Oe.lineWidthDims[0]+" and "+Oe.lineWidthDims[1],W.commandStr),X},function(X,le,ee){return K.optional(function(){X.assert(le,"typeof "+ee+'==="number"&&'+ee+">="+Oe.lineWidthDims[0]+"&&"+ee+"<="+Oe.lineWidthDims[1],"invalid line width")}),ee});case ya:return ge(function(X){return K.commandParameter(X,$u,ue,W.commandStr),$u[X]},function(X,le,ee){return K.optional(function(){X.assert(le,ee+'==="cw"||'+ee+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),le.def(ee+'==="cw"?'+qt+":"+br)});case Rr:return ge(function(X){return K.command($r(X)&&X.length===4,"color.mask must be length 4 array",W.commandStr),X.map(function(le){return!!le})},function(X,le,ee){return K.optional(function(){X.assert(le,X.shared.isArrayLike+"("+ee+")&&"+ee+".length===4","invalid color.mask")}),qr(4,function(be){return"!!"+ee+"["+be+"]"})});case In:return ge(function(X){K.command(typeof X=="object"&&X,ue,W.commandStr);var le="value"in X?X.value:1,ee=!!X.invert;return K.command(typeof le=="number"&&le>=0&&le<=1,"sample.coverage.value must be a number between 0 and 1",W.commandStr),[le,ee]},function(X,le,ee){K.optional(function(){X.assert(le,ee+"&&typeof "+ee+'==="object"',"invalid sample.coverage")});var be=le.def('"value" in ',ee,"?+",ee,".value:1"),ke=le.def("!!",ee,".invert");return[be,ke]})}}),Ae}function Zr(q,W){var fe=q.static,we=q.dynamic,Ae={};return Object.keys(fe).forEach(function(pe){var ue=fe[pe],ge;if(typeof ue=="number"||typeof ue=="boolean")ge=Dr(function(){return ue});else if(typeof ue=="function"){var X=ue._reglType;X==="texture2d"||X==="textureCube"?ge=Dr(function(le){return le.link(ue)}):X==="framebuffer"||X==="framebufferCube"?(K.command(ue.color.length>0,'missing color attachment for framebuffer sent to uniform "'+pe+'"',W.commandStr),ge=Dr(function(le){return le.link(ue.color[0])})):K.commandRaise('invalid data for uniform "'+pe+'"',W.commandStr)}else $r(ue)?ge=Dr(function(le){var ee=le.global.def("[",qr(ue.length,function(be){return K.command(typeof ue[be]=="number"||typeof ue[be]=="boolean","invalid uniform "+pe,le.commandStr),ue[be]}),"]");return ee}):K.commandRaise('invalid or missing data for uniform "'+pe+'"',W.commandStr);ge.value=ue,Ae[pe]=ge}),Object.keys(we).forEach(function(pe){var ue=we[pe];Ae[pe]=Ii(ue,function(ge,X){return ge.invoke(X,ue)})}),Ae}function Xt(q,W){var fe=q.static,we=q.dynamic,Ae={};return Object.keys(fe).forEach(function(pe){var ue=fe[pe],ge=V.id(pe),X=new Te;if(vu(ue))X.state=nn,X.buffer=Ge.getBuffer(Ge.create(ue,Dn,!1,!0)),X.type=0;else{var le=Ge.getBuffer(ue);if(le)X.state=nn,X.buffer=le,X.type=0;else if(K.command(typeof ue=="object"&&ue,"invalid data for attribute "+pe,W.commandStr),"constant"in ue){var ee=ue.constant;X.buffer="null",X.state=Js,typeof ee=="number"?X.x=ee:(K.command($r(ee)&&ee.length>0&&ee.length<=4,"invalid constant for attribute "+pe,W.commandStr),ci.forEach(function(Mt,Kt){Kt<ee.length&&(X[Mt]=ee[Kt])}))}else{vu(ue.buffer)?le=Ge.getBuffer(Ge.create(ue.buffer,Dn,!1,!0)):le=Ge.getBuffer(ue.buffer),K.command(!!le,'missing buffer for attribute "'+pe+'"',W.commandStr);var be=ue.offset|0;K.command(be>=0,'invalid offset for attribute "'+pe+'"',W.commandStr);var ke=ue.stride|0;K.command(ke>=0&&ke<256,'invalid stride for attribute "'+pe+'", must be integer betweeen [0, 255]',W.commandStr);var Je=ue.size|0;K.command(!("size"in ue)||Je>0&&Je<=4,'invalid size for attribute "'+pe+'", must be 1,2,3,4',W.commandStr);var Ke=!!ue.normalized,Pe=0;"type"in ue&&(K.commandParameter(ue.type,Ei,"invalid type for attribute "+pe,W.commandStr),Pe=Ei[ue.type]);var st=ue.divisor|0;"divisor"in ue&&(K.command(st===0||ot,'cannot specify divisor for attribute "'+pe+'", instancing not supported',W.commandStr),K.command(st>=0,'invalid divisor for attribute "'+pe+'"',W.commandStr)),K.optional(function(){var Mt=W.commandStr,Kt=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(ue).forEach(function(xt){K.command(Kt.indexOf(xt)>=0,'unknown parameter "'+xt+'" for attribute pointer "'+pe+'" (valid parameters are '+Kt+")",Mt)})}),X.buffer=le,X.state=nn,X.size=Je,X.normalized=Ke,X.type=Pe||le.dtype,X.offset=be,X.stride=ke,X.divisor=st}}Ae[pe]=Dr(function(Mt,Kt){var xt=Mt.attribCache;if(ge in xt)return xt[ge];var Rt={isStream:!1};return Object.keys(X).forEach(function(Jt){Rt[Jt]=X[Jt]}),X.buffer&&(Rt.buffer=Mt.link(X.buffer),Rt.type=Rt.type||Rt.buffer+".dtype"),xt[ge]=Rt,Rt})}),Object.keys(we).forEach(function(pe){var ue=we[pe];function ge(X,le){var ee=X.invoke(le,ue),be=X.shared,ke=X.constants,Je=be.isBufferArgs,Ke=be.buffer;K.optional(function(){X.assert(le,ee+"&&(typeof "+ee+'==="object"||typeof '+ee+'==="function")&&('+Je+"("+ee+")||"+Ke+".getBuffer("+ee+")||"+Ke+".getBuffer("+ee+".buffer)||"+Je+"("+ee+'.buffer)||("constant" in '+ee+"&&(typeof "+ee+'.constant==="number"||'+be.isArrayLike+"("+ee+".constant))))",'invalid dynamic attribute "'+pe+'"')});var Pe={isStream:le.def(!1)},st=new Te;st.state=nn,Object.keys(st).forEach(function(Rt){Pe[Rt]=le.def(""+st[Rt])});var Mt=Pe.buffer,Kt=Pe.type;le("if(",Je,"(",ee,")){",Pe.isStream,"=true;",Mt,"=",Ke,".createStream(",Dn,",",ee,");",Kt,"=",Mt,".dtype;","}else{",Mt,"=",Ke,".getBuffer(",ee,");","if(",Mt,"){",Kt,"=",Mt,".dtype;",'}else if("constant" in ',ee,"){",Pe.state,"=",Js,";","if(typeof "+ee+'.constant === "number"){',Pe[ci[0]],"=",ee,".constant;",ci.slice(1).map(function(Rt){return Pe[Rt]}).join("="),"=0;","}else{",ci.map(function(Rt,Jt){return Pe[Rt]+"="+ee+".constant.length>"+Jt+"?"+ee+".constant["+Jt+"]:0;"}).join(""),"}}else{","if(",Je,"(",ee,".buffer)){",Mt,"=",Ke,".createStream(",Dn,",",ee,".buffer);","}else{",Mt,"=",Ke,".getBuffer(",ee,".buffer);","}",Kt,'="type" in ',ee,"?",ke.glTypes,"[",ee,".type]:",Mt,".dtype;",Pe.normalized,"=!!",ee,".normalized;");function xt(Rt){le(Pe[Rt],"=",ee,".",Rt,"|0;")}return xt("size"),xt("offset"),xt("stride"),xt("divisor"),le("}}"),le.exit("if(",Pe.isStream,"){",Ke,".destroyStream(",Mt,");","}"),Pe}Ae[pe]=Ii(ue,ge)}),Ae}function Wr(q,W){var fe=q.static,we=q.dynamic;if(Kr in fe){var Ae=fe[Kr];return Ae!==null&&at.getVAO(Ae)===null&&(Ae=at.createVAO(Ae)),Dr(function(ue){return ue.link(at.getVAO(Ae))})}else if(Kr in we){var pe=we[Kr];return Ii(pe,function(ue,ge){var X=ue.invoke(ge,pe);return ge.def(ue.shared.vao+".getVAO("+X+")")})}return null}function Cr(q){var W=q.static,fe=q.dynamic,we={};return Object.keys(W).forEach(function(Ae){var pe=W[Ae];we[Ae]=Dr(function(ue,ge){return typeof pe=="number"||typeof pe=="boolean"?""+pe:ue.link(pe)})}),Object.keys(fe).forEach(function(Ae){var pe=fe[Ae];we[Ae]=Ii(pe,function(ue,ge){return ue.invoke(ge,pe)})}),we}function Jr(q,W,fe,we,Ae){var pe=q.static,ue=q.dynamic;K.optional(function(){var xt=[hi,ei,ir,Ki,Un,Pn,gi,_a,Bn,Kr].concat(Xe);function Rt(Jt){Object.keys(Jt).forEach(function(sr){K.command(xt.indexOf(sr)>=0,'unknown parameter "'+sr+'"',Ae.commandStr)})}Rt(pe),Rt(ue)});var ge=Dt(q,W),X=Tt(q),le=Vt(q,X,Ae),ee=nr(q,Ae),be=Fr(q,Ae),ke=Wt(q,Ae,ge);function Je(xt){var Rt=le[xt];Rt&&(be[xt]=Rt)}Je(Ni),Je(dt(va));var Ke=Object.keys(be).length>0,Pe={framebuffer:X,draw:ee,shader:ke,state:be,dirty:Ke,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Pe.profile=jt(q),Pe.uniforms=Zr(fe,Ae),Pe.drawVAO=Pe.scopeVAO=Wr(q),!Pe.drawVAO&&ke.program&&!ge&&ne.angle_instanced_arrays){var st=!0,Mt=ke.program.attributes.map(function(xt){var Rt=W.static[xt];return st=st&&!!Rt,Rt});if(st&&Mt.length>0){var Kt=at.getVAO(at.createVAO(Mt));Pe.drawVAO=new xi(null,null,null,function(xt,Rt){return xt.link(Kt)}),Pe.useVAO=!0}}return ge?Pe.useVAO=!0:Pe.attributes=Xt(W,Ae),Pe.context=Cr(we),Pe}function zr(q,W,fe){var we=q.shared,Ae=we.context,pe=q.scope();Object.keys(fe).forEach(function(ue){W.save(Ae,"."+ue);var ge=fe[ue],X=ge.append(q,W);Array.isArray(X)?pe(Ae,".",ue,"=[",X.join(),"];"):pe(Ae,".",ue,"=",X,";")}),W(pe)}function Vr(q,W,fe,we){var Ae=q.shared,pe=Ae.gl,ue=Ae.framebuffer,ge;vt&&(ge=W.def(Ae.extensions,".webgl_draw_buffers"));var X=q.constants,le=X.drawBuffer,ee=X.backBuffer,be;fe?be=fe.append(q,W):be=W.def(ue,".next"),we||W("if(",be,"!==",ue,".cur){"),W("if(",be,"){",pe,".bindFramebuffer(",Ou,",",be,".framebuffer);"),vt&&W(ge,".drawBuffersWEBGL(",le,"[",be,".colorAttachments.length]);"),W("}else{",pe,".bindFramebuffer(",Ou,",null);"),vt&&W(ge,".drawBuffersWEBGL(",ee,");"),W("}",ue,".cur=",be,";"),we||W("}")}function ti(q,W,fe){var we=q.shared,Ae=we.gl,pe=q.current,ue=q.next,ge=we.current,X=we.next,le=q.cond(ge,".dirty");Xe.forEach(function(ee){var be=dt(ee);if(!(be in fe.state)){var ke,Je;if(be in ue){ke=ue[be],Je=pe[be];var Ke=qr(He[be].length,function(st){return le.def(ke,"[",st,"]")});le(q.cond(Ke.map(function(st,Mt){return st+"!=="+Je+"["+Mt+"]"}).join("||")).then(Ae,".",Qe[be],"(",Ke,");",Ke.map(function(st,Mt){return Je+"["+Mt+"]="+st}).join(";"),";"))}else{ke=le.def(X,".",be);var Pe=q.cond(ke,"!==",ge,".",be);le(Pe),be in pt?Pe(q.cond(ke).then(Ae,".enable(",pt[be],");").else(Ae,".disable(",pt[be],");"),ge,".",be,"=",ke,";"):Pe(Ae,".",Qe[be],"(",ke,");",ge,".",be,"=",ke,";")}}}),Object.keys(fe.state).length===0&&le(ge,".dirty=false;"),W(le)}function oi(q,W,fe,we){var Ae=q.shared,pe=q.current,ue=Ae.current,ge=Ae.gl;Iu(Object.keys(fe)).forEach(function(X){var le=fe[X];if(!(we&&!we(le))){var ee=le.append(q,W);if(pt[X]){var be=pt[X];Hs(le)?ee?W(ge,".enable(",be,");"):W(ge,".disable(",be,");"):W(q.cond(ee).then(ge,".enable(",be,");").else(ge,".disable(",be,");")),W(ue,".",X,"=",ee,";")}else if($r(ee)){var ke=pe[X];W(ge,".",Qe[X],"(",ee,");",ee.map(function(Je,Ke){return ke+"["+Ke+"]="+Je}).join(";"),";")}else W(ge,".",Qe[X],"(",ee,");",ue,".",X,"=",ee,";")}})}function Ir(q,W){ot&&(q.instancing=W.def(q.shared.extensions,".angle_instanced_arrays"))}function Gt(q,W,fe,we,Ae){var pe=q.shared,ue=q.stats,ge=pe.current,X=pe.timer,le=fe.profile;function ee(){return typeof performance>"u"?"Date.now()":"performance.now()"}var be,ke;function Je(xt){be=W.def(),xt(be,"=",ee(),";"),typeof Ae=="string"?xt(ue,".count+=",Ae,";"):xt(ue,".count++;"),rt&&(we?(ke=W.def(),xt(ke,"=",X,".getNumPendingQueries();")):xt(X,".beginQuery(",ue,");"))}function Ke(xt){xt(ue,".cpuTime+=",ee(),"-",be,";"),rt&&(we?xt(X,".pushScopeStats(",ke,",",X,".getNumPendingQueries(),",ue,");"):xt(X,".endQuery();"))}function Pe(xt){var Rt=W.def(ge,".profile");W(ge,".profile=",xt,";"),W.exit(ge,".profile=",Rt,";")}var st;if(le){if(Hs(le)){le.enable?(Je(W),Ke(W.exit),Pe("true")):Pe("false");return}st=le.append(q,W),Pe(st)}else st=W.def(ge,".profile");var Mt=q.block();Je(Mt),W("if(",st,"){",Mt,"}");var Kt=q.block();Ke(Kt),W.exit("if(",st,"){",Kt,"}")}function ai(q,W,fe,we,Ae){var pe=q.shared;function ue(X){switch(X){case _:case B:case ye:return 2;case E:case j:case _e:return 3;case C:case Z:case We:return 4;default:return 1}}function ge(X,le,ee){var be=pe.gl,ke=W.def(X,".location"),Je=W.def(pe.attributes,"[",ke,"]"),Ke=ee.state,Pe=ee.buffer,st=[ee.x,ee.y,ee.z,ee.w],Mt=["buffer","normalized","offset","stride"];function Kt(){W("if(!",Je,".buffer){",be,".enableVertexAttribArray(",ke,");}");var Rt=ee.type,Jt;if(ee.size?Jt=W.def(ee.size,"||",le):Jt=le,W("if(",Je,".type!==",Rt,"||",Je,".size!==",Jt,"||",Mt.map(function(Nr){return Je+"."+Nr+"!=="+ee[Nr]}).join("||"),"){",be,".bindBuffer(",Dn,",",Pe,".buffer);",be,".vertexAttribPointer(",[ke,Jt,Rt,ee.normalized,ee.stride,ee.offset],");",Je,".type=",Rt,";",Je,".size=",Jt,";",Mt.map(function(Nr){return Je+"."+Nr+"="+ee[Nr]+";"}).join(""),"}"),ot){var sr=ee.divisor;W("if(",Je,".divisor!==",sr,"){",q.instancing,".vertexAttribDivisorANGLE(",[ke,sr],");",Je,".divisor=",sr,";}")}}function xt(){W("if(",Je,".buffer){",be,".disableVertexAttribArray(",ke,");",Je,".buffer=null;","}if(",ci.map(function(Rt,Jt){return Je+"."+Rt+"!=="+st[Jt]}).join("||"),"){",be,".vertexAttrib4f(",ke,",",st,");",ci.map(function(Rt,Jt){return Je+"."+Rt+"="+st[Jt]+";"}).join(""),"}")}Ke===nn?Kt():Ke===Js?xt():(W("if(",Ke,"===",nn,"){"),Kt(),W("}else{"),xt(),W("}"))}we.forEach(function(X){var le=X.name,ee=fe.attributes[le],be;if(ee){if(!Ae(ee))return;be=ee.append(q,W)}else{if(!Ae(Bu))return;var ke=q.scopeAttrib(le);K.optional(function(){q.assert(W,ke+".state","missing attribute "+le)}),be={},Object.keys(new Te).forEach(function(Je){be[Je]=W.def(ke,".",Je)})}ge(q.link(X),ue(X.info.type),be)})}function ur(q,W,fe,we,Ae){for(var pe=q.shared,ue=pe.gl,ge,X=0;X<we.length;++X){var le=we[X],ee=le.name,be=le.info.type,ke=fe.uniforms[ee],Je=q.link(le),Ke=Je+".location",Pe;if(ke){if(!Ae(ke))continue;if(Hs(ke)){var st=ke.value;if(K.command(st!==null&&typeof st<"u",'missing uniform "'+ee+'"',q.commandStr),be===kt||be===fr){K.command(typeof st=="function"&&(be===kt&&(st._reglType==="texture2d"||st._reglType==="framebuffer")||be===fr&&(st._reglType==="textureCube"||st._reglType==="framebufferCube")),"invalid texture for uniform "+ee,q.commandStr);var Mt=q.link(st._texture||st.color[0]._texture);W(ue,".uniform1i(",Ke,",",Mt+".bind());"),W.exit(Mt,".unbind();")}else if(be===bt||be===Lt||be===Ar){K.optional(function(){K.command($r(st),"invalid matrix for uniform "+ee,q.commandStr),K.command(be===bt&&st.length===4||be===Lt&&st.length===9||be===Ar&&st.length===16,"invalid length for matrix uniform "+ee,q.commandStr)});var Kt=q.global.def("new Float32Array(["+Array.prototype.slice.call(st)+"])"),xt=2;be===Lt?xt=3:be===Ar&&(xt=4),W(ue,".uniformMatrix",xt,"fv(",Ke,",false,",Kt,");")}else{switch(be){case c:K.commandType(st,"number","uniform "+ee,q.commandStr),ge="1f";break;case _:K.command($r(st)&&st.length===2,"uniform "+ee,q.commandStr),ge="2f";break;case E:K.command($r(st)&&st.length===3,"uniform "+ee,q.commandStr),ge="3f";break;case C:K.command($r(st)&&st.length===4,"uniform "+ee,q.commandStr),ge="4f";break;case ce:K.commandType(st,"boolean","uniform "+ee,q.commandStr),ge="1i";break;case k:K.commandType(st,"number","uniform "+ee,q.commandStr),ge="1i";break;case ye:K.command($r(st)&&st.length===2,"uniform "+ee,q.commandStr),ge="2i";break;case B:K.command($r(st)&&st.length===2,"uniform "+ee,q.commandStr),ge="2i";break;case _e:K.command($r(st)&&st.length===3,"uniform "+ee,q.commandStr),ge="3i";break;case j:K.command($r(st)&&st.length===3,"uniform "+ee,q.commandStr),ge="3i";break;case We:K.command($r(st)&&st.length===4,"uniform "+ee,q.commandStr),ge="4i";break;case Z:K.command($r(st)&&st.length===4,"uniform "+ee,q.commandStr),ge="4i";break}W(ue,".uniform",ge,"(",Ke,",",$r(st)?Array.prototype.slice.call(st):st,");")}continue}else Pe=ke.append(q,W)}else{if(!Ae(Bu))continue;Pe=W.def(pe.uniforms,"[",V.id(ee),"]")}be===kt?(K(!Array.isArray(Pe),"must specify a scalar prop for textures"),W("if(",Pe,"&&",Pe,'._reglType==="framebuffer"){',Pe,"=",Pe,".color[0];","}")):be===fr&&(K(!Array.isArray(Pe),"must specify a scalar prop for cube maps"),W("if(",Pe,"&&",Pe,'._reglType==="framebufferCube"){',Pe,"=",Pe,".color[0];","}")),K.optional(function(){function Ci(wn,Gu){q.assert(W,wn,'bad data or missing for uniform "'+ee+'".  '+Gu)}function Ru(wn){K(!Array.isArray(Pe),"must not specify an array type for uniform"),Ci("typeof "+Pe+'==="'+wn+'"',"invalid type, expected "+wn)}function ln(wn,Gu){Array.isArray(Pe)?K(Pe.length===wn,"must have length "+wn):Ci(pe.isArrayLike+"("+Pe+")&&"+Pe+".length==="+wn,"invalid vector, should have length "+wn,q.commandStr)}function ju(wn){K(!Array.isArray(Pe),"must not specify a value type"),Ci("typeof "+Pe+'==="function"&&'+Pe+'._reglType==="texture'+(wn===El?"2d":"Cube")+'"',"invalid texture type",q.commandStr)}switch(be){case k:Ru("number");break;case B:ln(2);break;case j:ln(3);break;case Z:ln(4);break;case c:Ru("number");break;case _:ln(2);break;case E:ln(3);break;case C:ln(4);break;case ce:Ru("boolean");break;case ye:ln(2);break;case _e:ln(3);break;case We:ln(4);break;case bt:ln(4);break;case Lt:ln(9);break;case Ar:ln(16);break;case kt:ju(El);break;case fr:ju(Sa);break}});var Rt=1;switch(be){case kt:case fr:var Jt=W.def(Pe,"._texture");W(ue,".uniform1i(",Ke,",",Jt,".bind());"),W.exit(Jt,".unbind();");continue;case k:case ce:ge="1i";break;case B:case ye:ge="2i",Rt=2;break;case j:case _e:ge="3i",Rt=3;break;case Z:case We:ge="4i",Rt=4;break;case c:ge="1f";break;case _:ge="2f",Rt=2;break;case E:ge="3f",Rt=3;break;case C:ge="4f",Rt=4;break;case bt:ge="Matrix2fv";break;case Lt:ge="Matrix3fv";break;case Ar:ge="Matrix4fv";break}if(W(ue,".uniform",ge,"(",Ke,","),ge.charAt(0)==="M"){var sr=Math.pow(be-bt+2,2),Nr=q.global.def("new Float32Array(",sr,")");Array.isArray(Pe)?W("false,(",qr(sr,function(Ci){return Nr+"["+Ci+"]="+Pe[Ci]}),",",Nr,")"):W("false,(Array.isArray(",Pe,")||",Pe," instanceof Float32Array)?",Pe,":(",qr(sr,function(Ci){return Nr+"["+Ci+"]="+Pe+"["+Ci+"]"}),",",Nr,")")}else Rt>1?W(qr(Rt,function(Ci){return Array.isArray(Pe)?Pe[Ci]:Pe+"["+Ci+"]"})):(K(!Array.isArray(Pe),"uniform value must not be an array"),W(Pe));W(");")}}function $t(q,W,fe,we){var Ae=q.shared,pe=Ae.gl,ue=Ae.draw,ge=we.draw;function X(){var Jt=ge.elements,sr,Nr=W;return Jt?((Jt.contextDep&&we.contextDynamic||Jt.propDep)&&(Nr=fe),sr=Jt.append(q,Nr)):sr=Nr.def(ue,".",Ki),sr&&Nr("if("+sr+")"+pe+".bindBuffer("+Mo+","+sr+".buffer.buffer);"),sr}function le(){var Jt=ge.count,sr,Nr=W;return Jt?((Jt.contextDep&&we.contextDynamic||Jt.propDep)&&(Nr=fe),sr=Jt.append(q,Nr),K.optional(function(){Jt.MISSING&&q.assert(W,"false","missing vertex count"),Jt.DYNAMIC&&q.assert(Nr,sr+">=0","missing vertex count")})):(sr=Nr.def(ue,".",gi),K.optional(function(){q.assert(Nr,sr+">=0","missing vertex count")})),sr}var ee=X();function be(Jt){var sr=ge[Jt];return sr?sr.contextDep&&we.contextDynamic||sr.propDep?sr.append(q,fe):sr.append(q,W):W.def(ue,".",Jt)}var ke=be(Un),Je=be(Pn),Ke=le();if(typeof Ke=="number"){if(Ke===0)return}else fe("if(",Ke,"){"),fe.exit("}");var Pe,st;ot&&(Pe=be(_a),st=q.instancing);var Mt=ee+".type",Kt=ge.elements&&Hs(ge.elements);function xt(){function Jt(){fe(st,".drawElementsInstancedANGLE(",[ke,Ke,Mt,Je+"<<(("+Mt+"-"+fa+")>>1)",Pe],");")}function sr(){fe(st,".drawArraysInstancedANGLE(",[ke,Je,Ke,Pe],");")}ee?Kt?Jt():(fe("if(",ee,"){"),Jt(),fe("}else{"),sr(),fe("}")):sr()}function Rt(){function Jt(){fe(pe+".drawElements("+[ke,Ke,Mt,Je+"<<(("+Mt+"-"+fa+")>>1)"]+");")}function sr(){fe(pe+".drawArrays("+[ke,Je,Ke]+");")}ee?Kt?Jt():(fe("if(",ee,"){"),Jt(),fe("}else{"),sr(),fe("}")):sr()}ot&&(typeof Pe!="number"||Pe>=0)?typeof Pe=="string"?(fe("if(",Pe,">0){"),xt(),fe("}else if(",Pe,"<0){"),Rt(),fe("}")):xt():Rt()}function Qt(q,W,fe,we,Ae){var pe=Ot(),ue=pe.proc("body",Ae);return K.optional(function(){pe.commandStr=W.commandStr,pe.command=pe.link(W.commandStr)}),ot&&(pe.instancing=ue.def(pe.shared.extensions,".angle_instanced_arrays")),q(pe,ue,fe,we),pe.compile().body}function tr(q,W,fe,we){Ir(q,W),fe.useVAO?fe.drawVAO?W(q.shared.vao,".setVAO(",fe.drawVAO.append(q,W),");"):W(q.shared.vao,".setVAO(",q.shared.vao,".targetVAO);"):(W(q.shared.vao,".setVAO(null);"),ai(q,W,fe,we.attributes,function(){return!0})),ur(q,W,fe,we.uniforms,function(){return!0}),$t(q,W,W,fe)}function Br(q,W){var fe=q.proc("draw",1);Ir(q,fe),zr(q,fe,W.context),Vr(q,fe,W.framebuffer),ti(q,fe,W),oi(q,fe,W.state),Gt(q,fe,W,!1,!0);var we=W.shader.progVar.append(q,fe);if(fe(q.shared.gl,".useProgram(",we,".program);"),W.shader.program)tr(q,fe,W,W.shader.program);else{fe(q.shared.vao,".setVAO(null);");var Ae=q.global.def("{}"),pe=fe.def(we,".id"),ue=fe.def(Ae,"[",pe,"]");fe(q.cond(ue).then(ue,".call(this,a0);").else(ue,"=",Ae,"[",pe,"]=",q.link(function(ge){return Qt(tr,q,W,ge,1)}),"(",we,");",ue,".call(this,a0);"))}Object.keys(W.state).length>0&&fe(q.shared.current,".dirty=true;")}function Gn(q,W,fe,we){q.batchId="a1",Ir(q,W);function Ae(){return!0}ai(q,W,fe,we.attributes,Ae),ur(q,W,fe,we.uniforms,Ae),$t(q,W,W,fe)}function $o(q,W,fe,we){Ir(q,W);var Ae=fe.contextDep,pe=W.def(),ue="a0",ge="a1",X=W.def();q.shared.props=X,q.batchId=pe;var le=q.scope(),ee=q.scope();W(le.entry,"for(",pe,"=0;",pe,"<",ge,";++",pe,"){",X,"=",ue,"[",pe,"];",ee,"}",le.exit);function be(Mt){return Mt.contextDep&&Ae||Mt.propDep}function ke(Mt){return!be(Mt)}if(fe.needsContext&&zr(q,ee,fe.context),fe.needsFramebuffer&&Vr(q,ee,fe.framebuffer),oi(q,ee,fe.state,be),fe.profile&&be(fe.profile)&&Gt(q,ee,fe,!1,!0),we)fe.useVAO?fe.drawVAO?be(fe.drawVAO)?ee(q.shared.vao,".setVAO(",fe.drawVAO.append(q,ee),");"):le(q.shared.vao,".setVAO(",fe.drawVAO.append(q,le),");"):le(q.shared.vao,".setVAO(",q.shared.vao,".targetVAO);"):(le(q.shared.vao,".setVAO(null);"),ai(q,le,fe,we.attributes,ke),ai(q,ee,fe,we.attributes,be)),ur(q,le,fe,we.uniforms,ke),ur(q,ee,fe,we.uniforms,be),$t(q,le,ee,fe);else{var Je=q.global.def("{}"),Ke=fe.shader.progVar.append(q,ee),Pe=ee.def(Ke,".id"),st=ee.def(Je,"[",Pe,"]");ee(q.shared.gl,".useProgram(",Ke,".program);","if(!",st,"){",st,"=",Je,"[",Pe,"]=",q.link(function(Mt){return Qt(Gn,q,fe,Mt,2)}),"(",Ke,");}",st,".call(this,a0[",pe,"],",pe,");")}}function te(q,W){var fe=q.proc("batch",2);q.batchId="0",Ir(q,fe);var we=!1,Ae=!0;Object.keys(W.context).forEach(function(Je){we=we||W.context[Je].propDep}),we||(zr(q,fe,W.context),Ae=!1);var pe=W.framebuffer,ue=!1;pe?(pe.propDep?we=ue=!0:pe.contextDep&&we&&(ue=!0),ue||Vr(q,fe,pe)):Vr(q,fe,null),W.state.viewport&&W.state.viewport.propDep&&(we=!0);function ge(Je){return Je.contextDep&&we||Je.propDep}ti(q,fe,W),oi(q,fe,W.state,function(Je){return!ge(Je)}),(!W.profile||!ge(W.profile))&&Gt(q,fe,W,!1,"a1"),W.contextDep=we,W.needsContext=Ae,W.needsFramebuffer=ue;var X=W.shader.progVar;if(X.contextDep&&we||X.propDep)$o(q,fe,W,null);else{var le=X.append(q,fe);if(fe(q.shared.gl,".useProgram(",le,".program);"),W.shader.program)$o(q,fe,W,W.shader.program);else{fe(q.shared.vao,".setVAO(null);");var ee=q.global.def("{}"),be=fe.def(le,".id"),ke=fe.def(ee,"[",be,"]");fe(q.cond(ke).then(ke,".call(this,a0,a1);").else(ke,"=",ee,"[",be,"]=",q.link(function(Je){return Qt($o,q,W,Je,2)}),"(",le,");",ke,".call(this,a0,a1);"))}}Object.keys(W.state).length>0&&fe(q.shared.current,".dirty=true;")}function Le(q,W){var fe=q.proc("scope",3);q.batchId="a2";var we=q.shared,Ae=we.current;zr(q,fe,W.context),W.framebuffer&&W.framebuffer.append(q,fe),Iu(Object.keys(W.state)).forEach(function(ue){var ge=W.state[ue],X=ge.append(q,fe);$r(X)?X.forEach(function(le,ee){fe.set(q.next[ue],"["+ee+"]",le)}):fe.set(we.next,"."+ue,X)}),Gt(q,fe,W,!0,!0),[Ki,Pn,gi,_a,Un].forEach(function(ue){var ge=W.draw[ue];ge&&fe.set(we.draw,"."+ue,""+ge.append(q,fe))}),Object.keys(W.uniforms).forEach(function(ue){var ge=W.uniforms[ue].append(q,fe);Array.isArray(ge)&&(ge="["+ge.join()+"]"),fe.set(we.uniforms,"["+V.id(ue)+"]",ge)}),Object.keys(W.attributes).forEach(function(ue){var ge=W.attributes[ue].append(q,fe),X=q.scopeAttrib(ue);Object.keys(new Te).forEach(function(le){fe.set(X,"."+le,ge[le])})}),W.scopeVAO&&fe.set(we.vao,".targetVAO",W.scopeVAO.append(q,fe));function pe(ue){var ge=W.shader[ue];ge&&fe.set(we.shader,"."+ue,ge.append(q,fe))}pe(ei),pe(ir),Object.keys(W.state).length>0&&(fe(Ae,".dirty=true;"),fe.exit(Ae,".dirty=true;")),fe("a1(",q.shared.context,",a0,",q.batchId,");")}function $e(q){if(!(typeof q!="object"||$r(q))){for(var W=Object.keys(q),fe=0;fe<W.length;++fe)if(Zt.isDynamic(q[W[fe]]))return!0;return!1}}function St(q,W,fe){var we=W.static[fe];if(!we||!$e(we))return;var Ae=q.global,pe=Object.keys(we),ue=!1,ge=!1,X=!1,le=q.global.def("{}");pe.forEach(function(be){var ke=we[be];if(Zt.isDynamic(ke)){typeof ke=="function"&&(ke=we[be]=Zt.unbox(ke));var Je=Ii(ke,null);ue=ue||Je.thisDep,X=X||Je.propDep,ge=ge||Je.contextDep}else{switch(Ae(le,".",be,"="),typeof ke){case"number":Ae(ke);break;case"string":Ae('"',ke,'"');break;case"object":Array.isArray(ke)&&Ae("[",ke.join(),"]");break;default:Ae(q.link(ke));break}Ae(";")}});function ee(be,ke){pe.forEach(function(Je){var Ke=we[Je];if(Zt.isDynamic(Ke)){var Pe=be.invoke(ke,Ke);ke(le,".",Je,"=",Pe,";")}})}W.dynamic[fe]=new Zt.DynamicVariable(hs,{thisDep:ue,contextDep:ge,propDep:X,ref:le,append:ee}),delete W.static[fe]}function Ht(q,W,fe,we,Ae){var pe=Ot();pe.stats=pe.link(Ae),Object.keys(W.static).forEach(function(ge){St(pe,W,ge)}),bl.forEach(function(ge){St(pe,q,ge)});var ue=Jr(q,W,fe,we,pe);return Br(pe,ue),Le(pe,ue),te(pe,ue),o(pe.compile(),{destroy:function(){ue.shader.program.destroy()}})}return{next:Et,current:He,procs:function(){var q=Ot(),W=q.proc("poll"),fe=q.proc("refresh"),we=q.block();W(we),fe(we);var Ae=q.shared,pe=Ae.gl,ue=Ae.next,ge=Ae.current;we(ge,".dirty=false;"),Vr(q,W),Vr(q,fe,null,!0);var X;ot&&(X=q.link(ot)),ne.oes_vertex_array_object&&fe(q.link(ne.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var le=0;le<Oe.maxAttributes;++le){var ee=fe.def(Ae.attributes,"[",le,"]"),be=q.cond(ee,".buffer");be.then(pe,".enableVertexAttribArray(",le,");",pe,".bindBuffer(",Dn,",",ee,".buffer.buffer);",pe,".vertexAttribPointer(",le,",",ee,".size,",ee,".type,",ee,".normalized,",ee,".stride,",ee,".offset);").else(pe,".disableVertexAttribArray(",le,");",pe,".vertexAttrib4f(",le,",",ee,".x,",ee,".y,",ee,".z,",ee,".w);",ee,".buffer=null;"),fe(be),ot&&fe(X,".vertexAttribDivisorANGLE(",le,",",ee,".divisor);")}return fe(q.shared.vao,".currentVAO=null;",q.shared.vao,".setVAO(",q.shared.vao,".targetVAO);"),Object.keys(pt).forEach(function(ke){var Je=pt[ke],Ke=we.def(ue,".",ke),Pe=q.block();Pe("if(",Ke,"){",pe,".enable(",Je,")}else{",pe,".disable(",Je,")}",ge,".",ke,"=",Ke,";"),fe(Pe),W("if(",Ke,"!==",ge,".",ke,"){",Pe,"}")}),Object.keys(Qe).forEach(function(ke){var Je=Qe[ke],Ke=He[ke],Pe,st,Mt=q.block();if(Mt(pe,".",Je,"("),$r(Ke)){var Kt=Ke.length;Pe=q.global.def(ue,".",ke),st=q.global.def(ge,".",ke),Mt(qr(Kt,function(xt){return Pe+"["+xt+"]"}),");",qr(Kt,function(xt){return st+"["+xt+"]="+Pe+"["+xt+"];"}).join("")),W("if(",qr(Kt,function(xt){return Pe+"["+xt+"]!=="+st+"["+xt+"]"}).join("||"),"){",Mt,"}")}else Pe=we.def(ue,".",ke),st=we.def(ge,".",ke),Mt(Pe,");",ge,".",ke,"=",Pe,";"),W("if(",Pe,"!==",st,"){",Mt,"}");fe(Mt)}),q.compile()}(),compile:Ht}}function zu(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Vu=34918,Hu=34919,Uu=35007,Qu=function(N,V){if(!V.ext_disjoint_timer_query)return null;var ne=[];function Oe(){return ne.pop()||V.ext_disjoint_timer_query.createQueryEXT()}function Ge(ot){ne.push(ot)}var Re=[];function Ne(ot){var vt=Oe();V.ext_disjoint_timer_query.beginQueryEXT(Uu,vt),Re.push(vt),rt(Re.length-1,Re.length,ot)}function tt(){V.ext_disjoint_timer_query.endQueryEXT(Uu)}function it(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var at=[];function nt(){return at.pop()||new it}function ct(ot){at.push(ot)}var mt=[];function rt(ot,vt,He){var Et=nt();Et.startQueryIndex=ot,Et.endQueryIndex=vt,Et.sum=0,Et.stats=He,mt.push(Et)}var ht=[],Te=[];function Ie(){var ot,vt,He=Re.length;if(He!==0){Te.length=Math.max(Te.length,He+1),ht.length=Math.max(ht.length,He+1),ht[0]=0,Te[0]=0;var Et=0;for(ot=0,vt=0;vt<Re.length;++vt){var Xe=Re[vt];V.ext_disjoint_timer_query.getQueryObjectEXT(Xe,Hu)?(Et+=V.ext_disjoint_timer_query.getQueryObjectEXT(Xe,Vu),Ge(Xe)):Re[ot++]=Xe,ht[vt+1]=Et,Te[vt+1]=ot}for(Re.length=ot,ot=0,vt=0;vt<mt.length;++vt){var pt=mt[vt],Qe=pt.startQueryIndex,dt=pt.endQueryIndex;pt.sum+=ht[dt]-ht[Qe];var At=Te[Qe],Bt=Te[dt];Bt===At?(pt.stats.gpuTime+=pt.sum/1e6,ct(pt)):(pt.startQueryIndex=At,pt.endQueryIndex=Bt,mt[ot++]=pt)}mt.length=ot}}return{beginQuery:Ne,endQuery:tt,pushScopeStats:rt,update:Ie,getNumPendingQueries:function(){return Re.length},clear:function(){ne.push.apply(ne,Re);for(var ot=0;ot<ne.length;ot++)V.ext_disjoint_timer_query.deleteQueryEXT(ne[ot]);Re.length=0,ne.length=0},restore:function(){Re.length=0,ne.length=0}}},Yu=16384,Xu=256,Zu=1024,qu=34962,Pu="webglcontextlost",Du="webglcontextrestored",Fu=1,ef=2,tf=3;function Ju(N,V){for(var ne=0;ne<N.length;++ne)if(N[ne]===V)return ne;return-1}function rf(N){var V=Lo(N);if(!V)return null;var ne=V.gl,Oe=ne.getContextAttributes(),Ge=ne.isContextLost(),Re=Hi(ne,V);if(!Re)return null;var Ne=dr(),tt=zu(),it=Re.extensions,at=Qu(ne,it),nt=ar(),ct=ne.drawingBufferWidth,mt=ne.drawingBufferHeight,rt={tick:0,time:0,viewportWidth:ct,viewportHeight:mt,framebufferWidth:ct,framebufferHeight:mt,drawingBufferWidth:ct,drawingBufferHeight:mt,pixelRatio:V.pixelRatio},ht={},Te={elements:null,primitive:4,count:-1,offset:0,instances:-1},Ie=Ml(ne,it),ot=Da(ne,tt,V,He),vt=bo(ne,it,Ie,tt,ot);function He($t){return vt.destroyBuffer($t)}var Et=yi(ne,it,ot,tt),Xe=Au(ne,Ne,tt,V),pt=vo(ne,it,Ie,function(){At.procs.poll()},rt,tt,V),Qe=Su(ne,it,Ie,tt,V),dt=ji(ne,it,Ie,pt,Qe,tt),At=Wu(ne,Ne,it,Ie,ot,Et,pt,dt,ht,vt,Xe,Te,rt,at,V),Bt=To(ne,dt,At.procs.poll,rt,Oe,it,Ie),yt=At.next,lt=ne.canvas,ze=[],Ot=[],jt=[],Tt=[V.onDestroy],Vt=null;function Dt(){if(ze.length===0){at&&at.update(),Vt=null;return}Vt=gr.next(Dt),oi();for(var $t=ze.length-1;$t>=0;--$t){var Qt=ze[$t];Qt&&Qt(rt,null,0)}ne.flush(),at&&at.update()}function Wt(){!Vt&&ze.length>0&&(Vt=gr.next(Dt))}function nr(){Vt&&(gr.cancel(Dt),Vt=null)}function Fr($t){$t.preventDefault(),Ge=!0,nr(),Ot.forEach(function(Qt){Qt()})}function Zr($t){ne.getError(),Ge=!1,Re.restore(),Xe.restore(),ot.restore(),pt.restore(),Qe.restore(),dt.restore(),vt.restore(),at&&at.restore(),At.procs.refresh(),Wt(),jt.forEach(function(Qt){Qt()})}lt&&(lt.addEventListener(Pu,Fr,!1),lt.addEventListener(Du,Zr,!1));function Xt(){ze.length=0,nr(),lt&&(lt.removeEventListener(Pu,Fr),lt.removeEventListener(Du,Zr)),Xe.clear(),dt.clear(),Qe.clear(),pt.clear(),Et.clear(),ot.clear(),vt.clear(),at&&at.clear(),Tt.forEach(function($t){$t()})}function Wr($t){K(!!$t,"invalid args to regl({...})"),K.type($t,"object","invalid args to regl({...})");function Qt(Ae){var pe=o({},Ae);delete pe.uniforms,delete pe.attributes,delete pe.context,delete pe.vao,"stencil"in pe&&pe.stencil.op&&(pe.stencil.opBack=pe.stencil.opFront=pe.stencil.op,delete pe.stencil.op);function ue(ge){if(ge in pe){var X=pe[ge];delete pe[ge],Object.keys(X).forEach(function(le){pe[ge+"."+le]=X[le]})}}return ue("blend"),ue("depth"),ue("cull"),ue("stencil"),ue("polygonOffset"),ue("scissor"),ue("sample"),"vao"in Ae&&(pe.vao=Ae.vao),pe}function tr(Ae,pe){var ue={},ge={};return Object.keys(Ae).forEach(function(X){var le=Ae[X];if(Zt.isDynamic(le)){ge[X]=Zt.unbox(le,X);return}else if(pe&&Array.isArray(le)){for(var ee=0;ee<le.length;++ee)if(Zt.isDynamic(le[ee])){ge[X]=Zt.unbox(le,X);return}}ue[X]=le}),{dynamic:ge,static:ue}}var Br=tr($t.context||{},!0),Gn=tr($t.uniforms||{},!0),$o=tr($t.attributes||{},!1),te=tr(Qt($t),!1),Le={gpuTime:0,cpuTime:0,count:0},$e=At.compile(te,$o,Gn,Br,Le),St=$e.draw,Ht=$e.batch,q=$e.scope,W=[];function fe(Ae){for(;W.length<Ae;)W.push(null);return W}function we(Ae,pe){var ue;if(Ge&&K.raise("context lost"),typeof Ae=="function")return q.call(this,null,Ae,0);if(typeof pe=="function")if(typeof Ae=="number")for(ue=0;ue<Ae;++ue)q.call(this,null,pe,ue);else if(Array.isArray(Ae))for(ue=0;ue<Ae.length;++ue)q.call(this,Ae[ue],pe,ue);else return q.call(this,Ae,pe,0);else if(typeof Ae=="number"){if(Ae>0)return Ht.call(this,fe(Ae|0),Ae|0)}else if(Array.isArray(Ae)){if(Ae.length)return Ht.call(this,Ae,Ae.length)}else return St.call(this,Ae)}return o(we,{stats:Le,destroy:function(){$e.destroy()}})}var Cr=dt.setFBO=Wr({framebuffer:Zt.define.call(null,Fu,"framebuffer")});function Jr($t,Qt){var tr=0;At.procs.poll();var Br=Qt.color;Br&&(ne.clearColor(+Br[0]||0,+Br[1]||0,+Br[2]||0,+Br[3]||0),tr|=Yu),"depth"in Qt&&(ne.clearDepth(+Qt.depth),tr|=Xu),"stencil"in Qt&&(ne.clearStencil(Qt.stencil|0),tr|=Zu),K(!!tr,"called regl.clear with no buffer specified"),ne.clear(tr)}function zr($t){if(K(typeof $t=="object"&&$t,"regl.clear() takes an object as input"),"framebuffer"in $t)if($t.framebuffer&&$t.framebuffer_reglType==="framebufferCube")for(var Qt=0;Qt<6;++Qt)Cr(o({framebuffer:$t.framebuffer.faces[Qt]},$t),Jr);else Cr($t,Jr);else Jr(null,$t)}function Vr($t){K.type($t,"function","regl.frame() callback must be a function"),ze.push($t);function Qt(){var tr=Ju(ze,$t);K(tr>=0,"cannot cancel a frame twice");function Br(){var Gn=Ju(ze,Br);ze[Gn]=ze[ze.length-1],ze.length-=1,ze.length<=0&&nr()}ze[tr]=Br}return Wt(),{cancel:Qt}}function ti(){var $t=yt.viewport,Qt=yt.scissor_box;$t[0]=$t[1]=Qt[0]=Qt[1]=0,rt.viewportWidth=rt.framebufferWidth=rt.drawingBufferWidth=$t[2]=Qt[2]=ne.drawingBufferWidth,rt.viewportHeight=rt.framebufferHeight=rt.drawingBufferHeight=$t[3]=Qt[3]=ne.drawingBufferHeight}function oi(){rt.tick+=1,rt.time=Gt(),ti(),At.procs.poll()}function Ir(){pt.refresh(),ti(),At.procs.refresh(),at&&at.update()}function Gt(){return(ar()-nt)/1e3}Ir();function ai($t,Qt){K.type(Qt,"function","listener callback must be a function");var tr;switch($t){case"frame":return Vr(Qt);case"lost":tr=Ot;break;case"restore":tr=jt;break;case"destroy":tr=Tt;break;default:K.raise("invalid event, must be one of frame,lost,restore,destroy")}return tr.push(Qt),{cancel:function(){for(var Br=0;Br<tr.length;++Br)if(tr[Br]===Qt){tr[Br]=tr[tr.length-1],tr.pop();return}}}}var ur=o(Wr,{clear:zr,prop:Zt.define.bind(null,Fu),context:Zt.define.bind(null,ef),this:Zt.define.bind(null,tf),draw:Wr({}),buffer:function($t){return ot.create($t,qu,!1,!1)},elements:function($t){return Et.create($t,!1)},texture:pt.create2D,cube:pt.createCube,renderbuffer:Qe.create,framebuffer:dt.create,framebufferCube:dt.createCube,vao:vt.createVAO,attributes:Oe,frame:Vr,on:ai,limits:Ie,hasExtension:function($t){return Ie.extensions.indexOf($t.toLowerCase())>=0},read:Bt,destroy:Xt,_gl:ne,_refresh:Ir,poll:function(){oi(),at&&at.update()},now:Gt,stats:tt});return V.onDone(null,ur),ur}return rf})})(regl$1);var reglExports=regl$1.exports;const regl=getDefaultExportFromCjs(reglExports),Mouse=mouseListen();class HydraRenderer{constructor({pb:t=null,width:r=1280,height:o=720,numSources:u=4,numOutputs:f=4,makeGlobal:g=!0,autoLoop:b=!0,detectAudio:S=!0,enableStreamCapture:T=!0,canvas:$,precision:A,extendTransforms:M={}}={}){if(ArrayUtils.init(),this.pb=t,this.width=r,this.height=o,this.renderAll=!1,this.detectAudio=S,this._initCanvas($),globalThis.window.test="hi",this.synth={time:0,bpm:30,width:this.width,height:this.height,fps:void 0,stats:{fps:0},speed:1,mouse:Mouse,render:this._render.bind(this),setResolution:this.setResolution.bind(this),update:D=>{},hush:this.hush.bind(this),tick:this.tick.bind(this)},g&&(window.loadScript=this.loadScript),this.timeSinceLastUpdate=0,this._time=0,A&&["lowp","mediump","highp"].includes(A.toLowerCase()))this.precision=A.toLowerCase();else{let D=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;this.precision=D?"highp":"mediump"}if(this.extendTransforms=M,this.saveFrame=!1,this.captureStream=null,this.generator=void 0,this._initRegl(),this._initOutputs(f),this._initSources(u),this._generateGlslTransforms(),this.synth.screencap=()=>{this.saveFrame=!0},T)try{this.captureStream=this.canvas.captureStream(25),this.synth.vidRecorder=new VideoRecorder(this.captureStream)}catch(D){console.warn(`[hydra-synth warning]
new MediaSource() is not currently supported on iOS.`),console.error(D)}S&&this._initAudio(),b&&loop(this.tick.bind(this)).start(),this.sandbox=new EvalSandbox(this.synth,g,["speed","update","bpm","fps"])}eval(t){this.sandbox.eval(t)}getScreenImage(t){this.imageCallback=t,this.saveFrame=!0}hush(){this.s.forEach(t=>{t.clear()}),this.o.forEach(t=>{this.synth.solid(0,0,0,0).out(t)}),this.synth.render(this.o[0]),this.sandbox.set("update",t=>{})}loadScript(t=""){return new Promise((o,u)=>{var f=document.createElement("script");f.onload=function(){console.log(`loaded script ${t}`),o()},f.onerror=g=>{console.log(`error loading script ${t}`,"log-error"),o()},f.src=t,document.head.appendChild(f)})}setResolution(t,r){this.canvas.width=t,this.canvas.height=r,this.width=t,this.height=r,this.sandbox.set("width",t),this.sandbox.set("height",r),console.log(this.width),this.o.forEach(o=>{o.resize(t,r)}),this.s.forEach(o=>{o.resize(t,r)}),this.regl._refresh(),console.log(this.canvas.width)}canvasToImage(t){const r=document.createElement("a");r.style.display="none";let o=new Date;r.download=`hydra-${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}-${o.getHours()}.${o.getMinutes()}.${o.getSeconds()}.png`,document.body.appendChild(r);var u=this;this.canvas.toBlob(f=>{u.imageCallback?(u.imageCallback(f),delete u.imageCallback):(r.href=URL.createObjectURL(f),console.log(r.href),r.click())},"image/png"),setTimeout(()=>{document.body.removeChild(r),window.URL.revokeObjectURL(r.href)},300)}_initAudio(){this.synth.a=new Audio({numBins:4,parentEl:this.canvas.parentNode})}_initCanvas(t){t?(this.canvas=t,this.width=t.width,this.height=t.height):(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.imageRendering="pixelated",document.body.appendChild(this.canvas))}_initRegl(){this.regl=regl({canvas:this.canvas,pixelRatio:1}),this.regl.clear({color:[0,0,0,1]}),this.renderAll=this.regl({frag:`
      precision ${this.precision} float;
      varying vec2 uv;
      uniform sampler2D tex0;
      uniform sampler2D tex1;
      uniform sampler2D tex2;
      uniform sampler2D tex3;

      void main () {
        vec2 st = vec2(1.0 - uv.x, uv.y);
        st*= vec2(2);
        vec2 q = floor(st).xy*(vec2(2.0, 1.0));
        int quad = int(q.x) + int(q.y);
        st.x += step(1., mod(st.y,2.0));
        st.y += step(1., mod(st.x,2.0));
        st = fract(st);
        if(quad==0){
          gl_FragColor = texture2D(tex0, st);
        } else if(quad==1){
          gl_FragColor = texture2D(tex1, st);
        } else if (quad==2){
          gl_FragColor = texture2D(tex2, st);
        } else {
          gl_FragColor = texture2D(tex3, st);
        }

      }
      `,vert:`
      precision ${this.precision} float;
      attribute vec2 position;
      varying vec2 uv;

      void main () {
        uv = position;
        gl_Position = vec4(1.0 - 2.0 * position, 0, 1);
      }`,attributes:{position:[[-2,0],[0,-2],[2,2]]},uniforms:{tex0:this.regl.prop("tex0"),tex1:this.regl.prop("tex1"),tex2:this.regl.prop("tex2"),tex3:this.regl.prop("tex3")},count:3,depth:{enable:!1}}),this.renderFbo=this.regl({frag:`
      precision ${this.precision} float;
      varying vec2 uv;
      uniform vec2 resolution;
      uniform sampler2D tex0;

      void main () {
        gl_FragColor = texture2D(tex0, vec2(1.0 - uv.x, uv.y));
      }
      `,vert:`
      precision ${this.precision} float;
      attribute vec2 position;
      varying vec2 uv;

      void main () {
        uv = position;
        gl_Position = vec4(1.0 - 2.0 * position, 0, 1);
      }`,attributes:{position:[[-2,0],[0,-2],[2,2]]},uniforms:{tex0:this.regl.prop("tex0"),resolution:this.regl.prop("resolution")},count:3,depth:{enable:!1}})}_initOutputs(t){const r=this;this.o=Array(t).fill().map((o,u)=>{var f=new Output$4({regl:this.regl,width:this.width,height:this.height,precision:this.precision,label:`o${u}`});return f.id=u,r.synth["o"+u]=f,f}),this.output=this.o[0]}_initSources(t){this.s=[];for(var r=0;r<t;r++)this.createSource(r)}createSource(t){let r=new HydraSource({regl:this.regl,pb:this.pb,width:this.width,height:this.height,label:`s${t}`});return this.synth["s"+this.s.length]=r,this.s.push(r),r}_generateGlslTransforms(){var t=this;this.generator=new GeneratorFactory({defaultOutput:this.o[0],defaultUniforms:this.o[0].uniforms,extendTransforms:this.extendTransforms,changeListener:({type:r,method:o,synth:u})=>{r==="add"&&(t.synth[o]=u.generators[o],t.sandbox&&t.sandbox.add(o))}}),this.synth.setFunction=this.generator.setFunction.bind(this.generator)}_render(t){t?(this.output=t,this.isRenderingAll=!1):this.isRenderingAll=!0}tick(t,r){if(this.sandbox.tick(),this.detectAudio===!0&&this.synth.a.tick(),this.sandbox.set("time",this.synth.time+=t*.001*this.synth.speed),this.timeSinceLastUpdate+=t,!this.synth.fps||this.timeSinceLastUpdate>=1e3/this.synth.fps){if(this.synth.stats.fps=Math.ceil(1e3/this.timeSinceLastUpdate),this.synth.update)try{this.synth.update(this.timeSinceLastUpdate)}catch(o){console.log(o)}for(let o=0;o<this.s.length;o++)this.s[o].tick(this.synth.time);for(let o=0;o<this.o.length;o++)this.o[o].tick({time:this.synth.time,mouse:this.synth.mouse,bpm:this.synth.bpm,resolution:[this.canvas.width,this.canvas.height]});this.isRenderingAll?this.renderAll({tex0:this.o[0].getCurrent(),tex1:this.o[1].getCurrent(),tex2:this.o[2].getCurrent(),tex3:this.o[3].getCurrent(),resolution:[this.canvas.width,this.canvas.height]}):this.renderFbo({tex0:this.output.getCurrent(),resolution:[this.canvas.width,this.canvas.height]}),this.timeSinceLastUpdate=0}this.saveFrame===!0&&(this.canvasToImage(),this.saveFrame=!1)}}class P5 extends p5{constructor({width:t=window.innerWidth,height:r=window.innerHeight,mode:o="P2D"}={}){super(u=>{u.setup=()=>{u.createCanvas(t,r,u[o])},u.draw=()=>{}},"hydra-ui"),this.width=t,this.height=r,this.mode=o,this.canvas.style.position="absolute",this.canvas.style.top="0px",this.canvas.style.left="0px",this.canvas.style.zIndex=-1}show(){this.canvas.style.visibility="visible"}hide(){this.canvas.style.visibility="hidden"}clear(){this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height)}}var lib$2={exports:{}},re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parseuri$2=function e(t){var r=t,o=t.indexOf("["),u=t.indexOf("]");o!=-1&&u!=-1&&(t=t.substring(0,o)+t.substring(o,u).replace(/:/g,";")+t.substring(u,t.length));for(var f=re.exec(t||""),g={},b=14;b--;)g[parts[b]]=f[b]||"";return o!=-1&&u!=-1&&(g.source=r,g.host=g.host.substring(1,g.host.length-1).replace(/;/g,":"),g.authority=g.authority.replace("[","").replace("]","").replace(/;/g,":"),g.ipv6uri=!0),g.pathNames=pathNames(g,g.path),g.queryKey=queryKey(g,g.query),g};function pathNames(e,t){var r=/\/{2,9}/g,o=t.replace(r,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&o.splice(0,1),t.substr(t.length-1,1)=="/"&&o.splice(o.length-1,1),o}function queryKey(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,u,f){u&&(r[u]=f)}),r}var browser$6={exports:{}},debug$a={exports:{}},s$3=1e3,m$3=s$3*60,h$3=m$3*60,d$3=h$3*24,y$3=d$3*365.25,ms$3=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return parse$3(e);if(r==="number"&&isNaN(e)===!1)return t.long?fmtLong$3(e):fmtShort$3(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse$3(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*y$3;case"days":case"day":case"d":return r*d$3;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h$3;case"minutes":case"minute":case"mins":case"min":case"m":return r*m$3;case"seconds":case"second":case"secs":case"sec":case"s":return r*s$3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort$3(e){return e>=d$3?Math.round(e/d$3)+"d":e>=h$3?Math.round(e/h$3)+"h":e>=m$3?Math.round(e/m$3)+"m":e>=s$3?Math.round(e/s$3)+"s":e+"ms"}function fmtLong$3(e){return plural$3(e,d$3,"day")||plural$3(e,h$3,"hour")||plural$3(e,m$3,"minute")||plural$3(e,s$3,"second")||e+" ms"}function plural$3(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=o.debug=o.default=o,t.coerce=S,t.disable=g,t.enable=f,t.enabled=b,t.humanize=ms$3,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(T){var $=0,A;for(A in T)$=($<<5)-$+T.charCodeAt(A),$|=0;return t.colors[Math.abs($)%t.colors.length]}function o(T){var $;function A(){if(A.enabled){var M=A,O=+new Date,D=O-($||O);M.diff=D,M.prev=$,M.curr=O,$=O;for(var U=new Array(arguments.length),F=0;F<U.length;F++)U[F]=arguments[F];U[0]=t.coerce(U[0]),typeof U[0]!="string"&&U.unshift("%O");var P=0;U[0]=U[0].replace(/%([a-zA-Z%])/g,function(Me,he){if(Me==="%%")return Me;P++;var de=t.formatters[he];if(typeof de=="function"){var xe=U[P];Me=de.call(M,xe),U.splice(P,1),P--}return Me}),t.formatArgs.call(M,U);var oe=A.log||t.log||console.log.bind(console);oe.apply(M,U)}}return A.namespace=T,A.enabled=t.enabled(T),A.useColors=t.useColors(),A.color=r(T),A.destroy=u,typeof t.init=="function"&&t.init(A),t.instances.push(A),A}function u(){var T=t.instances.indexOf(this);return T!==-1?(t.instances.splice(T,1),!0):!1}function f(T){t.save(T),t.names=[],t.skips=[];var $,A=(typeof T=="string"?T:"").split(/[\s,]+/),M=A.length;for($=0;$<M;$++)A[$]&&(T=A[$].replace(/\*/g,".*?"),T[0]==="-"?t.skips.push(new RegExp("^"+T.substr(1)+"$")):t.names.push(new RegExp("^"+T+"$")));for($=0;$<t.instances.length;$++){var O=t.instances[$];O.enabled=t.enabled(O.namespace)}}function g(){t.enable("")}function b(T){if(T[T.length-1]==="*")return!0;var $,A;for($=0,A=t.skips.length;$<A;$++)if(t.skips[$].test(T))return!1;for($=0,A=t.names.length;$<A;$++)if(t.names[$].test(T))return!0;return!1}function S(T){return T instanceof Error?T.stack||T.message:T}})(debug$a,debug$a.exports);var debugExports$2=debug$a.exports;(function(e,t){t=e.exports=debugExports$2,t.log=u,t.formatArgs=o,t.save=f,t.load=g,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:b(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}};function o(S){var T=this.useColors;if(S[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+S[0]+(T?"%c ":" ")+"+"+t.humanize(this.diff),!!T){var $="color: "+this.color;S.splice(1,0,$,"color: inherit");var A=0,M=0;S[0].replace(/%[a-zA-Z%]/g,function(O){O!=="%%"&&(A++,O==="%c"&&(M=A))}),S.splice(M,0,$)}}function u(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function f(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function g(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(g());function b(){try{return window.localStorage}catch{}}})(browser$6,browser$6.exports);var browserExports$4=browser$6.exports,parseuri$1=parseuri$2,debug$9=browserExports$4("socket.io-client:url"),url_1=url;function url(e,t){var r=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(debug$9("protocol-less url %s",e),typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),debug$9("parse %s",e),r=parseuri$1(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=r.host.indexOf(":")!==-1,u=o?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+u+":"+r.port,r.href=r.protocol+"://"+u+(t&&t.port===r.port?"":":"+r.port),r}var socket_ioParser={},browser$5={exports:{}},debug$8={exports:{}},s$2=1e3,m$2=s$2*60,h$2=m$2*60,d$2=h$2*24,y$2=d$2*365.25,ms$2=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return parse$2(e);if(r==="number"&&isNaN(e)===!1)return t.long?fmtLong$2(e):fmtShort$2(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse$2(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*y$2;case"days":case"day":case"d":return r*d$2;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h$2;case"minutes":case"minute":case"mins":case"min":case"m":return r*m$2;case"seconds":case"second":case"secs":case"sec":case"s":return r*s$2;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort$2(e){return e>=d$2?Math.round(e/d$2)+"d":e>=h$2?Math.round(e/h$2)+"h":e>=m$2?Math.round(e/m$2)+"m":e>=s$2?Math.round(e/s$2)+"s":e+"ms"}function fmtLong$2(e){return plural$2(e,d$2,"day")||plural$2(e,h$2,"hour")||plural$2(e,m$2,"minute")||plural$2(e,s$2,"second")||e+" ms"}function plural$2(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=o.debug=o.default=o,t.coerce=S,t.disable=g,t.enable=f,t.enabled=b,t.humanize=ms$2,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(T){var $=0,A;for(A in T)$=($<<5)-$+T.charCodeAt(A),$|=0;return t.colors[Math.abs($)%t.colors.length]}function o(T){var $;function A(){if(A.enabled){var M=A,O=+new Date,D=O-($||O);M.diff=D,M.prev=$,M.curr=O,$=O;for(var U=new Array(arguments.length),F=0;F<U.length;F++)U[F]=arguments[F];U[0]=t.coerce(U[0]),typeof U[0]!="string"&&U.unshift("%O");var P=0;U[0]=U[0].replace(/%([a-zA-Z%])/g,function(Me,he){if(Me==="%%")return Me;P++;var de=t.formatters[he];if(typeof de=="function"){var xe=U[P];Me=de.call(M,xe),U.splice(P,1),P--}return Me}),t.formatArgs.call(M,U);var oe=A.log||t.log||console.log.bind(console);oe.apply(M,U)}}return A.namespace=T,A.enabled=t.enabled(T),A.useColors=t.useColors(),A.color=r(T),A.destroy=u,typeof t.init=="function"&&t.init(A),t.instances.push(A),A}function u(){var T=t.instances.indexOf(this);return T!==-1?(t.instances.splice(T,1),!0):!1}function f(T){t.save(T),t.names=[],t.skips=[];var $,A=(typeof T=="string"?T:"").split(/[\s,]+/),M=A.length;for($=0;$<M;$++)A[$]&&(T=A[$].replace(/\*/g,".*?"),T[0]==="-"?t.skips.push(new RegExp("^"+T.substr(1)+"$")):t.names.push(new RegExp("^"+T+"$")));for($=0;$<t.instances.length;$++){var O=t.instances[$];O.enabled=t.enabled(O.namespace)}}function g(){t.enable("")}function b(T){if(T[T.length-1]==="*")return!0;var $,A;for($=0,A=t.skips.length;$<A;$++)if(t.skips[$].test(T))return!1;for($=0,A=t.names.length;$<A;$++)if(t.names[$].test(T))return!0;return!1}function S(T){return T instanceof Error?T.stack||T.message:T}})(debug$8,debug$8.exports);var debugExports$1=debug$8.exports;(function(e,t){t=e.exports=debugExports$1,t.log=u,t.formatArgs=o,t.save=f,t.load=g,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:b(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}};function o(S){var T=this.useColors;if(S[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+S[0]+(T?"%c ":" ")+"+"+t.humanize(this.diff),!!T){var $="color: "+this.color;S.splice(1,0,$,"color: inherit");var A=0,M=0;S[0].replace(/%[a-zA-Z%]/g,function(O){O!=="%%"&&(A++,O==="%c"&&(M=A))}),S.splice(M,0,$)}}function u(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function f(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function g(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(g());function b(){try{return window.localStorage}catch{}}})(browser$5,browser$5.exports);var browserExports$3=browser$5.exports,binary={},toString$3={}.toString,isarray=Array.isArray||function(e){return toString$3.call(e)=="[object Array]"},isBuffer=isBuf$1,withNativeBuffer=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function isBuf$1(e){return withNativeBuffer&&Buffer.isBuffer(e)||withNativeArrayBuffer&&(e instanceof ArrayBuffer||isView(e))}var isArray$2=isarray,isBuf=isBuffer,toString$2=Object.prototype.toString,withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&toString$2.call(Blob)==="[object BlobConstructor]",withNativeFile$1=typeof File=="function"||typeof File<"u"&&toString$2.call(File)==="[object FileConstructor]";binary.deconstructPacket=function(e){var t=[],r=e.data,o=e;return o.data=_deconstructPacket(r,t),o.attachments=t.length,{packet:o,buffers:t}};function _deconstructPacket(e,t){if(!e)return e;if(isBuf(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}else if(isArray$2(e)){for(var o=new Array(e.length),u=0;u<e.length;u++)o[u]=_deconstructPacket(e[u],t);return o}else if(typeof e=="object"&&!(e instanceof Date)){var o={};for(var f in e)o[f]=_deconstructPacket(e[f],t);return o}return e}binary.reconstructPacket=function(e,t){return e.data=_reconstructPacket(e.data,t),e.attachments=void 0,e};function _reconstructPacket(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(isArray$2(e))for(var r=0;r<e.length;r++)e[r]=_reconstructPacket(e[r],t);else if(typeof e=="object")for(var o in e)e[o]=_reconstructPacket(e[o],t);return e}binary.removeBlobs=function(e,t){function r(f,g,b){if(!f)return f;if(withNativeBlob$1&&f instanceof Blob||withNativeFile$1&&f instanceof File){o++;var S=new FileReader;S.onload=function(){b?b[g]=this.result:u=this.result,--o||t(u)},S.readAsArrayBuffer(f)}else if(isArray$2(f))for(var T=0;T<f.length;T++)r(f[T],T,f);else if(typeof f=="object"&&!isBuf(f))for(var $ in f)r(f[$],$,f)}var o=0,u=e;r(u),o||t(u)};(function(e){var t=browserExports$3("socket.io-parser"),r=componentEmitterExports,o=binary,u=isarray,f=isBuffer;e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=g,e.Decoder=A;function g(){}var b=e.ERROR+'"encode error"';g.prototype.encode=function(F,P){if(t("encoding packet %j",F),e.BINARY_EVENT===F.type||e.BINARY_ACK===F.type)$(F,P);else{var oe=S(F);P([oe])}};function S(F){var P=""+F.type;if((e.BINARY_EVENT===F.type||e.BINARY_ACK===F.type)&&(P+=F.attachments+"-"),F.nsp&&F.nsp!=="/"&&(P+=F.nsp+","),F.id!=null&&(P+=F.id),F.data!=null){var oe=T(F.data);if(oe!==!1)P+=oe;else return b}return t("encoded %j as %s",F,P),P}function T(F){try{return JSON.stringify(F)}catch{return!1}}function $(F,P){function oe(Me){var he=o.deconstructPacket(Me),de=S(he.packet),xe=he.buffers;xe.unshift(de),P(xe)}o.removeBlobs(F,oe)}function A(){this.reconstructor=null}r(A.prototype),A.prototype.add=function(F){var P;if(typeof F=="string")P=M(F),e.BINARY_EVENT===P.type||e.BINARY_ACK===P.type?(this.reconstructor=new D(P),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",P)):this.emit("decoded",P);else if(f(F)||F.base64)if(this.reconstructor)P=this.reconstructor.takeBinaryData(F),P&&(this.reconstructor=null,this.emit("decoded",P));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+F)};function M(F){var P=0,oe={type:Number(F.charAt(0))};if(e.types[oe.type]==null)return U("unknown packet type "+oe.type);if(e.BINARY_EVENT===oe.type||e.BINARY_ACK===oe.type){for(var Me=P+1;F.charAt(++P)!=="-"&&P!=F.length;);var he=F.substring(Me,P);if(he!=Number(he)||F.charAt(P)!=="-")throw new Error("Illegal attachments");oe.attachments=Number(he)}if(F.charAt(P+1)==="/"){for(var Me=P+1;++P;){var de=F.charAt(P);if(de===","||P===F.length)break}oe.nsp=F.substring(Me,P)}else oe.nsp="/";var xe=F.charAt(P+1);if(xe!==""&&Number(xe)==xe){for(var Me=P+1;++P;){var de=F.charAt(P);if(de==null||Number(de)!=de){--P;break}if(P===F.length)break}oe.id=Number(F.substring(Me,P+1))}if(F.charAt(++P)){var Ce=O(F.substr(P)),De=Ce!==!1&&(oe.type===e.ERROR||u(Ce));if(De)oe.data=Ce;else return U("invalid payload")}return t("decoded %s as %j",F,oe),oe}function O(F){try{return JSON.parse(F)}catch{return!1}}A.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function D(F){this.reconPack=F,this.buffers=[]}D.prototype.takeBinaryData=function(F){if(this.buffers.push(F),this.buffers.length===this.reconPack.attachments){var P=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),P}return null},D.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function U(F){return{type:e.ERROR,data:"parser error: "+F}}})(socket_ioParser);var lib$1={exports:{}},transports$1={},hasCors={exports:{}};try{hasCors.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e){hasCors.exports=!1}var hasCorsExports=hasCors.exports,globalThis_browser=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}(),hasCORS=hasCorsExports,globalThis$3=globalThis_browser,xmlhttprequest=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||hasCORS))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!r&&o)return new XDomainRequest}catch{}if(!t)try{return new globalThis$3[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},pollingXhr={exports:{}},browser$4={},keys$1=Object.keys||function e(t){var r=[],o=Object.prototype.hasOwnProperty;for(var u in t)o.call(t,u)&&r.push(u);return r},isArray$1=isarray,toString$1=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$1.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$1.call(File)==="[object FileConstructor]",hasBinary2=hasBinary;function hasBinary(e){if(!e||typeof e!="object")return!1;if(isArray$1(e)){for(var t=0,r=e.length;t<r;t++)if(hasBinary(e[t]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(e)||typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||withNativeBlob&&e instanceof Blob||withNativeFile&&e instanceof File)return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return hasBinary(e.toJSON(),!0);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&hasBinary(e[o]))return!0;return!1}var arraybuffer_slice=function(e,t,r){var o=e.byteLength;if(t=t||0,r=r||o,e.slice)return e.slice(t,r);if(t<0&&(t+=o),r<0&&(r+=o),r>o&&(r=o),t>=o||t>=r||o===0)return new ArrayBuffer(0);for(var u=new Uint8Array(e),f=new Uint8Array(r-t),g=t,b=0;g<r;g++,b++)f[b]=u[g];return f.buffer},after_1=after;function after(e,t,r){var o=!1;return r=r||noop$2,u.count=e,e===0?t():u;function u(f,g){if(u.count<=0)throw new Error("after called too many times");--u.count,f?(o=!0,t(f),t=r):u.count===0&&!o&&t(null,g)}}function noop$2(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var stringFromCharCode=String.fromCharCode;function ucs2decode(e){for(var t=[],r=0,o=e.length,u,f;r<o;)u=e.charCodeAt(r++),u>=55296&&u<=56319&&r<o?(f=e.charCodeAt(r++),(f&64512)==56320?t.push(((u&1023)<<10)+(f&1023)+65536):(t.push(u),r--)):t.push(u);return t}function ucs2encode(e){for(var t=e.length,r=-1,o,u="";++r<t;)o=e[r],o>65535&&(o-=65536,u+=stringFromCharCode(o>>>10&1023|55296),o=56320|o&1023),u+=stringFromCharCode(o);return u}function checkScalarValue(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function createByte(e,t){return stringFromCharCode(e>>t&63|128)}function encodeCodePoint(e,t){if(!(e&4294967168))return stringFromCharCode(e);var r="";return e&4294965248?e&4294901760?e&4292870144||(r=stringFromCharCode(e>>18&7|240),r+=createByte(e,12),r+=createByte(e,6)):(checkScalarValue(e,t)||(e=65533),r=stringFromCharCode(e>>12&15|224),r+=createByte(e,6)):r=stringFromCharCode(e>>6&31|192),r+=stringFromCharCode(e&63|128),r}function utf8encode(e,t){t=t||{};for(var r=t.strict!==!1,o=ucs2decode(e),u=o.length,f=-1,g,b="";++f<u;)g=o[f],b+=encodeCodePoint(g,r);return b}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var e=byteArray[byteIndex]&255;if(byteIndex++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function decodeSymbol(e){var t,r,o,u,f;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(t=byteArray[byteIndex]&255,byteIndex++,!(t&128))return t;if((t&224)==192){if(r=readContinuationByte(),f=(t&31)<<6|r,f>=128)return f;throw Error("Invalid continuation byte")}if((t&240)==224){if(r=readContinuationByte(),o=readContinuationByte(),f=(t&15)<<12|r<<6|o,f>=2048)return checkScalarValue(f,e)?f:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(r=readContinuationByte(),o=readContinuationByte(),u=readContinuationByte(),f=(t&7)<<18|r<<12|o<<6|u,f>=65536&&f<=1114111))return f;throw Error("Invalid UTF-8 detected")}var byteArray,byteCount,byteIndex;function utf8decode(e,t){t=t||{};var r=t.strict!==!1;byteArray=ucs2decode(e),byteCount=byteArray.length,byteIndex=0;for(var o=[],u;(u=decodeSymbol(r))!==!1;)o.push(u);return ucs2encode(o)}var utf8={version:"2.1.2",encode:utf8encode,decode:utf8decode},base64Arraybuffer={};(function(e){base64Arraybuffer.encode=function(t){var r=new Uint8Array(t),o,u=r.length,f="";for(o=0;o<u;o+=3)f+=e[r[o]>>2],f+=e[(r[o]&3)<<4|r[o+1]>>4],f+=e[(r[o+1]&15)<<2|r[o+2]>>6],f+=e[r[o+2]&63];return u%3===2?f=f.substring(0,f.length-1)+"=":u%3===1&&(f=f.substring(0,f.length-2)+"=="),f},base64Arraybuffer.decode=function(t){var r=t.length*.75,o=t.length,u,f=0,g,b,S,T;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);var $=new ArrayBuffer(r),A=new Uint8Array($);for(u=0;u<o;u+=4)g=e.indexOf(t[u]),b=e.indexOf(t[u+1]),S=e.indexOf(t[u+2]),T=e.indexOf(t[u+3]),A[f++]=g<<2|b>>4,A[f++]=(b&15)<<4|S>>2,A[f++]=(S&3)<<6|T&63;return $}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");var BlobBuilder=typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,blobSupported=function(){try{var e=new Blob(["hi"]);return e.size===2}catch{return!1}}(),blobSupportsArrayBufferView=blobSupported&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return e.size===2}catch{return!1}}(),blobBuilderSupported=BlobBuilder&&BlobBuilder.prototype.append&&BlobBuilder.prototype.getBlob;function mapArrayBufferViews(e){return e.map(function(t){if(t.buffer instanceof ArrayBuffer){var r=t.buffer;if(t.byteLength!==r.byteLength){var o=new Uint8Array(t.byteLength);o.set(new Uint8Array(r,t.byteOffset,t.byteLength)),r=o.buffer}return r}return t})}function BlobBuilderConstructor(e,t){t=t||{};var r=new BlobBuilder;return mapArrayBufferViews(e).forEach(function(o){r.append(o)}),t.type?r.getBlob(t.type):r.getBlob()}function BlobConstructor(e,t){return new Blob(mapArrayBufferViews(e),t||{})}typeof Blob<"u"&&(BlobBuilderConstructor.prototype=Blob.prototype,BlobConstructor.prototype=Blob.prototype);var blob=function(){return blobSupported?blobSupportsArrayBufferView?Blob:BlobConstructor:blobBuilderSupported?BlobBuilderConstructor:void 0}();(function(e){var t=keys$1,r=hasBinary2,o=arraybuffer_slice,u=after_1,f=utf8,g;typeof ArrayBuffer<"u"&&(g=base64Arraybuffer);var b=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),S=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),T=b||S;e.protocol=3;var $=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},A=t($),M={type:"error",data:"parser error"},O=blob;e.encodePacket=function(he,de,xe,Ce){typeof de=="function"&&(Ce=de,de=!1),typeof xe=="function"&&(Ce=xe,xe=null);var De=he.data===void 0?void 0:he.data.buffer||he.data;if(typeof ArrayBuffer<"u"&&De instanceof ArrayBuffer)return U(he,de,Ce);if(typeof O<"u"&&De instanceof O)return P(he,de,Ce);if(De&&De.base64)return D(he,Ce);var et=$[he.type];return he.data!==void 0&&(et+=xe?f.encode(String(he.data),{strict:!1}):String(he.data)),Ce(""+et)};function D(he,de){var xe="b"+e.packets[he.type]+he.data.data;return de(xe)}function U(he,de,xe){if(!de)return e.encodeBase64Packet(he,xe);var Ce=he.data,De=new Uint8Array(Ce),et=new Uint8Array(1+Ce.byteLength);et[0]=$[he.type];for(var Ve=0;Ve<De.length;Ve++)et[Ve+1]=De[Ve];return xe(et.buffer)}function F(he,de,xe){if(!de)return e.encodeBase64Packet(he,xe);var Ce=new FileReader;return Ce.onload=function(){e.encodePacket({type:he.type,data:Ce.result},de,!0,xe)},Ce.readAsArrayBuffer(he.data)}function P(he,de,xe){if(!de)return e.encodeBase64Packet(he,xe);if(T)return F(he,de,xe);var Ce=new Uint8Array(1);Ce[0]=$[he.type];var De=new O([Ce.buffer,he.data]);return xe(De)}e.encodeBase64Packet=function(he,de){var xe="b"+e.packets[he.type];if(typeof O<"u"&&he.data instanceof O){var Ce=new FileReader;return Ce.onload=function(){var se=Ce.result.split(",")[1];de(xe+se)},Ce.readAsDataURL(he.data)}var De;try{De=String.fromCharCode.apply(null,new Uint8Array(he.data))}catch{for(var et=new Uint8Array(he.data),Ve=new Array(et.length),Ze=0;Ze<et.length;Ze++)Ve[Ze]=et[Ze];De=String.fromCharCode.apply(null,Ve)}return xe+=btoa(De),de(xe)},e.decodePacket=function(he,de,xe){if(he===void 0)return M;if(typeof he=="string"){if(he.charAt(0)==="b")return e.decodeBase64Packet(he.substr(1),de);if(xe&&(he=oe(he),he===!1))return M;var De=he.charAt(0);return Number(De)!=De||!A[De]?M:he.length>1?{type:A[De],data:he.substring(1)}:{type:A[De]}}var Ce=new Uint8Array(he),De=Ce[0],et=o(he,1);return O&&de==="blob"&&(et=new O([et])),{type:A[De],data:et}};function oe(he){try{he=f.decode(he,{strict:!1})}catch{return!1}return he}e.decodeBase64Packet=function(he,de){var xe=A[he.charAt(0)];if(!g)return{type:xe,data:{base64:!0,data:he.substr(1)}};var Ce=g.decode(he.substr(1));return de==="blob"&&O&&(Ce=new O([Ce])),{type:xe,data:Ce}},e.encodePayload=function(he,de,xe){typeof de=="function"&&(xe=de,de=null);var Ce=r(he);if(de&&Ce)return O&&!T?e.encodePayloadAsBlob(he,xe):e.encodePayloadAsArrayBuffer(he,xe);if(!he.length)return xe("0:");function De(Ve){return Ve.length+":"+Ve}function et(Ve,Ze){e.encodePacket(Ve,Ce?de:!1,!1,function(se){Ze(null,De(se))})}Me(he,et,function(Ve,Ze){return xe(Ze.join(""))})};function Me(he,de,xe){for(var Ce=new Array(he.length),De=u(he.length,xe),et=function(Ze,se,me){de(se,function(Se,Y){Ce[Ze]=Y,me(Se,Ce)})},Ve=0;Ve<he.length;Ve++)et(Ve,he[Ve],De)}e.decodePayload=function(he,de,xe){if(typeof he!="string")return e.decodePayloadAsBinary(he,de,xe);typeof de=="function"&&(xe=de,de=null);var Ce;if(he==="")return xe(M,0,1);for(var De="",et,Ve,Ze=0,se=he.length;Ze<se;Ze++){var me=he.charAt(Ze);if(me!==":"){De+=me;continue}if(De===""||De!=(et=Number(De))||(Ve=he.substr(Ze+1,et),De!=Ve.length))return xe(M,0,1);if(Ve.length){if(Ce=e.decodePacket(Ve,de,!1),M.type===Ce.type&&M.data===Ce.data)return xe(M,0,1);var Se=xe(Ce,Ze+et,se);if(Se===!1)return}Ze+=et,De=""}if(De!=="")return xe(M,0,1)},e.encodePayloadAsArrayBuffer=function(he,de){if(!he.length)return de(new ArrayBuffer(0));function xe(Ce,De){e.encodePacket(Ce,!0,!0,function(et){return De(null,et)})}Me(he,xe,function(Ce,De){var et=De.reduce(function(se,me){var Se;return typeof me=="string"?Se=me.length:Se=me.byteLength,se+Se.toString().length+Se+2},0),Ve=new Uint8Array(et),Ze=0;return De.forEach(function(se){var me=typeof se=="string",Se=se;if(me){for(var G=new Uint8Array(se.length),Y=0;Y<se.length;Y++)G[Y]=se.charCodeAt(Y);Se=G.buffer}me?Ve[Ze++]=0:Ve[Ze++]=1;for(var Q=Se.byteLength.toString(),Y=0;Y<Q.length;Y++)Ve[Ze++]=parseInt(Q[Y]);Ve[Ze++]=255;for(var G=new Uint8Array(Se),Y=0;Y<G.length;Y++)Ve[Ze++]=G[Y]}),de(Ve.buffer)})},e.encodePayloadAsBlob=function(he,de){function xe(Ce,De){e.encodePacket(Ce,!0,!0,function(et){var Ve=new Uint8Array(1);if(Ve[0]=1,typeof et=="string"){for(var Ze=new Uint8Array(et.length),se=0;se<et.length;se++)Ze[se]=et.charCodeAt(se);et=Ze.buffer,Ve[0]=0}for(var me=et instanceof ArrayBuffer?et.byteLength:et.size,Se=me.toString(),Y=new Uint8Array(Se.length+1),se=0;se<Se.length;se++)Y[se]=parseInt(Se[se]);if(Y[Se.length]=255,O){var Q=new O([Ve.buffer,Y.buffer,et]);De(null,Q)}})}Me(he,xe,function(Ce,De){return de(new O(De))})},e.decodePayloadAsBinary=function(he,de,xe){typeof de=="function"&&(xe=de,de=null);for(var Ce=he,De=[];Ce.byteLength>0;){for(var et=new Uint8Array(Ce),Ve=et[0]===0,Ze="",se=1;et[se]!==255;se++){if(Ze.length>310)return xe(M,0,1);Ze+=et[se]}Ce=o(Ce,2+Ze.length),Ze=parseInt(Ze);var me=o(Ce,0,Ze);if(Ve)try{me=String.fromCharCode.apply(null,new Uint8Array(me))}catch{var Se=new Uint8Array(me);me="";for(var se=0;se<Se.length;se++)me+=String.fromCharCode(Se[se])}De.push(me),Ce=o(Ce,Ze)}var Y=De.length;De.forEach(function(Q,G){xe(e.decodePacket(Q,de,!0),G,Y)})}})(browser$4);var parser$4=browser$4,Emitter$3=componentEmitterExports,transport=Transport$2;function Transport$2(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}Emitter$3(Transport$2.prototype);Transport$2.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this};Transport$2.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this};Transport$2.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this};Transport$2.prototype.send=function(e){if(this.readyState==="open")this.write(e);else throw new Error("Transport not open")};Transport$2.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")};Transport$2.prototype.onData=function(e){var t=parser$4.decodePacket(e,this.socket.binaryType);this.onPacket(t)};Transport$2.prototype.onPacket=function(e){this.emit("packet",e)};Transport$2.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var parseqs$3={};parseqs$3.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t};parseqs$3.decode=function(e){for(var t={},r=e.split("&"),o=0,u=r.length;o<u;o++){var f=r[o].split("=");t[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return t};var componentInherit=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},alphabet$3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={},seed$1=0,i$2=0,prev;function encode(e){var t="";do t=alphabet$3[e%length]+t,e=Math.floor(e/length);while(e>0);return t}function decode(e){var t=0;for(i$2=0;i$2<e.length;i$2++)t=t*length+map[e.charAt(i$2)];return t}function yeast$2(){var e=encode(+new Date);return e!==prev?(seed$1=0,prev=e):e+"."+encode(seed$1++)}for(;i$2<length;i$2++)map[alphabet$3[i$2]]=i$2;yeast$2.encode=encode;yeast$2.decode=decode;var yeast_1=yeast$2,browser$3={exports:{}},debug$7={exports:{}},s$1=1e3,m$1=s$1*60,h$1=m$1*60,d$1=h$1*24,y$1=d$1*365.25,ms$1=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return parse$1(e);if(r==="number"&&isNaN(e)===!1)return t.long?fmtLong$1(e):fmtShort$1(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse$1(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*y$1;case"days":case"day":case"d":return r*d$1;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h$1;case"minutes":case"minute":case"mins":case"min":case"m":return r*m$1;case"seconds":case"second":case"secs":case"sec":case"s":return r*s$1;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort$1(e){return e>=d$1?Math.round(e/d$1)+"d":e>=h$1?Math.round(e/h$1)+"h":e>=m$1?Math.round(e/m$1)+"m":e>=s$1?Math.round(e/s$1)+"s":e+"ms"}function fmtLong$1(e){return plural$1(e,d$1,"day")||plural$1(e,h$1,"hour")||plural$1(e,m$1,"minute")||plural$1(e,s$1,"second")||e+" ms"}function plural$1(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=o.debug=o.default=o,t.coerce=S,t.disable=g,t.enable=f,t.enabled=b,t.humanize=ms$1,t.instances=[],t.names=[],t.skips=[],t.formatters={};function r(T){var $=0,A;for(A in T)$=($<<5)-$+T.charCodeAt(A),$|=0;return t.colors[Math.abs($)%t.colors.length]}function o(T){var $;function A(){if(A.enabled){var M=A,O=+new Date,D=O-($||O);M.diff=D,M.prev=$,M.curr=O,$=O;for(var U=new Array(arguments.length),F=0;F<U.length;F++)U[F]=arguments[F];U[0]=t.coerce(U[0]),typeof U[0]!="string"&&U.unshift("%O");var P=0;U[0]=U[0].replace(/%([a-zA-Z%])/g,function(Me,he){if(Me==="%%")return Me;P++;var de=t.formatters[he];if(typeof de=="function"){var xe=U[P];Me=de.call(M,xe),U.splice(P,1),P--}return Me}),t.formatArgs.call(M,U);var oe=A.log||t.log||console.log.bind(console);oe.apply(M,U)}}return A.namespace=T,A.enabled=t.enabled(T),A.useColors=t.useColors(),A.color=r(T),A.destroy=u,typeof t.init=="function"&&t.init(A),t.instances.push(A),A}function u(){var T=t.instances.indexOf(this);return T!==-1?(t.instances.splice(T,1),!0):!1}function f(T){t.save(T),t.names=[],t.skips=[];var $,A=(typeof T=="string"?T:"").split(/[\s,]+/),M=A.length;for($=0;$<M;$++)A[$]&&(T=A[$].replace(/\*/g,".*?"),T[0]==="-"?t.skips.push(new RegExp("^"+T.substr(1)+"$")):t.names.push(new RegExp("^"+T+"$")));for($=0;$<t.instances.length;$++){var O=t.instances[$];O.enabled=t.enabled(O.namespace)}}function g(){t.enable("")}function b(T){if(T[T.length-1]==="*")return!0;var $,A;for($=0,A=t.skips.length;$<A;$++)if(t.skips[$].test(T))return!1;for($=0,A=t.names.length;$<A;$++)if(t.names[$].test(T))return!0;return!1}function S(T){return T instanceof Error?T.stack||T.message:T}})(debug$7,debug$7.exports);var debugExports=debug$7.exports;(function(e,t){t=e.exports=debugExports,t.log=u,t.formatArgs=o,t.save=f,t.load=g,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:b(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(S){try{return JSON.stringify(S)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}};function o(S){var T=this.useColors;if(S[0]=(T?"%c":"")+this.namespace+(T?" %c":" ")+S[0]+(T?"%c ":" ")+"+"+t.humanize(this.diff),!!T){var $="color: "+this.color;S.splice(1,0,$,"color: inherit");var A=0,M=0;S[0].replace(/%[a-zA-Z%]/g,function(O){O!=="%%"&&(A++,O==="%c"&&(M=A))}),S.splice(M,0,$)}}function u(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function f(S){try{S==null?t.storage.removeItem("debug"):t.storage.debug=S}catch{}}function g(){var S;try{S=t.storage.debug}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}t.enable(g());function b(){try{return window.localStorage}catch{}}})(browser$3,browser$3.exports);var browserExports$2=browser$3.exports,Transport$1=transport,parseqs$2=parseqs$3,parser$3=browser$4,inherit$3=componentInherit,yeast$1=yeast_1,debug$6=browserExports$2("engine.io-client:polling"),polling$1=Polling$2,hasXHR2=function(){var e=xmlhttprequest,t=new e({xdomain:!1});return t.responseType!=null}();function Polling$2(e){var t=e&&e.forceBase64;(!hasXHR2||t)&&(this.supportsBinary=!1),Transport$1.call(this,e)}inherit$3(Polling$2,Transport$1);Polling$2.prototype.name="polling";Polling$2.prototype.doOpen=function(){this.poll()};Polling$2.prototype.pause=function(e){var t=this;this.readyState="pausing";function r(){debug$6("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){var o=0;this.polling&&(debug$6("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){debug$6("pre-pause polling complete"),--o||r()})),this.writable||(debug$6("we are currently writing - waiting to pause"),o++,this.once("drain",function(){debug$6("pre-pause writing complete"),--o||r()}))}else r()};Polling$2.prototype.poll=function(){debug$6("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Polling$2.prototype.onData=function(e){var t=this;debug$6("polling got data %s",e);var r=function(o,u,f){if(t.readyState==="opening"&&o.type==="open"&&t.onOpen(),o.type==="close")return t.onClose(),!1;t.onPacket(o)};parser$3.decodePayload(e,this.socket.binaryType,r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():debug$6('ignoring poll - transport state "%s"',this.readyState))};Polling$2.prototype.doClose=function(){var e=this;function t(){debug$6("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(debug$6("transport open - closing"),t()):(debug$6("transport not open - deferring close"),this.once("open",t))};Polling$2.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};parser$3.encodePayload(e,this.supportsBinary,function(o){t.doWrite(o,r)})};Polling$2.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";this.timestampRequests!==!1&&(e[this.timestampParam]=yeast$1()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=parseqs$2.encode(e),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(r=":"+this.port),e.length&&(e="?"+e);var o=this.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.hostname+"]":this.hostname)+r+this.path+e};var XMLHttpRequest$2=xmlhttprequest,Polling$1=polling$1,Emitter$2=componentEmitterExports,inherit$2=componentInherit,debug$5=browserExports$2("engine.io-client:polling-xhr"),globalThis$2=globalThis_browser;pollingXhr.exports=XHR$1;pollingXhr.exports.Request=Request;function empty$3(){}function XHR$1(e){if(Polling$1.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",r=location.port;r||(r=t?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}inherit$2(XHR$1,Polling$1);XHR$1.prototype.supportsBinary=!0;XHR$1.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Request(e)};XHR$1.prototype.doWrite=function(e,t){var r=typeof e!="string"&&e!==void 0,o=this.request({method:"POST",data:e,isBinary:r}),u=this;o.on("success",t),o.on("error",function(f){u.onError("xhr post error",f)}),this.sendXhr=o};XHR$1.prototype.doPoll=function(){debug$5("xhr poll");var e=this.request(),t=this;e.on("data",function(r){t.onData(r)}),e.on("error",function(r){t.onError("xhr poll error",r)}),this.pollXhr=e};function Request(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}Emitter$2(Request.prototype);Request.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new XMLHttpRequest$2(e),r=this;try{debug$5("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var u=t.getResponseHeader("Content-Type");(r.supportsBinary&&u==="application/octet-stream"||u==="application/octet-stream; charset=UTF-8")&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?r.onLoad():setTimeout(function(){r.onError(typeof t.status=="number"?t.status:0)},0))},debug$5("xhr data %s",this.data),t.send(this.data)}catch(u){setTimeout(function(){r.onError(u)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)};Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Request.prototype.onData=function(e){this.emit("data",e),this.onSuccess()};Request.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)};Request.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty$3:this.xhr.onreadystatechange=empty$3,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}};Request.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"||t==="application/octet-stream; charset=UTF-8"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(r){this.onError(r)}e!=null&&this.onData(e)};Request.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Request.prototype.abort=function(){this.cleanup()};Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){var terminationEvent="onpagehide"in globalThis$2?"pagehide":"unload";addEventListener(terminationEvent,unloadHandler,!1)}}function unloadHandler(){for(var e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}var pollingXhrExports=pollingXhr.exports,Polling=polling$1,inherit$1=componentInherit,globalThis$1=globalThis_browser,pollingJsonp=JSONPPolling,rNewline=/\n/g,rEscapedNewline=/\\n/g,callbacks;function empty$2(){}function JSONPPolling(e){Polling.call(this,e),this.query=this.query||{},callbacks||(callbacks=globalThis$1.___eio=globalThis$1.___eio||[]),this.index=callbacks.length;var t=this;callbacks.push(function(r){t.onData(r)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=empty$2)},!1)}inherit$1(JSONPPolling,Polling);JSONPPolling.prototype.supportsBinary=!1;JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Polling.prototype.doClose.call(this)};JSONPPolling.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(u){e.onError("jsonp poll error",u)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t;var o=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);o&&setTimeout(function(){var u=document.createElement("iframe");document.body.appendChild(u),document.body.removeChild(u)},100)};JSONPPolling.prototype.doWrite=function(e,t){var r=this;if(!this.form){var o=document.createElement("form"),u=document.createElement("textarea"),f=this.iframeId="eio_iframe_"+this.index,g;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=f,o.method="POST",o.setAttribute("accept-charset","utf-8"),u.name="d",o.appendChild(u),document.body.appendChild(o),this.form=o,this.area=u}this.form.action=this.uri();function b(){S(),t()}function S(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch($){r.onError("jsonp polling iframe removal error",$)}try{var T='<iframe src="javascript:0" name="'+r.iframeId+'">';g=document.createElement(T)}catch{g=document.createElement("iframe"),g.name=r.iframeId,g.src="javascript:0"}g.id=r.iframeId,r.form.appendChild(g),r.iframe=g}S(),e=e.replace(rEscapedNewline,`\\
`),this.area.value=e.replace(rNewline,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){r.iframe.readyState==="complete"&&b()}:this.iframe.onload=b};var Transport=transport,parser$2=browser$4,parseqs$1=parseqs$3,inherit=componentInherit,yeast=yeast_1,debug$4=browserExports$2("engine.io-client:websocket"),BrowserWebSocket,NodeWebSocket;typeof WebSocket<"u"?BrowserWebSocket=WebSocket:typeof self<"u"&&(BrowserWebSocket=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{NodeWebSocket=require$$3}catch{}var WebSocketImpl=BrowserWebSocket||NodeWebSocket,websocket$1=WS;function WS(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=BrowserWebSocket&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(WebSocketImpl=NodeWebSocket),Transport.call(this,e)}inherit(WS,Transport);WS.prototype.name="websocket";WS.prototype.supportsBinary=!0;WS.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new WebSocketImpl(e,t):new WebSocketImpl(e):new WebSocketImpl(e,t,r)}catch(o){return this.emit("error",o)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};WS.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}};WS.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,o=0,u=r;o<u;o++)(function(g){parser$2.encodePacket(g,t.supportsBinary,function(b){if(!t.usingBrowserWebSocket){var S={};if(g.options&&(S.compress=g.options.compress),t.perMessageDeflate){var T=typeof b=="string"?Buffer.byteLength(b):b.length;T<t.perMessageDeflate.threshold&&(S.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(b):t.ws.send(b,S)}catch{debug$4("websocket closed before onclose event")}--r||f()})})(e[o]);function f(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)};WS.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};WS.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=yeast()),this.supportsBinary||(e.b64=1),e=parseqs$1.encode(e),e.length&&(e="?"+e);var o=this.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.hostname+"]":this.hostname)+r+this.path+e};WS.prototype.check=function(){return!!WebSocketImpl&&!("__initialize"in WebSocketImpl&&this.name===WS.prototype.name)};var XMLHttpRequest$1=xmlhttprequest,XHR=pollingXhrExports,JSONP=pollingJsonp,websocket=websocket$1;transports$1.polling=polling;transports$1.websocket=websocket;function polling(e){var t,r=!1,o=!1,u=e.jsonp!==!1;if(typeof location<"u"){var f=location.protocol==="https:",g=location.port;g||(g=f?443:80),r=e.hostname!==location.hostname||g!==e.port,o=e.secure!==f}if(e.xdomain=r,e.xscheme=o,t=new XMLHttpRequest$1(e),"open"in t&&!e.forceJSONP)return new XHR(e);if(!u)throw new Error("JSONP disabled");return new JSONP(e)}var indexOf$2=[].indexOf,indexof=function(e,t){if(indexOf$2)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1},transports=transports$1,Emitter$1=componentEmitterExports,debug$3=browserExports$2("engine.io-client:socket"),index=indexof,parser$1=browser$4,parseuri=parseuri$2,parseqs=parseqs$3,socket$1=Socket$1;function Socket$1(e,t){if(!(this instanceof Socket$1))return new Socket$1(e,t);t=t||{},e&&typeof e=="object"&&(t=e,e=null),e?(e=parseuri(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=parseuri(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=parseqs.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=t.withCredentials!==!1,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Socket$1.priorWebsocketSuccess=!1;Emitter$1(Socket$1.prototype);Socket$1.protocol=parser$1.protocol;Socket$1.Socket=Socket$1;Socket$1.Transport=transport;Socket$1.transports=transports$1;Socket$1.parser=browser$4;Socket$1.prototype.createTransport=function(e){debug$3('creating transport "%s"',e);var t=clone(this.query);t.EIO=parser$1.protocol,t.transport=e;var r=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var o=new transports[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative});return o};function clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}Socket$1.prototype.open=function(){var e;if(this.rememberUpgrade&&Socket$1.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)};Socket$1.prototype.setTransport=function(e){debug$3("setting transport %s",e.name);var t=this;this.transport&&(debug$3("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(r){t.onPacket(r)}).on("error",function(r){t.onError(r)}).on("close",function(){t.onClose("transport close")})};Socket$1.prototype.probe=function(e){debug$3('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,o=this;Socket$1.priorWebsocketSuccess=!1;function u(){if(o.onlyBinaryUpgrades){var A=!this.supportsBinary&&o.transport.supportsBinary;r=r||A}r||(debug$3('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(M){if(!r)if(M.type==="pong"&&M.data==="probe"){if(debug$3('probe transport "%s" pong',e),o.upgrading=!0,o.emit("upgrading",t),!t)return;Socket$1.priorWebsocketSuccess=t.name==="websocket",debug$3('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){r||o.readyState!=="closed"&&(debug$3("changing transport and sending upgrade packet"),$(),o.setTransport(t),t.send([{type:"upgrade"}]),o.emit("upgrade",t),t=null,o.upgrading=!1,o.flush())})}else{debug$3('probe transport "%s" failed',e);var O=new Error("probe error");O.transport=t.name,o.emit("upgradeError",O)}}))}function f(){r||(r=!0,$(),t.close(),t=null)}function g(A){var M=new Error("probe error: "+A);M.transport=t.name,f(),debug$3('probe transport "%s" failed because of error: %s',e,A),o.emit("upgradeError",M)}function b(){g("transport closed")}function S(){g("socket closed")}function T(A){t&&A.name!==t.name&&(debug$3('"%s" works - aborting "%s"',A.name,t.name),f())}function $(){t.removeListener("open",u),t.removeListener("error",g),t.removeListener("close",b),o.removeListener("close",S),o.removeListener("upgrading",T)}t.once("open",u),t.once("error",g),t.once("close",b),this.once("close",S),this.once("upgrading",T),t.open()};Socket$1.prototype.onOpen=function(){if(debug$3("socket open"),this.readyState="open",Socket$1.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){debug$3("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}};Socket$1.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(debug$3('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else debug$3('packet received with socket readyState "%s"',this.readyState)};Socket$1.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};Socket$1.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};Socket$1.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){debug$3("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)};Socket$1.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})};Socket$1.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};Socket$1.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug$3("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};Socket$1.prototype.write=Socket$1.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this};Socket$1.prototype.sendPacket=function(e,t,r,o){if(typeof t=="function"&&(o=t,t=void 0),typeof r=="function"&&(o=r,r=null),!(this.readyState==="closing"||this.readyState==="closed")){r=r||{},r.compress=r.compress!==!1;var u={type:e,data:t,options:r};this.emit("packetCreate",u),this.writeBuffer.push(u),o&&this.once("flush",o),this.flush()}};Socket$1.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():t()}):this.upgrading?o():t()}function t(){e.onClose("forced close"),debug$3("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function o(){e.once("upgrade",r),e.once("upgradeError",r)}return this};Socket$1.prototype.onError=function(e){debug$3("socket error %j",e),Socket$1.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)};Socket$1.prototype.onClose=function(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){debug$3('socket close with reason: "%s"',e);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),r.writeBuffer=[],r.prevBufferLen=0}};Socket$1.prototype.filterUpgrades=function(e){for(var t=[],r=0,o=e.length;r<o;r++)~index(this.transports,e[r])&&t.push(e[r]);return t};lib$1.exports=socket$1;lib$1.exports.parser=browser$4;var libExports$2=lib$1.exports,socket={exports:{}},toArray_1=toArray;function toArray(e,t){var r=[];t=t||0;for(var o=t||0;o<e.length;o++)r[o-t]=e[o];return r}var on_1=on$1;function on$1(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}var slice=[].slice,componentBind=function(e,t){if(typeof t=="string"&&(t=e[t]),typeof t!="function")throw new Error("bind() requires a function");var r=slice.call(arguments,2);return function(){return t.apply(e,r.concat(slice.call(arguments)))}};(function(e,t){var r=socket_ioParser,o=componentEmitterExports,u=toArray_1,f=on_1,g=componentBind,b=browserExports$4("socket.io-client:socket"),S=parseqs$3,T=hasBinary2;e.exports=M;var $={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},A=o.prototype.emit;function M(O,D,U){this.io=O,this.nsp=D,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},U&&U.query&&(this.query=U.query),this.io.autoConnect&&this.open()}o(M.prototype),M.prototype.subEvents=function(){if(!this.subs){var O=this.io;this.subs=[f(O,"open",g(this,"onopen")),f(O,"packet",g(this,"onpacket")),f(O,"close",g(this,"onclose"))]}},M.prototype.open=M.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},M.prototype.send=function(){var O=u(arguments);return O.unshift("message"),this.emit.apply(this,O),this},M.prototype.emit=function(O){if($.hasOwnProperty(O))return A.apply(this,arguments),this;var D=u(arguments),U={type:(this.flags.binary!==void 0?this.flags.binary:T(D))?r.BINARY_EVENT:r.EVENT,data:D};return U.options={},U.options.compress=!this.flags||this.flags.compress!==!1,typeof D[D.length-1]=="function"&&(b("emitting packet with ack id %d",this.ids),this.acks[this.ids]=D.pop(),U.id=this.ids++),this.connected?this.packet(U):this.sendBuffer.push(U),this.flags={},this},M.prototype.packet=function(O){O.nsp=this.nsp,this.io.packet(O)},M.prototype.onopen=function(){if(b("transport is open - connecting"),this.nsp!=="/")if(this.query){var O=typeof this.query=="object"?S.encode(this.query):this.query;b("sending connect packet with query %s",O),this.packet({type:r.CONNECT,query:O})}else this.packet({type:r.CONNECT})},M.prototype.onclose=function(O){b("close (%s)",O),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",O)},M.prototype.onpacket=function(O){var D=O.nsp===this.nsp,U=O.type===r.ERROR&&O.nsp==="/";if(!(!D&&!U))switch(O.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(O);break;case r.BINARY_EVENT:this.onevent(O);break;case r.ACK:this.onack(O);break;case r.BINARY_ACK:this.onack(O);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",O.data);break}},M.prototype.onevent=function(O){var D=O.data||[];b("emitting event %j",D),O.id!=null&&(b("attaching ack callback to event"),D.push(this.ack(O.id))),this.connected?A.apply(this,D):this.receiveBuffer.push(D)},M.prototype.ack=function(O){var D=this,U=!1;return function(){if(!U){U=!0;var F=u(arguments);b("sending ack %j",F),D.packet({type:T(F)?r.BINARY_ACK:r.ACK,id:O,data:F})}}},M.prototype.onack=function(O){var D=this.acks[O.id];typeof D=="function"?(b("calling ack %s with %j",O.id,O.data),D.apply(this,O.data),delete this.acks[O.id]):b("bad ack %s",O.id)},M.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},M.prototype.emitBuffered=function(){var O;for(O=0;O<this.receiveBuffer.length;O++)A.apply(this,this.receiveBuffer[O]);for(this.receiveBuffer=[],O=0;O<this.sendBuffer.length;O++)this.packet(this.sendBuffer[O]);this.sendBuffer=[]},M.prototype.ondisconnect=function(){b("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},M.prototype.destroy=function(){if(this.subs){for(var O=0;O<this.subs.length;O++)this.subs[O].destroy();this.subs=null}this.io.destroy(this)},M.prototype.close=M.prototype.disconnect=function(){return this.connected&&(b("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},M.prototype.compress=function(O){return this.flags.compress=O,this},M.prototype.binary=function(O){return this.flags.binary=O,this}})(socket);var socketExports=socket.exports,backo2=Backoff$1;function Backoff$1(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Backoff$1.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Backoff$1.prototype.reset=function(){this.attempts=0};Backoff$1.prototype.setMin=function(e){this.ms=e};Backoff$1.prototype.setMax=function(e){this.max=e};Backoff$1.prototype.setJitter=function(e){this.jitter=e};var eio=libExports$2,Socket=socketExports,Emitter=componentEmitterExports,parser=socket_ioParser,on=on_1,bind=componentBind,debug$2=browserExports$4("socket.io-client:manager"),indexOf$1=indexof,Backoff=backo2,has=Object.prototype.hasOwnProperty,manager=Manager;function Manager(e,t){if(!(this instanceof Manager))return new Manager(e,t);e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||parser;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)has.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)};Manager.prototype.updateSocketIds=function(){for(var e in this.nsps)has.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))};Manager.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id};Emitter(Manager.prototype);Manager.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection};Manager.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts};Manager.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay};Manager.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor};Manager.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax};Manager.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout};Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};Manager.prototype.open=Manager.prototype.connect=function(e,t){if(debug$2("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;debug$2("opening %s",this.uri),this.engine=eio(this.uri,this.opts);var r=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var u=on(r,"open",function(){o.onopen(),e&&e()}),f=on(r,"error",function(S){if(debug$2("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",S),e){var T=new Error("Connection error");T.data=S,e(T)}else o.maybeReconnectOnOpen()});if(this._timeout!==!1){var g=this._timeout;debug$2("connect attempt will timeout after %d",g),g===0&&u.destroy();var b=setTimeout(function(){debug$2("connect attempt timed out after %d",g),u.destroy(),r.close(),r.emit("error","timeout"),o.emitAll("connect_timeout",g)},g);this.subs.push({destroy:function(){clearTimeout(b)}})}return this.subs.push(u),this.subs.push(f),this};Manager.prototype.onopen=function(){debug$2("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(on(e,"data",bind(this,"ondata"))),this.subs.push(on(e,"ping",bind(this,"onping"))),this.subs.push(on(e,"pong",bind(this,"onpong"))),this.subs.push(on(e,"error",bind(this,"onerror"))),this.subs.push(on(e,"close",bind(this,"onclose"))),this.subs.push(on(this.decoder,"decoded",bind(this,"ondecoded")))};Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};Manager.prototype.ondata=function(e){this.decoder.add(e)};Manager.prototype.ondecoded=function(e){this.emit("packet",e)};Manager.prototype.onerror=function(e){debug$2("error",e),this.emitAll("error",e)};Manager.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new Socket(this,e,t),this.nsps[e]=r;var o=this;r.on("connecting",u),r.on("connect",function(){r.id=o.generateId(e)}),this.autoConnect&&u()}function u(){~indexOf$1(o.connecting,r)||o.connecting.push(r)}return r};Manager.prototype.destroy=function(e){var t=indexOf$1(this.connecting,e);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};Manager.prototype.packet=function(e){debug$2("writing packet %j",e);var t=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var o=0;o<r.length;o++)t.engine.write(r[o],e.options);t.encoding=!1,t.processPacketQueue()}))};Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};Manager.prototype.cleanup=function(){debug$2("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var r=this.subs.shift();r.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};Manager.prototype.close=Manager.prototype.disconnect=function(){debug$2("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};Manager.prototype.onclose=function(e){debug$2("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()};Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)debug$2("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();debug$2("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout(function(){e.skipReconnect||(debug$2("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(o){o?(debug$2("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",o.data)):(debug$2("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}};Manager.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};(function(e,t){var r=url_1,o=socket_ioParser,u=manager,f=browserExports$4("socket.io-client");e.exports=t=b;var g=t.managers={};function b(S,T){typeof S=="object"&&(T=S,S=void 0),T=T||{};var $=r(S),A=$.source,M=$.id,O=$.path,D=g[M]&&O in g[M].nsps,U=T.forceNew||T["force new connection"]||T.multiplex===!1||D,F;return U?(f("ignoring socket cache for %s",A),F=u(A,T)):(g[M]||(f("new io instance for %s",A),g[M]=u(A,T)),F=g[M]),$.query&&!T.query&&(T.query=$.query),F.socket($.path,T)}t.protocol=o.protocol,t.connect=b,t.Manager=manager,t.Socket=socketExports})(lib$2,lib$2.exports);var libExports$1=lib$2.exports;const io=getDefaultExportFromCjs(libExports$1);var browser$2={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,w=d*7,y=d*365.25,ms=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return parse(e);if(r==="number"&&isFinite(e))return t.long?fmtLong(e):fmtShort(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"weeks":case"week":case"w":return r*w;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort(e){var t=Math.abs(e);return t>=d?Math.round(e/d)+"d":t>=h?Math.round(e/h)+"h":t>=m?Math.round(e/m)+"m":t>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){var t=Math.abs(e);return t>=d?plural(e,t,d,"day"):t>=h?plural(e,t,h,"hour"):t>=m?plural(e,t,m,"minute"):t>=s?plural(e,t,s,"second"):e+" ms"}function plural(e,t,r,o){var u=t>=r*1.5;return Math.round(e/r)+" "+o+(u?"s":"")}function setup(e){r.debug=r,r.default=r,r.coerce=S,r.disable=f,r.enable=u,r.enabled=g,r.humanize=ms,r.destroy=T,Object.keys(e).forEach($=>{r[$]=e[$]}),r.names=[],r.skips=[],r.formatters={};function t($){let A=0;for(let M=0;M<$.length;M++)A=(A<<5)-A+$.charCodeAt(M),A|=0;return r.colors[Math.abs(A)%r.colors.length]}r.selectColor=t;function r($){let A,M=null,O,D;function U(...F){if(!U.enabled)return;const P=U,oe=Number(new Date),Me=oe-(A||oe);P.diff=Me,P.prev=A,P.curr=oe,A=oe,F[0]=r.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let he=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(xe,Ce)=>{if(xe==="%%")return"%";he++;const De=r.formatters[Ce];if(typeof De=="function"){const et=F[he];xe=De.call(P,et),F.splice(he,1),he--}return xe}),r.formatArgs.call(P,F),(P.log||r.log).apply(P,F)}return U.namespace=$,U.useColors=r.useColors(),U.color=r.selectColor($),U.extend=o,U.destroy=r.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>M!==null?M:(O!==r.namespaces&&(O=r.namespaces,D=r.enabled($)),D),set:F=>{M=F}}),typeof r.init=="function"&&r.init(U),U}function o($,A){const M=r(this.namespace+(typeof A>"u"?":":A)+$);return M.log=this.log,M}function u($){r.save($),r.namespaces=$,r.names=[],r.skips=[];let A;const M=(typeof $=="string"?$:"").split(/[\s,]+/),O=M.length;for(A=0;A<O;A++)M[A]&&($=M[A].replace(/\*/g,".*?"),$[0]==="-"?r.skips.push(new RegExp("^"+$.substr(1)+"$")):r.names.push(new RegExp("^"+$+"$")))}function f(){const $=[...r.names.map(b),...r.skips.map(b).map(A=>"-"+A)].join(",");return r.enable(""),$}function g($){if($[$.length-1]==="*")return!0;let A,M;for(A=0,M=r.skips.length;A<M;A++)if(r.skips[A].test($))return!1;for(A=0,M=r.names.length;A<M;A++)if(r.names[A].test($))return!0;return!1}function b($){return $.toString().substring(2,$.toString().length-2).replace(/\.\*\?$/,"*")}function S($){return $ instanceof Error?$.stack||$.message:$}function T(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var common=setup;(function(e,t){t.formatArgs=o,t.save=u,t.load=f,t.useColors=r,t.storage=g(),t.destroy=(()=>{let S=!1;return()=>{S||(S=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(S){if(S[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+S[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const T="color: "+this.color;S.splice(1,0,T,"color: inherit");let $=0,A=0;S[0].replace(/%[a-zA-Z%]/g,M=>{M!=="%%"&&($++,M==="%c"&&(A=$))}),S.splice(A,0,T)}t.log=console.debug||console.log||(()=>{});function u(S){try{S?t.storage.setItem("debug",S):t.storage.removeItem("debug")}catch{}}function f(){let S;try{S=t.storage.getItem("debug")}catch{}return!S&&typeof process<"u"&&"env"in process&&(S={}.DEBUG),S}function g(){try{return localStorage}catch{}}e.exports=common(t);const{formatters:b}=e.exports;b.j=function(S){try{return JSON.stringify(S)}catch(T){return"[UnexpectedJSONParseError]: "+T.message}}})(browser$2,browser$2.exports);var browserExports$1=browser$2.exports,getBrowserRtc=function e(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null},browser$1={exports:{}},safeBuffer={exports:{}},buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup$1[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var o=r===t?0:4-r%4;return[r,o]}function byteLength(e){var t=getLens(e),r=t[0],o=t[1];return(r+o)*3/4-o}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t,r=getLens(e),o=r[0],u=r[1],f=new Arr(_byteLength(e,o,u)),g=0,b=u>0?o-4:o,S;for(S=0;S<b;S+=4)t=revLookup[e.charCodeAt(S)]<<18|revLookup[e.charCodeAt(S+1)]<<12|revLookup[e.charCodeAt(S+2)]<<6|revLookup[e.charCodeAt(S+3)],f[g++]=t>>16&255,f[g++]=t>>8&255,f[g++]=t&255;return u===2&&(t=revLookup[e.charCodeAt(S)]<<2|revLookup[e.charCodeAt(S+1)]>>4,f[g++]=t&255),u===1&&(t=revLookup[e.charCodeAt(S)]<<10|revLookup[e.charCodeAt(S+1)]<<4|revLookup[e.charCodeAt(S+2)]>>2,f[g++]=t>>8&255,f[g++]=t&255),f}function tripletToBase64(e){return lookup$1[e>>18&63]+lookup$1[e>>12&63]+lookup$1[e>>6&63]+lookup$1[e&63]}function encodeChunk(e,t,r){for(var o,u=[],f=t;f<r;f+=3)o=(e[f]<<16&16711680)+(e[f+1]<<8&65280)+(e[f+2]&255),u.push(tripletToBase64(o));return u.join("")}function fromByteArray(e){for(var t,r=e.length,o=r%3,u=[],f=16383,g=0,b=r-o;g<b;g+=f)u.push(encodeChunk(e,g,g+f>b?b:g+f));return o===1?(t=e[r-1],u.push(lookup$1[t>>2]+lookup$1[t<<4&63]+"==")):o===2&&(t=(e[r-2]<<8)+e[r-1],u.push(lookup$1[t>>10]+lookup$1[t>>4&63]+lookup$1[t<<2&63]+"=")),u.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e,t,r,o,u){var f,g,b=u*8-o-1,S=(1<<b)-1,T=S>>1,$=-7,A=r?u-1:0,M=r?-1:1,O=e[t+A];for(A+=M,f=O&(1<<-$)-1,O>>=-$,$+=b;$>0;f=f*256+e[t+A],A+=M,$-=8);for(g=f&(1<<-$)-1,f>>=-$,$+=o;$>0;g=g*256+e[t+A],A+=M,$-=8);if(f===0)f=1-T;else{if(f===S)return g?NaN:(O?-1:1)*(1/0);g=g+Math.pow(2,o),f=f-T}return(O?-1:1)*g*Math.pow(2,f-o)};ieee754.write=function(e,t,r,o,u,f){var g,b,S,T=f*8-u-1,$=(1<<T)-1,A=$>>1,M=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=o?0:f-1,D=o?1:-1,U=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(b=isNaN(t)?1:0,g=$):(g=Math.floor(Math.log(t)/Math.LN2),t*(S=Math.pow(2,-g))<1&&(g--,S*=2),g+A>=1?t+=M/S:t+=M*Math.pow(2,1-A),t*S>=2&&(g++,S/=2),g+A>=$?(b=0,g=$):g+A>=1?(b=(t*S-1)*Math.pow(2,u),g=g+A):(b=t*Math.pow(2,A-1)*Math.pow(2,u),g=0));u>=8;e[r+O]=b&255,O+=D,b/=256,u-=8);for(g=g<<u|b,T+=u;T>0;e[r+O]=g&255,O+=D,g/=256,T-=8);e[r+O-D]|=U*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=base64Js,r=ieee754,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=b,e.SlowBuffer=oe,e.INSPECT_MAX_BYTES=50;const u=2147483647;e.kMaxLength=u,b.TYPED_ARRAY_SUPPORT=f(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const z=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(z,L),z.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function g(z){if(z>u)throw new RangeError('The value "'+z+'" is invalid for option "size"');const L=new Uint8Array(z);return Object.setPrototypeOf(L,b.prototype),L}function b(z,L,I){if(typeof z=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(z)}return S(z,L,I)}b.poolSize=8192;function S(z,L,I){if(typeof z=="string")return M(z,L);if(ArrayBuffer.isView(z))return D(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Fe(z,ArrayBuffer)||z&&Fe(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(z,SharedArrayBuffer)||z&&Fe(z.buffer,SharedArrayBuffer)))return U(z,L,I);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=z.valueOf&&z.valueOf();if(ie!=null&&ie!==z)return b.from(ie,L,I);const Ee=F(z);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return b.from(z[Symbol.toPrimitive]("string"),L,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}b.from=function(z,L,I){return S(z,L,I)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function T(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function $(z,L,I){return T(z),z<=0?g(z):L!==void 0?typeof I=="string"?g(z).fill(L,I):g(z).fill(L):g(z)}b.alloc=function(z,L,I){return $(z,L,I)};function A(z){return T(z),g(z<0?0:P(z)|0)}b.allocUnsafe=function(z){return A(z)},b.allocUnsafeSlow=function(z){return A(z)};function M(z,L){if((typeof L!="string"||L==="")&&(L="utf8"),!b.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const I=Me(z,L)|0;let ie=g(I);const Ee=ie.write(z,L);return Ee!==I&&(ie=ie.slice(0,Ee)),ie}function O(z){const L=z.length<0?0:P(z.length)|0,I=g(L);for(let ie=0;ie<L;ie+=1)I[ie]=z[ie]&255;return I}function D(z){if(Fe(z,Uint8Array)){const L=new Uint8Array(z);return U(L.buffer,L.byteOffset,L.byteLength)}return O(z)}function U(z,L,I){if(L<0||z.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<L+(I||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return L===void 0&&I===void 0?ie=new Uint8Array(z):I===void 0?ie=new Uint8Array(z,L):ie=new Uint8Array(z,L,I),Object.setPrototypeOf(ie,b.prototype),ie}function F(z){if(b.isBuffer(z)){const L=P(z.length)|0,I=g(L);return I.length===0||z.copy(I,0,0,L),I}if(z.length!==void 0)return typeof z.length!="number"||K(z.length)?g(0):O(z);if(z.type==="Buffer"&&Array.isArray(z.data))return O(z.data)}function P(z){if(z>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return z|0}function oe(z){return+z!=z&&(z=0),b.alloc(+z)}b.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==b.prototype},b.compare=function(L,I){if(Fe(L,Uint8Array)&&(L=b.from(L,L.offset,L.byteLength)),Fe(I,Uint8Array)&&(I=b.from(I,I.offset,I.byteLength)),!b.isBuffer(L)||!b.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===I)return 0;let ie=L.length,Ee=I.length;for(let Be=0,Ye=Math.min(ie,Ee);Be<Ye;++Be)if(L[Be]!==I[Be]){ie=L[Be],Ee=I[Be];break}return ie<Ee?-1:Ee<ie?1:0},b.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(L,I){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return b.alloc(0);let ie;if(I===void 0)for(I=0,ie=0;ie<L.length;++ie)I+=L[ie].length;const Ee=b.allocUnsafe(I);let Be=0;for(ie=0;ie<L.length;++ie){let Ye=L[ie];if(Fe(Ye,Uint8Array))Be+Ye.length>Ee.length?(b.isBuffer(Ye)||(Ye=b.from(Ye)),Ye.copy(Ee,Be)):Uint8Array.prototype.set.call(Ee,Ye,Be);else if(b.isBuffer(Ye))Ye.copy(Ee,Be);else throw new TypeError('"list" argument must be an Array of Buffers');Be+=Ye.length}return Ee};function Me(z,L){if(b.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Fe(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const I=z.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&I===0)return 0;let Ee=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return jr(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return pi(z).length;default:if(Ee)return ie?-1:jr(z).length;L=(""+L).toLowerCase(),Ee=!0}}b.byteLength=Me;function he(z,L,I){let ie=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,L>>>=0,I<=L))return"";for(z||(z="utf8");;)switch(z){case"hex":return ve(this,L,I);case"utf8":case"utf-8":return Se(this,L,I);case"ascii":return G(this,L,I);case"latin1":case"binary":return H(this,L,I);case"base64":return me(this,L,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,L,I);default:if(ie)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),ie=!0}}b.prototype._isBuffer=!0;function de(z,L,I){const ie=z[L];z[L]=z[I],z[I]=ie}b.prototype.swap16=function(){const L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<L;I+=2)de(this,I,I+1);return this},b.prototype.swap32=function(){const L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<L;I+=4)de(this,I,I+3),de(this,I+1,I+2);return this},b.prototype.swap64=function(){const L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<L;I+=8)de(this,I,I+7),de(this,I+1,I+6),de(this,I+2,I+5),de(this,I+3,I+4);return this},b.prototype.toString=function(){const L=this.length;return L===0?"":arguments.length===0?Se(this,0,L):he.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(L){if(!b.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:b.compare(this,L)===0},b.prototype.inspect=function(){let L="";const I=e.INSPECT_MAX_BYTES;return L=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(L+=" ... "),"<Buffer "+L+">"},o&&(b.prototype[o]=b.prototype.inspect),b.prototype.compare=function(L,I,ie,Ee,Be){if(Fe(L,Uint8Array)&&(L=b.from(L,L.offset,L.byteLength)),!b.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(I===void 0&&(I=0),ie===void 0&&(ie=L?L.length:0),Ee===void 0&&(Ee=0),Be===void 0&&(Be=this.length),I<0||ie>L.length||Ee<0||Be>this.length)throw new RangeError("out of range index");if(Ee>=Be&&I>=ie)return 0;if(Ee>=Be)return-1;if(I>=ie)return 1;if(I>>>=0,ie>>>=0,Ee>>>=0,Be>>>=0,this===L)return 0;let Ye=Be-Ee,Nt=ie-I;const Zt=Math.min(Ye,Nt),gr=this.slice(Ee,Be),ar=L.slice(I,ie);for(let dr=0;dr<Zt;++dr)if(gr[dr]!==ar[dr]){Ye=gr[dr],Nt=ar[dr];break}return Ye<Nt?-1:Nt<Ye?1:0};function xe(z,L,I,ie,Ee){if(z.length===0)return-1;if(typeof I=="string"?(ie=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,K(I)&&(I=Ee?0:z.length-1),I<0&&(I=z.length+I),I>=z.length){if(Ee)return-1;I=z.length-1}else if(I<0)if(Ee)I=0;else return-1;if(typeof L=="string"&&(L=b.from(L,ie)),b.isBuffer(L))return L.length===0?-1:Ce(z,L,I,ie,Ee);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?Ee?Uint8Array.prototype.indexOf.call(z,L,I):Uint8Array.prototype.lastIndexOf.call(z,L,I):Ce(z,[L],I,ie,Ee);throw new TypeError("val must be string, number or Buffer")}function Ce(z,L,I,ie,Ee){let Be=1,Ye=z.length,Nt=L.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(z.length<2||L.length<2)return-1;Be=2,Ye/=2,Nt/=2,I/=2}function Zt(ar,dr){return Be===1?ar[dr]:ar.readUInt16BE(dr*Be)}let gr;if(Ee){let ar=-1;for(gr=I;gr<Ye;gr++)if(Zt(z,gr)===Zt(L,ar===-1?0:gr-ar)){if(ar===-1&&(ar=gr),gr-ar+1===Nt)return ar*Be}else ar!==-1&&(gr-=gr-ar),ar=-1}else for(I+Nt>Ye&&(I=Ye-Nt),gr=I;gr>=0;gr--){let ar=!0;for(let dr=0;dr<Nt;dr++)if(Zt(z,gr+dr)!==Zt(L,dr)){ar=!1;break}if(ar)return gr}return-1}b.prototype.includes=function(L,I,ie){return this.indexOf(L,I,ie)!==-1},b.prototype.indexOf=function(L,I,ie){return xe(this,L,I,ie,!0)},b.prototype.lastIndexOf=function(L,I,ie){return xe(this,L,I,ie,!1)};function De(z,L,I,ie){I=Number(I)||0;const Ee=z.length-I;ie?(ie=Number(ie),ie>Ee&&(ie=Ee)):ie=Ee;const Be=L.length;ie>Be/2&&(ie=Be/2);let Ye;for(Ye=0;Ye<ie;++Ye){const Nt=parseInt(L.substr(Ye*2,2),16);if(K(Nt))return Ye;z[I+Ye]=Nt}return Ye}function et(z,L,I,ie){return Wi(jr(L,z.length-I),z,I,ie)}function Ve(z,L,I,ie){return Wi(Ft(L),z,I,ie)}function Ze(z,L,I,ie){return Wi(pi(L),z,I,ie)}function se(z,L,I,ie){return Wi(Ai(L,z.length-I),z,I,ie)}b.prototype.write=function(L,I,ie,Ee){if(I===void 0)Ee="utf8",ie=this.length,I=0;else if(ie===void 0&&typeof I=="string")Ee=I,ie=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(ie)?(ie=ie>>>0,Ee===void 0&&(Ee="utf8")):(Ee=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Be=this.length-I;if((ie===void 0||ie>Be)&&(ie=Be),L.length>0&&(ie<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let Ye=!1;for(;;)switch(Ee){case"hex":return De(this,L,I,ie);case"utf8":case"utf-8":return et(this,L,I,ie);case"ascii":case"latin1":case"binary":return Ve(this,L,I,ie);case"base64":return Ze(this,L,I,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,L,I,ie);default:if(Ye)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Ye=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function me(z,L,I){return L===0&&I===z.length?t.fromByteArray(z):t.fromByteArray(z.slice(L,I))}function Se(z,L,I){I=Math.min(z.length,I);const ie=[];let Ee=L;for(;Ee<I;){const Be=z[Ee];let Ye=null,Nt=Be>239?4:Be>223?3:Be>191?2:1;if(Ee+Nt<=I){let Zt,gr,ar,dr;switch(Nt){case 1:Be<128&&(Ye=Be);break;case 2:Zt=z[Ee+1],(Zt&192)===128&&(dr=(Be&31)<<6|Zt&63,dr>127&&(Ye=dr));break;case 3:Zt=z[Ee+1],gr=z[Ee+2],(Zt&192)===128&&(gr&192)===128&&(dr=(Be&15)<<12|(Zt&63)<<6|gr&63,dr>2047&&(dr<55296||dr>57343)&&(Ye=dr));break;case 4:Zt=z[Ee+1],gr=z[Ee+2],ar=z[Ee+3],(Zt&192)===128&&(gr&192)===128&&(ar&192)===128&&(dr=(Be&15)<<18|(Zt&63)<<12|(gr&63)<<6|ar&63,dr>65535&&dr<1114112&&(Ye=dr))}}Ye===null?(Ye=65533,Nt=1):Ye>65535&&(Ye-=65536,ie.push(Ye>>>10&1023|55296),Ye=56320|Ye&1023),ie.push(Ye),Ee+=Nt}return Q(ie)}const Y=4096;function Q(z){const L=z.length;if(L<=Y)return String.fromCharCode.apply(String,z);let I="",ie=0;for(;ie<L;)I+=String.fromCharCode.apply(String,z.slice(ie,ie+=Y));return I}function G(z,L,I){let ie="";I=Math.min(z.length,I);for(let Ee=L;Ee<I;++Ee)ie+=String.fromCharCode(z[Ee]&127);return ie}function H(z,L,I){let ie="";I=Math.min(z.length,I);for(let Ee=L;Ee<I;++Ee)ie+=String.fromCharCode(z[Ee]);return ie}function ve(z,L,I){const ie=z.length;(!L||L<0)&&(L=0),(!I||I<0||I>ie)&&(I=ie);let Ee="";for(let Be=L;Be<I;++Be)Ee+=un[z[Be]];return Ee}function Ue(z,L,I){const ie=z.slice(L,I);let Ee="";for(let Be=0;Be<ie.length-1;Be+=2)Ee+=String.fromCharCode(ie[Be]+ie[Be+1]*256);return Ee}b.prototype.slice=function(L,I){const ie=this.length;L=~~L,I=I===void 0?ie:~~I,L<0?(L+=ie,L<0&&(L=0)):L>ie&&(L=ie),I<0?(I+=ie,I<0&&(I=0)):I>ie&&(I=ie),I<L&&(I=L);const Ee=this.subarray(L,I);return Object.setPrototypeOf(Ee,b.prototype),Ee};function qe(z,L,I){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+L>I)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(L,I,ie){L=L>>>0,I=I>>>0,ie||qe(L,I,this.length);let Ee=this[L],Be=1,Ye=0;for(;++Ye<I&&(Be*=256);)Ee+=this[L+Ye]*Be;return Ee},b.prototype.readUintBE=b.prototype.readUIntBE=function(L,I,ie){L=L>>>0,I=I>>>0,ie||qe(L,I,this.length);let Ee=this[L+--I],Be=1;for(;I>0&&(Be*=256);)Ee+=this[L+--I]*Be;return Ee},b.prototype.readUint8=b.prototype.readUInt8=function(L,I){return L=L>>>0,I||qe(L,1,this.length),this[L]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(L,I){return L=L>>>0,I||qe(L,2,this.length),this[L]|this[L+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(L,I){return L=L>>>0,I||qe(L,2,this.length),this[L]<<8|this[L+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(L,I){return L=L>>>0,I||qe(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(L,I){return L=L>>>0,I||qe(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},b.prototype.readBigUInt64LE=Qr(function(L){L=L>>>0,Er(L,"offset");const I=this[L],ie=this[L+7];(I===void 0||ie===void 0)&&_t(L,this.length-8);const Ee=I+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24,Be=this[++L]+this[++L]*2**8+this[++L]*2**16+ie*2**24;return BigInt(Ee)+(BigInt(Be)<<BigInt(32))}),b.prototype.readBigUInt64BE=Qr(function(L){L=L>>>0,Er(L,"offset");const I=this[L],ie=this[L+7];(I===void 0||ie===void 0)&&_t(L,this.length-8);const Ee=I*2**24+this[++L]*2**16+this[++L]*2**8+this[++L],Be=this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+ie;return(BigInt(Ee)<<BigInt(32))+BigInt(Be)}),b.prototype.readIntLE=function(L,I,ie){L=L>>>0,I=I>>>0,ie||qe(L,I,this.length);let Ee=this[L],Be=1,Ye=0;for(;++Ye<I&&(Be*=256);)Ee+=this[L+Ye]*Be;return Be*=128,Ee>=Be&&(Ee-=Math.pow(2,8*I)),Ee},b.prototype.readIntBE=function(L,I,ie){L=L>>>0,I=I>>>0,ie||qe(L,I,this.length);let Ee=I,Be=1,Ye=this[L+--Ee];for(;Ee>0&&(Be*=256);)Ye+=this[L+--Ee]*Be;return Be*=128,Ye>=Be&&(Ye-=Math.pow(2,8*I)),Ye},b.prototype.readInt8=function(L,I){return L=L>>>0,I||qe(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},b.prototype.readInt16LE=function(L,I){L=L>>>0,I||qe(L,2,this.length);const ie=this[L]|this[L+1]<<8;return ie&32768?ie|4294901760:ie},b.prototype.readInt16BE=function(L,I){L=L>>>0,I||qe(L,2,this.length);const ie=this[L+1]|this[L]<<8;return ie&32768?ie|4294901760:ie},b.prototype.readInt32LE=function(L,I){return L=L>>>0,I||qe(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},b.prototype.readInt32BE=function(L,I){return L=L>>>0,I||qe(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},b.prototype.readBigInt64LE=Qr(function(L){L=L>>>0,Er(L,"offset");const I=this[L],ie=this[L+7];(I===void 0||ie===void 0)&&_t(L,this.length-8);const Ee=this[L+4]+this[L+5]*2**8+this[L+6]*2**16+(ie<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(I+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24)}),b.prototype.readBigInt64BE=Qr(function(L){L=L>>>0,Er(L,"offset");const I=this[L],ie=this[L+7];(I===void 0||ie===void 0)&&_t(L,this.length-8);const Ee=(I<<24)+this[++L]*2**16+this[++L]*2**8+this[++L];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+ie)}),b.prototype.readFloatLE=function(L,I){return L=L>>>0,I||qe(L,4,this.length),r.read(this,L,!0,23,4)},b.prototype.readFloatBE=function(L,I){return L=L>>>0,I||qe(L,4,this.length),r.read(this,L,!1,23,4)},b.prototype.readDoubleLE=function(L,I){return L=L>>>0,I||qe(L,8,this.length),r.read(this,L,!0,52,8)},b.prototype.readDoubleBE=function(L,I){return L=L>>>0,I||qe(L,8,this.length),r.read(this,L,!1,52,8)};function ut(z,L,I,ie,Ee,Be){if(!b.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>Ee||L<Be)throw new RangeError('"value" argument is out of bounds');if(I+ie>z.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(L,I,ie,Ee){if(L=+L,I=I>>>0,ie=ie>>>0,!Ee){const Nt=Math.pow(2,8*ie)-1;ut(this,L,I,ie,Nt,0)}let Be=1,Ye=0;for(this[I]=L&255;++Ye<ie&&(Be*=256);)this[I+Ye]=L/Be&255;return I+ie},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(L,I,ie,Ee){if(L=+L,I=I>>>0,ie=ie>>>0,!Ee){const Nt=Math.pow(2,8*ie)-1;ut(this,L,I,ie,Nt,0)}let Be=ie-1,Ye=1;for(this[I+Be]=L&255;--Be>=0&&(Ye*=256);)this[I+Be]=L/Ye&255;return I+ie},b.prototype.writeUint8=b.prototype.writeUInt8=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,1,255,0),this[I]=L&255,I+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,2,65535,0),this[I]=L&255,this[I+1]=L>>>8,I+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,2,65535,0),this[I]=L>>>8,this[I+1]=L&255,I+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,4,4294967295,0),this[I+3]=L>>>24,this[I+2]=L>>>16,this[I+1]=L>>>8,this[I]=L&255,I+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,4,4294967295,0),this[I]=L>>>24,this[I+1]=L>>>16,this[I+2]=L>>>8,this[I+3]=L&255,I+4};function gt(z,L,I,ie,Ee){or(L,ie,Ee,z,I,7);let Be=Number(L&BigInt(4294967295));z[I++]=Be,Be=Be>>8,z[I++]=Be,Be=Be>>8,z[I++]=Be,Be=Be>>8,z[I++]=Be;let Ye=Number(L>>BigInt(32)&BigInt(4294967295));return z[I++]=Ye,Ye=Ye>>8,z[I++]=Ye,Ye=Ye>>8,z[I++]=Ye,Ye=Ye>>8,z[I++]=Ye,I}function wt(z,L,I,ie,Ee){or(L,ie,Ee,z,I,7);let Be=Number(L&BigInt(4294967295));z[I+7]=Be,Be=Be>>8,z[I+6]=Be,Be=Be>>8,z[I+5]=Be,Be=Be>>8,z[I+4]=Be;let Ye=Number(L>>BigInt(32)&BigInt(4294967295));return z[I+3]=Ye,Ye=Ye>>8,z[I+2]=Ye,Ye=Ye>>8,z[I+1]=Ye,Ye=Ye>>8,z[I]=Ye,I+8}b.prototype.writeBigUInt64LE=Qr(function(L,I=0){return gt(this,L,I,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Qr(function(L,I=0){return wt(this,L,I,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(L,I,ie,Ee){if(L=+L,I=I>>>0,!Ee){const Zt=Math.pow(2,8*ie-1);ut(this,L,I,ie,Zt-1,-Zt)}let Be=0,Ye=1,Nt=0;for(this[I]=L&255;++Be<ie&&(Ye*=256);)L<0&&Nt===0&&this[I+Be-1]!==0&&(Nt=1),this[I+Be]=(L/Ye>>0)-Nt&255;return I+ie},b.prototype.writeIntBE=function(L,I,ie,Ee){if(L=+L,I=I>>>0,!Ee){const Zt=Math.pow(2,8*ie-1);ut(this,L,I,ie,Zt-1,-Zt)}let Be=ie-1,Ye=1,Nt=0;for(this[I+Be]=L&255;--Be>=0&&(Ye*=256);)L<0&&Nt===0&&this[I+Be+1]!==0&&(Nt=1),this[I+Be]=(L/Ye>>0)-Nt&255;return I+ie},b.prototype.writeInt8=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,1,127,-128),L<0&&(L=255+L+1),this[I]=L&255,I+1},b.prototype.writeInt16LE=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,2,32767,-32768),this[I]=L&255,this[I+1]=L>>>8,I+2},b.prototype.writeInt16BE=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,2,32767,-32768),this[I]=L>>>8,this[I+1]=L&255,I+2},b.prototype.writeInt32LE=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,4,2147483647,-2147483648),this[I]=L&255,this[I+1]=L>>>8,this[I+2]=L>>>16,this[I+3]=L>>>24,I+4},b.prototype.writeInt32BE=function(L,I,ie){return L=+L,I=I>>>0,ie||ut(this,L,I,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[I]=L>>>24,this[I+1]=L>>>16,this[I+2]=L>>>8,this[I+3]=L&255,I+4},b.prototype.writeBigInt64LE=Qr(function(L,I=0){return gt(this,L,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Qr(function(L,I=0){return wt(this,L,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ct(z,L,I,ie,Ee,Be){if(I+ie>z.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function er(z,L,I,ie,Ee){return L=+L,I=I>>>0,Ee||Ct(z,L,I,4),r.write(z,L,I,ie,23,4),I+4}b.prototype.writeFloatLE=function(L,I,ie){return er(this,L,I,!0,ie)},b.prototype.writeFloatBE=function(L,I,ie){return er(this,L,I,!1,ie)};function Ut(z,L,I,ie,Ee){return L=+L,I=I>>>0,Ee||Ct(z,L,I,8),r.write(z,L,I,ie,52,8),I+8}b.prototype.writeDoubleLE=function(L,I,ie){return Ut(this,L,I,!0,ie)},b.prototype.writeDoubleBE=function(L,I,ie){return Ut(this,L,I,!1,ie)},b.prototype.copy=function(L,I,ie,Ee){if(!b.isBuffer(L))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!Ee&&Ee!==0&&(Ee=this.length),I>=L.length&&(I=L.length),I||(I=0),Ee>0&&Ee<ie&&(Ee=ie),Ee===ie||L.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),L.length-I<Ee-ie&&(Ee=L.length-I+ie);const Be=Ee-ie;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,ie,Ee):Uint8Array.prototype.set.call(L,this.subarray(ie,Ee),I),Be},b.prototype.fill=function(L,I,ie,Ee){if(typeof L=="string"){if(typeof I=="string"?(Ee=I,I=0,ie=this.length):typeof ie=="string"&&(Ee=ie,ie=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!b.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(L.length===1){const Ye=L.charCodeAt(0);(Ee==="utf8"&&Ye<128||Ee==="latin1")&&(L=Ye)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(I<0||this.length<I||this.length<ie)throw new RangeError("Out of range index");if(ie<=I)return this;I=I>>>0,ie=ie===void 0?this.length:ie>>>0,L||(L=0);let Be;if(typeof L=="number")for(Be=I;Be<ie;++Be)this[Be]=L;else{const Ye=b.isBuffer(L)?L:b.from(L,Ee),Nt=Ye.length;if(Nt===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(Be=0;Be<ie-I;++Be)this[Be+I]=Ye[Be%Nt]}return this};const _r={};function pr(z,L,I){_r[z]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}pr("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pr("ERR_INVALID_ARG_TYPE",function(z,L){return`The "${z}" argument must be of type number. Received type ${typeof L}`},TypeError),pr("ERR_OUT_OF_RANGE",function(z,L,I){let ie=`The value of "${z}" is out of range.`,Ee=I;return Number.isInteger(I)&&Math.abs(I)>2**32?Ee=Mr(String(I)):typeof I=="bigint"&&(Ee=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(Ee=Mr(Ee)),Ee+="n"),ie+=` It must be ${L}. Received ${Ee}`,ie},RangeError);function Mr(z){let L="",I=z.length;const ie=z[0]==="-"?1:0;for(;I>=ie+4;I-=3)L=`_${z.slice(I-3,I)}${L}`;return`${z.slice(0,I)}${L}`}function Hr(z,L,I){Er(L,"offset"),(z[L]===void 0||z[L+I]===void 0)&&_t(L,z.length-(I+1))}function or(z,L,I,ie,Ee,Be){if(z>I||z<L){const Ye=typeof L=="bigint"?"n":"";let Nt;throw Be>3?L===0||L===BigInt(0)?Nt=`>= 0${Ye} and < 2${Ye} ** ${(Be+1)*8}${Ye}`:Nt=`>= -(2${Ye} ** ${(Be+1)*8-1}${Ye}) and < 2 ** ${(Be+1)*8-1}${Ye}`:Nt=`>= ${L}${Ye} and <= ${I}${Ye}`,new _r.ERR_OUT_OF_RANGE("value",Nt,z)}Hr(ie,Ee,Be)}function Er(z,L){if(typeof z!="number")throw new _r.ERR_INVALID_ARG_TYPE(L,"number",z)}function _t(z,L,I){throw Math.floor(z)!==z?(Er(z,I),new _r.ERR_OUT_OF_RANGE(I||"offset","an integer",z)):L<0?new _r.ERR_BUFFER_OUT_OF_BOUNDS:new _r.ERR_OUT_OF_RANGE(I||"offset",`>= ${I?1:0} and <= ${L}`,z)}const rr=/[^+/0-9A-Za-z-_]/g;function Mi(z){if(z=z.split("=")[0],z=z.trim().replace(rr,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function jr(z,L){L=L||1/0;let I;const ie=z.length;let Ee=null;const Be=[];for(let Ye=0;Ye<ie;++Ye){if(I=z.charCodeAt(Ye),I>55295&&I<57344){if(!Ee){if(I>56319){(L-=3)>-1&&Be.push(239,191,189);continue}else if(Ye+1===ie){(L-=3)>-1&&Be.push(239,191,189);continue}Ee=I;continue}if(I<56320){(L-=3)>-1&&Be.push(239,191,189),Ee=I;continue}I=(Ee-55296<<10|I-56320)+65536}else Ee&&(L-=3)>-1&&Be.push(239,191,189);if(Ee=null,I<128){if((L-=1)<0)break;Be.push(I)}else if(I<2048){if((L-=2)<0)break;Be.push(I>>6|192,I&63|128)}else if(I<65536){if((L-=3)<0)break;Be.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((L-=4)<0)break;Be.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return Be}function Ft(z){const L=[];for(let I=0;I<z.length;++I)L.push(z.charCodeAt(I)&255);return L}function Ai(z,L){let I,ie,Ee;const Be=[];for(let Ye=0;Ye<z.length&&!((L-=2)<0);++Ye)I=z.charCodeAt(Ye),ie=I>>8,Ee=I%256,Be.push(Ee),Be.push(ie);return Be}function pi(z){return t.toByteArray(Mi(z))}function Wi(z,L,I,ie){let Ee;for(Ee=0;Ee<ie&&!(Ee+I>=L.length||Ee>=z.length);++Ee)L[Ee+I]=z[Ee];return Ee}function Fe(z,L){return z instanceof L||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===L.name}function K(z){return z!==z}const un=function(){const z="0123456789abcdef",L=new Array(256);for(let I=0;I<16;++I){const ie=I*16;for(let Ee=0;Ee<16;++Ee)L[ie+Ee]=z[I]+z[Ee]}return L}();function Qr(z){return typeof BigInt>"u"?zi:z}function zi(){throw new Error("BigInt not supported")}})(buffer);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=buffer,o=r.Buffer;function u(g,b){for(var S in g)b[S]=g[S]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(u(r,t),t.Buffer=f);function f(g,b,S){return o(g,b,S)}f.prototype=Object.create(o.prototype),u(o,f),f.from=function(g,b,S){if(typeof g=="number")throw new TypeError("Argument must not be a number");return o(g,b,S)},f.alloc=function(g,b,S){if(typeof g!="number")throw new TypeError("Argument must be a number");var T=o(g);return b!==void 0?typeof S=="string"?T.fill(b,S):T.fill(b):T.fill(0),T},f.allocUnsafe=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return o(g)},f.allocUnsafeSlow=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(g)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$6=safeBufferExports.Buffer,crypto$1=globalThis.crypto||globalThis.msCrypto;crypto$1&&crypto$1.getRandomValues?browser$1.exports=randomBytes:browser$1.exports=oldBrowser;function randomBytes(e,t){if(e>MAX_UINT32)throw new RangeError("requested too many random bytes");var r=Buffer$6.allocUnsafe(e);if(e>0)if(e>MAX_BYTES)for(var o=0;o<e;o+=MAX_BYTES)crypto$1.getRandomValues(r.slice(o,o+MAX_BYTES));else crypto$1.getRandomValues(r);return typeof t=="function"?process.nextTick(function(){t(null,r)}):r}var browserExports=browser$1.exports,readableBrowser={exports:{}},streamBrowser=eventsExports.EventEmitter;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(o){_defineProperty$1(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var _require$2=buffer,Buffer$5=_require$2.Buffer,_require2=require$$3,inspect=_require2.inspect,custom=inspect&&inspect.custom||"inspect";function copyBuffer(e,t,r){Buffer$5.prototype.copy.call(e,t,r)}var buffer_list=function(){function e(){_classCallCheck(this,e),this.head=null,this.tail=null,this.length=0}return _createClass(e,[{key:"push",value:function(r){var o={data:r,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:"unshift",value:function(r){var o={data:r,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=r+o.data;return u}},{key:"concat",value:function(r){if(this.length===0)return Buffer$5.alloc(0);for(var o=Buffer$5.allocUnsafe(r>>>0),u=this.head,f=0;u;)copyBuffer(u.data,o,f),f+=u.data.length,u=u.next;return o}},{key:"consume",value:function(r,o){var u;return r<this.head.data.length?(u=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?u=this.shift():u=o?this._getString(r):this._getBuffer(r),u}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var o=this.head,u=1,f=o.data;for(r-=f.length;o=o.next;){var g=o.data,b=r>g.length?g.length:r;if(b===g.length?f+=g:f+=g.slice(0,r),r-=b,r===0){b===g.length?(++u,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=g.slice(b));break}++u}return this.length-=u,f}},{key:"_getBuffer",value:function(r){var o=Buffer$5.allocUnsafe(r),u=this.head,f=1;for(u.data.copy(o),r-=u.data.length;u=u.next;){var g=u.data,b=r>g.length?g.length:r;if(g.copy(o,o.length-r,0,b),r-=b,r===0){b===g.length?(++f,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=g.slice(b));break}++f}return this.length-=f,o}},{key:custom,value:function(r,o){return inspect(this,_objectSpread({},o,{depth:0,customInspect:!1}))}}]),e}();function destroy(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return o||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,e)):process.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(f){!t&&f?r._writableState?r._writableState.errorEmitted?process.nextTick(emitCloseNT,r):(r._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,r,f)):process.nextTick(emitErrorAndCloseNT,r,f):t?(process.nextTick(emitCloseNT,r),t(f)):process.nextTick(emitCloseNT,r)}),this)}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy$2(e,t){var r=e._readableState,o=e._writableState;r&&r.autoDestroy||o&&o.autoDestroy?e.destroy(t):e.emit("error",t)}var destroy_1={destroy,undestroy,errorOrDestroy:errorOrDestroy$2},errorsBrowser={};function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var codes={};function createErrorType(e,t,r){r||(r=Error);function o(f,g,b){return typeof t=="string"?t:t(f,g,b)}var u=function(f){_inheritsLoose(g,f);function g(b,S,T){return f.call(this,o(b,S,T))||this}return g}(r);u.prototype.name=r.name,u.prototype.code=e,codes[e]=u}function oneOf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(o){return String(o)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function endsWith(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function includes(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(e,t,r){var o;typeof t=="string"&&startsWith(t,"not ")?(o="must not be",t=t.replace(/^not /,"")):o="must be";var u;if(endsWith(e," argument"))u="The ".concat(e," ").concat(o," ").concat(oneOf(t,"type"));else{var f=includes(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(f," ").concat(o," ").concat(oneOf(t,"type"))}return u+=". Received type ".concat(typeof r),u},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function getHighWaterMark$2(e,t,r,o){var u=highWaterMarkFrom(t,o,r);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var f=o?r:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(f,u)}return Math.floor(u)}return e.objectMode?16:16*1024}var state={getHighWaterMark:getHighWaterMark$2},browser=deprecate;function deprecate(e,t){if(config("noDeprecation"))return e;var r=!1;function o(){if(!r){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return o}function config(e){try{if(!globalThis.localStorage)return!1}catch{return!1}var t=globalThis.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var _stream_writable=Writable$1;function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}var Duplex$3;Writable$1.WritableState=WritableState;var internalUtil={deprecate:browser},Stream$1=streamBrowser,Buffer$4=buffer.Buffer,OurUint8Array$1=globalThis.Uint8Array||function(){};function _uint8ArrayToBuffer$1(e){return Buffer$4.from(e)}function _isUint8Array$1(e){return Buffer$4.isBuffer(e)||e instanceof OurUint8Array$1}var destroyImpl$1=destroy_1,_require$1=state,getHighWaterMark$1=_require$1.getHighWaterMark,_require$codes$3=errorsBrowser.codes,ERR_INVALID_ARG_TYPE$1=_require$codes$3.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$2=_require$codes$3.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$1=_require$codes$3.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes$3.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$1=_require$codes$3.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes$3.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes$3.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes$3.ERR_UNKNOWN_ENCODING,errorOrDestroy$1=destroyImpl$1.errorOrDestroy;inherits_browserExports(Writable$1,Stream$1);function nop(){}function WritableState(e,t,r){Duplex$3=Duplex$3||_stream_duplex,e=e||{},typeof r!="boolean"&&(r=t instanceof Duplex$3),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=getHighWaterMark$1(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){onwrite(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function e(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var realHasInstance;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$1,Symbol.hasInstance,{value:function(t){return realHasInstance.call(this,t)?!0:this!==Writable$1?!1:t&&t._writableState instanceof WritableState}})):realHasInstance=function(t){return t instanceof this};function Writable$1(e){Duplex$3=Duplex$3||_stream_duplex;var t=this instanceof Duplex$3;if(!t&&!realHasInstance.call(Writable$1,this))return new Writable$1(e);this._writableState=new WritableState(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Stream$1.call(this)}Writable$1.prototype.pipe=function(){errorOrDestroy$1(this,new ERR_STREAM_CANNOT_PIPE)};function writeAfterEnd(e,t){var r=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy$1(e,r),process.nextTick(t,r)}function validChunk(e,t,r,o){var u;return r===null?u=new ERR_STREAM_NULL_VALUES:typeof r!="string"&&!t.objectMode&&(u=new ERR_INVALID_ARG_TYPE$1("chunk",["string","Buffer"],r)),u?(errorOrDestroy$1(e,u),process.nextTick(o,u),!1):!0}Writable$1.prototype.write=function(e,t,r){var o=this._writableState,u=!1,f=!o.objectMode&&_isUint8Array$1(e);return f&&!Buffer$4.isBuffer(e)&&(e=_uint8ArrayToBuffer$1(e)),typeof t=="function"&&(r=t,t=null),f?t="buffer":t||(t=o.defaultEncoding),typeof r!="function"&&(r=nop),o.ending?writeAfterEnd(this,r):(f||validChunk(this,o,e,r))&&(o.pendingcb++,u=writeOrBuffer(this,o,f,e,t,r)),u};Writable$1.prototype.cork=function(){this._writableState.corked++};Writable$1.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&clearBuffer(this,e))};Writable$1.prototype.setDefaultEncoding=function e(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(Writable$1.prototype,"writableBuffer",{enumerable:!1,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Buffer$4.from(t,r)),t}Object.defineProperty(Writable$1.prototype,"writableHighWaterMark",{enumerable:!1,get:function e(){return this._writableState.highWaterMark}});function writeOrBuffer(e,t,r,o,u,f){if(!r){var g=decodeChunk(t,o,u);o!==g&&(r=!0,u="buffer",o=g)}var b=t.objectMode?1:o.length;t.length+=b;var S=t.length<t.highWaterMark;if(S||(t.needDrain=!0),t.writing||t.corked){var T=t.lastBufferedRequest;t.lastBufferedRequest={chunk:o,encoding:u,isBuf:r,callback:f,next:null},T?T.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,b,o,u,f);return S}function doWrite(e,t,r,o,u,f,g){t.writelen=o,t.writecb=g,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new ERR_STREAM_DESTROYED$1("write")):r?e._writev(u,t.onwrite):e._write(u,f,t.onwrite),t.sync=!1}function onwriteError(e,t,r,o,u){--t.pendingcb,r?(process.nextTick(u,o),process.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,errorOrDestroy$1(e,o)):(u(o),e._writableState.errorEmitted=!0,errorOrDestroy$1(e,o),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,o=r.sync,u=r.writecb;if(typeof u!="function")throw new ERR_MULTIPLE_CALLBACK$1;if(onwriteStateUpdate(r),t)onwriteError(e,r,o,t,u);else{var f=needFinish(r)||e.destroyed;!f&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&clearBuffer(e,r),o?process.nextTick(afterWrite,e,r,f,u):afterWrite(e,r,f,u)}}function afterWrite(e,t,r,o){r||onwriteDrain(e,t),t.pendingcb--,o(),finishMaybe(e,t)}function onwriteDrain(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var o=t.bufferedRequestCount,u=new Array(o),f=t.corkedRequestsFree;f.entry=r;for(var g=0,b=!0;r;)u[g]=r,r.isBuf||(b=!1),r=r.next,g+=1;u.allBuffers=b,doWrite(e,t,!0,t.length,u,"",f.finish),t.pendingcb++,t.lastBufferedRequest=null,f.next?(t.corkedRequestsFree=f.next,f.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var S=r.chunk,T=r.encoding,$=r.callback,A=t.objectMode?1:S.length;if(doWrite(e,t,!1,A,S,T,$),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Writable$1.prototype._write=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED$2("_write()"))};Writable$1.prototype._writev=null;Writable$1.prototype.end=function(e,t,r){var o=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||endWritable(this,o,r),this};Object.defineProperty(Writable$1.prototype,"writableLength",{enumerable:!1,get:function e(){return this._writableState.length}});function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(r){t.pendingcb--,r&&errorOrDestroy$1(e,r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)})}function prefinish$1(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function finishMaybe(e,t){var r=needFinish(t);if(r&&(prefinish$1(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var o=e._readableState;(!o||o.autoDestroy&&o.endEmitted)&&e.destroy()}return r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,r){var o=e.entry;for(e.entry=null;o;){var u=o.callback;t.pendingcb--,u(r),o=o.next}t.corkedRequestsFree.next=e}Object.defineProperty(Writable$1.prototype,"destroyed",{enumerable:!1,get:function e(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function e(t){this._writableState&&(this._writableState.destroyed=t)}});Writable$1.prototype.destroy=destroyImpl$1.destroy;Writable$1.prototype._undestroy=destroyImpl$1.undestroy;Writable$1.prototype._destroy=function(e,t){t(e)};var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},_stream_duplex=Duplex$2,Readable$1=_stream_readable,Writable=_stream_writable;inherits_browserExports(Duplex$2,Readable$1);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex$2.prototype[method]||(Duplex$2.prototype[method]=Writable.prototype[method])}function Duplex$2(e){if(!(this instanceof Duplex$2))return new Duplex$2(e);Readable$1.call(this,e),Writable.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",onend)))}Object.defineProperty(Duplex$2.prototype,"writableHighWaterMark",{enumerable:!1,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex$2.prototype,"writableBuffer",{enumerable:!1,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex$2.prototype,"writableLength",{enumerable:!1,get:function e(){return this._writableState.length}});function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex$2.prototype,"destroyed",{enumerable:!1,get:function e(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var string_decoder={},Buffer$3=safeBufferExports.Buffer,isEncoding=Buffer$3.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!="string"&&(Buffer$3.isEncoding===isEncoding||!isEncoding(e)))throw new Error("Unknown encoding: "+e);return t||e}string_decoder.StringDecoder=StringDecoder$1;function StringDecoder$1(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$3.allocUnsafe(t)}StringDecoder$1.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};StringDecoder$1.prototype.end=utf8End;StringDecoder$1.prototype.text=utf8Text;StringDecoder$1.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function utf8CheckByte(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,r){var o=t.length-1;if(o<r)return 0;var u=utf8CheckByte(t[o]);return u>=0?(u>0&&(e.lastNeed=u-1),u):--o<r||u===-2?0:(u=utf8CheckByte(t[o]),u>=0?(u>0&&(e.lastNeed=u-2),u):--o<r||u===-2?0:(u=utf8CheckByte(t[o]),u>=0?(u>0&&(u===2?u=0:e.lastNeed=u-3),u):0))}function utf8CheckExtraBytes(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function utf8Text(e,t){var r=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var o=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,o),e.toString("utf8",t,o)}function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function utf16Text(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var o=r.charCodeAt(r.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];e.apply(this,o)}}}function noop$1(){}function isRequest$1(e){return e.setHeader&&typeof e.abort=="function"}function eos$1(e,t,r){if(typeof t=="function")return eos$1(e,null,t);t||(t={}),r=once$1(r||noop$1);var o=t.readable||t.readable!==!1&&e.readable,u=t.writable||t.writable!==!1&&e.writable,f=function(){e.writable||b()},g=e._writableState&&e._writableState.finished,b=function(){u=!1,g=!0,o||r.call(e)},S=e._readableState&&e._readableState.endEmitted,T=function(){o=!1,S=!0,u||r.call(e)},$=function(D){r.call(e,D)},A=function(){var D;if(o&&!S)return(!e._readableState||!e._readableState.ended)&&(D=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,D);if(u&&!g)return(!e._writableState||!e._writableState.ended)&&(D=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,D)},M=function(){e.req.on("finish",b)};return isRequest$1(e)?(e.on("complete",b),e.on("abort",A),e.req?M():e.on("request",M)):u&&!e._writableState&&(e.on("end",f),e.on("close",f)),e.on("end",T),e.on("finish",b),t.error!==!1&&e.on("error",$),e.on("close",A),function(){e.removeListener("complete",b),e.removeListener("abort",A),e.removeListener("request",M),e.req&&e.req.removeListener("finish",b),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",b),e.removeListener("end",T),e.removeListener("error",$),e.removeListener("close",A)}}var endOfStream=eos$1,_Object$setPrototypeO;function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var finished=endOfStream,kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[kLastResolve];if(t!==null){var r=e[kStream].read();r!==null&&(e[kLastPromise]=null,e[kLastResolve]=null,e[kLastReject]=null,t(createIterResult(r,!1)))}}function onReadable(e){process.nextTick(readAndResolve,e)}function wrapForNext(e,t){return function(r,o){e.then(function(){if(t[kEnded]){r(createIterResult(void 0,!0));return}t[kHandlePromise](r,o)},o)}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function e(){var t=this,r=this[kError];if(r!==null)return Promise.reject(r);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise(function(g,b){process.nextTick(function(){t[kError]?b(t[kError]):g(createIterResult(void 0,!0))})});var o=this[kLastPromise],u;if(o)u=new Promise(wrapForNext(o,this));else{var f=this[kStream].read();if(f!==null)return Promise.resolve(createIterResult(f,!1));u=new Promise(this[kHandlePromise])}return this[kLastPromise]=u,u}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function e(){var t=this;return new Promise(function(r,o){t[kStream].destroy(null,function(u){if(u){o(u);return}r(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),AsyncIteratorPrototype),createReadableStreamAsyncIterator$1=function e(t){var r,o=Object.create(ReadableStreamAsyncIteratorPrototype,(r={},_defineProperty(r,kStream,{value:t,writable:!0}),_defineProperty(r,kLastResolve,{value:null,writable:!0}),_defineProperty(r,kLastReject,{value:null,writable:!0}),_defineProperty(r,kError,{value:null,writable:!0}),_defineProperty(r,kEnded,{value:t._readableState.endEmitted,writable:!0}),_defineProperty(r,kHandlePromise,{value:function(f,g){var b=o[kStream].read();b?(o[kLastPromise]=null,o[kLastResolve]=null,o[kLastReject]=null,f(createIterResult(b,!1))):(o[kLastResolve]=f,o[kLastReject]=g)},writable:!0}),r));return o[kLastPromise]=null,finished(t,function(u){if(u&&u.code!=="ERR_STREAM_PREMATURE_CLOSE"){var f=o[kLastReject];f!==null&&(o[kLastPromise]=null,o[kLastResolve]=null,o[kLastReject]=null,f(u)),o[kError]=u;return}var g=o[kLastResolve];g!==null&&(o[kLastPromise]=null,o[kLastResolve]=null,o[kLastReject]=null,g(createIterResult(void 0,!0))),o[kEnded]=!0}),t.on("readable",onReadable.bind(null,o)),o},async_iterator=createReadableStreamAsyncIterator$1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")},_stream_readable=Readable,Duplex$1;Readable.ReadableState=ReadableState;eventsExports.EventEmitter;var EElistenerCount=function e(t,r){return t.listeners(r).length},Stream=streamBrowser,Buffer$2=buffer.Buffer,OurUint8Array=globalThis.Uint8Array||function(){};function _uint8ArrayToBuffer(e){return Buffer$2.from(e)}function _isUint8Array(e){return Buffer$2.isBuffer(e)||e instanceof OurUint8Array}var debugUtil=require$$3,debug$1;debugUtil&&debugUtil.debuglog?debug$1=debugUtil.debuglog("stream"):debug$1=function(){};var BufferList=buffer_list,destroyImpl=destroy_1,_require=state,getHighWaterMark=_require.getHighWaterMark,_require$codes$2=errorsBrowser.codes,ERR_INVALID_ARG_TYPE=_require$codes$2.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes$2.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$1=_require$codes$2.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes$2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder,createReadableStreamAsyncIterator,from;inherits_browserExports(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function ReadableState(e,t,r){Duplex$1=Duplex$1||_stream_duplex,e=e||{},typeof r!="boolean"&&(r=t instanceof Duplex$1),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=getHighWaterMark(this,e,"readableHighWaterMark",r),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=string_decoder.StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(Duplex$1=Duplex$1||_stream_duplex,!(this instanceof Readable))return new Readable(e);var t=this instanceof Duplex$1;this._readableState=new ReadableState(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function e(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function e(t){this._readableState&&(this._readableState.destroyed=t)}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(e,t){t(e)};Readable.prototype.push=function(e,t){var r=this._readableState,o;return r.objectMode?o=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Buffer$2.from(e,t),t=""),o=!0),readableAddChunk(this,e,t,!1,o)};Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)};function readableAddChunk(e,t,r,o,u){debug$1("readableAddChunk",t);var f=e._readableState;if(t===null)f.reading=!1,onEofChunk(e,f);else{var g;if(u||(g=chunkInvalid(f,t)),g)errorOrDestroy(e,g);else if(f.objectMode||t&&t.length>0)if(typeof t!="string"&&!f.objectMode&&Object.getPrototypeOf(t)!==Buffer$2.prototype&&(t=_uint8ArrayToBuffer(t)),o)f.endEmitted?errorOrDestroy(e,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(e,f,t,!0);else if(f.ended)errorOrDestroy(e,new ERR_STREAM_PUSH_AFTER_EOF);else{if(f.destroyed)return!1;f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||t.length!==0?addChunk(e,f,t,!1):maybeReadMore(e,f)):addChunk(e,f,t,!1)}else o||(f.reading=!1,maybeReadMore(e,f))}return!f.ended&&(f.length<f.highWaterMark||f.length===0)}function addChunk(e,t,r,o){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,o?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var r;return!_isUint8Array(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],t)),r}Readable.prototype.isPaused=function(){return this._readableState.flowing===!1};Readable.prototype.setEncoding=function(e){StringDecoder||(StringDecoder=string_decoder.StringDecoder);var t=new StringDecoder(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o="";r!==null;)o+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),o!==""&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var MAX_HWM=1073741824;function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}Readable.prototype.read=function(e){debug$1("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return debug$1("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),e===0&&t.ended)return t.length===0&&endReadable(this),null;var o=t.needReadable;debug$1("need readable",o),(t.length===0||t.length-e<t.highWaterMark)&&(o=!0,debug$1("length less than watermark",o)),t.ended||t.reading?(o=!1,debug$1("reading or ended",o)):o&&(debug$1("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t)));var u;return e>0?u=fromList(e,t):u=null,u===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),u!==null&&this.emit("data",u),u};function onEofChunk(e,t){if(debug$1("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?emitReadable(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,emitReadable_(e)))}}function emitReadable(e){var t=e._readableState;debug$1("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(debug$1("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(emitReadable_,e))}function emitReadable_(e){var t=e._readableState;debug$1("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(debug$1("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}Readable.prototype._read=function(e){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED$1("_read()"))};Readable.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1,debug$1("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,f=u?b:U;o.endEmitted?process.nextTick(f):r.once("end",f),e.on("unpipe",g);function g(F,P){debug$1("onunpipe"),F===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,$())}function b(){debug$1("onend"),e.end()}var S=pipeOnDrain(r);e.on("drain",S);var T=!1;function $(){debug$1("cleanup"),e.removeListener("close",O),e.removeListener("finish",D),e.removeListener("drain",S),e.removeListener("error",M),e.removeListener("unpipe",g),r.removeListener("end",b),r.removeListener("end",U),r.removeListener("data",A),T=!0,o.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&S()}r.on("data",A);function A(F){debug$1("ondata");var P=e.write(F);debug$1("dest.write",P),P===!1&&((o.pipesCount===1&&o.pipes===e||o.pipesCount>1&&indexOf(o.pipes,e)!==-1)&&!T&&(debug$1("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function M(F){debug$1("onerror",F),U(),e.removeListener("error",M),EElistenerCount(e,"error")===0&&errorOrDestroy(e,F)}prependListener(e,"error",M);function O(){e.removeListener("finish",D),U()}e.once("close",O);function D(){debug$1("onfinish"),e.removeListener("close",O),U()}e.once("finish",D);function U(){debug$1("unpipe"),r.unpipe(e)}return e.emit("pipe",r),o.flowing||(debug$1("pipe resume"),r.resume()),e};function pipeOnDrain(e){return function(){var r=e._readableState;debug$1("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&EElistenerCount(e,"data")&&(r.flowing=!0,flow(e))}}Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var o=t.pipes,u=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var f=0;f<u;f++)o[f].emit("unpipe",this,{hasUnpiped:!1});return this}var g=indexOf(t.pipes,e);return g===-1?this:(t.pipes.splice(g,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t),o=this._readableState;return e==="data"?(o.readableListening=this.listenerCount("readable")>0,o.flowing!==!1&&this.resume()):e==="readable"&&!o.endEmitted&&!o.readableListening&&(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,debug$1("on readable",o.length,o.reading),o.length?emitReadable(this):o.reading||process.nextTick(nReadingNextTick,this)),r};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(e,t){var r=Stream.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(updateReadableListening,this),r};Readable.prototype.removeAllListeners=function(e){var t=Stream.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(updateReadableListening,this),t};function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick(e){debug$1("readable nexttick read 0"),e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug$1("resume"),e.flowing=!e.readableListening,resume(this,e)),e.paused=!1,this};function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(resume_,e,t))}function resume_(e,t){debug$1("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}Readable.prototype.pause=function(){return debug$1("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug$1("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function flow(e){var t=e._readableState;for(debug$1("flow",t.flowing);t.flowing&&e.read()!==null;);}Readable.prototype.wrap=function(e){var t=this,r=this._readableState,o=!1;e.on("end",function(){if(debug$1("wrapped end"),r.decoder&&!r.ended){var g=r.decoder.end();g&&g.length&&t.push(g)}t.push(null)}),e.on("data",function(g){if(debug$1("wrapped data"),r.decoder&&(g=r.decoder.write(g)),!(r.objectMode&&g==null)&&!(!r.objectMode&&(!g||!g.length))){var b=t.push(g);b||(o=!0,e.pause())}});for(var u in e)this[u]===void 0&&typeof e[u]=="function"&&(this[u]=function(b){return function(){return e[b].apply(e,arguments)}}(u));for(var f=0;f<kProxyEvents.length;f++)e.on(kProxyEvents[f],this.emit.bind(this,kProxyEvents[f]));return this._read=function(g){debug$1("wrapped _read",g),o&&(o=!1,e.resume())},this};typeof Symbol=="function"&&(Readable.prototype[Symbol.asyncIterator]=function(){return createReadableStreamAsyncIterator===void 0&&(createReadableStreamAsyncIterator=async_iterator),createReadableStreamAsyncIterator(this)});Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function e(){return this._readableState.flowing},set:function e(t){this._readableState&&(this._readableState.flowing=t)}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function e(){return this._readableState.length}});function fromList(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function endReadable(e){var t=e._readableState;debug$1("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){if(debug$1("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(Readable.from=function(e,t){return from===void 0&&(from=fromBrowser),from(Readable,e,t)});function indexOf(e,t){for(var r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1}var _stream_transform=Transform$1,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=_stream_duplex;inherits_browserExports(Transform$1,Duplex);function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var o=r.writecb;if(o===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),o(e);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function Transform$1(e){if(!(this instanceof Transform$1))return new Transform$1(e);Duplex.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){done(e,t,r)}):done(this,null,null)}Transform$1.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)};Transform$1.prototype._transform=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$1.prototype._write=function(e,t,r){var o=this._transformState;if(o.writecb=r,o.writechunk=e,o.writeencoding=t,!o.transforming){var u=this._readableState;(o.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}};Transform$1.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Transform$1.prototype._destroy=function(e,t){Duplex.prototype._destroy.call(this,e,function(r){t(r)})};function done(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(e._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return e.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform;inherits_browserExports(PassThrough,Transform);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}PassThrough.prototype._transform=function(e,t,r){r(null,e)};var eos;function once(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort=="function"}function destroyer(e,t,r,o){o=once(o);var u=!1;e.on("close",function(){u=!0}),eos===void 0&&(eos=endOfStream),eos(e,{readable:t,writable:r},function(g){if(g)return o(g);u=!0,o()});var f=!1;return function(g){if(!u&&!f){if(f=!0,isRequest(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();o(g||new ERR_STREAM_DESTROYED("pipe"))}}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){return!e.length||typeof e[e.length-1]!="function"?noop:e.pop()}function pipeline(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=popCallback(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ERR_MISSING_ARGS("streams");var u,f=t.map(function(g,b){var S=b<t.length-1,T=b>0;return destroyer(g,S,T,function($){u||(u=$),$&&f.forEach(call),!S&&(f.forEach(call),o(u))})});return t.reduce(pipe)}var pipeline_1=pipeline;(function(e,t){t=e.exports=_stream_readable,t.Stream=t,t.Readable=t,t.Writable=_stream_writable,t.Duplex=_stream_duplex,t.Transform=_stream_transform,t.PassThrough=_stream_passthrough,t.finished=endOfStream,t.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let promise;var queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):e=>(promise||(promise=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));function assign(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function createError(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return assign(e,r)}catch{r.message=e.message,r.stack=e.stack;const u=function(){};return u.prototype=Object.create(Object.getPrototypeOf(e)),assign(new u,r)}}var errCode$1=createError;/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const debug=browserExports$1("simple-peer"),getBrowserRTC=getBrowserRtc,randombytes=browserExports,stream=readableBrowserExports,queueMicrotask$1=queueMicrotask_1,errCode=errCode$1,{Buffer:Buffer$1}=buffer,MAX_BUFFERED_AMOUNT=64*1024,ICECOMPLETE_TIMEOUT=5*1e3,CHANNEL_CLOSING_TIMEOUT=5*1e3;function filterTrickle(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function warn(e){console.warn(e)}class Peer extends stream.Duplex{constructor(t){if(t=Object.assign({allowHalfOpen:!1},t),super(t),this._id=randombytes(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||randombytes(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||Peer.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},Peer.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(r=>r),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=t.trickle!==void 0?t.trickle:!0,this.allowHalfTrickle=t.allowHalfTrickle!==void 0?t.allowHalfTrickle:!1,this.iceCompleteTimeout=t.iceCompleteTimeout||ICECOMPLETE_TIMEOUT,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&typeof t.wrtc=="object"?t.wrtc:getBrowserRTC(),!this._wrtc)throw errCode(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(r){this.destroy(errCode(r,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(r=>{this.destroy(errCode(r,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this.streams&&this.streams.forEach(r=>{this.addStream(r)}),this._pc.ontrack=r=>{this._onTrack(r)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof t=="string")try{t=JSON.parse(t)}catch{t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.destroy(errCode(r,"ERR_SET_REMOTE_DESCRIPTION"))}),!t.sdp&&!t.candidate&&!t.renegotiate&&!t.transceiverRequest&&this.destroy(errCode(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(t){const r=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(r).catch(o=>{!r.address||r.address.endsWith(".local")?warn("Ignoring unsupported ICE candidate."):this.destroy(errCode(o,"ERR_ADD_ICE_CANDIDATE"))})}send(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(t)}}addTransceiver(t,r){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,r),this._needsNegotiation()}catch(o){this.destroy(errCode(o,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:r}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(r=>{this.addTrack(r,t)})}}addTrack(t,r){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const o=this._senderMap.get(t)||new Map;let u=o.get(r);if(!u)u=this._pc.addTrack(t,r),o.set(r,u),this._senderMap.set(t,o),this._needsNegotiation();else throw u.removed?errCode(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):errCode(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(t,r,o){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const u=this._senderMap.get(t),f=u?u.get(o):null;if(!f)throw errCode(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");r&&this._senderMap.set(r,u),f.replaceTrack!=null?f.replaceTrack(r):this.destroy(errCode(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,r){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const o=this._senderMap.get(t),u=o?o.get(r):null;if(!u)throw errCode(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{u.removed=!0,this._pc.removeTrack(u)}catch(f){f.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(u):this.destroy(errCode(f,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(r=>{this.removeTrack(r,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,queueMicrotask$1(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",t&&(t.message||t)),queueMicrotask$1(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),r()}))}_setupData(t){if(!t.channel)return this.destroy(errCode(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=MAX_BUFFERED_AMOUNT),this.channelName=this._channel.label,this._channel.onmessage=o=>{this._onChannelMessage(o)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=o=>{const u=o.error instanceof Error?o.error:new Error(`Datachannel error: ${o.message} ${o.filename}:${o.lineno}:${o.colno}`);this.destroy(errCode(u,"ERR_DATA_CHANNEL"))};let r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},CHANNEL_CLOSING_TIMEOUT)}_read(){}_write(t,r,o){if(this.destroyed)return o(errCode(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(u){return this.destroy(errCode(u,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=o):o(null)}else this._debug("write before connect"),this._chunk=t,this._cb=o}_onFinish(){if(this.destroyed)return;const t=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=filterTrickle(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const r=()=>{if(this.destroyed)return;const f=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:f.type,sdp:f.sdp})},o=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},u=f=>{this.destroy(errCode(f,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(o).catch(u)}).catch(t=>{this.destroy(errCode(t,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{!t.mid&&t.sender.track&&!t.requested&&(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=filterTrickle(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const r=()=>{if(this.destroyed)return;const f=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:f.type,sdp:f.sdp}),this.initiator||this._requestMissingTransceivers()},o=()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))},u=f=>{this.destroy(errCode(f,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(o).catch(u)}).catch(t=>{this.destroy(errCode(t,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(errCode(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const t=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,r),this.emit("iceStateChange",t,r),(t==="connected"||t==="completed")&&(this._pcReady=!0,this._maybeReady()),t==="failed"&&this.destroy(errCode(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),t==="closed"&&this.destroy(errCode(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(t){const r=o=>(Object.prototype.toString.call(o.values)==="[object Array]"&&o.values.forEach(u=>{Object.assign(o,u)}),o);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(o=>{const u=[];o.forEach(f=>{u.push(r(f))}),t(null,u)},o=>t(o)):this._pc.getStats.length>0?this._pc.getStats(o=>{if(this.destroyed)return;const u=[];o.result().forEach(f=>{const g={};f.names().forEach(b=>{g[b]=f.stat(b)}),g.id=f.id,g.type=f.type,g.timestamp=f.timestamp,u.push(r(g))}),t(null,u)},o=>t(o)):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const t=()=>{this.destroyed||this.getStats((r,o)=>{if(this.destroyed)return;r&&(o=[]);const u={},f={},g={};let b=!1;o.forEach(T=>{(T.type==="remotecandidate"||T.type==="remote-candidate")&&(u[T.id]=T),(T.type==="localcandidate"||T.type==="local-candidate")&&(f[T.id]=T),(T.type==="candidatepair"||T.type==="candidate-pair")&&(g[T.id]=T)});const S=T=>{b=!0;let $=f[T.localCandidateId];$&&($.ip||$.address)?(this.localAddress=$.ip||$.address,this.localPort=Number($.port)):$&&$.ipAddress?(this.localAddress=$.ipAddress,this.localPort=Number($.portNumber)):typeof T.googLocalAddress=="string"&&($=T.googLocalAddress.split(":"),this.localAddress=$[0],this.localPort=Number($[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let A=u[T.remoteCandidateId];A&&(A.ip||A.address)?(this.remoteAddress=A.ip||A.address,this.remotePort=Number(A.port)):A&&A.ipAddress?(this.remoteAddress=A.ipAddress,this.remotePort=Number(A.portNumber)):typeof T.googRemoteAddress=="string"&&(A=T.googRemoteAddress.split(":"),this.remoteAddress=A[0],this.remotePort=Number(A[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(o.forEach(T=>{T.type==="transport"&&T.selectedCandidatePairId&&S(g[T.selectedCandidatePairId]),(T.type==="googCandidatePair"&&T.googActiveConnection==="true"||(T.type==="candidatepair"||T.type==="candidate-pair")&&T.selected)&&S(T)}),!b&&(!Object.keys(g).length||Object.keys(f).length)){setTimeout(t,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch($){return this.destroy(errCode($,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const T=this._cb;this._cb=null,T(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):!t.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=Buffer$1.from(r)),this.push(r)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const t=this._cb;this._cb=null,t(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach(r=>{this._debug("on track"),this.emit("track",t.track,r),this._remoteTracks.push({track:t.track,stream:r}),!this._remoteStreams.some(o=>o.id===r.id)&&(this._remoteStreams.push(r),queueMicrotask$1(()=>{this._debug("on stream"),this.emit("stream",r)}))})}_debug(){const t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],debug.apply(null,t)}}Peer.WEBRTC_SUPPORT=!!getBrowserRTC();Peer.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:globalThis.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Peer.channelConfig={};var simplePeer=Peer;const SimplePeer=getDefaultExportFromCjs(simplePeer);var lib={exports:{}},seed=1;function getNextValue(){return seed=(seed*9301+49297)%233280,seed/233280}function setSeed$1(e){seed=e}var randomFromSeed$1={nextValue:getNextValue,seed:setSeed$1},randomFromSeed=randomFromSeed$1,ORIGINAL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",alphabet$2,previousSeed,shuffled;function reset(){shuffled=!1}function setCharacters(e){if(!e){alphabet$2!==ORIGINAL&&(alphabet$2=ORIGINAL,reset());return}if(e!==alphabet$2){if(e.length!==ORIGINAL.length)throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(r,o,u){return o!==u.lastIndexOf(r)});if(t.length)throw new Error("Custom alphabet for shortid must be "+ORIGINAL.length+" unique characters. These characters were not unique: "+t.join(", "));alphabet$2=e,reset()}}function characters(e){return setCharacters(e),alphabet$2}function setSeed(e){randomFromSeed.seed(e),previousSeed!==e&&(reset(),previousSeed=e)}function shuffle(){alphabet$2||setCharacters(ORIGINAL);for(var e=alphabet$2.split(""),t=[],r=randomFromSeed.nextValue(),o;e.length>0;)r=randomFromSeed.nextValue(),o=Math.floor(r*e.length),t.push(e.splice(o,1)[0]);return t.join("")}function getShuffled(){return shuffled||(shuffled=shuffle(),shuffled)}function lookup(e){var t=getShuffled();return t[e]}function get(){return alphabet$2||ORIGINAL}var alphabet_1={get,characters,seed:setSeed,lookup,shuffled:getShuffled},crypto=typeof window=="object"&&(window.crypto||window.msCrypto),randomByte;!crypto||!crypto.getRandomValues?randomByte=function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(Math.random()*256));return t}:randomByte=function(e){return crypto.getRandomValues(new Uint8Array(e))};var randomByteBrowser=randomByte,format_browser=function(e,t,r){for(var o=(2<<Math.log(t.length-1)/Math.LN2)-1,u=-~(1.6*o*r/t.length),f="";;)for(var g=e(u),b=u;b--;)if(f+=t[g[b]&o]||"",f.length===+r)return f},alphabet$1=alphabet_1,random=randomByteBrowser,format=format_browser;function generate$2(e){for(var t=0,r,o="";!r;)o=o+format(random,alphabet$1.get(),1),r=e<Math.pow(16,t+1),t++;return o}var generate_1=generate$2,generate$1=generate_1,REDUCE_TIME=1567752802062,version$1=7,counter,previousSeconds;function build(e){var t="",r=Math.floor((Date.now()-REDUCE_TIME)*.001);return r===previousSeconds?counter++:(counter=0,previousSeconds=r),t=t+generate$1(version$1),t=t+generate$1(e),counter>0&&(t=t+generate$1(counter)),t=t+generate$1(r),t}var build_1=build,alphabet=alphabet_1;function isShortId(e){if(!e||typeof e!="string"||e.length<6)return!1;var t=new RegExp("[^"+alphabet.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!t.test(e)}var isValid=isShortId;(function(e){var t=alphabet_1,r=build_1,o=isValid,u=0;function f(T){return t.seed(T),e.exports}function g(T){return u=T,e.exports}function b(T){return T!==void 0&&t.characters(T),t.shuffled()}function S(){return r(u)}e.exports=S,e.exports.generate=S,e.exports.seed=f,e.exports.worker=g,e.exports.characters=b,e.exports.isValid=o})(lib);var libExports=lib.exports,shortid=libExports;const shortid$1=getDefaultExportFromCjs(shortid);var extend=Object.assign,PatchBay=function(e){this.signaller=io(e.server),this.id=e.id||shortid$1.generate(),this.stream=e.stream||null,this._peerOptions=e.peerOptions||{},this._room=e.room,this.settings.shareMediaWhenRequested=!0,this.settings.shareMediaWhenInitiating=!1,this.settings.requestMediaWhenInitiating=!0,this.settings.autoconnect=!1,this.peers={},this.rtcPeers={},this.signaller.on("ready",this._readyForSignalling.bind(this)),this.signaller.on("message",this._handleMessage.bind(this)),this.signaller.on("broadcast",this._receivedBroadcast.bind(this)),this.signaller.emit("join",this._room,{uuid:this.id}),this.signaller.on("new peer",this._newPeer.bind(this))};inherits$1(PatchBay,eventsExports.EventEmitter);PatchBay.prototype.sendToAll=function(e){Object.keys(this.rtcPeers).forEach(function(t){this.rtcPeers[t].send(e)},this)};PatchBay.prototype.sendToPeer=function(e,t){e in this.rtcPeers&&this.rtcPeers[e].send(t)};PatchBay.prototype.reinitAll=function(){Object.keys(this.rtcPeers).forEach(function(e){this.reinitPeer(e)}.bind(this))};PatchBay.prototype.initRtcPeer=function(e,t){this.emit("new peer",{id:e});var r=t;this.iceServers&&(t.config={iceServers:this.iceServers}),t.initiator===!0?(this.stream!=null&&this.settings.shareMediaWhenInitiating===!0&&(r.stream=this.stream),this.settings.requestMediaWhenInitiating===!0&&(r.offerConstraints={offerToReceiveVideo:!0,offerToReceiveAudio:!0})):this.settings.shareMediaWhenRequested===!0&&this.stream!=null&&(r.stream=this.stream);var o=extend(this._peerOptions,r);this.rtcPeers[e]=new SimplePeer(o),this._attachPeerEvents(this.rtcPeers[e],e)};PatchBay.prototype.reinitRtcConnection=function(e,t){this.rtcPeers[e]._destroy(null,function(r){this.initRtcPeer(e,{stream:this.stream,initiator:!0})}.bind(this))};PatchBay.prototype._newPeer=function(e){this.peers[e]={rtcPeer:null},this.emit("new peer",e)};PatchBay.prototype._readyForSignalling=function({peers:e,servers:t}){e.forEach(r=>{this._newPeer(r)}),t&&(this.iceServers=t),this.emit("ready")};PatchBay.prototype.initConnectionFromId=function(e,t){e in this.rtcPeers?(console.log("Already connected to..",e,this.rtcPeers),this.rtcPeers[e].initiator===!1&&this.reinitRtcConnection(e)):this.initRtcPeer(e,{initiator:!0})};PatchBay.prototype._handleMessage=function(e){e.type==="signal"?this._handleSignal(e):this.emit("message",e)};PatchBay.prototype._handleSignal=function(e){this.rtcPeers[e.id]||this.initRtcPeer(e.id,{initiator:!1}),this.rtcPeers[e.id].signal(e.message)};PatchBay.prototype._receivedBroadcast=function(e){this.emit("broadcast",e)};PatchBay.prototype.broadcast=function(e){this.signaller.emit("broadcast",e)};PatchBay.prototype._attachPeerEvents=function(e,t){e.on("signal",function(r,o){this.signaller.emit("message",{id:r,message:o,type:"signal"})}.bind(this,t)),e.on("stream",function(r,o){this.rtcPeers[r].stream=o,this.emit("stream",r,o)}.bind(this,t)),e.on("connect",function(r){this.emit("connect",r)}.bind(this,t)),e.on("data",function(r,o){this.emit("data",{id:r,data:JSON.parse(o)})}.bind(this,t)),e.on("close",function(r){delete this.rtcPeers[r],this.emit("close",r)}.bind(this,t)),e.on("error",function(r){console.warn("simple peer error",r)})};PatchBay.prototype._destroy=function(){Object.values(this.rtcPeers).forEach(function(e){e.destroy()}),this.signaller.close()};var PBLive=function(){this.session={},this.nickFromId={},this.idFromNick={},this.loadFromStorage()};inherits$1(PBLive,PatchBay);PBLive.prototype.init=function(e,t){this.settings={server:t.server||"https://patch-bay.glitch.me/",room:t.room||"patch-bay",stream:e},this.makeGlobal=t.makeGlobal||!0,this.setPageTitle=t.setTitle||!0,this.session.id&&(this.settings.id=this.session.id),PatchBay.call(this,this.settings),this.makeGlobal&&(window.pb=this),this.on("ready",()=>{this.nick||(this.session.nick?this.setName(this.session.nick):(this.session.id=this.id,this.setName(this.session.id)))}),this.on("broadcast",this._processBroadcast.bind(this)),this.on("new peer",this.handleNewPeer.bind(this)),window.onbeforeunload=()=>{this.session.id=window.pb.id,this.session.nick=this.nick,sessionStorage.setItem("pb",JSON.stringify(this.session))};var r=this;this.on("stream",function(o,u){console.log("got stream!",o,u);const f=document.createElement("video");"srcObject"in f?f.srcObject=u:f.src=window.URL.createObjectURL(u),f.addEventListener("loadedmetadata",()=>{f.play(),r.video=f,r.emit("got video",r.nickFromId[o],f)})})};PBLive.prototype.loadFromStorage=function(){sessionStorage.getItem("pb")!==null&&(this.session=JSON.parse(sessionStorage.getItem("pb")))};PBLive.prototype.initSource=function(e,t){this.initConnectionFromId(this.idFromNick[e],t)};PBLive.prototype.handleNewPeer=function(e){this.nickFromId[e]=e,this.idFromNick[e]=e,this.nick&&this.broadcast({type:"update-nick",id:this.id,nick:this.nick})};PBLive.prototype.list=function(){var e=Object.keys(this.idFromNick);return console.log(e),Object.keys(this.idFromNick)};PBLive.prototype.setName=function(e){this.broadcast({type:"update-nick",id:this.id,nick:e,previous:this.nick}),this.nick=e,this.setPageTitle&&(document.title=e)};PBLive.prototype._processBroadcast=function(e){e.type==="update-nick"&&e.previous!==e.nick&&(delete this.idFromNick[this.nickFromId[e.id]],this.nickFromId[e.id]=e.nick,this.idFromNick[e.nick]=e.id,e.previous)};class Hydra extends Component{constructor(t,r,o){super(t),this.local=r.components[t]={},r.hydra=this,this.emit=o}load(t){let o=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream?"highp":"mediump";const u=new PBLive,f=new HydraRenderer({pb:u,detectAudio:!0,canvas:t.querySelector("canvas"),precision:o});this.hydra=f,osc().out(),u.init(f.captureStream,{server:window.location.origin,room:"iclc"}),window.P5=P5,window.pb=u,this.emit("hydra loaded")}update(t){return!1}createElement({width:t=window.innerWidth,height:r=window.innerHeight}={}){return html$2`<div style="width:100%;height:100%;">
        <canvas class="bg-black" style="imageRendering:pixelated; width:100%;height:100%" width="${t}" height="${r}"></canvas></div>`}}var codemirror$1={exports:{}};(function(e,t){var r=r||{};r.scope={},r.findInternal=function(o,u,f){o instanceof String&&(o=String(o));for(var g=o.length,b=0;b<g;b++){var S=o[b];if(u.call(f,S,b,o))return{i:b,v:S}}return{i:-1,v:void 0}},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.SIMPLE_FROUND_POLYFILL=!1,r.ISOLATE_POLYFILLS=!1,r.FORCE_POLYFILL_PROMISE=!1,r.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,r.defineProperty=r.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){return o==Array.prototype||o==Object.prototype||(o[u]=f.value),o},r.getGlobal=function(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof globalThis=="object"&&globalThis];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find globalThis object")},r.global=r.getGlobal(this),r.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",r.TRUST_ES6_POLYFILLS=!r.ISOLATE_POLYFILLS||r.IS_SYMBOL_NATIVE,r.polyfills={},r.propertyToPolyfillSymbol={},r.POLYFILL_PREFIX="$jscp$",r.polyfill=function(o,u,f,g){u&&(r.ISOLATE_POLYFILLS?r.polyfillIsolated(o,u,f,g):r.polyfillUnisolated(o,u,f,g))},r.polyfillUnisolated=function(o,u,f,g){for(f=r.global,o=o.split("."),g=0;g<o.length-1;g++){var b=o[g];if(!(b in f))return;f=f[b]}o=o[o.length-1],g=f[o],u=u(g),u!=g&&u!=null&&r.defineProperty(f,o,{configurable:!0,writable:!0,value:u})},r.polyfillIsolated=function(o,u,f,g){var b=o.split(".");o=b.length===1,g=b[0],g=!o&&g in r.polyfills?r.polyfills:r.global;for(var S=0;S<b.length-1;S++){var T=b[S];if(!(T in g))return;g=g[T]}b=b[b.length-1],f=r.IS_SYMBOL_NATIVE&&f==="es6"?g[b]:null,u=u(f),u!=null&&(o?r.defineProperty(r.polyfills,b,{configurable:!0,writable:!0,value:u}):u!==f&&(r.propertyToPolyfillSymbol[b]===void 0&&(f=1e9*Math.random()>>>0,r.propertyToPolyfillSymbol[b]=r.IS_SYMBOL_NATIVE?r.global.Symbol(b):r.POLYFILL_PREFIX+f+"$"+b),r.defineProperty(g,r.propertyToPolyfillSymbol[b],{configurable:!0,writable:!0,value:u})))},r.polyfill("Array.prototype.find",function(o){return o||function(u,f){return r.findInternal(this,u,f).v}},"es6","es3"),function(o,u){e.exports=u()}(this,function(){function o(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}function u(n){for(var l=n.childNodes.length;0<l;--l)n.removeChild(n.firstChild);return n}function f(n,l){return u(n).appendChild(l)}function g(n,l,p,c){if(n=document.createElement(n),p&&(n.className=p),c&&(n.style.cssText=c),typeof l=="string")n.appendChild(document.createTextNode(l));else if(l)for(p=0;p<l.length;++p)n.appendChild(l[p]);return n}function b(n,l,p,c){return n=g(n,l,p,c),n.setAttribute("role","presentation"),n}function S(n,l){if(l.nodeType==3&&(l=l.parentNode),n.contains)return n.contains(l);do if(l.nodeType==11&&(l=l.host),l==n)return!0;while(l=l.parentNode)}function T(){try{var n=document.activeElement}catch{n=document.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function $(n,l){var p=n.className;o(l).test(p)||(n.className+=(p?" ":"")+l)}function A(n,l){n=n.split(" ");for(var p=0;p<n.length;p++)n[p]&&!o(n[p]).test(l)&&(l+=" "+n[p]);return l}function M(n){var l=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,l)}}function O(n,l,p){l||(l={});for(var c in n)!n.hasOwnProperty(c)||p===!1&&l.hasOwnProperty(c)||(l[c]=n[c]);return l}function D(n,l,p,c,_){for(l==null&&(l=n.search(/[^\s\u00a0]/),l==-1&&(l=n.length)),c=c||0,_=_||0;;){var E=n.indexOf("	",c);if(0>E||E>=l)return _+(l-c);_+=E-c,_+=p-_%p,c=E+1}}function U(n,l){for(var p=0;p<n.length;++p)if(n[p]==l)return p;return-1}function F(n,l,p){for(var c=0,_=0;;){var E=n.indexOf("	",c);E==-1&&(E=n.length);var C=E-c;if(E==n.length||_+C>=l)return c+Math.min(C,l-_);if(_+=E-c,_+=p-_%p,c=E+1,_>=l)return c}}function P(n){for(;Js.length<=n;)Js.push(oe(Js)+" ");return Js[n]}function oe(n){return n[n.length-1]}function Me(n,l){for(var p=[],c=0;c<n.length;c++)p[c]=l(n[c],c);return p}function he(n,l,p){for(var c=0,_=p(l);c<n.length&&p(n[c])<=_;)c++;n.splice(c,0,l)}function de(){}function xe(n,l){return Object.create?n=Object.create(n):(de.prototype=n,n=new de),l&&O(l,n),n}function Ce(n){return/\w/.test(n)||""<n&&(n.toUpperCase()!=n.toLowerCase()||dl.test(n))}function De(n,l){return l?-1<l.source.indexOf("\\w")&&Ce(n)?!0:l.test(n):Ce(n)}function et(n){for(var l in n)if(n.hasOwnProperty(l)&&n[l])return!1;return!0}function Ve(n){return 768<=n.charCodeAt(0)&&ml.test(n)}function Ze(n,l,p){for(;(0>p?0<l:l<n.length)&&Ve(n.charAt(l));)l+=p;return l}function se(n,l,p){for(var c=l>p?-1:1;;){if(l==p)return l;var _=(l+p)/2;if(_=0>c?Math.ceil(_):Math.floor(_),_==l)return n(_)?l:p;n(_)?p=_:l=_+c}}function me(n,l,p,c){if(!n)return c(l,p,"ltr",0);for(var _=!1,E=0;E<n.length;++E){var C=n[E];(C.from<p&&C.to>l||l==p&&C.to==l)&&(c(Math.max(C.from,l),Math.min(C.to,p),C.level==1?"rtl":"ltr",E),_=!0)}_||c(l,p,"ltr")}function Se(n,l,p){var c;cs=null;for(var _=0;_<n.length;++_){var E=n[_];if(E.from<l&&E.to>l)return _;E.to==l&&(E.from!=E.to&&p=="before"?c=_:cs=_),E.from==l&&(E.from!=E.to&&p!="before"?c=_:cs=_)}return c??cs}function Y(n,l){var p=n.order;return p==null&&(p=n.order=yl(n.text,l)),p}function Q(n,l,p){if(n.removeEventListener)n.removeEventListener(l,p,!1);else if(n.detachEvent)n.detachEvent("on"+l,p);else{var c=(n=n._handlers)&&n[l];c&&(p=U(c,p),-1<p&&(n[l]=c.slice(0,p).concat(c.slice(p+1))))}}function G(n,l){var p=n._handlers&&n._handlers[l]||hs;if(p.length)for(var c=Array.prototype.slice.call(arguments,2),_=0;_<p.length;++_)p[_].apply(null,c)}function H(n,l,p){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),G(n,p||l.type,n,l),wt(l)||l.codemirrorIgnore}function ve(n){var l=n._handlers&&n._handlers.cursorActivity;if(l){n=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]);for(var p=0;p<l.length;++p)U(n,l[p])==-1&&n.push(l[p])}}function Ue(n,l){return 0<(n._handlers&&n._handlers[l]||hs).length}function qe(n){n.prototype.on=function(l,p){It(this,l,p)},n.prototype.off=function(l,p){Q(this,l,p)}}function ut(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function gt(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function wt(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==0}function Ct(n){ut(n),gt(n)}function er(n){var l=n.which;return l==null&&(n.button&1?l=1:n.button&2?l=3:n.button&4&&(l=2)),Li&&n.ctrlKey&&l==1&&(l=3),l}function Ut(n,l){2<arguments.length&&(l.dependencies=Array.prototype.slice.call(arguments,2)),ma[n]=l}function _r(n){if(typeof n=="string"&&ps.hasOwnProperty(n))n=ps[n];else if(n&&typeof n.name=="string"&&ps.hasOwnProperty(n.name)){var l=ps[n.name];typeof l=="string"&&(l={name:l}),n=xe(l,n),n.name=l.name}else{if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return _r("application/xml");if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return _r("application/json")}return typeof n=="string"?{name:n}:n||{name:"null"}}function pr(n,l){l=_r(l);var p=ma[l.name];if(!p)return pr(n,"text/plain");if(n=p(n,l),ds.hasOwnProperty(l.name)){p=ds[l.name];for(var c in p)p.hasOwnProperty(c)&&(n.hasOwnProperty(c)&&(n["_"+c]=n[c]),n[c]=p[c])}if(n.name=l.name,l.helperType&&(n.helperType=l.helperType),l.modeProps)for(var _ in l.modeProps)n[_]=l.modeProps[_];return n}function Mr(n,l){n=ds.hasOwnProperty(n)?ds[n]:ds[n]={},O(l,n)}function Hr(n,l){if(l===!0)return l;if(n.copyState)return n.copyState(l);n={};for(var p in l){var c=l[p];c instanceof Array&&(c=c.concat([])),n[p]=c}return n}function or(n,l){for(var p;n.innerMode&&(p=n.innerMode(l),!(!p||p.mode==n));)l=p.state,n=p.mode;return p||{mode:n,state:l}}function Er(n,l,p){return n.startState?n.startState(l,p):!0}function _t(n,l){if(l-=n.first,0>l||l>=n.size)throw Error("There is no line "+(l+n.first)+" in the document.");for(;!n.lines;)for(var p=0;;++p){var c=n.children[p],_=c.chunkSize();if(l<_){n=c;break}l-=_}return n.lines[l]}function rr(n,l,p){var c=[],_=l.line;return n.iter(l.line,p.line+1,function(E){E=E.text,_==p.line&&(E=E.slice(0,p.ch)),_==l.line&&(E=E.slice(l.ch)),c.push(E),++_}),c}function Mi(n,l,p){var c=[];return n.iter(l,p,function(_){c.push(_.text)}),c}function jr(n,l){if(l-=n.height)for(;n;n=n.parent)n.height+=l}function Ft(n){if(n.parent==null)return null;var l=n.parent;n=U(l.lines,n);for(var p=l.parent;p;l=p,p=p.parent)for(var c=0;p.children[c]!=l;++c)n+=p.children[c].chunkSize();return n+l.first}function Ai(n,l){var p=n.first;e:do{for(var c=0;c<n.children.length;++c){var _=n.children[c],E=_.height;if(l<E){n=_;continue e}l-=E,p+=_.chunkSize()}return p}while(!n.lines);for(c=0;c<n.lines.length&&(_=n.lines[c].height,!(l<_));++c)l-=_;return p+c}function pi(n,l){return l>=n.first&&l<n.first+n.size}function Wi(n,l){return String(n.lineNumberFormatter(l+n.firstLineNumber))}function Fe(n,l,p){if(p===void 0&&(p=null),!(this instanceof Fe))return new Fe(n,l,p);this.line=n,this.ch=l,this.sticky=p}function K(n,l){return n.line-l.line||n.ch-l.ch}function un(n,l){return n.sticky==l.sticky&&K(n,l)==0}function Qr(n){return Fe(n.line,n.ch)}function zi(n,l){return 0>K(n,l)?l:n}function z(n,l){return 0>K(n,l)?n:l}function L(n,l){if(l.line<n.first)return Fe(n.first,0);var p=n.first+n.size-1;return l.line>p?Fe(p,_t(n,p).text.length):(n=_t(n,l.line).text.length,p=l.ch,l=p==null||p>n?Fe(l.line,n):0>p?Fe(l.line,0):l,l)}function I(n,l){for(var p=[],c=0;c<l.length;c++)p[c]=L(n,l[c]);return p}function ie(n,l,p,c){var _=[n.state.modeGen],E={};dr(n,l.text,n.doc.mode,p,function(B,j){return _.push(B,j)},E,c);var C=p.state;c=function(B){p.baseTokens=_;var j=n.state.overlays[B],Z=1,ce=0;p.state=!0,dr(n,l.text,j.mode,p,function(ye,_e){for(var We=Z;ce<ye;){var bt=_[Z];bt>ye&&_.splice(Z,1,ye,_[Z+1],bt),Z+=2,ce=Math.min(ye,bt)}if(_e)if(j.opaque)_.splice(We,Z-We,ye,"overlay "+_e),Z=We+2;else for(;We<Z;We+=2)ye=_[We+1],_[We+1]=(ye?ye+" ":"")+"overlay "+_e},E),p.state=C,p.baseTokens=null,p.baseTokenPos=1};for(var k=0;k<n.state.overlays.length;++k)c(k);return{styles:_,classes:E.bgClass||E.textClass?E:null}}function Ee(n,l,p){if(!l.styles||l.styles[0]!=n.state.modeGen){var c=Be(n,Ft(l)),_=l.text.length>n.options.maxHighlightLength&&Hr(n.doc.mode,c.state),E=ie(n,l,c);_&&(c.state=_),l.stateAfter=c.save(!_),l.styles=E.styles,E.classes?l.styleClasses=E.classes:l.styleClasses&&(l.styleClasses=null),p===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return l.styles}function Be(n,l,p){var c=n.doc,_=n.display;if(!c.mode.startState)return new Gi(c,!0,l);var E=Ro(n,l,p),C=E>c.first&&_t(c,E-1).stateAfter,k=C?Gi.fromSaved(c,C,E):new Gi(c,Er(c.mode),E);return c.iter(E,l,function(B){Ye(n,B.text,k);var j=k.line;B.stateAfter=j==l-1||j%5==0||j>=_.viewFrom&&j<_.viewTo?k.save():null,k.nextLine()}),p&&(c.modeFrontier=k.line),k}function Ye(n,l,p,c){var _=n.doc.mode;for(n=new Rr(l,n.options.tabSize,p),n.start=n.pos=c||0,l==""&&Nt(_,p.state);!n.eol();)Zt(_,n,p.state),n.start=n.pos}function Nt(n,l){if(n.blankLine)return n.blankLine(l);if(n.innerMode&&(n=or(n,l),n.mode.blankLine))return n.mode.blankLine(n.state)}function Zt(n,l,p,c){for(var _=0;10>_;_++){c&&(c[0]=or(n,p).mode);var E=n.token(l,p);if(l.pos>l.start)return E}throw Error("Mode "+n.name+" failed to advance stream.")}function gr(n,l,p,c){var _=n.doc,E=_.mode;l=L(_,l);var C=_t(_,l.line);p=Be(n,l.line,p),n=new Rr(C.text,n.options.tabSize,p);var k;for(c&&(k=[]);(c||n.pos<l.ch)&&!n.eol();){n.start=n.pos;var B=Zt(E,n,p.state);c&&k.push(new ya(n,B,Hr(_.mode,p.state)))}return c?k:new ya(n,B,p.state)}function ar(n,l){if(n)for(;;){var p=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;n=n.slice(0,p.index)+n.slice(p.index+p[0].length);var c=p[1]?"bgClass":"textClass";l[c]==null?l[c]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(l[c])||(l[c]+=" "+p[2])}return n}function dr(n,l,p,c,_,E,C){var k=p.flattenSpans;k==null&&(k=n.options.flattenSpans);var B=0,j=null,Z=new Rr(l,n.options.tabSize,c),ce=n.options.addModeClass&&[null];for(l==""&&ar(Nt(p,c.state),E);!Z.eol();){if(Z.pos>n.options.maxHighlightLength){k=!1,C&&Ye(n,l,c,Z.pos),Z.pos=l.length;var ye=null}else ye=ar(Zt(p,Z,c.state,ce),E);if(ce){var _e=ce[0].name;_e&&(ye="m-"+(ye?_e+" "+ye:_e))}if(!k||j!=ye){for(;B<Z.start;)B=Math.min(Z.start,B+5e3),_(B,j);j=ye}Z.start=Z.pos}for(;B<Z.pos;)n=Math.min(Z.pos,B+5e3),_(n,j),B=n}function Ro(n,l,p){for(var c,_,E=n.doc,C=p?-1:l-(n.doc.mode.innerMode?1e3:100);l>C;--l){if(l<=E.first)return E.first;var k=_t(E,l-1),B=k.stateAfter;if(B&&(!p||l+(B instanceof xo?B.lookAhead:0)<=E.modeFrontier))return l;k=D(k.text,null,n.options.tabSize),(_==null||c>k)&&(_=l-1,c=k)}return _}function Oo(n,l){if(n.modeFrontier=Math.min(n.modeFrontier,l),!(n.highlightFrontier<l-10)){for(var p=n.first,c=l-1;c>p;c--){var _=_t(n,c).stateAfter;if(_&&(!(_ instanceof xo)||c+_.lookAhead<l)){p=c+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,p)}}function ys(n,l,p){this.marker=n,this.from=l,this.to=p}function ki(n,l){if(n)for(var p=0;p<n.length;++p){var c=n[p];if(c.marker==l)return c}}function bi(n,l){if(l.full)return null;var p=pi(n,l.from.line)&&_t(n,l.from.line).markedSpans,c=pi(n,l.to.line)&&_t(n,l.to.line).markedSpans;if(!p&&!c)return null;n=l.from.ch;var _=l.to.ch,E=K(l.from,l.to)==0,C;if(p)for(var k=0;k<p.length;++k){var B=p[k],j=B.marker;if(B.from==null||(j.inclusiveLeft?B.from<=n:B.from<n)||!(B.from!=n||j.type!="bookmark"||E&&B.marker.insertLeft)){var Z=B.to==null||(j.inclusiveRight?B.to>=n:B.to>n);(C||(C=[])).push(new ys(j,B.from,Z?null:B.to))}}p=C;var ce;if(c)for(C=0;C<c.length;++C)k=c[C],B=k.marker,(k.to==null||(B.inclusiveRight?k.to>=_:k.to>_)||k.from==_&&B.type=="bookmark"&&(!E||k.marker.insertLeft))&&(j=k.from==null||(B.inclusiveLeft?k.from<=_:k.from<_),(ce||(ce=[])).push(new ys(B,j?null:k.from-_,k.to==null?null:k.to-_)));if(c=l.text.length==1,_=oe(l.text).length+(c?n:0),p)for(E=0;E<p.length;++E)C=p[E],C.to==null&&(k=ki(ce,C.marker),k?c&&(C.to=k.to==null?null:k.to+_):C.to=n);if(ce)for(n=0;n<ce.length;++n)E=ce[n],E.to!=null&&(E.to+=_),E.from==null?ki(p,E.marker)||(E.from=_,c&&(p||(p=[])).push(E)):(E.from+=_,c&&(p||(p=[])).push(E));if(p&&(p=Vi(p)),ce&&ce!=p&&(ce=Vi(ce)),n=[p],!c){l=l.text.length-2;var ye;if(0<l&&p)for(c=0;c<p.length;++c)p[c].to==null&&(ye||(ye=[])).push(new ys(p[c].marker,null,null));for(p=0;p<l;++p)n.push(ye);n.push(ce)}return n}function Vi(n){for(var l=0;l<n.length;++l){var p=n[l];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&n.splice(l--,1)}return n.length?n:null}function Lo(n,l,p){var c=null;if(n.iter(l.line,p.line+1,function(Z){if(Z.markedSpans)for(var ce=0;ce<Z.markedSpans.length;++ce){var ye=Z.markedSpans[ce].marker;!ye.readOnly||c&&U(c,ye)!=-1||(c||(c=[])).push(ye)}}),!c)return null;for(n=[{from:l,to:p}],l=0;l<c.length;++l){p=c[l];for(var _=p.find(0),E=0;E<n.length;++E){var C=n[E];if(!(0>K(C.to,_.from)||0<K(C.from,_.to))){var k=[E,1],B=K(C.from,_.from),j=K(C.to,_.to);(0>B||!p.inclusiveLeft&&!B)&&k.push({from:C.from,to:_.from}),(0<j||!p.inclusiveRight&&!j)&&k.push({from:_.to,to:C.to}),n.splice.apply(n,k),E+=k.length-3}}}return n}function Hi(n){var l=n.markedSpans;if(l){for(var p=0;p<l.length;++p)l[p].marker.detachLine(n);n.markedSpans=null}}function qr(n,l){if(l){for(var p=0;p<l.length;++p)l[p].marker.attachLine(n);n.markedSpans=l}}function gs(n,l){var p=n.lines.length-l.lines.length;if(p!=0)return p;p=n.find();var c=l.find(),_=K(p.from,c.from)||(n.inclusiveLeft?-1:0)-(l.inclusiveLeft?-1:0);return _?-_:(p=K(p.to,c.to)||(n.inclusiveRight?1:0)-(l.inclusiveRight?1:0))?p:l.id-n.id}function Bi(n,l){if(n=sn&&n.markedSpans,n){for(var p,c=0;c<n.length;++c)if(p=n[c],p.marker.collapsed&&(l?p.from:p.to)==null&&(!_||0>gs(_,p.marker)))var _=p.marker}return _}function $i(n,l,p,c,_){if(n=_t(n,l),n=sn&&n.markedSpans)for(l=0;l<n.length;++l){var E=n[l];if(E.marker.collapsed){var C=E.marker.find(0),k=K(C.from,p)||(E.marker.inclusiveLeft?-1:0)-(_.inclusiveLeft?-1:0),B=K(C.to,c)||(E.marker.inclusiveRight?1:0)-(_.inclusiveRight?1:0);if(!(0<=k&&0>=B||0>=k&&0<=B)&&(0>=k&&(E.marker.inclusiveRight&&_.inclusiveLeft?0<=K(C.to,p):0<K(C.to,p))||0<=k&&(E.marker.inclusiveRight&&_.inclusiveLeft?0>=K(C.from,c):0>K(C.from,c))))return!0}}}function li(n){for(var l;l=Bi(n,!0);)n=l.find(-1,!0).line;return n}function Qs(n,l){n=_t(n,l);var p=li(n);return n==p?l:Ft(p)}function Ys(n,l){if(l>n.lastLine())return l;var p=_t(n,l);if(!Qi(n,p))return l;for(;n=Bi(p,!1);)p=n.find(1,!0).line;return Ft(p)+1}function Qi(n,l){var p=sn&&l.markedSpans;if(p){for(var c,_=0;_<p.length;++_)if(c=p[_],c.marker.collapsed&&(c.from==null||!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&bn(n,l,c)))return!0}}function bn(n,l,p){if(p.to==null)return l=p.marker.find(1,!0),bn(n,l.line,ki(l.line.markedSpans,p.marker));if(p.marker.inclusiveRight&&p.to==l.text.length)return!0;for(var c,_=0;_<l.markedSpans.length;++_)if(c=l.markedSpans[_],c.marker.collapsed&&!c.marker.widgetNode&&c.from==p.to&&(c.to==null||c.to!=p.from)&&(c.marker.inclusiveLeft||p.marker.inclusiveRight)&&bn(n,l,c))return!0}function di(n){n=li(n);for(var l=0,p=n.parent,c=0;c<p.lines.length;++c){var _=p.lines[c];if(_==n)break;l+=_.height}for(n=p.parent;n;p=n,n=p.parent)for(c=0;c<n.children.length&&(_=n.children[c],_!=p);++c)l+=_.height;return l}function Kn(n){if(n.height==0)return 0;for(var l=n.text.length,p,c=n;p=Bi(c,!0);)p=p.find(0,!0),c=p.from.line,l+=p.from.ch-p.to.ch;for(c=n;p=Bi(c,!1);)n=p.find(0,!0),l-=c.text.length-n.from.ch,c=n.to.line,l+=c.text.length-n.to.ch;return l}function Sr(n){var l=n.display;n=n.doc,l.maxLine=_t(n,n.first),l.maxLineLength=Kn(l.maxLine),l.maxLineChanged=!0,n.iter(function(p){var c=Kn(p);c>l.maxLineLength&&(l.maxLineLength=c,l.maxLine=p)})}function No(n,l){return!n||/^\s*$/.test(n)?null:(l=l.addModeClass?yu:mu,l[n]||(l[n]=n.replace(/\S+/g,"cm-$&")))}function Xs(n,l){var p=b("span",null,null,ni?"padding-right: .1px":null);p={pre:b("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")},l.measure={};for(var c=0;c<=(l.rest?l.rest.length:0);c++){var _=c?l.rest[c-1]:l.line,E=void 0;p.pos=0,p.addToken=Io;var C=n.display.measure;if(ha!=null)C=ha;else{var k=f(C,document.createTextNode("AخA")),B=To(k,0,1).getBoundingClientRect();k=To(k,1,2).getBoundingClientRect(),u(C),C=B&&B.left!=B.right?ha=3>k.right-B.right:!1}C&&(E=Y(_,n.doc.direction))&&(p.addToken=En(p.addToken,E)),p.map=[];var j=l!=n.display.externalMeasured&&Ft(_);e:{var Z=k=B=C=void 0,ce=void 0,ye=void 0,_e=void 0;E=p,j=Ee(n,_,j);var We=_.markedSpans,bt=_.text,Lt=0;if(We)for(var Ar=bt.length,kt=0,fr=1,mr="",yr=0;;){if(yr==kt){ce=Z=k=ye="",B=C=null,yr=1/0;for(var cr=[],qt=void 0,br=0;br<We.length;++br){var hr=We[br],vr=hr.marker;if(vr.type=="bookmark"&&hr.from==kt&&vr.widgetNode)cr.push(vr);else if(hr.from<=kt&&(hr.to==null||hr.to>kt||vr.collapsed&&hr.to==kt&&hr.from==kt)){if(hr.to!=null&&hr.to!=kt&&yr>hr.to&&(yr=hr.to,Z=""),vr.className&&(ce+=" "+vr.className),vr.css&&(ye=(ye?ye+";":"")+vr.css),vr.startStyle&&hr.from==kt&&(k+=" "+vr.startStyle),vr.endStyle&&hr.to==yr&&(qt||(qt=[])).push(vr.endStyle,hr.to),vr.title&&((C||(C={})).title=vr.title),vr.attributes)for(var si in vr.attributes)(C||(C={}))[si]=vr.attributes[si];vr.collapsed&&(!B||0>gs(B.marker,vr))&&(B=hr)}else hr.from>kt&&yr>hr.from&&(yr=hr.from)}if(qt)for(br=0;br<qt.length;br+=2)qt[br+1]==yr&&(Z+=" "+qt[br]);if(!B||B.from==kt)for(qt=0;qt<cr.length;++qt)Zs(E,0,cr[qt]);if(B&&(B.from||0)==kt){if(Zs(E,(B.to==null?Ar+1:B.to)-kt,B.marker,B.from==null),B.to==null)break e;B.to==kt&&(B=!1)}}if(kt>=Ar)break;for(cr=Math.min(Ar,yr);;){if(mr){if(qt=kt+mr.length,B||(br=qt>cr?mr.slice(0,cr-kt):mr,E.addToken(E,br,_e?_e+ce:ce,k,kt+br.length==yr?Z:"",ye,C)),qt>=cr){mr=mr.slice(cr-kt),kt=cr;break}kt=qt,k=""}mr=bt.slice(Lt,Lt=j[fr++]),_e=No(j[fr++],E.cm.options)}}else for(C=1;C<j.length;C+=2)E.addToken(E,bt.slice(Lt,Lt=j[C]),No(j[C+1],E.cm.options))}_.styleClasses&&(_.styleClasses.bgClass&&(p.bgClass=A(_.styleClasses.bgClass,p.bgClass||"")),_.styleClasses.textClass&&(p.textClass=A(_.styleClasses.textClass,p.textClass||""))),p.map.length==0&&(_=p.map,E=_.push,C=p.content,B=C.appendChild,k=n.display.measure,ca==null&&(Z=g("span","​"),f(k,g("span",[Z,document.createTextNode("x")])),k.firstChild.offsetHeight!=0&&(ca=1>=Z.offsetWidth&&2<Z.offsetHeight&&!(lr&&8>xr))),k=ca?g("span","​"):g("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px"),k.setAttribute("cm-text",""),E.call(_,0,0,B.call(C,k))),c==0?(l.measure.map=p.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(p.map),(l.measure.caches||(l.measure.caches=[])).push({}))}return ni&&(si=p.content.lastChild,/\bcm-tab\b/.test(si.className)||si.querySelector&&si.querySelector(".cm-tab"))&&(p.content.className="cm-tab-wrap-hack"),G(n,"renderLine",n,l.line,p.pre),p.pre.className&&(p.textClass=A(p.pre.className,p.textClass||"")),p}function xa(n){var l=g("span","•","cm-invalidchar");return l.title="\\u"+n.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Io(n,l,p,c,_,E,C){if(l){if(n.splitSpaces){var k=n.trailingSpace;if(1<l.length&&!/  /.test(l))k=l;else{for(var B="",j=0;j<l.length;j++){var Z=l.charAt(j);Z!=" "||!k||j!=l.length-1&&l.charCodeAt(j+1)!=32||(Z=" "),B+=Z,k=Z==" "}k=B}}else k=l;if(B=k,j=n.cm.state.specialChars,Z=!1,j.test(l)){k=document.createDocumentFragment();for(var ce=0;;){j.lastIndex=ce;var ye=j.exec(l),_e=ye?ye.index-ce:l.length-ce;if(_e){var We=document.createTextNode(B.slice(ce,ce+_e));lr&&9>xr?k.appendChild(g("span",[We])):k.appendChild(We),n.map.push(n.pos,n.pos+_e,We),n.col+=_e,n.pos+=_e}if(!ye)break;ce+=_e+1,ye[0]=="	"?(ye=n.cm.options.tabSize,ye-=n.col%ye,_e=k.appendChild(g("span",P(ye),"cm-tab")),_e.setAttribute("role","presentation"),_e.setAttribute("cm-text","	"),n.col+=ye):(ye[0]=="\r"||ye[0]==`
`?(_e=k.appendChild(g("span",ye[0]=="\r"?"␍":"␤","cm-invalidchar")),_e.setAttribute("cm-text",ye[0])):(_e=n.cm.options.specialCharPlaceholder(ye[0]),_e.setAttribute("cm-text",ye[0]),lr&&9>xr?k.appendChild(g("span",[_e])):k.appendChild(_e)),n.col+=1),n.map.push(n.pos,n.pos+1,_e),n.pos++}}else n.col+=l.length,k=document.createTextNode(B),n.map.push(n.pos,n.pos+l.length,k),lr&&9>xr&&(Z=!0),n.pos+=l.length;if(n.trailingSpace=B.charCodeAt(l.length-1)==32,p||c||_||Z||E||C){if(l=p||"",c&&(l+=c),_&&(l+=_),c=g("span",[k],l,E),C)for(var bt in C)C.hasOwnProperty(bt)&&bt!="style"&&bt!="class"&&c.setAttribute(bt,C[bt]);return n.content.appendChild(c)}n.content.appendChild(k)}}function En(n,l){return function(p,c,_,E,C,k,B){_=_?_+" cm-force-border":"cm-force-border";for(var j=p.pos,Z=j+c.length;;){for(var ce=void 0,ye=0;ye<l.length&&(ce=l[ye],!(ce.to>j&&ce.from<=j));ye++);if(ce.to>=Z)return n(p,c,_,E,C,k,B);n(p,c.slice(0,ce.to-j),_,E,null,k,B),E=null,c=c.slice(ce.to-j),j=ce.to}}}function Zs(n,l,p,c){var _=!c&&p.widgetNode;_&&n.map.push(n.pos,n.pos+l,_),!c&&n.cm.display.input.needsContentAttribute&&(_||(_=n.content.appendChild(document.createElement("span"))),_.setAttribute("cm-marker",p.id)),_&&(n.cm.display.input.setUneditable(_),n.content.appendChild(_)),n.pos+=l,n.trailingSpace=!1}function Wn(n,l,p){for(var c=this.line=l,_;c=Bi(c,!1);)c=c.find(1,!0).line,(_||(_=[])).push(c);this.size=(this.rest=_)?Ft(oe(this.rest))-p+1:1,this.node=this.text=null,this.hidden=Qi(n,l)}function Ri(n,l,p){var c=[],_;for(_=l;_<p;)l=new Wn(n.doc,_t(n.doc,_),_),_+=l.size,c.push(l);return c}function Bo(n,l){if(n=n.ownsGroup)try{var p=n.delayedCallbacks,c=0;do{for(;c<p.length;c++)p[c].call(null);for(var _=0;_<n.ops.length;_++){var E=n.ops[_];if(E.cursorActivityHandlers)for(;E.cursorActivityCalled<E.cursorActivityHandlers.length;)E.cursorActivityHandlers[E.cursorActivityCalled++].call(null,E.cm)}}while(c<p.length)}finally{In=null,l(n)}}function zt(n,l){var p=n._handlers&&n._handlers[l]||hs;if(p.length){var c=Array.prototype.slice.call(arguments,2);if(In)var _=In.delayedCallbacks;else Gs?_=Gs:(_=Gs=[],setTimeout(vs,0));for(var E=function(k){_.push(function(){return p[k].apply(null,c)})},C=0;C<p.length;++C)E(C)}}function vs(){var n=Gs;Gs=null;for(var l=0;l<n.length;++l)n[l]()}function eo(n,l,p,c){for(var _=0;_<l.changes.length;_++){var E=l.changes[_];if(E=="text"){E=n;var C=l,k=C.text.className,B=Uo(E,C);C.text==C.node&&(C.node=B.pre),C.text.parentNode.replaceChild(B.pre,C.text),C.text=B.pre,B.bgClass!=C.bgClass||B.textClass!=C.textClass?(C.bgClass=B.bgClass,C.textClass=B.textClass,fn(E,C)):k&&(C.text.className=k)}else if(E=="gutter")zn(n,l,p,c);else if(E=="class")fn(n,l);else if(E=="widget"){E=n,C=l,k=c,C.alignable&&(C.alignable=null),B=o("CodeMirror-linewidget");for(var j=C.node.firstChild,Z;j;j=Z)Z=j.nextSibling,B.test(j.className)&&C.node.removeChild(j);_s(E,C,k)}}l.changes=null}function Sn(n){return n.node==n.text&&(n.node=g("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),lr&&8>xr&&(n.node.style.zIndex=2)),n.node}function Uo(n,l){var p=n.display.externalMeasured;return p&&p.line==l.line?(n.display.externalMeasured=null,l.measure=p.measure,p.built):Xs(n,l)}function fn(n,l){var p=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),l.background)p?l.background.className=p:(l.background.parentNode.removeChild(l.background),l.background=null);else if(p){var c=Sn(l);l.background=c.insertBefore(g("div",null,p),c.firstChild),n.display.input.setUneditable(l.background)}l.line.wrapClass?Sn(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className=""),l.text.className=(l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass)||""}function zn(n,l,p,c){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var _=Sn(l);l.gutterBackground=g("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(n.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),n.display.input.setUneditable(l.gutterBackground),_.insertBefore(l.gutterBackground,l.text)}if(_=l.line.gutterMarkers,n.options.lineNumbers||_){var E=Sn(l),C=l.gutter=g("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(C.setAttribute("aria-hidden","true"),n.display.input.setUneditable(C),E.insertBefore(C,l.text),l.line.gutterClass&&(C.className+=" "+l.line.gutterClass),!n.options.lineNumbers||_&&_["CodeMirror-linenumbers"]||(l.lineNumber=C.appendChild(g("div",Wi(n.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),_)for(l=0;l<n.display.gutterSpecs.length;++l)p=n.display.gutterSpecs[l].className,(E=_.hasOwnProperty(p)&&_[p])&&C.appendChild(g("div",[E],"CodeMirror-gutter-elt","left: "+c.gutterLeft[p]+"px; width: "+c.gutterWidth[p]+"px"))}}function Ca(n,l,p,c){var _=Uo(n,l);return l.text=l.node=_.pre,_.bgClass&&(l.bgClass=_.bgClass),_.textClass&&(l.textClass=_.textClass),fn(n,l),zn(n,l,p,c),_s(n,l,c),l.node}function _s(n,l,p){if(Tn(n,l.line,l,p,!0),l.rest)for(var c=0;c<l.rest.length;c++)Tn(n,l.rest[c],l,p,!1)}function Tn(n,l,p,c,_){if(l.widgets){var E=Sn(p),C=0;for(l=l.widgets;C<l.length;++C){var k=l[C],B=g("div",[k.node],"CodeMirror-linewidget"+(k.className?" "+k.className:""));k.handleMouseEvents||B.setAttribute("cm-ignore-events","true");var j=k,Z=B,ce=c;if(j.noHScroll){(p.alignable||(p.alignable=[])).push(Z);var ye=ce.wrapperWidth;Z.style.left=ce.fixedPos+"px",j.coverGutter||(ye-=ce.gutterTotalWidth,Z.style.paddingLeft=ce.gutterTotalWidth+"px"),Z.style.width=ye+"px"}j.coverGutter&&(Z.style.zIndex=5,Z.style.position="relative",j.noHScroll||(Z.style.marginLeft=-ce.gutterTotalWidth+"px")),n.display.input.setUneditable(B),_&&k.above?E.insertBefore(B,p.gutter||p.text):E.appendChild(B),zt(k,"redraw")}}}function Vn(n){if(n.height!=null)return n.height;var l=n.doc.cm;if(!l)return 0;if(!S(document.body,n.node)){var p="position: relative;";n.coverGutter&&(p+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),n.noHScroll&&(p+="width: "+l.display.wrapper.clientWidth+"px;"),f(l.display.measure,g("div",[n.node],null,p))}return n.height=n.node.parentNode.offsetHeight}function J(n,l){for(l=l.target||l.srcElement;l!=n.wrapper;l=l.parentNode)if(!l||l.nodeType==1&&l.getAttribute("cm-ignore-events")=="true"||l.parentNode==n.sizer&&l!=n.mover)return!0}function ae(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function je(n){if(n.cachedPaddingH)return n.cachedPaddingH;var l=f(n.measure,g("pre","x","CodeMirror-line-like"));return l=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,l={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight)},isNaN(l.left)||isNaN(l.right)||(n.cachedPaddingH=l),l}function ft(n){return 50-n.display.nativeBarWidth}function Pt(n){return n.display.scroller.clientWidth-ft(n)-n.display.barWidth}function Yt(n){return n.display.scroller.clientHeight-ft(n)-n.display.barHeight}function Ur(n,l,p){if(n.line==l)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var c=0;c<n.rest.length;c++)if(n.rest[c]==l)return{map:n.measure.maps[c],cache:n.measure.caches[c]};for(l=0;l<n.rest.length;l++)if(Ft(n.rest[l])>p)return{map:n.measure.maps[l],cache:n.measure.caches[l],before:!0}}}function Yi(n,l){if(l>=n.display.viewFrom&&l<n.display.viewTo)return n.display.view[Ei(n,l)];if((n=n.display.externalMeasured)&&l>=n.lineN&&l<n.lineN+n.size)return n}function xn(n,l){var p=Ft(l),c=Yi(n,p);if(c&&!c.text?c=null:c&&c.changes&&(eo(n,c,p,Na(n)),n.curOp.forceUpdate=!0),!c){var _=li(l);c=Ft(_),_=n.display.externalMeasured=new Wn(n.doc,_,c),_.lineN=c,c=_.built=Xs(n,_),_.text=c.pre,f(n.display.lineMeasure,c.pre),c=_}return n=Ur(c,l,p),{line:l,view:c,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function Ui(n,l,p,c,_){l.before&&(p=-1);var E=p+(c||"");if(l.cache.hasOwnProperty(E))n=l.cache[E];else{if(l.rect||(l.rect=l.view.text.getBoundingClientRect()),!l.hasHeights){var C=l.view,k=l.rect,B=n.options.lineWrapping,j=B&&Pt(n);if(!C.measure.heights||B&&C.measure.width!=j){var Z=C.measure.heights=[];if(B)for(C.measure.width=j,C=C.text.firstChild.getClientRects(),B=0;B<C.length-1;B++){j=C[B];var ce=C[B+1];2<Math.abs(j.bottom-ce.bottom)&&Z.push((j.bottom+ce.top)/2-k.top)}Z.push(k.bottom-k.top)}l.hasHeights=!0}if(Z=c,C=xl(l.map,p,Z),c=C.node,k=C.start,B=C.end,p=C.collapse,c.nodeType==3){for(var ye=0;4>ye;ye++){for(;k&&Ve(l.line.text.charAt(C.coverStart+k));)--k;for(;C.coverStart+B<C.coverEnd&&Ve(l.line.text.charAt(C.coverStart+B));)++B;if(lr&&9>xr&&k==0&&B==C.coverEnd-C.coverStart)var _e=c.parentNode.getBoundingClientRect();else{if(_e=To(c,k,B).getClientRects(),B=_l,Z=="left")for(j=0;j<_e.length&&(B=_e[j]).left==B.right;j++);else for(j=_e.length-1;0<=j&&(B=_e[j]).left==B.right;j--);_e=B}if(_e.left||_e.right||k==0)break;B=k,--k,p="right"}lr&&11>xr&&((ye=!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI)||(da!=null?ye=da:(Z=f(n.display.measure,g("span","x")),ye=Z.getBoundingClientRect(),Z=To(Z,0,1).getBoundingClientRect(),ye=da=1<Math.abs(ye.left-Z.left)),ye=!ye),ye||(ye=screen.logicalXDPI/screen.deviceXDPI,Z=screen.logicalYDPI/screen.deviceYDPI,_e={left:_e.left*ye,right:_e.right*ye,top:_e.top*Z,bottom:_e.bottom*Z}))}else 0<k&&(p=Z="right"),_e=n.options.lineWrapping&&1<(ye=c.getClientRects()).length?ye[Z=="right"?ye.length-1:0]:c.getBoundingClientRect();for(!(lr&&9>xr)||k||_e&&(_e.left||_e.right)||(_e=(_e=c.parentNode.getClientRects()[0])?{left:_e.left,right:_e.left+Ss(n.display),top:_e.top,bottom:_e.bottom}:_l),c=_e.top-l.rect.top,k=_e.bottom-l.rect.top,ye=(c+k)/2,Z=l.view.measure.heights,C=0;C<Z.length-1&&!(ye<Z[C]);C++);p={left:(p=="right"?_e.right:_e.left)-l.rect.left,right:(p=="left"?_e.left:_e.right)-l.rect.left,top:C?Z[C-1]:0,bottom:Z[C]},_e.left||_e.right||(p.bogus=!0),n.options.singleCursorHeightPerLine||(p.rtop=c,p.rbottom=k),n=p,n.bogus||(l.cache[E]=n)}return{left:n.left,right:n.right,top:_?n.rtop:n.top,bottom:_?n.rbottom:n.bottom}}function xl(n,l,p){for(var c,_,E,C,k,B,j=0;j<n.length;j+=3)if(k=n[j],B=n[j+1],l<k?(_=0,E=1,C="left"):l<B?(_=l-k,E=_+1):(j==n.length-3||l==B&&n[j+3]>l)&&(E=B-k,_=E-1,l>=B&&(C="right")),_!=null){if(c=n[j+2],k==B&&p==(c.insertLeft?"left":"right")&&(C=p),p=="left"&&_==0)for(;j&&n[j-2]==n[j-3]&&n[j-1].insertLeft;)c=n[(j-=3)+2],C="left";if(p=="right"&&_==B-k)for(;j<n.length-3&&n[j+3]==n[j+4]&&!n[j+5].insertLeft;)c=n[(j+=3)+2],C="right";break}return{node:c,start:_,end:E,collapse:C,coverStart:k,coverEnd:B}}function ws(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var l=0;l<n.rest.length;l++)n.measure.caches[l]={}}function Po(n){n.display.externalMeasure=null,u(n.display.lineMeasure);for(var l=0;l<n.display.view.length;l++)ws(n.display.view[l])}function bs(n){Po(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function Do(){return yn&&Eo?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Cl(){return yn&&Eo?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ma(n){var l=0;if(n.widgets)for(var p=0;p<n.widgets.length;++p)n.widgets[p].above&&(l+=Vn(n.widgets[p]));return l}function Fo(n,l,p,c,_){return _||(_=Ma(l),p.top+=_,p.bottom+=_),c=="line"||(c||(c="local"),l=di(l),l=c=="local"?l+n.display.lineSpace.offsetTop:l-n.display.viewOffset,(c=="page"||c=="window")&&(n=n.display.lineSpace.getBoundingClientRect(),l+=n.top+(c=="window"?0:Cl()),c=n.left+(c=="window"?0:Do()),p.left+=c,p.right+=c),p.top+=l,p.bottom+=l),p}function Ml(n,l,p){if(p=="div")return l;var c=l.left;return l=l.top,p=="page"?(c-=Do(),l-=Cl()):p!="local"&&p||(p=n.display.sizer.getBoundingClientRect(),c+=p.left,l+=p.top),n=n.display.lineSpace.getBoundingClientRect(),{left:c-n.left,top:l-n.top}}function mi(n,l,p,c,_){c||(c=_t(n.doc,l.line));var E=c;return l=l.ch,c=Ui(n,xn(n,c),l,_),Fo(n,E,c,p)}function kr(n,l,p,c,_,E){function C(ye,_e){return ye=Ui(n,_,ye,_e?"right":"left",E),_e?ye.left=ye.right:ye.right=ye.left,Fo(n,c,ye,p)}function k(ye,_e,We){return C(We?ye-1:ye,B[_e].level==1!=We)}c=c||_t(n.doc,l.line),_||(_=xn(n,c));var B=Y(c,n.doc.direction),j=l.ch;if(l=l.sticky,j>=c.text.length?(j=c.text.length,l="before"):0>=j&&(j=0,l="after"),!B)return C(l=="before"?j-1:j,l=="before");var Z=Se(B,j,l),ce=cs;return Z=k(j,Z,l=="before"),ce!=null&&(Z.other=k(j,ce,l!="before")),Z}function to(n,l){var p=0;return l=L(n.doc,l),n.options.lineWrapping||(p=Ss(n.display)*l.ch),l=_t(n.doc,l.line),n=di(l)+n.display.lineSpace.offsetTop,{left:p,right:p,top:n,bottom:n+l.height}}function Aa(n,l,p,c,_){return n=Fe(n,l,p),n.xRel=_,c&&(n.outside=c),n}function ka(n,l,p){var c=n.doc;if(p+=n.display.viewOffset,0>p)return Aa(c.first,0,null,-1,-1);var _=Ai(c,p),E=c.first+c.size-1;if(_>E)return Aa(c.first+c.size-1,_t(c,E).text.length,null,1,1);0>l&&(l=0);for(var C=_t(c,_);;){E=_u(n,C,_,l,p);var k=void 0,B=E.ch+(0<E.xRel||0<E.outside?1:0);if(C=sn&&C.markedSpans)for(var j=0;j<C.length;++j){var Z=C[j];Z.marker.collapsed&&(Z.from==null||Z.from<B)&&(Z.to==null||Z.to>B)&&(!k||0>gs(k,Z.marker))&&(k=Z.marker)}if(!k||(E=k.find(1),E.line==_))return E;C=_t(c,_=E.line)}}function $a(n,l,p,c){c-=Ma(l),l=l.text.length;var _=se(function(E){return Ui(n,p,E-1).bottom<=c},l,0);return l=se(function(E){return Ui(n,p,E).top>c},_,l),{begin:_,end:l}}function Ra(n,l,p,c){return p||(p=xn(n,l)),c=Fo(n,l,Ui(n,p,c),"line").top,$a(n,l,p,c)}function Oa(n,l,p,c){return n.bottom<=p?!1:n.top>p?!0:(c?n.left:n.right)>l}function _u(n,l,p,c,_){_-=di(l);var E=xn(n,l),C=Ma(l),k=0,B=l.text.length,j=!0,Z=Y(l,n.doc.direction);Z&&(Z=(n.options.lineWrapping?wu:La)(n,l,p,E,Z,c,_),k=(j=Z.level!=1)?Z.from:Z.to-1,B=j?Z.to:Z.from-1);var ce=null,ye=null;Z=se(function(We){var bt=Ui(n,E,We);return bt.top+=C,bt.bottom+=C,Oa(bt,c,_,!1)?(bt.top<=_&&bt.left<=c&&(ce=We,ye=bt),!0):!1},k,B);var _e=!1;return ye?(k=c-ye.left<ye.right-c,j=k==j,Z=ce+(j?0:1),j=j?"after":"before",k=k?ye.left:ye.right):(j||Z!=B&&Z!=k||Z++,j=Z==0?"after":Z==l.text.length?"before":Ui(n,E,Z-(j?1:0)).bottom+C<=_==j?"after":"before",_e=kr(n,Fe(p,Z,j),"line",l,E),k=_e.left,_e=_<_e.top?-1:_>=_e.bottom?1:0),Z=Ze(l.text,Z,1),Aa(p,Z,j,_e,c-k)}function La(n,l,p,c,_,E,C){var k=se(function(Z){Z=_[Z];var ce=Z.level!=1;return Oa(kr(n,Fe(p,ce?Z.to:Z.from,ce?"before":"after"),"line",l,c),E,C,!0)},0,_.length-1),B=_[k];if(0<k){var j=B.level!=1;j=kr(n,Fe(p,j?B.from:B.to,j?"after":"before"),"line",l,c),Oa(j,E,C,!0)&&j.top>C&&(B=_[k-1])}return B}function wu(n,l,p,c,_,E,C){C=$a(n,l,c,C),p=C.begin,C=C.end,/\s/.test(l.text.charAt(C-1))&&C--;for(var k=l=null,B=0;B<_.length;B++){var j=_[B];if(!(j.from>=C||j.to<=p)){var Z=Ui(n,c,j.level!=1?Math.min(C,j.to)-1:Math.max(p,j.from)).right;Z=Z<E?E-Z+1e9:Z-E,(!l||k>Z)&&(l=j,k=Z)}}return l||(l=_[_.length-1]),l.from<p&&(l={from:p,to:l.to,level:l.level}),l.to>C&&(l={from:l.from,to:C,level:l.level}),l}function Es(n){if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(gn==null){gn=g("pre",null,"CodeMirror-line-like");for(var l=0;49>l;++l)gn.appendChild(document.createTextNode("x")),gn.appendChild(g("br"));gn.appendChild(document.createTextNode("x"))}return f(n.measure,gn),l=gn.offsetHeight/50,3<l&&(n.cachedTextHeight=l),u(n.measure),l||1}function Ss(n){if(n.cachedCharWidth!=null)return n.cachedCharWidth;var l=g("span","xxxxxxxxxx"),p=g("pre",[l],"CodeMirror-line-like");return f(n.measure,p),l=l.getBoundingClientRect(),l=(l.right-l.left)/10,2<l&&(n.cachedCharWidth=l),l||10}function Na(n){for(var l=n.display,p={},c={},_=l.gutters.clientLeft,E=l.gutters.firstChild,C=0;E;E=E.nextSibling,++C){var k=n.display.gutterSpecs[C].className;p[k]=E.offsetLeft+E.clientLeft+_,c[k]=E.clientWidth}return{fixedPos:Ia(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:p,gutterWidth:c,wrapperWidth:l.wrapper.clientWidth}}function Ia(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function Al(n){var l=Es(n.display),p=n.options.lineWrapping,c=p&&Math.max(5,n.display.scroller.clientWidth/Ss(n.display)-3);return function(_){if(Qi(n.doc,_))return 0;var E=0;if(_.widgets)for(var C=0;C<_.widgets.length;C++)_.widgets[C].height&&(E+=_.widgets[C].height);return p?E+(Math.ceil(_.text.length/c)||1)*l:E+l}}function Ba(n){var l=n.doc,p=Al(n);l.iter(function(c){var _=p(c);_!=c.height&&jr(c,_)})}function Hn(n,l,p,c){var _=n.display;if(!p&&(l.target||l.srcElement).getAttribute("cm-not-content")=="true")return null;p=_.lineSpace.getBoundingClientRect();try{var E=l.clientX-p.left,C=l.clientY-p.top}catch{return null}l=ka(n,E,C);var k;return c&&0<l.xRel&&(k=_t(n.doc,l.line).text).length==l.ch&&(c=D(k,k.length,n.options.tabSize)-k.length,l=Fe(l.line,Math.max(0,Math.round((E-je(n.display).left)/Ss(n.display))-c))),l}function Ei(n,l){if(l>=n.display.viewTo||(l-=n.display.viewFrom,0>l))return null;n=n.display.view;for(var p=0;p<n.length;p++)if(l-=n[p].size,0>l)return p}function ui(n,l,p,c){l==null&&(l=n.doc.first),p==null&&(p=n.doc.first+n.doc.size),c||(c=0);var _=n.display;if(c&&p<_.viewTo&&(_.updateLineNumbers==null||_.updateLineNumbers>l)&&(_.updateLineNumbers=l),n.curOp.viewChanged=!0,l>=_.viewTo)sn&&Qs(n.doc,l)<_.viewTo&&Pi(n);else if(p<=_.viewFrom)sn&&Ys(n.doc,p+c)>_.viewFrom?Pi(n):(_.viewFrom+=c,_.viewTo+=c);else if(l<=_.viewFrom&&p>=_.viewTo)Pi(n);else if(l<=_.viewFrom){var E=Ts(n,p,p+c,1);E?(_.view=_.view.slice(E.index),_.viewFrom=E.lineN,_.viewTo+=c):Pi(n)}else if(p>=_.viewTo)(E=Ts(n,l,l,-1))?(_.view=_.view.slice(0,E.index),_.viewTo=E.lineN):Pi(n);else{E=Ts(n,l,l,-1);var C=Ts(n,p,p+c,1);E&&C?(_.view=_.view.slice(0,E.index).concat(Ri(n,E.lineN,C.lineN)).concat(_.view.slice(C.index)),_.viewTo+=c):Pi(n)}(n=_.externalMeasured)&&(p<n.lineN?n.lineN+=c:l<n.lineN+n.size&&(_.externalMeasured=null))}function Cn(n,l,p){n.curOp.viewChanged=!0;var c=n.display,_=n.display.externalMeasured;_&&l>=_.lineN&&l<_.lineN+_.size&&(c.externalMeasured=null),l<c.viewFrom||l>=c.viewTo||(n=c.view[Ei(n,l)],n.node!=null&&(n=n.changes||(n.changes=[]),U(n,p)==-1&&n.push(p)))}function Pi(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function Ts(n,l,p,c){var _=Ei(n,l),E=n.display.view;if(!sn||p==n.doc.first+n.doc.size)return{index:_,lineN:p};for(var C=n.display.viewFrom,k=0;k<_;k++)C+=E[k].size;if(C!=l){if(0<c){if(_==E.length-1)return null;l=C+E[_].size-l,_++}else l=C-l;p+=l}for(;Qs(n.doc,p)!=p;){if(_==(0>c?0:E.length-1))return null;p+=c*E[_-(0>c?1:0)].size,_+=c}return{index:_,lineN:p}}function Ua(n){n=n.display.view;for(var l=0,p=0;p<n.length;p++){var c=n[p];c.hidden||c.node&&!c.changes||++l}return l}function xs(n){n.display.input.showSelection(n.display.input.prepareSelection())}function kl(n,l){l===void 0&&(l=!0);var p=n.doc,c={},_=c.cursors=document.createDocumentFragment(),E=c.selection=document.createDocumentFragment(),C=n.options.$customCursor;C&&(l=!0);for(var k=0;k<p.sel.ranges.length;k++)if(l||k!=p.sel.primIndex){var B=p.sel.ranges[k];if(!(B.from().line>=n.display.viewTo||B.to().line<n.display.viewFrom)){var j=B.empty();if(C){var Z=C(n,B);Z&&ro(n,Z,_)}else(j||n.options.showCursorWhenSelecting)&&ro(n,B.head,_);j||Mn(n,B,E)}}return c}function ro(n,l,p){var c=kr(n,l,"div",null,null,!n.options.singleCursorHeightPerLine),_=p.appendChild(g("div"," ","CodeMirror-cursor"));_.style.left=c.left+"px",_.style.top=c.top+"px",_.style.height=Math.max(0,c.bottom-c.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)&&(l=mi(n,l,"div",null,null),l=l.right-l.left,_.style.width=(0<l?l:n.defaultCharWidth())+"px"),c.other&&(n=p.appendChild(g("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),n.style.display="",n.style.left=c.other.left+"px",n.style.top=c.other.top+"px",n.style.height=.85*(c.other.bottom-c.other.top)+"px")}function Cs(n,l){return n.top-l.top||n.left-l.left}function Mn(n,l,p){function c(_e,We,bt,Lt){0>We&&(We=0),We=Math.round(We),Lt=Math.round(Lt),k.appendChild(g("div",null,"CodeMirror-selected","position: absolute; left: "+_e+`px;
                             top: `+We+"px; width: "+(bt??Z-_e)+`px;
                             height: `+(Lt-We)+"px"))}function _(_e,We,bt){function Lt(qt,br){return mi(n,Fe(_e,qt),"div",kt,br)}function Ar(qt,br,hr){return qt=Ra(n,kt,null,qt),br=br=="ltr"==(hr=="after")?"left":"right",hr=hr=="after"?qt.begin:qt.end-(/\s/.test(kt.text.charAt(qt.end-1))?2:1),Lt(hr,br)[br]}var kt=_t(C,_e),fr=kt.text.length,mr,yr,cr=Y(kt,C.direction);return me(cr,We||0,bt??fr,function(qt,br,hr,vr){var si=hr=="ltr",Lr=Lt(qt,si?"left":"right"),wi=Lt(br-1,si?"right":"left"),Fn=We==null&&qt==0,Jn=bt==null&&br==fr,Tl=vr==0;vr=!cr||vr==cr.length-1,3>=wi.top-Lr.top?(br=(ce?Fn:Jn)&&Tl?j:(si?Lr:wi).left,c(br,Lr.top,((ce?Jn:Fn)&&vr?Z:(si?wi:Lr).right)-br,Lr.bottom)):(si?(si=ce&&Fn&&Tl?j:Lr.left,Fn=ce?Z:Ar(qt,hr,"before"),qt=ce?j:Ar(br,hr,"after"),Jn=ce&&Jn&&vr?Z:wi.right):(si=ce?Ar(qt,hr,"before"):j,Fn=!ce&&Fn&&Tl?Z:Lr.right,qt=!ce&&Jn&&vr?j:wi.left,Jn=ce?Ar(br,hr,"after"):Z),c(si,Lr.top,Fn-si,Lr.bottom),Lr.bottom<wi.top&&c(j,Lr.bottom,null,wi.top),c(qt,wi.top,Jn-qt,wi.bottom)),(!mr||0>Cs(Lr,mr))&&(mr=Lr),0>Cs(wi,mr)&&(mr=wi),(!yr||0>Cs(Lr,yr))&&(yr=Lr),0>Cs(wi,yr)&&(yr=wi)}),{start:mr,end:yr}}var E=n.display,C=n.doc,k=document.createDocumentFragment(),B=je(n.display),j=B.left,Z=Math.max(E.sizerWidth,Pt(n)-E.sizer.offsetLeft)-B.right,ce=C.direction=="ltr";if(E=l.from(),l=l.to(),E.line==l.line)_(E.line,E.ch,l.ch);else{var ye=_t(C,E.line);B=_t(C,l.line),B=li(ye)==li(B),E=_(E.line,E.ch,B?ye.text.length+1:null).end,l=_(l.line,B?0:null,l.ch).start,B&&(E.top<l.top-2?(c(E.right,E.top,null,E.bottom),c(j,l.top,l.left,l.bottom)):c(E.right,E.top,l.left-E.right,E.bottom)),E.bottom<l.top&&c(j,E.bottom,null,l.top)}p.appendChild(k)}function Ms(n){if(n.state.focused){var l=n.display;clearInterval(l.blinker);var p=!0;l.cursorDiv.style.visibility="",0<n.options.cursorBlinkRate?l.blinker=setInterval(function(){n.hasFocus()||As(n),l.cursorDiv.style.visibility=(p=!p)?"":"hidden"},n.options.cursorBlinkRate):0>n.options.cursorBlinkRate&&(l.cursorDiv.style.visibility="hidden")}}function Pa(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||Da(n))}function Jo(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&As(n))},100)}function Da(n,l){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),n.options.readOnly!="nocursor"&&(n.state.focused||(G(n,"focus",n,l),n.state.focused=!0,$(n.display.wrapper,"CodeMirror-focused"),n.curOp||n.display.selForContextMenu==n.doc.sel||(n.display.input.reset(),ni&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),Ms(n))}function As(n,l){n.state.delayingBlurEvent||(n.state.focused&&(G(n,"blur",n,l),n.state.focused=!1,tn(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function jo(n){for(var l=n.display,p=l.lineDiv.offsetTop,c=Math.max(0,l.scroller.getBoundingClientRect().top),_=l.lineDiv.getBoundingClientRect().top,E=0,C=0;C<l.view.length;C++){var k=l.view[C],B=n.options.lineWrapping,j=0;if(!k.hidden){if(_+=k.line.height,lr&&8>xr){B=k.node.offsetTop+k.node.offsetHeight;var Z=B-p;p=B}else{var ce=k.node.getBoundingClientRect();Z=ce.bottom-ce.top,!B&&k.text.firstChild&&(j=k.text.firstChild.getBoundingClientRect().right-ce.left-1)}if(B=k.line.height-Z,(.005<B||-.005>B)&&(_<c&&(E-=B),jr(k.line,Z),$l(k.line),k.rest))for(Z=0;Z<k.rest.length;Z++)$l(k.rest[Z]);j>n.display.sizerWidth&&(j=Math.ceil(j/Ss(n.display)),j>n.display.maxLineLength&&(n.display.maxLineLength=j,n.display.maxLine=k.line,n.display.maxLineChanged=!0))}}2<Math.abs(E)&&(l.scroller.scrollTop+=E)}function $l(n){if(n.widgets)for(var l=0;l<n.widgets.length;++l){var p=n.widgets[l],c=p.node.parentNode;c&&(p.height=c.offsetHeight)}}function Go(n,l,p){var c=p&&p.top!=null?Math.max(0,p.top):n.scroller.scrollTop;c=Math.floor(c-n.lineSpace.offsetTop);var _=p&&p.bottom!=null?p.bottom:c+n.wrapper.clientHeight;if(c=Ai(l,c),_=Ai(l,_),p&&p.ensure){var E=p.ensure.from.line;p=p.ensure.to.line,E<c?(c=E,_=Ai(l,di(_t(l,E))+n.wrapper.clientHeight)):Math.min(p,l.lastLine())>=_&&(c=Ai(l,di(_t(l,p))-n.wrapper.clientHeight),_=p)}return{from:c,to:Math.max(_,c+1)}}function Fa(n,l){var p=n.display,c=Es(n.display);0>l.top&&(l.top=0);var _=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:p.scroller.scrollTop,E=Yt(n),C={};l.bottom-l.top>E&&(l.bottom=l.top+E);var k=n.doc.height+ae(p),B=l.top<c;return c=l.bottom>k-c,l.top<_?C.scrollTop=B?0:l.top:l.bottom>_+E&&(E=Math.min(l.top,(c?k:l.bottom)-E),E!=_&&(C.scrollTop=E)),_=n.options.fixedGutter?0:p.gutters.offsetWidth,E=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:p.scroller.scrollLeft-_,n=Pt(n)-p.gutters.offsetWidth,(p=l.right-l.left>n)&&(l.right=l.left+n),10>l.left?C.scrollLeft=0:l.left<E?C.scrollLeft=Math.max(0,l.left+_-(p?0:10)):l.right>n+E-3&&(C.scrollLeft=l.right+(p?0:10)-n),C}function Ko(n,l){l!=null&&(Wo(n),n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+l)}function Di(n){Wo(n);var l=n.getCursor();n.curOp.scrollToPos={from:l,to:l,margin:n.options.cursorScrollMargin}}function no(n,l,p){l==null&&p==null||Wo(n),l!=null&&(n.curOp.scrollLeft=l),p!=null&&(n.curOp.scrollTop=p)}function Wo(n){var l=n.curOp.scrollToPos;if(l){n.curOp.scrollToPos=null;var p=to(n,l.from),c=to(n,l.to);ks(n,p,c,l.margin)}}function ks(n,l,p,c){l=Fa(n,{left:Math.min(l.left,p.left),top:Math.min(l.top,p.top)-c,right:Math.max(l.right,p.right),bottom:Math.max(l.bottom,p.bottom)+c}),no(n,l.scrollLeft,l.scrollTop)}function so(n,l){2>Math.abs(n.doc.scrollTop-l)||(mn||Oi(n,{top:l}),Qn(n,l,!0),mn&&Oi(n),$s(n,100))}function Qn(n,l,p){l=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,l)),(n.display.scroller.scrollTop!=l||p)&&(n.doc.scrollTop=l,n.display.scrollbars.setScrollTop(l),n.display.scroller.scrollTop!=l&&(n.display.scroller.scrollTop=l))}function An(n,l,p,c){l=Math.max(0,Math.min(l,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),(p?l==n.doc.scrollLeft:2>Math.abs(n.doc.scrollLeft-l))&&!c||(n.doc.scrollLeft=l,Ho(n),n.display.scroller.scrollLeft!=l&&(n.display.scroller.scrollLeft=l),n.display.scrollbars.setScrollLeft(l))}function Xi(n){var l=n.display,p=l.gutters.offsetWidth,c=Math.round(n.doc.height+ae(n.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:n.options.fixedGutter?p:0,docHeight:c,scrollHeight:c+ft(n)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:p}}function Yn(n,l){l||(l=Xi(n));var p=n.display.barWidth,c=n.display.barHeight;for(kn(n,l),l=0;4>l&&p!=n.display.barWidth||c!=n.display.barHeight;l++)p!=n.display.barWidth&&n.options.lineWrapping&&jo(n),kn(n,Xi(n)),p=n.display.barWidth,c=n.display.barHeight}function kn(n,l){var p=n.display,c=p.scrollbars.update(l);p.sizer.style.paddingRight=(p.barWidth=c.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=c.bottom)+"px",p.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=c.bottom+"px",p.scrollbarFiller.style.width=c.right+"px"):p.scrollbarFiller.style.display="",c.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=c.bottom+"px",p.gutterFiller.style.width=l.gutterWidth+"px"):p.gutterFiller.style.display=""}function zo(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&tn(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new wl[n.options.scrollbarStyle](function(l){n.display.wrapper.insertBefore(l,n.display.scrollbarFiller),It(l,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,p){p=="horizontal"?An(n,l):so(n,l)},n),n.display.scrollbars.addClass&&$(n.display.wrapper,n.display.scrollbars.addClass)}function Xn(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++va,markArrays:null},n=n.curOp,In?In.ops.push(n):n.ownsGroup=In={ops:[n],delayedCallbacks:[]}}function Zn(n){(n=n.curOp)&&Bo(n,function(l){for(var p=0;p<l.ops.length;p++)l.ops[p].cm.curOp=null;for(l=l.ops,p=0;p<l.length;p++){var c=l[p],_=c.cm,E=_.display,C=_.display;!C.scrollbarsClipped&&C.scroller.offsetWidth&&(C.nativeBarWidth=C.scroller.offsetWidth-C.scroller.clientWidth,C.heightForcer.style.height=ft(_)+"px",C.sizer.style.marginBottom=-C.nativeBarWidth+"px",C.sizer.style.borderRightWidth=ft(_)+"px",C.scrollbarsClipped=!0),c.updateMaxLine&&Sr(_),c.mustUpdate=c.viewChanged||c.forceUpdate||c.scrollTop!=null||c.scrollToPos&&(c.scrollToPos.from.line<E.viewFrom||c.scrollToPos.to.line>=E.viewTo)||E.maxLineChanged&&_.options.lineWrapping,c.update=c.mustUpdate&&new Ni(_,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate)}for(p=0;p<l.length;p++)c=l[p],c.updatedDisplay=c.mustUpdate&&Vo(c.cm,c.update);for(p=0;p<l.length;p++)c=l[p],_=c.cm,E=_.display,c.updatedDisplay&&jo(_),c.barMeasure=Xi(_),E.maxLineChanged&&!_.options.lineWrapping&&(C=E.maxLine.text.length,C=Ui(_,xn(_,E.maxLine),C,void 0),c.adjustWidthTo=C.left+3,_.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(E.scroller.clientWidth,E.sizer.offsetLeft+c.adjustWidthTo+ft(_)+_.display.barWidth),c.maxScrollLeft=Math.max(0,E.sizer.offsetLeft+c.adjustWidthTo-Pt(_))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=E.input.prepareSelection());for(p=0;p<l.length;p++)c=l[p],_=c.cm,c.adjustWidthTo!=null&&(_.display.sizer.style.minWidth=c.adjustWidthTo+"px",c.maxScrollLeft<_.doc.scrollLeft&&An(_,Math.min(_.display.scroller.scrollLeft,c.maxScrollLeft),!0),_.display.maxLineChanged=!1),E=c.focus&&c.focus==T(),c.preparedSelection&&_.display.input.showSelection(c.preparedSelection,E),(c.updatedDisplay||c.startHeight!=_.doc.height)&&Yn(_,c.barMeasure),c.updatedDisplay&&cn(_,c.barMeasure),c.selectionChanged&&Ms(_),_.state.focused&&c.updateInput&&_.display.input.reset(c.typing),E&&Pa(c.cm);for(p=0;p<l.length;p++){var k=void 0;if(c=l[p],_=c.cm,E=_.display,C=_.doc,c.updatedDisplay&&Rl(_,c.update),E.wheelStartX==null||c.scrollTop==null&&c.scrollLeft==null&&!c.scrollToPos||(E.wheelStartX=E.wheelStartY=null),c.scrollTop!=null&&Qn(_,c.scrollTop,c.forceScroll),c.scrollLeft!=null&&An(_,c.scrollLeft,!0,!0),c.scrollToPos){var B=L(C,c.scrollToPos.from),j=L(C,c.scrollToPos.to),Z=c.scrollToPos.margin;Z==null&&(Z=0),_.options.lineWrapping||B!=j||(j=B.sticky=="before"?Fe(B.line,B.ch+1,"before"):B,B=B.ch?Fe(B.line,B.sticky=="before"?B.ch-1:B.ch,"after"):B);for(var ce=0;5>ce;ce++){var ye=!1;k=kr(_,B);var _e=j&&j!=B?kr(_,j):k;k={left:Math.min(k.left,_e.left),top:Math.min(k.top,_e.top)-Z,right:Math.max(k.left,_e.left),bottom:Math.max(k.bottom,_e.bottom)+Z},_e=Fa(_,k);var We=_.doc.scrollTop,bt=_.doc.scrollLeft;if(_e.scrollTop!=null&&(so(_,_e.scrollTop),1<Math.abs(_.doc.scrollTop-We)&&(ye=!0)),_e.scrollLeft!=null&&(An(_,_e.scrollLeft),1<Math.abs(_.doc.scrollLeft-bt)&&(ye=!0)),!ye)break}j=k,H(_,"scrollCursorIntoView")||(Z=_.display,ce=Z.sizer.getBoundingClientRect(),B=null,0>j.top+ce.top?B=!0:j.bottom+ce.top>(window.innerHeight||document.documentElement.clientHeight)&&(B=!1),B==null||hl||(j=g("div","​",null,`position: absolute;
                         top: `+(j.top-Z.viewOffset-_.display.lineSpace.offsetTop)+`px;
                         height: `+(j.bottom-j.top+ft(_)+Z.barHeight)+`px;
                         left: `+j.left+"px; width: "+Math.max(2,j.right-j.left)+"px;"),_.display.lineSpace.appendChild(j),j.scrollIntoView(B),_.display.lineSpace.removeChild(j)))}if(j=c.maybeHiddenMarkers,B=c.maybeUnhiddenMarkers,j)for(Z=0;Z<j.length;++Z)j[Z].lines.length||G(j[Z],"hide");if(B)for(j=0;j<B.length;++j)B[j].lines.length&&G(B[j],"unhide");E.wrapper.offsetHeight&&(C.scrollTop=_.display.scroller.scrollTop),c.changeObjs&&G(_,"changes",_,c.changeObjs),c.update&&c.update.finish()}})}function yi(n,l){if(n.curOp)return l();Xn(n);try{return l()}finally{Zn(n)}}function Pr(n,l){return function(){if(n.curOp)return l.apply(n,arguments);Xn(n);try{return l.apply(n,arguments)}finally{Zn(n)}}}function ri(n){return function(){if(this.curOp)return n.apply(this,arguments);Xn(this);try{return n.apply(this,arguments)}finally{Zn(this)}}}function Gr(n){return function(){var l=this.cm;if(!l||l.curOp)return n.apply(this,arguments);Xn(l);try{return n.apply(this,arguments)}finally{Zn(l)}}}function $s(n,l){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(l,M($r,n))}function $r(n){var l=n.doc;if(!(l.highlightFrontier>=n.display.viewTo)){var p=+new Date+n.options.workTime,c=Be(n,l.highlightFrontier),_=[];l.iter(c.line,Math.min(l.first+l.size,n.display.viewTo+500),function(E){if(c.line>=n.display.viewFrom){var C=E.styles,k=E.text.length>n.options.maxHighlightLength?Hr(l.mode,c.state):null,B=ie(n,E,c,!0);for(k&&(c.state=k),E.styles=B.styles,k=E.styleClasses,(B=B.classes)?E.styleClasses=B:k&&(E.styleClasses=null),B=!C||C.length!=E.styles.length||k!=B&&(!k||!B||k.bgClass!=B.bgClass||k.textClass!=B.textClass),k=0;!B&&k<C.length;++k)B=C[k]!=E.styles[k];B&&_.push(c.line),E.stateAfter=c.save()}else E.text.length<=n.options.maxHighlightLength&&Ye(n,E.text,c),E.stateAfter=c.line%5==0?c.save():null;if(c.nextLine(),+new Date>p)return $s(n,n.options.workDelay),!0}),l.highlightFrontier=c.line,l.modeFrontier=Math.max(l.modeFrontier,c.line),_.length&&yi(n,function(){for(var E=0;E<_.length;E++)Cn(n,_[E],"text")})}}function Vo(n,l){var p=n.display,c=n.doc;if(l.editorIsHidden)return Pi(n),!1;if(!l.force&&l.visible.from>=p.viewFrom&&l.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&Ua(n)==0)return!1;oo(n)&&(Pi(n),l.dims=Na(n));var _=c.first+c.size,E=Math.max(l.visible.from-n.options.viewportMargin,c.first),C=Math.min(_,l.visible.to+n.options.viewportMargin);return p.viewFrom<E&&20>E-p.viewFrom&&(E=Math.max(c.first,p.viewFrom)),p.viewTo>C&&20>p.viewTo-C&&(C=Math.min(_,p.viewTo)),sn&&(E=Qs(n.doc,E),C=Ys(n.doc,C)),c=E!=p.viewFrom||C!=p.viewTo||p.lastWrapHeight!=l.wrapperHeight||p.lastWrapWidth!=l.wrapperWidth,_=n.display,_.view.length==0||E>=_.viewTo||C<=_.viewFrom?(_.view=Ri(n,E,C),_.viewFrom=E):(_.viewFrom>E?_.view=Ri(n,E,_.viewFrom).concat(_.view):_.viewFrom<E&&(_.view=_.view.slice(Ei(n,E))),_.viewFrom=E,_.viewTo<C?_.view=_.view.concat(Ri(n,_.viewTo,C)):_.viewTo>C&&(_.view=_.view.slice(0,Ei(n,C)))),_.viewTo=C,p.viewOffset=di(_t(n.doc,p.viewFrom)),n.display.mover.style.top=p.viewOffset+"px",C=Ua(n),!c&&C==0&&!l.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)?!1:(n.hasFocus()?E=null:(E=T())&&S(n.display.lineDiv,E)?(E={activeElt:E},window.getSelection&&(_=window.getSelection(),_.anchorNode&&_.extend&&S(n.display.lineDiv,_.anchorNode)&&(E.anchorNode=_.anchorNode,E.anchorOffset=_.anchorOffset,E.focusNode=_.focusNode,E.focusOffset=_.focusOffset))):E=null,4<C&&(p.lineDiv.style.display="none"),Ja(n,p.updateLineNumbers,l.dims),4<C&&(p.lineDiv.style.display=""),p.renderedView=p.view,(C=E)&&C.activeElt&&C.activeElt!=T()&&(C.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(C.activeElt.nodeName)&&C.anchorNode&&S(document.body,C.anchorNode)&&S(document.body,C.focusNode)&&(E=window.getSelection(),_=document.createRange(),_.setEnd(C.anchorNode,C.anchorOffset),_.collapse(!1),E.removeAllRanges(),E.addRange(_),E.extend(C.focusNode,C.focusOffset))),u(p.cursorDiv),u(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,c&&(p.lastWrapHeight=l.wrapperHeight,p.lastWrapWidth=l.wrapperWidth,$s(n,400)),p.updateLineNumbers=null,!0)}function Rl(n,l){for(var p=l.viewport,c=!0;;c=!1){if(c&&n.options.lineWrapping&&l.oldDisplayWidth!=Pt(n))c&&(l.visible=Go(n.display,n.doc,p));else if(p&&p.top!=null&&(p={top:Math.min(n.doc.height+ae(n.display)-Yt(n),p.top)}),l.visible=Go(n.display,n.doc,p),l.visible.from>=n.display.viewFrom&&l.visible.to<=n.display.viewTo)break;if(!Vo(n,l))break;jo(n),c=Xi(n),xs(n),Yn(n,c),cn(n,c),l.force=!1}l.signal(n,"update",n),(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)&&(l.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function Oi(n,l){if(l=new Ni(n,l),Vo(n,l)){jo(n),Rl(n,l);var p=Xi(n);xs(n),Yn(n,p),cn(n,p),l.finish()}}function Ja(n,l,p){function c(ye){var _e=ye.nextSibling;return ni&&Li&&n.display.currentWheelTarget==ye?ye.style.display="none":ye.parentNode.removeChild(ye),_e}var _=n.display,E=n.options.lineNumbers,C=_.lineDiv,k=C.firstChild,B=_.view;_=_.viewFrom;for(var j=0;j<B.length;j++){var Z=B[j];if(!Z.hidden)if(Z.node&&Z.node.parentNode==C){for(;k!=Z.node;)k=c(k);k=E&&l!=null&&l<=_&&Z.lineNumber,Z.changes&&(-1<U(Z.changes,"gutter")&&(k=!1),eo(n,Z,_,p)),k&&(u(Z.lineNumber),Z.lineNumber.appendChild(document.createTextNode(Wi(n.options,_)))),k=Z.node.nextSibling}else{var ce=Ca(n,Z,_,p);C.insertBefore(ce,k)}_+=Z.size}for(;k;)k=c(k)}function Rs(n){n.sizer.style.marginLeft=n.gutters.offsetWidth+"px",zt(n,"gutterChanged",n)}function cn(n,l){n.display.sizer.style.minHeight=l.docHeight+"px",n.display.heightForcer.style.top=l.docHeight+"px",n.display.gutters.style.height=l.docHeight+n.display.barHeight+ft(n)+"px"}function Ho(n){var l=n.display,p=l.view;if(l.alignWidgets||l.gutters.firstChild&&n.options.fixedGutter){for(var c=Ia(l)-l.scroller.scrollLeft+n.doc.scrollLeft,_=l.gutters.offsetWidth,E=c+"px",C=0;C<p.length;C++)if(!p[C].hidden){n.options.fixedGutter&&(p[C].gutter&&(p[C].gutter.style.left=E),p[C].gutterBackground&&(p[C].gutterBackground.style.left=E));var k=p[C].alignable;if(k)for(var B=0;B<k.length;B++)k[B].style.left=E}n.options.fixedGutter&&(l.gutters.style.left=c+_+"px")}}function oo(n){if(!n.options.lineNumbers)return!1;var l=n.doc;l=Wi(n.options,l.first+l.size-1);var p=n.display;if(l.length!=p.lineNumChars){var c=p.measure.appendChild(g("div",[g("div",l)],"CodeMirror-linenumber CodeMirror-gutter-elt")),_=c.firstChild.offsetWidth;return c=c.offsetWidth-_,p.lineGutter.style.width="",p.lineNumInnerWidth=Math.max(_,p.lineGutter.offsetWidth-c)+1,p.lineNumWidth=p.lineNumInnerWidth+c,p.lineNumChars=p.lineNumInnerWidth?l.length:-1,p.lineGutter.style.width=p.lineNumWidth+"px",Rs(n.display),!0}return!1}function qn(n,l){for(var p=[],c=!1,_=0;_<n.length;_++){var E=n[_],C=null;if(typeof E!="string"&&(C=E.style,E=E.className),E=="CodeMirror-linenumbers")if(l)c=!0;else continue;p.push({className:E,style:C})}return l&&!c&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function ao(n){var l=n.gutters,p=n.gutterSpecs;u(l),n.lineGutter=null;for(var c=0;c<p.length;++c){var _=p[c],E=_.className;_=_.style;var C=l.appendChild(g("div",null,"CodeMirror-gutter "+E));_&&(C.style.cssText=_),E=="CodeMirror-linenumbers"&&(n.lineGutter=C,C.style.width=(n.lineNumWidth||1)+"px")}l.style.display=p.length?"":"none",Rs(n)}function Os(n){ao(n.display),ui(n),Ho(n)}function ja(n,l,p,c){this.input=p,this.scrollbarFiller=g("div",null,"CodeMirror-scrollbar-filler"),this.scrollbarFiller.setAttribute("cm-not-content","true"),this.gutterFiller=g("div",null,"CodeMirror-gutter-filler"),this.gutterFiller.setAttribute("cm-not-content","true"),this.lineDiv=b("div",null,"CodeMirror-code"),this.selectionDiv=g("div",null,null,"position: relative; z-index: 1"),this.cursorDiv=g("div",null,"CodeMirror-cursors"),this.measure=g("div",null,"CodeMirror-measure"),this.lineMeasure=g("div",null,"CodeMirror-measure"),this.lineSpace=b("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var _=b("div",[this.lineSpace],"CodeMirror-lines");this.mover=g("div",[_],null,"position: relative"),this.sizer=g("div",[this.mover],"CodeMirror-sizer"),this.sizerWidth=null,this.heightForcer=g("div",null,null,"position: absolute; height: 50px; width: 1px;"),this.gutters=g("div",null,"CodeMirror-gutters"),this.lineGutter=null,this.scroller=g("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll"),this.scroller.setAttribute("tabIndex","-1"),this.wrapper=g("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror"),this.wrapper.setAttribute("translate","no"),lr&&8>xr&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0),ni||mn&&So||(this.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(this.wrapper):n(this.wrapper)),this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=l.first,this.view=[],this.externalMeasured=this.renderedView=null,this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0,this.updateLineNumbers=null,this.nativeBarWidth=this.barHeight=this.barWidth=0,this.scrollbarsClipped=!1,this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null,this.alignWidgets=!1,this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null,this.maxLineLength=0,this.maxLineChanged=!1,this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null,this.shift=!1,this.activeTouch=this.selForContextMenu=null,this.gutterSpecs=qn(c.gutters,c.lineNumbers),ao(this),p.init(this)}function Ga(n){var l=n.wheelDeltaX,p=n.wheelDeltaY;return l==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(l=n.detail),p==null&&n.detail&&n.axis==n.VERTICAL_AXIS?p=n.detail:p==null&&(p=n.wheelDelta),{x:l,y:p}}function bu(n){return n=Ga(n),n.x*=hi,n.y*=hi,n}function Ol(n,l){var p=Ga(l),c=p.x;p=p.y;var _=hi;l.deltaMode===0&&(c=l.deltaX,p=l.deltaY,_=1);var E=n.display,C=E.scroller,k=C.scrollWidth>C.clientWidth,B=C.scrollHeight>C.clientHeight;if(c&&k||p&&B){if(p&&Li&&ni){k=l.target;var j=E.view;e:for(;k!=C;k=k.parentNode)for(var Z=0;Z<j.length;Z++)if(j[Z].node==k){n.display.currentWheelTarget=k;break e}}!c||mn||ji||_==null?(p&&_!=null&&(_*=p,B=n.doc.scrollTop,k=B+E.wrapper.clientHeight,0>_?B=Math.max(0,B+_-50):k=Math.min(n.doc.height,k+_+50),Oi(n,{top:B,bottom:k})),20>Bn&&l.deltaMode!==0&&(E.wheelStartX==null?(E.wheelStartX=C.scrollLeft,E.wheelStartY=C.scrollTop,E.wheelDX=c,E.wheelDY=p,setTimeout(function(){if(E.wheelStartX!=null){var ce=C.scrollLeft-E.wheelStartX,ye=C.scrollTop-E.wheelStartY;ce=ye&&E.wheelDY&&ye/E.wheelDY||ce&&E.wheelDX&&ce/E.wheelDX,E.wheelStartX=E.wheelStartY=null,ce&&(hi=(hi*Bn+ce)/(Bn+1),++Bn)}},200)):(E.wheelDX+=c,E.wheelDY+=p))):(p&&B&&so(n,Math.max(0,C.scrollTop+p*_)),An(n,Math.max(0,C.scrollLeft+c*_)),(!p||p&&B)&&ut(l),E.wheelStartX=null)}}function Fi(n,l,p){n=n&&n.options.selectionsMayTouch,p=l[p],l.sort(function(B,j){return K(B.from(),j.from())}),p=U(l,p);for(var c=1;c<l.length;c++){var _=l[c],E=l[c-1],C=K(E.to(),_.from());if(n&&!_.empty()?0<C:0<=C){C=z(E.from(),_.from());var k=zi(E.to(),_.to());_=E.empty()?_.from()==_.head:E.from()==E.head,c<=p&&--p,l.splice(--c,2,new ir(_?k:C,_?C:k))}}return new ei(l,p)}function hn(n,l){return new ei([new ir(n,l||n)],0)}function Zi(n){return n.text?Fe(n.from.line+n.text.length-1,oe(n.text).length+(n.text.length==1?n.from.ch:0)):n.to}function lo(n,l){if(0>K(n,l.from))return n;if(0>=K(n,l.to))return Zi(l);var p=n.line+l.text.length-(l.to.line-l.from.line)-1,c=n.ch;return n.line==l.to.line&&(c+=Zi(l).ch-l.to.ch),Fe(p,c)}function uo(n,l){for(var p=[],c=0;c<n.sel.ranges.length;c++){var _=n.sel.ranges[c];p.push(new ir(lo(_.anchor,l),lo(_.head,l)))}return Fi(n.cm,p,n.sel.primIndex)}function Qo(n,l,p){return n.line==l.line?Fe(p.line,n.ch-l.ch+p.ch):Fe(p.line+(n.line-l.line),n.ch)}function $n(n){n.doc.mode=pr(n.options,n.doc.modeOption),es(n)}function es(n){n.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,$s(n,100),n.state.modeGen++,n.curOp&&ui(n)}function Yo(n,l){return l.from.ch==0&&l.to.ch==0&&oe(l.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function fo(n,l,p,c){function _(We,bt,Lt){We.text=bt,We.stateAfter&&(We.stateAfter=null),We.styles&&(We.styles=null),We.order!=null&&(We.order=null),Hi(We),qr(We,Lt),bt=c?c(We):1,bt!=We.height&&jr(We,bt),zt(We,"change",We,l)}function E(We,bt){for(var Lt=[];We<bt;++We)Lt.push(new Nn(B[We],p?p[We]:null,c));return Lt}var C=l.from,k=l.to,B=l.text,j=_t(n,C.line),Z=_t(n,k.line),ce=oe(B),ye=p?p[B.length-1]:null,_e=k.line-C.line;l.full?(n.insert(0,E(0,B.length)),n.remove(B.length,n.size-B.length)):Yo(n,l)?(k=E(0,B.length-1),_(Z,Z.text,ye),_e&&n.remove(C.line,_e),k.length&&n.insert(C.line,k)):j==Z?B.length==1?_(j,j.text.slice(0,C.ch)+ce+j.text.slice(k.ch),ye):(_e=E(1,B.length-1),_e.push(new Nn(ce+j.text.slice(k.ch),ye,c)),_(j,j.text.slice(0,C.ch)+B[0],p?p[0]:null),n.insert(C.line+1,_e)):B.length==1?(_(j,j.text.slice(0,C.ch)+B[0]+Z.text.slice(k.ch),p?p[0]:null),n.remove(C.line+1,_e)):(_(j,j.text.slice(0,C.ch)+B[0],p?p[0]:null),_(Z,ce+Z.text.slice(k.ch),ye),ye=E(1,B.length-1),1<_e&&n.remove(C.line+1,_e-1),n.insert(C.line+1,ye)),zt(n,"change",n,l)}function qi(n,l,p){function c(_,E,C){if(_.linked)for(var k=0;k<_.linked.length;++k){var B=_.linked[k];if(B.doc!=E){var j=C&&B.sharedHist;(!p||j)&&(l(B.doc,j),c(B.doc,_,j))}}}c(n,null,!0)}function Ka(n,l){if(l.cm)throw Error("This document is already in use.");n.doc=l,l.cm=n,Ba(n),$n(n),Wa(n),n.options.direction=l.direction,n.options.lineWrapping||Sr(n),n.options.mode=l.modeOption,ui(n)}function Wa(n){(n.doc.direction=="rtl"?$:tn)(n.display.lineDiv,"CodeMirror-rtl")}function Ll(n){yi(n,function(){Wa(n),ui(n)})}function co(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function Xo(n,l){var p={from:Qr(l.from),to:Zi(l),text:rr(n,l.from,l.to)};return ts(n,p,l.from.line,l.to.line+1),qi(n,function(c){return ts(c,p,l.from.line,l.to.line+1)},!0),p}function za(n){for(;n.length&&oe(n).ranges;)n.pop()}function Va(n,l,p,c){var _=n.history;_.undone.length=0;var E=+new Date,C;if(C=_.lastOp==c||_.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&_.lastModTime>E-(n.cm?n.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*")){if(_.lastOp==c){za(_.done);var k=oe(_.done)}else _.done.length&&!oe(_.done).ranges?k=oe(_.done):1<_.done.length&&!_.done[_.done.length-2].ranges?(_.done.pop(),k=oe(_.done)):k=void 0;C=k}if(C){var B=oe(k.changes);K(l.from,l.to)==0&&K(l.from,B.to)==0?B.to=Zi(l):k.changes.push(Xo(n,l))}else for((k=oe(_.done))&&k.ranges||ho(n.sel,_.done),k={changes:[Xo(n,l)],generation:_.generation},_.done.push(k);_.done.length>_.undoDepth;)_.done.shift(),_.done[0].ranges||_.done.shift();_.done.push(p),_.generation=++_.maxGeneration,_.lastModTime=_.lastSelTime=E,_.lastOp=_.lastSelOp=c,_.lastOrigin=_.lastSelOrigin=l.origin,B||G(n,"historyAdded")}function ho(n,l){var p=oe(l);p&&p.ranges&&p.equals(n)||l.push(n)}function ts(n,l,p,c){var _=l["spans_"+n.id],E=0;n.iter(Math.max(n.first,p),Math.min(n.first+n.size,c),function(C){C.markedSpans&&((_||(_=l["spans_"+n.id]={}))[E]=C.markedSpans),++E})}function Zo(n,l){var p;if(p=l["spans_"+n.id]){for(var c=[],_=0;_<l.text.length;++_){var E=c,C=E.push,k=void 0,B=p[_];if(B){for(var j=0;j<B.length;++j)B[j].marker.explicitlyCleared?k||(k=B.slice(0,j)):k&&k.push(B[j]);k=k?k.length?k:null:B}else k=null;C.call(E,k)}p=c}else p=null;if(n=bi(n,l),!p)return n;if(!n)return p;for(l=0;l<p.length;++l)if(c=p[l],_=n[l],c&&_)e:for(E=0;E<_.length;++E){for(C=_[E],k=0;k<c.length;++k)if(c[k].marker==C.marker)continue e;c.push(C)}else _&&(p[l]=_);return p}function Rn(n,l,p){for(var c=[],_=0;_<n.length;++_){var E=n[_];if(E.ranges)c.push(p?ei.prototype.deepCopy.call(E):E);else{E=E.changes;var C=[];c.push({changes:C});for(var k=0;k<E.length;++k){var B=E[k],j;if(C.push({from:B.from,to:B.to,text:B.text}),l)for(var Z in B)(j=Z.match(/^spans_(\d+)$/))&&-1<U(l,Number(j[1]))&&(oe(C)[Z]=B[Z],delete B[Z])}}}return c}function rs(n,l,p,c){return c?(n=n.anchor,p&&(c=0>K(l,n),c!=0>K(p,n)?(n=l,l=p):c!=0>K(l,p)&&(l=p)),new ir(n,l)):new ir(p||l,l)}function qo(n,l,p,c,_){_==null&&(_=n.cm&&(n.cm.display.shift||n.extend)),Yr(n,new ei([rs(n.sel.primary(),l,p,_)],0),c)}function Nl(n,l,p){for(var c=[],_=n.cm&&(n.cm.display.shift||n.extend),E=0;E<n.sel.ranges.length;E++)c[E]=rs(n.sel.ranges[E],l[E],null,_);l=Fi(n.cm,c,n.sel.primIndex),Yr(n,l,p)}function Ha(n,l,p,c){var _=n.sel.ranges.slice(0);_[l]=p,Yr(n,Fi(n.cm,_,n.sel.primIndex),c)}function Qa(n,l,p){return p={ranges:l.ranges,update:function(c){this.ranges=[];for(var _=0;_<c.length;_++)this.ranges[_]=new ir(L(n,c[_].anchor),L(n,c[_].head))},origin:p&&p.origin},G(n,"beforeSelectionChange",n,p),n.cm&&G(n.cm,"beforeSelectionChange",n.cm,p),p.ranges!=l.ranges?Fi(n.cm,p.ranges,p.ranges.length-1):l}function Il(n,l,p){var c=n.history.done,_=oe(c);_&&_.ranges?(c[c.length-1]=l,ea(n,l,p)):Yr(n,l,p)}function Yr(n,l,p){ea(n,l,p),l=n.sel;var c=n.cm?n.cm.curOp.id:NaN,_=n.history,E=p&&p.origin,C;if(!(C=c==_.lastSelOp)&&(C=E&&_.lastSelOrigin==E)&&!(C=_.lastModTime==_.lastSelTime&&_.lastOrigin==E)){C=oe(_.done);var k=E.charAt(0);C=k=="*"||k=="+"&&C.ranges.length==l.ranges.length&&C.somethingSelected()==l.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}C?_.done[_.done.length-1]=l:ho(l,_.done),_.lastSelTime=+new Date,_.lastSelOrigin=E,_.lastSelOp=c,p&&p.clearRedo!==!1&&za(_.undone)}function ea(n,l,p){(Ue(n,"beforeSelectionChange")||n.cm&&Ue(n.cm,"beforeSelectionChange"))&&(l=Qa(n,l,p));var c=p&&p.bias||(0>K(l.primary().head,n.sel.primary().head)?-1:1);ta(n,ra(n,l,c,!0)),p&&p.scroll===!1||!n.cm||n.cm.getOption("readOnly")=="nocursor"||Di(n.cm)}function ta(n,l){l.equals(n.sel)||(n.sel=l,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,ve(n.cm)),zt(n,"cursorActivity",n))}function Bl(n){ta(n,ra(n,n.sel,null,!1))}function ra(n,l,p,c){for(var _,E=0;E<l.ranges.length;E++){var C=l.ranges[E],k=l.ranges.length==n.sel.ranges.length&&n.sel.ranges[E],B=po(n,C.anchor,k&&k.anchor,p,c);k=po(n,C.head,k&&k.head,p,c),(_||B!=C.anchor||k!=C.head)&&(_||(_=l.ranges.slice(0,E)),_[E]=new ir(B,k))}return _?Fi(n.cm,_,l.primIndex):l}function is(n,l,p,c,_){var E=_t(n,l.line);if(E.markedSpans)for(var C=0;C<E.markedSpans.length;++C){var k=E.markedSpans[C],B=k.marker,j="selectLeft"in B?!B.selectLeft:B.inclusiveLeft,Z="selectRight"in B?!B.selectRight:B.inclusiveRight;if((k.from==null||(j?k.from<=l.ch:k.from<l.ch))&&(k.to==null||(Z?k.to>=l.ch:k.to>l.ch))){if(_&&(G(B,"beforeCursorEnter"),B.explicitlyCleared))if(E.markedSpans){--C;continue}else break;if(B.atomic)return p&&(C=B.find(0>c?1:-1),k=void 0,(0>c?Z:j)&&(C=ia(n,C,-c,C&&C.line==l.line?E:null)),C&&C.line==l.line&&(k=K(C,p))&&(0>c?0>k:0<k))?is(n,C,l,c,_):(p=B.find(0>c?-1:1),(0>c?j:Z)&&(p=ia(n,p,c,p.line==l.line?E:null)),p?is(n,p,l,c,_):null)}}return l}function po(n,l,p,c,_){return c=c||1,l=is(n,l,p,c,_)||!_&&is(n,l,p,c,!0)||is(n,l,p,-c,_)||!_&&is(n,l,p,-c,!0),l||(n.cantEdit=!0,Fe(n.first,0))}function ia(n,l,p,c){return 0>p&&l.ch==0?l.line>n.first?L(n,Fe(l.line-1)):null:0<p&&l.ch==(c||_t(n,l.line)).text.length?l.line<n.first+n.size-1?Fe(l.line+1,0):null:new Fe(l.line,l.ch+p)}function Ul(n){n.setSelection(Fe(n.firstLine(),0),Fe(n.lastLine()),ci)}function mo(n,l,p){var c={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return c.canceled=!0}};return p&&(c.update=function(_,E,C,k){_&&(c.from=L(n,_)),E&&(c.to=L(n,E)),C&&(c.text=C),k!==void 0&&(c.origin=k)}),G(n,"beforeChange",n,c),n.cm&&G(n.cm,"beforeChange",n.cm,c),c.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function Ls(n,l,p){if(n.cm){if(!n.cm.curOp)return Pr(n.cm,Ls)(n,l,p);if(n.cm.state.suppressEdits)return}if(!((Ue(n,"beforeChange")||n.cm&&Ue(n.cm,"beforeChange"))&&(l=mo(n,l,!0),!l)))if(p=ga&&!p&&Lo(n,l.from,l.to))for(var c=p.length-1;0<=c;--c)Pl(n,{from:p[c].from,to:p[c].to,text:c?[""]:l.text,origin:l.origin});else Pl(n,l)}function Pl(n,l){if(l.text.length!=1||l.text[0]!=""||K(l.from,l.to)!=0){var p=uo(n,l);Va(n,l,p,n.cm?n.cm.curOp.id:NaN),yo(n,l,p,bi(n,l));var c=[];qi(n,function(_,E){E||U(c,_.history)!=-1||(Fl(_.history,l),c.push(_.history)),yo(_,l,null,bi(_,l))})}}function na(n,l,p){var c=n.cm&&n.cm.state.suppressEdits;if(!c||p){for(var _=n.history,E,C=n.sel,k=l=="undo"?_.done:_.undone,B=l=="undo"?_.undone:_.done,j=0;j<k.length&&(E=k[j],p?!E.ranges||E.equals(n.sel):E.ranges);j++);if(j!=k.length){for(_.lastOrigin=_.lastSelOrigin=null;;)if(E=k.pop(),E.ranges){if(ho(E,B),p&&!E.equals(n.sel)){Yr(n,E,{clearRedo:!1});return}C=E}else{if(c){k.push(E);return}break}var Z=[];ho(C,B),B.push({changes:Z,generation:_.generation}),_.generation=E.generation||++_.maxGeneration;var ce=Ue(n,"beforeChange")||n.cm&&Ue(n.cm,"beforeChange");for(p=function(ye){var _e=E.changes[ye];if(_e.origin=l,ce&&!mo(n,_e,!1))return k.length=0,{};Z.push(Xo(n,_e));var We=ye?uo(n,_e):oe(k);yo(n,_e,We,Zo(n,_e)),!ye&&n.cm&&n.cm.scrollIntoView({from:_e.from,to:Zi(_e)});var bt=[];qi(n,function(Lt,Ar){Ar||U(bt,Lt.history)!=-1||(Fl(Lt.history,_e),bt.push(Lt.history)),yo(Lt,_e,null,Zo(Lt,_e))})},c=E.changes.length-1;0<=c;--c)if(_=p(c))return _.v}}}function Dl(n,l){if(l!=0&&(n.first+=l,n.sel=new ei(Me(n.sel.ranges,function(_){return new ir(Fe(_.anchor.line+l,_.anchor.ch),Fe(_.head.line+l,_.head.ch))}),n.sel.primIndex),n.cm)){ui(n.cm,n.first,n.first-l,l);for(var p=n.cm.display,c=p.viewFrom;c<p.viewTo;c++)Cn(n.cm,c,"gutter")}}function yo(n,l,p,c){if(n.cm&&!n.cm.curOp)return Pr(n.cm,yo)(n,l,p,c);if(l.to.line<n.first)Dl(n,l.text.length-1-(l.to.line-l.from.line));else if(!(l.from.line>n.lastLine())){if(l.from.line<n.first){var _=l.text.length-1-(n.first-l.from.line);Dl(n,_),l={from:Fe(n.first,0),to:Fe(l.to.line+_,l.to.ch),text:[oe(l.text)],origin:l.origin}}_=n.lastLine(),l.to.line>_&&(l={from:l.from,to:Fe(_,_t(n,_).text.length),text:[l.text[0]],origin:l.origin}),l.removed=rr(n,l.from,l.to),p||(p=uo(n,l)),n.cm?Eu(n.cm,l,c):fo(n,l,c),ea(n,p,ci),n.cantEdit&&po(n,Fe(n.firstLine(),0))&&(n.cantEdit=!1)}}function Eu(n,l,p){var c=n.doc,_=n.display,E=l.from,C=l.to,k=!1,B=E.line;n.options.lineWrapping||(B=Ft(li(_t(c,E.line))),c.iter(B,C.line+1,function(j){if(j==_.maxLine)return k=!0})),-1<c.sel.contains(l.from,l.to)&&ve(n),fo(c,l,p,Al(n)),n.options.lineWrapping||(c.iter(B,E.line+l.text.length,function(j){var Z=Kn(j);Z>_.maxLineLength&&(_.maxLine=j,_.maxLineLength=Z,_.maxLineChanged=!0,k=!1)}),k&&(n.curOp.updateMaxLine=!0)),Oo(c,E.line),$s(n,400),p=l.text.length-(C.line-E.line)-1,l.full?ui(n):E.line!=C.line||l.text.length!=1||Yo(n.doc,l)?ui(n,E.line,C.line+1,p):Cn(n,E.line,"text"),p=Ue(n,"changes"),((c=Ue(n,"change"))||p)&&(l={from:E,to:C,text:l.text,removed:l.removed,origin:l.origin},c&&zt(n,"change",n,l),p&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(l)),n.display.selForContextMenu=null}function Ns(n,l,p,c,_){c||(c=p),0>K(c,p)&&(c=[c,p],p=c[0],c=c[1]),typeof l=="string"&&(l=n.splitLines(l)),Ls(n,{from:p,to:c,text:l,origin:_})}function Ya(n,l,p,c){p<n.line?n.line+=c:l<n.line&&(n.line=l,n.ch=0)}function Is(n,l,p,c){for(var _=0;_<n.length;++_){var E=n[_],C=!0;if(E.ranges)for(E.copied||(E=n[_]=E.deepCopy(),E.copied=!0),C=0;C<E.ranges.length;C++)Ya(E.ranges[C].anchor,l,p,c),Ya(E.ranges[C].head,l,p,c);else{for(var k=0;k<E.changes.length;++k){var B=E.changes[k];if(p<B.from.line)B.from=Fe(B.from.line+c,B.from.ch),B.to=Fe(B.to.line+c,B.to.ch);else if(l<=B.to.line){C=!1;break}}C||(n.splice(0,_+1),_=0)}}}function Fl(n,l){var p=l.from.line,c=l.to.line;l=l.text.length-(c-p)-1,Is(n.done,p,c,l),Is(n.undone,p,c,l)}function On(n,l,p,c){var _=l,E=l;return typeof l=="number"?E=_t(n,Math.max(n.first,Math.min(l,n.first+n.size-1))):_=Ft(l),_==null?null:(c(E,_)&&n.cm&&Cn(n.cm,_,p),E)}function ii(n){this.lines=n,this.parent=null;for(var l=0,p=0;p<n.length;++p)n[p].parent=this,l+=n[p].height;this.height=l}function en(n){this.children=n;for(var l=0,p=0,c=0;c<n.length;++c){var _=n[c];l+=_.chunkSize(),p+=_.height,_.parent=this}this.size=l,this.height=p,this.parent=null}function Jl(n,l,p,c){var _=new Ki(n,p,c),E=n.cm;return E&&_.noHScroll&&(E.display.alignWidgets=!0),On(n,l,"widget",function(C){var k=C.widgets||(C.widgets=[]);return _.insertAt==null?k.push(_):k.splice(Math.min(k.length,Math.max(0,_.insertAt)),0,_),_.line=C,E&&!Qi(n,C)&&(k=di(C)<n.scrollTop,jr(C,C.height+Vn(_)),k&&Ko(E,_.height),E.curOp.forceUpdate=!0),!0}),E&&zt(E,"lineWidgetAdded",E,_,typeof l=="number"?l:Ft(l)),_}function ns(n,l,p,c,_){if(c&&c.shared)return jl(n,l,p,c,_);if(n.cm&&!n.cm.curOp)return Pr(n.cm,ns)(n,l,p,c,_);var E=new gi(n,_);if(_=K(l,p),c&&O(c,E,!1),0<_||_==0&&E.clearWhenEmpty!==!1)return E;if(E.replacedWith&&(E.collapsed=!0,E.widgetNode=b("span",[E.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||E.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(E.widgetNode.insertLeft=!0)),E.collapsed){if($i(n,l.line,l,p,E)||l.line!=p.line&&$i(n,p.line,l,p,E))throw Error("Inserting collapsed marker partially overlapping an existing one");sn=!0}E.addToHistory&&Va(n,{from:l,to:p,origin:"markText"},n.sel,NaN);var C=l.line,k=n.cm,B;if(n.iter(C,p.line+1,function(j){k&&E.collapsed&&!k.options.lineWrapping&&li(j)==k.display.maxLine&&(B=!0),E.collapsed&&C!=l.line&&jr(j,0);var Z=new ys(E,C==l.line?l.ch:null,C==p.line?p.ch:null),ce=n.cm&&n.cm.curOp;(ce=ce&&window.WeakSet&&(ce.markedSpans||(ce.markedSpans=new WeakSet)))&&ce.has(j.markedSpans)?j.markedSpans.push(Z):(j.markedSpans=j.markedSpans?j.markedSpans.concat([Z]):[Z],ce&&ce.add(j.markedSpans)),Z.marker.attachLine(j),++C}),E.collapsed&&n.iter(l.line,p.line+1,function(j){Qi(n,j)&&jr(j,0)}),E.clearOnEnter&&It(E,"beforeCursorEnter",function(){return E.clear()}),E.readOnly&&(ga=!0,(n.history.done.length||n.history.undone.length)&&n.clearHistory()),E.collapsed&&(E.id=++Un,E.atomic=!0),k){if(B&&(k.curOp.updateMaxLine=!0),E.collapsed)ui(k,l.line,p.line+1);else if(E.className||E.startStyle||E.endStyle||E.css||E.attributes||E.title)for(c=l.line;c<=p.line;c++)Cn(k,c,"text");E.atomic&&Bl(k.doc),zt(k,"markerAdded",k,E)}return E}function jl(n,l,p,c,_){c=O(c),c.shared=!1;var E=[ns(n,l,p,c,_)],C=E[0],k=c.widgetNode;return qi(n,function(B){k&&(c.widgetNode=k.cloneNode(!0)),E.push(ns(B,L(B,l),L(B,p),c,_));for(var j=0;j<B.linked.length;++j)if(B.linked[j].isParent)return;C=oe(E)}),new Pn(E,C)}function Xa(n){return n.findMarks(Fe(n.first,0),n.clipPos(Fe(n.lastLine())),function(l){return l.parent})}function Gl(n){for(var l=function(c){c=n[c];var _=[c.primary.doc];qi(c.primary.doc,function(k){return _.push(k)});for(var E=0;E<c.markers.length;E++){var C=c.markers[E];U(_,C.doc)==-1&&(C.parent=null,c.markers.splice(E--,1))}},p=0;p<n.length;p++)l(p)}function Kl(n){var l=this;if(Wl(l),!H(l,n)&&!J(l.display,n)){ut(n),lr&&(wa=+new Date);var p=Hn(l,n,!0),c=n.dataTransfer.files;if(p&&!l.isReadOnly())if(c&&c.length&&window.FileReader&&window.File)for(var _=c.length,E=Array(_),C=0,k=function(){++C==_&&Pr(l,function(){p=L(l.doc,p);var Z={from:p,to:p,text:l.doc.splitLines(E.filter(function(ce){return ce!=null}).join(l.doc.lineSeparator())),origin:"paste"};Ls(l.doc,Z),Il(l.doc,hn(L(l.doc,p),L(l.doc,Zi(Z))))})()},B=function(Z,ce){if(l.options.allowDropFileTypes&&U(l.options.allowDropFileTypes,Z.type)==-1)k();else{var ye=new FileReader;ye.onerror=function(){return k()},ye.onload=function(){var _e=ye.result;/[\x00-\x08\x0e-\x1f]{2}/.test(_e)||(E[ce]=_e),k()},ye.readAsText(Z)}},j=0;j<c.length;j++)B(c[j],j);else if(l.state.draggingText&&-1<l.doc.sel.contains(p))l.state.draggingText(n),setTimeout(function(){return l.display.input.focus()},20);else try{if(B=n.dataTransfer.getData("Text")){if(l.state.draggingText&&!l.state.draggingText.copy&&(j=l.listSelections()),ea(l.doc,hn(p,p)),j)for(c=0;c<j.length;++c)Ns(l.doc,"",j[c].anchor,j[c].head,"drag");l.replaceSelection(B,"around","paste"),l.display.input.focus()}}catch{}}}function Wl(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function ss(n){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),p=[],c=0;c<l.length;c++){var _=l[c].CodeMirror;_&&p.push(_)}p.length&&p[0].operation(function(){for(var E=0;E<p.length;E++)n(p[E])})}}function Xr(){var n;It(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null,ss(zl)},100))}),It(window,"blur",function(){return ss(As)})}function zl(n){var l=n.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,n.setSize()}function Vl(n){var l=n.split(/-(?!$)/);n=l[l.length-1];for(var p,c,_,E,C=0;C<l.length-1;C++){var k=l[C];if(/^(cmd|meta|m)$/i.test(k))E=!0;else if(/^a(lt)?$/i.test(k))p=!0;else if(/^(c|ctrl|control)$/i.test(k))c=!0;else if(/^s(hift)?$/i.test(k))_=!0;else throw Error("Unrecognized modifier name: "+k)}return p&&(n="Alt-"+n),c&&(n="Ctrl-"+n),E&&(n="Cmd-"+n),_&&(n="Shift-"+n),n}function os(n){var l={},p;for(p in n)if(n.hasOwnProperty(p)){var c=n[p];if(!/^(name|fallthrough|(de|at)tach)$/.test(p)){if(c!="...")for(var _=Me(p.split(" "),Vl),E=0;E<_.length;E++){if(E==_.length-1)var C=_.join(" "),k=c;else C=_.slice(0,E+1).join(" "),k="...";var B=l[C];if(!B)l[C]=k;else if(B!=k)throw Error("Inconsistent bindings for "+C)}delete n[p]}}for(var j in l)n[j]=l[j];return n}function as(n,l,p,c){l=sa(l);var _=l.call?l.call(n,c):l[n];if(_===!1)return"nothing";if(_==="...")return"multi";if(_!=null&&p(_))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return as(n,l.fallthrough,p,c);for(_=0;_<l.fallthrough.length;_++){var E=as(n,l.fallthrough[_],p,c);if(E)return E}}}function Za(n){return n=typeof n=="string"?n:Ti[n.keyCode],n=="Ctrl"||n=="Alt"||n=="Shift"||n=="Mod"}function Hl(n,l,p){var c=n;return l.altKey&&c!="Alt"&&(n="Alt-"+n),(Fs?l.metaKey:l.ctrlKey)&&c!="Ctrl"&&(n="Ctrl-"+n),(Fs?l.ctrlKey:l.metaKey)&&c!="Mod"&&(n="Cmd-"+n),!p&&l.shiftKey&&c!="Shift"&&(n="Shift-"+n),n}function Ql(n,l){if(ji&&n.keyCode==34&&n.char)return!1;var p=Ti[n.keyCode];return p==null||n.altGraphKey?!1:(n.keyCode==3&&n.code&&(p=n.code),Hl(p,n,l))}function sa(n){return typeof n=="string"?Ks[n]:n}function Bs(n,l){for(var p=n.doc.sel.ranges,c=[],_=0;_<p.length;_++){for(var E=l(p[_]);c.length&&0>=K(E.from,oe(c).to);){var C=c.pop();if(0>K(C.from,E.from)){E.from=C.from;break}}c.push(E)}yi(n,function(){for(var k=c.length-1;0<=k;k--)Ns(n.doc,"",c[k].from,c[k].to,"+delete");Di(n)})}function go(n,l,p){return l=Ze(n.text,l+p,p),0>l||l>n.text.length?null:l}function oa(n,l,p){return n=go(n,l.ch,p),n==null?null:new Fe(l.line,n,0>p?"after":"before")}function qa(n,l,p,c,_){if(n&&(l.doc.direction=="rtl"&&(_=-_),n=Y(p,l.doc.direction))){n=0>_?oe(n):n[0];var E=0>_==(n.level==1)?"after":"before";if(0<n.level||l.doc.direction=="rtl"){var C=xn(l,p),k=0>_?p.text.length-1:0,B=Ui(l,C,k).top;k=se(function(j){return Ui(l,C,j).top==B},0>_==(n.level==1)?n.from:n.to-1,k),E=="before"&&(k=go(p,k,1))}else k=0>_?n.to:n.from;return new Fe(c,k,E)}return new Fe(c,0>_?p.text.length:0,0>_?"before":"after")}function Yl(n,l,p,c){var _=Y(l,n.doc.direction);if(!_)return oa(l,p,c);p.ch>=l.text.length?(p.ch=l.text.length,p.sticky="before"):0>=p.ch&&(p.ch=0,p.sticky="after");var E=Se(_,p.ch,p.sticky),C=_[E];if(n.doc.direction=="ltr"&&C.level%2==0&&(0<c?C.to>p.ch:C.from<p.ch))return oa(l,p,c);var k=function(_e,We){return go(l,_e instanceof Fe?_e.ch:_e,We)},B,j=function(_e){return n.options.lineWrapping?(B=B||xn(n,l),Ra(n,l,B,_e)):{begin:0,end:l.text.length}},Z=j(p.sticky=="before"?k(p,-1):p.ch);if(n.doc.direction=="rtl"||C.level==1){var ce=C.level==1==0>c,ye=k(p,ce?1:-1);if(ye!=null&&(ce?ye<=C.to&&ye<=Z.end:ye>=C.from&&ye>=Z.begin))return new Fe(p.line,ye,ce?"before":"after")}return C=function(_e,We,bt){for(var Lt=function(mr,yr){return yr?new Fe(p.line,k(mr,1),"before"):new Fe(p.line,mr,"after")};0<=_e&&_e<_.length;_e+=We){var Ar=_[_e],kt=0<We==(Ar.level!=1),fr=kt?bt.begin:k(bt.end,-1);if(Ar.from<=fr&&fr<Ar.to||(fr=kt?Ar.from:k(Ar.to,-1),bt.begin<=fr&&fr<bt.end))return Lt(fr,kt)}},(E=C(E+c,c,Z))?E:(Z=0<c?Z.end:k(Z.begin,-1),Z==null||0<c&&Z==l.text.length||!(E=C(0<c?0:_.length-1,c,j(Z)))?null:E)}function el(n,l){var p=_t(n.doc,l),c=li(p);return c!=p&&(l=Ft(c)),qa(!0,n,c,l,1)}function Xl(n,l){var p=el(n,l.line),c=_t(n.doc,p.line);return n=Y(c,n.doc.direction),n&&n[0].level!=0?p:(c=Math.max(p.ch,c.text.search(/\S/)),Fe(p.line,l.line==p.line&&l.ch<=c&&l.ch?0:c,p.sticky))}function ls(n,l,p){if(typeof l=="string"&&(l=Ws[l],!l))return!1;n.display.input.ensurePolled();var c=n.display.shift,_=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),p&&(n.display.shift=!1),_=l(n)!=ua}finally{n.display.shift=c,n.state.suppressEdits=!1}return _}function vo(n,l,p,c){var _=n.state.keySeq;if(_){if(Za(l))return"handled";if(/'$/.test(l)?n.state.keySeq=null:gu.set(50,function(){n.state.keySeq==_&&(n.state.keySeq=null,n.display.input.reset())}),pn(n,_+" "+l,p,c))return!0}return pn(n,l,p,c)}function pn(n,l,p,c){e:{for(var _=0;_<n.state.keyMaps.length;_++){var E=as(l,n.state.keyMaps[_],c,n);if(E){c=E;break e}}c=n.options.extraKeys&&as(l,n.options.extraKeys,c,n)||as(l,n.options.keyMap,c,n)}return c=="multi"&&(n.state.keySeq=l),c=="handled"&&zt(n,"keyHandled",n,l,p),(c=="handled"||c=="multi")&&(ut(p),Ms(n)),!!c}function _o(n,l){var p=Ql(l,!0);return p?l.shiftKey&&!n.state.keySeq?vo(n,"Shift-"+p,l,function(c){return ls(n,c,!0)})||vo(n,p,l,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return ls(n,c)}):vo(n,p,l,function(c){return ls(n,c)}):!1}function Zl(n,l,p){return vo(n,"'"+p+"'",l,function(c){return ls(n,c,!0)})}function tl(n){if((!n.target||n.target==this.display.input.getField())&&(this.curOp.focus=T(),!H(this,n))){lr&&11>xr&&n.keyCode==27&&(n.returnValue=!1);var l=n.keyCode;this.display.shift=l==16||n.shiftKey;var p=_o(this,n);ji&&(bl=p?l:null,!p&&l==88&&!vl&&(Li?n.metaKey:n.ctrlKey)&&this.replaceSelection("",null,"cut")),mn&&!Li&&!p&&l==46&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),l!=18||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||ql(this)}}function ql(n){function l(c){c.keyCode!=18&&c.altKey||(tn(p,"CodeMirror-crosshair"),Q(document,"keyup",l),Q(document,"mouseover",l))}var p=n.display.lineDiv;$(p,"CodeMirror-crosshair"),It(document,"keyup",l),It(document,"mouseover",l)}function rl(n){n.keyCode==16&&(this.doc.sel.shift=!1),H(this,n)}function il(n){if(!(n.target&&n.target!=this.display.input.getField()||J(this.display,n)||H(this,n)||n.ctrlKey&&!n.altKey||Li&&n.metaKey)){var l=n.keyCode,p=n.charCode;ji&&l==bl?(bl=null,ut(n)):(!ji||n.which&&!(10>n.which)||!_o(this,n))&&(l=String.fromCharCode(p??l),l!="\b"&&!Zl(this,n,l)&&this.display.input.onKeyPress(n))}}function eu(n,l){var p=+new Date;return Ao&&Ao.compare(p,n,l)?(Mo=Ao=null,"triple"):Mo&&Mo.compare(p,n,l)?(Ao=new Dn(p,n,l),Mo=null,"double"):(Mo=new Dn(p,n,l),Ao=null,"single")}function nl(n){var l=this.display;if(!(H(this,n)||l.activeTouch&&l.input.supportsTouch())){if(l.input.ensurePolled(),l.shift=n.shiftKey,J(l,n))ni||(l.scroller.draggable=!1,setTimeout(function(){return l.scroller.draggable=!0},100));else if(!Us(this,n,"gutterClick",!0)){var p=Hn(this,n),c=er(n),_=p?eu(p,c):"single";window.focus(),c==1&&this.state.selectingText&&this.state.selectingText(n),(!p||!tu(this,c,p,_,n))&&(c==1?p?ru(this,p,_,n):(n.target||n.srcElement)==l.scroller&&ut(n):c==2?(p&&qo(this.doc,p),setTimeout(function(){return l.input.focus()},20)):c==3&&(pl?this.display.input.onContextMenu(n):Jo(this)))}}}function tu(n,l,p,c,_){var E="Click";return c=="double"?E="Double"+E:c=="triple"&&(E="Triple"+E),vo(n,Hl((l==1?"Left":l==2?"Middle":"Right")+E,_),_,function(C){if(typeof C=="string"&&(C=Ws[C]),!C)return!1;var k=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),k=C(n,p)!=ua}finally{n.state.suppressEdits=!1}return k})}function ru(n,l,p,c){lr?setTimeout(M(Pa,n),0):n.curOp.focus=T();var _=n.getOption("configureMouse");_=_?_(n,p,c):{},_.unit==null&&(_.unit=(Mu?c.shiftKey&&c.metaKey:c.altKey)?"rectangle":p=="single"?"char":p=="double"?"word":"line"),(_.extend==null||n.doc.extend)&&(_.extend=n.doc.extend||c.shiftKey),_.addNew==null&&(_.addNew=Li?c.metaKey:c.ctrlKey),_.moveOnDrag==null&&(_.moveOnDrag=!(Li?c.altKey:c.ctrlKey));var E=n.doc.sel,C;n.options.dragDrop&&du&&!n.isReadOnly()&&p=="single"&&-1<(C=E.contains(l))&&(0>K((C=E.ranges[C]).from(),l)||0<l.xRel)&&(0<K(C.to(),l)||0>l.xRel)?Ji(n,c,l,_):Su(n,c,l,_)}function Ji(n,l,p,c){var _=n.display,E=!1,C=Pr(n,function(j){ni&&(_.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:Jo(n)),Q(_.wrapper.ownerDocument,"mouseup",C),Q(_.wrapper.ownerDocument,"mousemove",k),Q(_.scroller,"dragstart",B),Q(_.scroller,"drop",C),E||(ut(j),c.addNew||qo(n.doc,p,null,null,c.extend),ni&&!la||lr&&xr==9?setTimeout(function(){_.wrapper.ownerDocument.body.focus({preventScroll:!0}),_.input.focus()},20):_.input.focus())}),k=function(j){E=E||10<=Math.abs(l.clientX-j.clientX)+Math.abs(l.clientY-j.clientY)},B=function(){return E=!0};ni&&(_.scroller.draggable=!0),n.state.draggingText=C,C.copy=!c.moveOnDrag,It(_.wrapper.ownerDocument,"mouseup",C),It(_.wrapper.ownerDocument,"mousemove",k),It(_.scroller,"dragstart",B),It(_.scroller,"drop",C),n.state.delayingBlurEvent=!0,setTimeout(function(){return _.input.focus()},20),_.scroller.dragDrop&&_.scroller.dragDrop()}function sl(n,l,p){return p=="char"?new ir(l,l):p=="word"?n.findWordAt(l):p=="line"?new ir(Fe(l.line,0),L(n.doc,Fe(l.line+1,0))):(n=p(n,l),new ir(n.from,n.to))}function Su(n,l,p,c){function _(kt){if(K(_e,kt)!=0)if(_e=kt,c.unit=="rectangle"){var fr=[],mr=n.options.tabSize,yr=D(_t(B,p.line).text,p.ch,mr),cr=D(_t(B,kt.line).text,kt.ch,mr),qt=Math.min(yr,cr);yr=Math.max(yr,cr),cr=Math.min(p.line,kt.line);for(var br=Math.min(n.lastLine(),Math.max(p.line,kt.line));cr<=br;cr++){var hr=_t(B,cr).text,vr=F(hr,qt,mr);qt==yr?fr.push(new ir(Fe(cr,vr),Fe(cr,vr))):hr.length>vr&&fr.push(new ir(Fe(cr,vr),Fe(cr,F(hr,yr,mr))))}fr.length||fr.push(new ir(p,p)),Yr(B,Fi(n,j.ranges.slice(0,ce).concat(fr),ce),{origin:"*mouse",scroll:!1}),n.scrollIntoView(kt)}else fr=ye,qt=sl(n,kt,c.unit),kt=fr.anchor,0<K(qt.anchor,kt)?(mr=qt.head,kt=z(fr.from(),qt.anchor)):(mr=qt.anchor,kt=zi(fr.to(),qt.head)),fr=j.ranges.slice(0),fr[ce]=dn(n,new ir(L(B,kt),mr)),Yr(B,Fi(n,fr,ce),fa)}function E(kt){var fr=++bt,mr=Hn(n,kt,!0,c.unit=="rectangle");if(mr)if(K(mr,_e)!=0){n.curOp.focus=T(),_(mr);var yr=Go(k,B);(mr.line>=yr.to||mr.line<yr.from)&&setTimeout(Pr(n,function(){bt==fr&&E(kt)}),150)}else{var cr=kt.clientY<We.top?-20:kt.clientY>We.bottom?20:0;cr&&setTimeout(Pr(n,function(){bt==fr&&(k.scroller.scrollTop+=cr,E(kt))}),50)}}function C(kt){n.state.selectingText=!1,bt=1/0,kt&&(ut(kt),k.input.focus()),Q(k.wrapper.ownerDocument,"mousemove",Lt),Q(k.wrapper.ownerDocument,"mouseup",Ar),B.history.lastSelOrigin=null}lr&&Jo(n);var k=n.display,B=n.doc;ut(l);var j=B.sel,Z=j.ranges;if(c.addNew&&!c.extend)var ce=B.sel.contains(p),ye=-1<ce?Z[ce]:new ir(p,p);else ye=B.sel.primary(),ce=B.sel.primIndex;c.unit=="rectangle"?(c.addNew||(ye=new ir(p,p)),p=Hn(n,l,!0,!0),ce=-1):(l=sl(n,p,c.unit),ye=c.extend?rs(ye,l.anchor,l.head,c.extend):l),c.addNew?ce==-1?(ce=Z.length,Yr(B,Fi(n,Z.concat([ye]),ce),{scroll:!1,origin:"*mouse"})):1<Z.length&&Z[ce].empty()&&c.unit=="char"&&!c.extend?(Yr(B,Fi(n,Z.slice(0,ce).concat(Z.slice(ce+1)),0),{scroll:!1,origin:"*mouse"}),j=B.sel):Ha(B,ce,ye,fa):(ce=0,Yr(B,new ei([ye],0),fa),j=B.sel);var _e=p,We=k.wrapper.getBoundingClientRect(),bt=0,Lt=Pr(n,function(kt){kt.buttons!==0&&er(kt)?E(kt):C(kt)}),Ar=Pr(n,C);n.state.selectingText=Ar,It(k.wrapper.ownerDocument,"mousemove",Lt),It(k.wrapper.ownerDocument,"mouseup",Ar)}function dn(n,l){var p=l.anchor,c=l.head,_=_t(n.doc,p.line);if(K(p,c)==0&&p.sticky==c.sticky||(_=Y(_),!_))return l;var E=Se(_,p.ch,p.sticky),C=_[E];if(C.from!=p.ch&&C.to!=p.ch)return l;var k=E+(C.from==p.ch==(C.level!=1)?0:1);return k==0||k==_.length?l:(c.line!=p.line?n=0<(c.line-p.line)*(n.doc.direction=="ltr"?1:-1):(n=Se(_,c.ch,c.sticky),E=n-E||(c.ch-p.ch)*(C.level==1?-1:1),n=n==k-1||n==k?0>E:0<E),_=_[k+(n?-1:0)],_=(k=n==(_.level==1))?_.from:_.to,k=k?"after":"before",p.ch==_&&p.sticky==k?l:new ir(new Fe(p.line,_,k),c))}function Us(n,l,p,c){if(l.touches)var _=l.touches[0].clientX,E=l.touches[0].clientY;else try{_=l.clientX,E=l.clientY}catch{return!1}if(_>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;c&&ut(l),c=n.display;var C=c.lineDiv.getBoundingClientRect();if(E>C.bottom||!Ue(n,p))return wt(l);for(E-=C.top-c.viewOffset,C=0;C<n.display.gutterSpecs.length;++C){var k=c.gutters.childNodes[C];if(k&&k.getBoundingClientRect().right>=_)return _=Ai(n.doc,E),G(n,p,n,_,n.display.gutterSpecs[C].className,l),wt(l)}}function Ln(n,l){var p;(p=J(n.display,l))||(p=Ue(n,"gutterContextMenu")?Us(n,l,"gutterContextMenu",!1):!1),!p&&!H(n,l,"contextmenu")&&!pl&&n.display.input.onContextMenu(l)}function wo(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),bs(n)}function iu(n,l,p){!l!=!(p&&p!=zs)&&(p=n.display.dragFunctions,l=l?It:Q,l(n.display.scroller,"dragstart",p.start),l(n.display.scroller,"dragenter",p.enter),l(n.display.scroller,"dragover",p.over),l(n.display.scroller,"dragleave",p.leave),l(n.display.scroller,"drop",p.drop))}function nu(n){n.options.lineWrapping?($(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(tn(n.display.wrapper,"CodeMirror-wrap"),Sr(n)),Ba(n),ui(n),bs(n),setTimeout(function(){return Yn(n)},100)}function Tr(n,l){var p=this;if(!(this instanceof Tr))return new Tr(n,l);this.options=l=l?O(l):{},O(El,l,!1);var c=l.value;typeof c=="string"?c=new Kr(c,l.mode,null,l.lineSeparator,l.direction):l.mode&&(c.modeOption=l.mode),this.doc=c;var _=new Tr.inputStyles[l.inputStyle](this);n=this.display=new ja(n,c,_,l),n.wrapper.CodeMirror=this,wo(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),zo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Si,keySeq:null,specialChars:null},l.autofocus&&!So&&n.input.focus(),lr&&11>xr&&setTimeout(function(){return p.display.input.reset(!0)},20),su(this),ba||(Xr(),ba=!0),Xn(this),this.curOp.forceUpdate=!0,Ka(this,c),l.autofocus&&!So||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Da(p)},20):As(this);for(var E in Sa)Sa.hasOwnProperty(E)&&Sa[E](this,l[E],zs);for(oo(this),l.finishInit&&l.finishInit(this),c=0;c<Sl.length;++c)Sl[c](this);Zn(this),ni&&l.lineWrapping&&getComputedStyle(n.lineDiv).textRendering=="optimizelegibility"&&(n.lineDiv.style.textRendering="auto")}function su(n){function l(){c.activeTouch&&(_=setTimeout(function(){return c.activeTouch=null},1e3),E=c.activeTouch,E.end=+new Date)}function p(k,B){if(B.left==null)return!0;var j=B.left-k.left;return k=B.top-k.top,400<j*j+k*k}var c=n.display;It(c.scroller,"mousedown",Pr(n,nl)),lr&&11>xr?It(c.scroller,"dblclick",Pr(n,function(k){if(!H(n,k)){var B=Hn(n,k);!B||Us(n,k,"gutterClick",!0)||J(n.display,k)||(ut(k),k=n.findWordAt(B),qo(n.doc,k.anchor,k.head))}})):It(c.scroller,"dblclick",function(k){return H(n,k)||ut(k)}),It(c.scroller,"contextmenu",function(k){return Ln(n,k)}),It(c.input.getField(),"contextmenu",function(k){c.scroller.contains(k.target)||Ln(n,k)});var _,E={end:0};It(c.scroller,"touchstart",function(k){var B;(B=!H(n,k))&&(k.touches.length!=1?B=!1:(B=k.touches[0],B=1>=B.radiusX&&1>=B.radiusY),B=!B),B&&!Us(n,k,"gutterClick",!0)&&(c.input.ensurePolled(),clearTimeout(_),B=+new Date,c.activeTouch={start:B,moved:!1,prev:300>=B-E.end?E:null},k.touches.length==1&&(c.activeTouch.left=k.touches[0].pageX,c.activeTouch.top=k.touches[0].pageY))}),It(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),It(c.scroller,"touchend",function(k){var B=c.activeTouch;if(B&&!J(c,k)&&B.left!=null&&!B.moved&&300>new Date-B.start){var j=n.coordsChar(c.activeTouch,"page");B=!B.prev||p(B,B.prev)?new ir(j,j):!B.prev.prev||p(B,B.prev.prev)?n.findWordAt(j):new ir(Fe(j.line,0),L(n.doc,Fe(j.line+1,0))),n.setSelection(B.anchor,B.head),n.focus(),ut(k)}l()}),It(c.scroller,"touchcancel",l),It(c.scroller,"scroll",function(){c.scroller.clientHeight&&(so(n,c.scroller.scrollTop),An(n,c.scroller.scrollLeft,!0),G(n,"scroll",n))}),It(c.scroller,"mousewheel",function(k){return Ol(n,k)}),It(c.scroller,"DOMMouseScroll",function(k){return Ol(n,k)}),It(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(k){H(n,k)||Ct(k)},over:function(k){if(!H(n,k)){var B=Hn(n,k);if(B){var j=document.createDocumentFragment();ro(n,B,j),n.display.dragCursor||(n.display.dragCursor=g("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),f(n.display.dragCursor,j)}Ct(k)}},start:function(k){if(lr&&(!n.state.draggingText||100>+new Date-wa))Ct(k);else if(!H(n,k)&&!J(n.display,k)&&(k.dataTransfer.setData("Text",n.getSelection()),k.dataTransfer.effectAllowed="copyMove",k.dataTransfer.setDragImage&&!la)){var B=g("img",null,null,"position: fixed; left: 0; top: 0;");B.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ji&&(B.width=B.height=1,n.display.wrapper.appendChild(B),B._top=B.offsetTop),k.dataTransfer.setDragImage(B,0,0),ji&&B.parentNode.removeChild(B)}},drop:Pr(n,Kl),leave:function(k){H(n,k)||Wl(n)}};var C=c.input.getField();It(C,"keyup",function(k){return rl.call(n,k)}),It(C,"keydown",Pr(n,tl)),It(C,"keypress",Pr(n,il)),It(C,"focus",function(k){return Da(n,k)}),It(C,"blur",function(k){return As(n,k)})}function Ps(n,l,p,c){var _=n.doc,E;p==null&&(p="add"),p=="smart"&&(_.mode.indent?E=Be(n,l).state:p="prev");var C=n.options.tabSize,k=_t(_,l),B=D(k.text,null,C);k.stateAfter&&(k.stateAfter=null);var j=k.text.match(/^\s*/)[0];if(!c&&!/\S/.test(k.text)){var Z=0;p="not"}else if(p=="smart"&&(Z=_.mode.indent(E,k.text.slice(j.length),k.text),Z==ua||150<Z)){if(!c)return;p="prev"}if(p=="prev"?Z=l>_.first?D(_t(_,l-1).text,null,C):0:p=="add"?Z=B+n.options.indentUnit:p=="subtract"?Z=B-n.options.indentUnit:typeof p=="number"&&(Z=B+p),Z=Math.max(0,Z),p="",c=0,n.options.indentWithTabs)for(n=Math.floor(Z/C);n;--n)c+=C,p+="	";if(c<Z&&(p+=P(Z-c)),p!=j)return Ns(_,p,Fe(l,0),Fe(l,j.length),"+input"),k.stateAfter=null,!0;for(C=0;C<_.sel.ranges.length;C++)if(k=_.sel.ranges[C],k.head.line==l&&k.head.ch<j.length){l=Fe(l,j.length),Ha(_,C,new ir(l,l));break}}function ol(n,l,p,c,_){var E=n.doc;n.display.shift=!1,c||(c=E.sel);var C=+new Date-200,k=_=="paste"||n.state.pasteIncoming>C,B=pa(l),j=null;if(k&&1<c.ranges.length)if(vi&&vi.text.join(`
`)==l){if(c.ranges.length%vi.text.length==0){j=[];for(var Z=0;Z<vi.text.length;Z++)j.push(E.splitLines(vi.text[Z]))}}else B.length==c.ranges.length&&n.options.pasteLinesPerSelection&&(j=Me(B,function(bt){return[bt]}));Z=n.curOp.updateInput;for(var ce=c.ranges.length-1;0<=ce;ce--){var ye=c.ranges[ce],_e=ye.from(),We=ye.to();ye.empty()&&(p&&0<p?_e=Fe(_e.line,_e.ch-p):n.state.overwrite&&!k?We=Fe(We.line,Math.min(_t(E,We.line).text.length,We.ch+oe(B).length)):k&&vi&&vi.lineWise&&vi.text.join(`
`)==B.join(`
`)&&(_e=We=Fe(_e.line,0))),ye={from:_e,to:We,text:j?j[ce%j.length]:B,origin:_||(k?"paste":n.state.cutIncoming>C?"cut":"+input")},Ls(n.doc,ye),zt(n,"inputRead",n,ye)}l&&!k&&au(n,l),Di(n),2>n.curOp.updateInput&&(n.curOp.updateInput=Z),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function ou(n,l){var p=n.clipboardData&&n.clipboardData.getData("Text");if(p)return n.preventDefault(),l.isReadOnly()||l.options.disableInput||yi(l,function(){return ol(l,p,0,null,"paste")}),!0}function au(n,l){if(n.options.electricChars&&n.options.smartIndent)for(var p=n.doc.sel,c=p.ranges.length-1;0<=c;c--){var _=p.ranges[c];if(!(100<_.head.ch||c&&p.ranges[c-1].head.line==_.head.line)){var E=n.getModeAt(_.head),C=!1;if(E.electricChars){for(var k=0;k<E.electricChars.length;k++)if(-1<l.indexOf(E.electricChars.charAt(k))){C=Ps(n,_.head.line,"smart");break}}else E.electricInput&&E.electricInput.test(_t(n.doc,_.head.line).text.slice(0,_.head.ch))&&(C=Ps(n,_.head.line,"smart"));C&&zt(n,"electricInput",n,_.head.line)}}}function lu(n){for(var l=[],p=[],c=0;c<n.doc.sel.ranges.length;c++){var _=n.doc.sel.ranges[c].head.line;_={anchor:Fe(_,0),head:Fe(_+1,0)},p.push(_),l.push(n.getRange(_.anchor,_.head))}return{text:l,ranges:p}}function uu(n,l,p,c){n.setAttribute("autocorrect",p?"":"off"),n.setAttribute("autocapitalize",c?"":"off"),n.setAttribute("spellcheck",!!l)}function fu(){var n=g("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=g("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ni?n.style.width="1000px":n.setAttribute("wrap","off"),bo&&(n.style.border="1px solid black"),uu(n),l}function al(n,l,p,c,_){function E(bt){if(c=="codepoint"){var Lt=B.text.charCodeAt(l.ch+(0<p?0:-1));Lt=isNaN(Lt)?null:new Fe(l.line,Math.max(0,Math.min(B.text.length,l.ch+p*((0<p?55296<=Lt&&56320>Lt:56320<=Lt&&57343>Lt)?2:1))),-p)}else Lt=_?Yl(n.cm,B,l,p):oa(B,l,p);if(Lt==null)if((bt=!bt)&&(bt=l.line+j,bt<n.first||bt>=n.first+n.size?bt=!1:(l=new Fe(bt,l.ch,l.sticky),bt=B=_t(n,bt))),bt)l=qa(_,n.cm,B,l.line,j);else return!1;else l=Lt;return!0}var C=l,k=p,B=_t(n,l.line),j=_&&n.direction=="rtl"?-p:p;if(c=="char"||c=="codepoint")E();else if(c=="column")E(!0);else if(c=="word"||c=="group")for(var Z=null,ce=c=="group",ye=n.cm&&n.cm.getHelper(l,"wordChars"),_e=!0;!(0>p)||E(!_e);_e=!1){var We=B.text.charAt(l.ch)||`
`;if(We=De(We,ye)?"w":ce&&We==`
`?"n":!ce||/\s/.test(We)?null:"p",!ce||_e||We||(We="s"),Z&&Z!=We){0>p&&(p=1,E(),l.sticky="after");break}if(We&&(Z=We),0<p&&!E(!_e))break}return k=po(n,l,C,k,!0),un(C,k)&&(k.hitSide=!0),k}function ll(n,l,p,c){var _=n.doc,E=l.left;if(c=="page"){var C=Math.max(Math.min(n.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Es(n.display),3);C=(0<p?l.bottom:l.top)+p*C}else c=="line"&&(C=0<p?l.bottom+3:l.top-3);for(;l=ka(n,E,C),!!l.outside;){if(0>p?0>=C:C>=_.height){l.hitSide=!0;break}C+=5*p}return l}function ul(n,l){var p=Yi(n,l.line);if(!p||p.hidden)return null;var c=_t(n.doc,l.line);return p=Ur(p,c,l.line),n=Y(c,n.doc.direction),c="left",n&&(c=Se(n,l.ch)%2?"right":"left"),l=xl(p.map,l.ch,c),l.offset=l.collapse=="right"?l.end:l.start,l}function Tu(n){for(;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}function Ds(n,l){return l&&(n.bad=!0),n}function fl(n,l,p,c,_){function E(_e){return function(We){return We.id==_e}}function C(){Z&&(j+=ce,ye&&(j+=ce),Z=ye=!1)}function k(_e){_e&&(C(),j+=_e)}function B(_e){if(_e.nodeType==1){var We=_e.getAttribute("cm-text");if(We)k(We);else{We=_e.getAttribute("cm-marker");var bt;if(We)_e=n.findMarks(Fe(c,0),Fe(_+1,0),E(+We)),_e.length&&(bt=_e[0].find(0))&&k(rr(n.doc,bt.from,bt.to).join(ce));else if(_e.getAttribute("contenteditable")!="false"&&(bt=/^(pre|div|p|li|table|br)$/i.test(_e.nodeName),/^br$/i.test(_e.nodeName)||_e.textContent.length!=0)){for(bt&&C(),We=0;We<_e.childNodes.length;We++)B(_e.childNodes[We]);/^(pre|p)$/i.test(_e.nodeName)&&(ye=!0),bt&&(Z=!0)}}}else _e.nodeType==3&&k(_e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var j="",Z=!1,ce=n.doc.lineSeparator(),ye=!1;B(l),l!=p;)l=l.nextSibling,ye=!1;return j}function us(n,l,p){if(l==n.display.lineDiv){var c=n.display.lineDiv.childNodes[p];if(!c)return Ds(n.clipPos(Fe(n.display.viewTo-1)),!0);l=null,p=0}else for(c=l;;c=c.parentNode){if(!c||c==n.display.lineDiv)return null;if(c.parentNode&&c.parentNode==n.display.lineDiv)break}for(var _=0;_<n.display.view.length;_++){var E=n.display.view[_];if(E.node==c)return xu(E,l,p)}}function xu(n,l,p){function c(Z,ce,ye){for(var _e=-1;_e<(j?j.length:0);_e++)for(var We=0>_e?B.map:j[_e],bt=0;bt<We.length;bt+=3){var Lt=We[bt+2];if(Lt==Z||Lt==ce)return ce=Ft(0>_e?n.line:n.rest[_e]),_e=We[bt]+ye,(0>ye||Lt!=Z)&&(_e=We[bt+(ye?1:0)]),Fe(ce,_e)}}var _=n.text.firstChild,E=!1;if(!l||!S(_,l))return Ds(Fe(Ft(n.line),0),!0);if(l==_&&(E=!0,l=_.childNodes[p],p=0,!l))return p=n.rest?oe(n.rest):n.line,Ds(Fe(Ft(p),p.text.length),E);var C=l.nodeType==3?l:null,k=l;for(C||l.childNodes.length!=1||l.firstChild.nodeType!=3||(C=l.firstChild,p&&(p=C.nodeValue.length));k.parentNode!=_;)k=k.parentNode;var B=n.measure,j=B.maps;if(l=c(C,k,p))return Ds(l,E);for(_=k.nextSibling,C=C?C.nodeValue.length-p:0;_;_=_.nextSibling){if(l=c(_,_.firstChild,0))return Ds(Fe(l.line,l.ch-C),E);C+=_.textContent.length}for(k=k.previousSibling;k;k=k.previousSibling){if(l=c(k,k.firstChild,-1))return Ds(Fe(l.line,l.ch+p),E);p+=k.textContent.length}}var fi=navigator.userAgent,cu=navigator.platform,mn=/gecko\/\d/i.test(fi),hu=/MSIE \d/.test(fi),cl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fi),aa=/Edge\/(\d+)/.exec(fi),lr=hu||cl||aa,xr=lr&&(hu?document.documentMode||6:+(aa||cl)[1]),ni=!aa&&/WebKit\//.test(fi),Cu=ni&&/Qt\/\d+\.\d+/.test(fi),yn=!aa&&/Chrome\//.test(fi),ji=/Opera\//.test(fi),la=/Apple Computer/.test(navigator.vendor),pu=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fi),hl=/PhantomJS/.test(fi),bo=la&&(/Mobile\/\w+/.test(fi)||2<navigator.maxTouchPoints),Eo=/Android/.test(fi),So=bo||Eo||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fi),Li=bo||/Mac/.test(cu),Mu=/\bCrOS\b/.test(fi),Au=/win/i.test(cu),fs=ji&&fi.match(/Version\/(\d*\.\d*)/);fs&&(fs=Number(fs[1])),fs&&15<=fs&&(ji=!1,ni=!0);var Fs=Li&&(Cu||ji&&(fs==null||12.11>fs)),pl=mn||lr&&9<=xr,tn=function(n,l){var p=n.className;if(l=o(l).exec(p)){var c=p.slice(l.index+l[0].length);n.className=p.slice(0,l.index)+(c?l[1]+c:"")}},To=document.createRange?function(n,l,p,c){var _=document.createRange();return _.setEnd(c||n,p),_.setStart(n,l),_}:function(n,l,p){var c=document.body.createTextRange();try{c.moveToElementText(n.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",p),c.moveStart("character",l),c},rn=function(n){n.select()};bo?rn=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:lr&&(rn=function(n){try{n.select()}catch{}});var Si=function(){this.f=this.id=null,this.time=0,this.handler=M(this.onTimeout,this)};Si.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},Si.prototype.set=function(n,l){this.f=l,l=+new Date+n,(!this.id||l<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=l)};var ua={toString:function(){return"CodeMirror.Pass"}},ci={scroll:!1},fa={origin:"*mouse"},nn={origin:"+move"},Js=[""],dl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ml=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,cs=null,yl=function(){function n(C,k,B){this.level=C,this.from=k,this.to=B}var l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,p=/[stwN]/,c=/[LRr]/,_=/[Lb1n]/,E=/[1n]/;return function(C,k){var B=k=="ltr"?"L":"R";if(C.length==0||k=="ltr"&&!l.test(C))return!1;for(var j=C.length,Z=[],ce=0;ce<j;++ce){var ye=Z,_e=ye.push,We=C.charCodeAt(ce);We=247>=We?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(We):1424<=We&&1524>=We?"R":1536<=We&&1785>=We?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(We-1536):1774<=We&&2220>=We?"r":8192<=We&&8203>=We?"w":We==8204?"b":"L",_e.call(ye,We)}for(ce=0,ye=B;ce<j;++ce)_e=Z[ce],_e=="m"?Z[ce]=ye:ye=_e;for(ce=0,ye=B;ce<j;++ce)_e=Z[ce],_e=="1"&&ye=="r"?Z[ce]="n":c.test(_e)&&(ye=_e,_e=="r"&&(Z[ce]="R"));for(ce=1,ye=Z[0];ce<j-1;++ce)_e=Z[ce],_e=="+"&&ye=="1"&&Z[ce+1]=="1"?Z[ce]="1":_e!=","||ye!=Z[ce+1]||ye!="1"&&ye!="n"||(Z[ce]=ye),ye=_e;for(ce=0;ce<j;++ce)if(ye=Z[ce],ye==",")Z[ce]="N";else if(ye=="%"){for(ye=ce+1;ye<j&&Z[ye]=="%";++ye);for(_e=ce&&Z[ce-1]=="!"||ye<j&&Z[ye]=="1"?"1":"N";ce<ye;++ce)Z[ce]=_e;ce=ye-1}for(ce=0,ye=B;ce<j;++ce)_e=Z[ce],ye=="L"&&_e=="1"?Z[ce]="L":c.test(_e)&&(ye=_e);for(ye=0;ye<j;++ye)if(p.test(Z[ye])){for(ce=ye+1;ce<j&&p.test(Z[ce]);++ce);for(_e=(ye?Z[ye-1]:B)=="L",_e=_e==((ce<j?Z[ce]:B)=="L")?_e?"L":"R":B;ye<ce;++ye)Z[ye]=_e;ye=ce-1}B=[];var bt;for(ce=0;ce<j;)if(_.test(Z[ce])){for(ye=ce,++ce;ce<j&&_.test(Z[ce]);++ce);B.push(new n(0,ye,ce))}else{var Lt=ce;for(ye=B.length,_e=k=="rtl"?1:0,++ce;ce<j&&Z[ce]!="L";++ce);for(We=Lt;We<ce;)if(E.test(Z[We])){for(Lt<We&&(B.splice(ye,0,new n(1,Lt,We)),ye+=_e),Lt=We,++We;We<ce&&E.test(Z[We]);++We);B.splice(ye,0,new n(2,Lt,We)),ye+=_e,Lt=We}else++We;Lt<ce&&B.splice(ye,0,new n(1,Lt,ce))}return k=="ltr"&&(B[0].level==1&&(bt=C.match(/^\s+/))&&(B[0].from=bt[0].length,B.unshift(new n(0,0,bt[0].length))),oe(B).level==1&&(bt=C.match(/\s+$/))&&(oe(B).to-=bt[0].length,B.push(new n(0,j-bt[0].length,j)))),k=="rtl"?B.reverse():B}}(),hs=[],It=function(n,l,p){n.addEventListener?n.addEventListener(l,p,!1):n.attachEvent?n.attachEvent("on"+l,p):(n=n._handlers||(n._handlers={}),n[l]=(n[l]||hs).concat(p))},du=function(){if(lr&&9>xr)return!1;var n=g("div");return"draggable"in n||"dragDrop"in n}(),ca,ha,pa=`

b`.split(/\n/).length!=3?function(n){for(var l=0,p=[],c=n.length;l<=c;){var _=n.indexOf(`
`,l);_==-1&&(_=n.length);var E=n.slice(l,n.charAt(_-1)=="\r"?_-1:_),C=E.indexOf("\r");C!=-1?(p.push(E.slice(0,C)),l+=C+1):(p.push(E),l=_+1)}return p}:function(n){return n.split(/\r\n?|\n/)},gl=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){try{var l=n.ownerDocument.selection.createRange()}catch{}return l&&l.parentElement()==n?l.compareEndPoints("StartToEnd",l)!=0:!1},vl=function(){var n=g("div");return"oncopy"in n?!0:(n.setAttribute("oncopy","return;"),typeof n.oncopy=="function")}(),da=null,ma={},ps={},ds={},Rr=function(n,l,p){this.pos=this.start=0,this.string=n,this.tabSize=l||8,this.lineStart=this.lastColumnPos=this.lastColumnValue=0,this.lineOracle=p};Rr.prototype.eol=function(){return this.pos>=this.string.length},Rr.prototype.sol=function(){return this.pos==this.lineStart},Rr.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Rr.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Rr.prototype.eat=function(n){var l=this.string.charAt(this.pos);if(typeof n=="string"?l==n:l&&(n.test?n.test(l):n(l)))return++this.pos,l},Rr.prototype.eatWhile=function(n){for(var l=this.pos;this.eat(n););return this.pos>l},Rr.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},Rr.prototype.skipToEnd=function(){this.pos=this.string.length},Rr.prototype.skipTo=function(n){if(n=this.string.indexOf(n,this.pos),-1<n)return this.pos=n,!0},Rr.prototype.backUp=function(n){this.pos-=n},Rr.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=D(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?D(this.string,this.lineStart,this.tabSize):0)},Rr.prototype.indentation=function(){return D(this.string,null,this.tabSize)-(this.lineStart?D(this.string,this.lineStart,this.tabSize):0)},Rr.prototype.match=function(n,l,p){if(typeof n=="string"){var c=function(E){return p?E.toLowerCase():E},_=this.string.substr(this.pos,n.length);if(c(_)==c(n))return l!==!1&&(this.pos+=n.length),!0}else return(n=this.string.slice(this.pos).match(n))&&0<n.index?null:(n&&l!==!1&&(this.pos+=n[0].length),n)},Rr.prototype.current=function(){return this.string.slice(this.start,this.pos)},Rr.prototype.hideFirstChars=function(n,l){this.lineStart+=n;try{return l()}finally{this.lineStart-=n}},Rr.prototype.lookAhead=function(n){var l=this.lineOracle;return l&&l.lookAhead(n)},Rr.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};var xo=function(n,l){this.state=n,this.lookAhead=l},Gi=function(n,l,p,c){this.state=l,this.doc=n,this.line=p,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};Gi.prototype.lookAhead=function(n){var l=this.doc.getLine(this.line+n);return l!=null&&n>this.maxLookAhead&&(this.maxLookAhead=n),l},Gi.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},Gi.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Gi.fromSaved=function(n,l,p){return l instanceof xo?new Gi(n,Hr(n.mode,l.state),p,l.lookAhead):new Gi(n,Hr(n.mode,l),p)},Gi.prototype.save=function(n){return n=n!==!1?Hr(this.doc.mode,this.state):this.state,0<this.maxLookAhead?new xo(n,this.maxLookAhead):n};var ya=function(n,l,p){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=l||null,this.state=p},ga=!1,sn=!1,Nn=function(n,l,p){this.text=n,qr(this,l),this.height=p?p(this):1};Nn.prototype.lineNo=function(){return Ft(this)},qe(Nn);var mu={},yu={},In=null,Gs=null,_l={left:0,right:0,top:0,bottom:0},gn,vn=function(n,l,p){this.cm=p;var c=this.vert=g("div",[g("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),_=this.horiz=g("div",[g("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=_.tabIndex=-1,n(c),n(_),It(c,"scroll",function(){c.clientHeight&&l(c.scrollTop,"vertical")}),It(_,"scroll",function(){_.clientWidth&&l(_.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,lr&&8>xr&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vn.prototype.update=function(n){var l=n.scrollWidth>n.clientWidth+1,p=n.scrollHeight>n.clientHeight+1,c=n.nativeBarWidth;return p?(this.vert.style.display="block",this.vert.style.bottom=l?c+"px":"0",this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+(n.viewHeight-(l?c:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),l?(this.horiz.style.display="block",this.horiz.style.right=p?c+"px":"0",this.horiz.style.left=n.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+(n.viewWidth-n.barLeft-(p?c:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&0<n.clientHeight&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?c:0,bottom:l?c:0}},vn.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vn.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vn.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Li&&!pu?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Si,this.disableVert=new Si},vn.prototype.enableZeroWidthBar=function(n,l,p){function c(){var _=n.getBoundingClientRect();(p=="vert"?document.elementFromPoint(_.right-1,(_.top+_.bottom)/2):document.elementFromPoint((_.right+_.left)/2,_.bottom-1))!=n?n.style.pointerEvents="none":l.set(1e3,c)}n.style.pointerEvents="auto",l.set(1e3,c)},vn.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var _n=function(){};_n.prototype.update=function(){return{bottom:0,right:0}},_n.prototype.setScrollLeft=function(){},_n.prototype.setScrollTop=function(){},_n.prototype.clear=function(){};var wl={native:vn,null:_n},va=0,Ni=function(n,l,p){var c=n.display;this.viewport=l,this.visible=Go(c,n.doc,l),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=Pt(n),this.force=p,this.dims=Na(n),this.events=[]};Ni.prototype.signal=function(n,l){Ue(n,l)&&this.events.push(arguments)},Ni.prototype.finish=function(){for(var n=0;n<this.events.length;n++)G.apply(null,this.events[n])};var Bn=0,hi=null;lr?hi=-.53:mn?hi=15:yn?hi=-.7:la&&(hi=-1/3);var ei=function(n,l){this.ranges=n,this.primIndex=l};ei.prototype.primary=function(){return this.ranges[this.primIndex]},ei.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var p=this.ranges[l],c=n.ranges[l];if(!un(p.anchor,c.anchor)||!un(p.head,c.head))return!1}return!0},ei.prototype.deepCopy=function(){for(var n=[],l=0;l<this.ranges.length;l++)n[l]=new ir(Qr(this.ranges[l].anchor),Qr(this.ranges[l].head));return new ei(n,this.primIndex)},ei.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},ei.prototype.contains=function(n,l){l||(l=n);for(var p=0;p<this.ranges.length;p++){var c=this.ranges[p];if(0<=K(l,c.from())&&0>=K(n,c.to()))return p}return-1};var ir=function(n,l){this.anchor=n,this.head=l};ir.prototype.from=function(){return z(this.anchor,this.head)},ir.prototype.to=function(){return zi(this.anchor,this.head)},ir.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ii.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,l){for(var p=n,c=n+l;p<c;++p){var _=this.lines[p];this.height-=_.height;var E=_;E.parent=null,Hi(E),zt(_,"delete")}this.lines.splice(n,l)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,l,p){for(this.height+=p,this.lines=this.lines.slice(0,n).concat(l).concat(this.lines.slice(n)),n=0;n<l.length;++n)l[n].parent=this},iterN:function(n,l,p){for(l=n+l;n<l;++n)if(p(this.lines[n]))return!0}},en.prototype={chunkSize:function(){return this.size},removeInner:function(n,l){this.size-=l;for(var p=0;p<this.children.length;++p){var c=this.children[p],_=c.chunkSize();if(n<_){var E=Math.min(l,_-n),C=c.height;if(c.removeInner(n,E),this.height-=C-c.height,_==E&&(this.children.splice(p--,1),c.parent=null),(l-=E)==0)break;n=0}else n-=_}25>this.size-l&&(1<this.children.length||!(this.children[0]instanceof ii))&&(n=[],this.collapse(n),this.children=[new ii(n)],this.children[0].parent=this)},collapse:function(n){for(var l=0;l<this.children.length;++l)this.children[l].collapse(n)},insertInner:function(n,l,p){this.size+=l.length,this.height+=p;for(var c=0;c<this.children.length;++c){var _=this.children[c],E=_.chunkSize();if(n<=E){if(_.insertInner(n,l,p),_.lines&&50<_.lines.length){for(l=n=_.lines.length%25+25;l<_.lines.length;)p=new ii(_.lines.slice(l,l+=25)),_.height-=p.height,this.children.splice(++c,0,p),p.parent=this;_.lines=_.lines.slice(0,n),this.maybeSpill()}break}n-=E}},maybeSpill:function(){if(!(10>=this.children.length)){var n=this;do{var l=n.children.splice(n.children.length-5,5);if(l=new en(l),n.parent){n.size-=l.size,n.height-=l.height;var p=U(n.parent.children,n);n.parent.children.splice(p+1,0,l)}else p=new en(n.children),p.parent=n,n.children=[p,l],n=p;l.parent=n.parent}while(10<n.children.length);n.parent.maybeSpill()}},iterN:function(n,l,p){for(var c=0;c<this.children.length;++c){var _=this.children[c],E=_.chunkSize();if(n<E){if(E=Math.min(l,E-n),_.iterN(n,E,p))return!0;if((l-=E)==0)break;n=0}else n-=E}}};var Ki=function(n,l,p){if(p)for(var c in p)p.hasOwnProperty(c)&&(this[c]=p[c]);this.doc=n,this.node=l};Ki.prototype.clear=function(){var n=this.doc.cm,l=this.line.widgets,p=this.line,c=Ft(p);if(c!=null&&l){for(var _=0;_<l.length;++_)l[_]==this&&l.splice(_--,1);l.length||(p.widgets=null);var E=Vn(this);jr(p,Math.max(0,p.height-E)),n&&(yi(n,function(){var C=-E;di(p)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&Ko(n,C),Cn(n,c,"widget")}),zt(n,"lineWidgetCleared",n,this,c))}},Ki.prototype.changed=function(){var n=this,l=this.height,p=this.doc.cm,c=this.line;this.height=null;var _=Vn(this)-l;_&&(Qi(this.doc,c)||jr(c,c.height+_),p&&yi(p,function(){p.curOp.forceUpdate=!0,di(c)<(p.curOp&&p.curOp.scrollTop||p.doc.scrollTop)&&Ko(p,_),zt(p,"lineWidgetChanged",p,n,Ft(c))}))},qe(Ki);var Un=0,gi=function(n,l){this.lines=[],this.type=l,this.doc=n,this.id=++Un};gi.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,l=n&&!n.curOp;if(l&&Xn(n),Ue(this,"clear")){var p=this.find();p&&zt(this,"clear",p.from,p.to)}for(var c=p=null,_=0;_<this.lines.length;++_){var E=this.lines[_],C=ki(E.markedSpans,this);n&&!this.collapsed?Cn(n,Ft(E),"text"):n&&(C.to!=null&&(c=Ft(E)),C.from!=null&&(p=Ft(E)));for(var k=E,B=void 0,j=E.markedSpans,Z=C,ce=0;ce<j.length;++ce)j[ce]!=Z&&(B||(B=[])).push(j[ce]);k.markedSpans=B,C.from==null&&this.collapsed&&!Qi(this.doc,E)&&n&&jr(E,Es(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(_=0;_<this.lines.length;++_)E=li(this.lines[_]),C=Kn(E),C>n.display.maxLineLength&&(n.display.maxLine=E,n.display.maxLineLength=C,n.display.maxLineChanged=!0);p!=null&&n&&this.collapsed&&ui(n,p,c+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&Bl(n.doc)),n&&zt(n,"markerCleared",n,this,p,c),l&&Zn(n),this.parent&&this.parent.clear()}},gi.prototype.find=function(n,l){n==null&&this.type=="bookmark"&&(n=1);for(var p,c,_=0;_<this.lines.length;++_){var E=this.lines[_],C=ki(E.markedSpans,this);if(C.from!=null&&(p=Fe(l?E:Ft(E),C.from),n==-1))return p;if(C.to!=null&&(c=Fe(l?E:Ft(E),C.to),n==1))return c}return p&&{from:p,to:c}},gi.prototype.changed=function(){var n=this,l=this.find(-1,!0),p=this,c=this.doc.cm;l&&c&&yi(c,function(){var _=l.line,E=Ft(l.line);(E=Yi(c,E))&&(ws(E),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,Qi(p.doc,_)||p.height==null||(E=p.height,p.height=null,(E=Vn(p)-E)&&jr(_,_.height+E)),zt(c,"markerChanged",c,n)})},gi.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;l.maybeHiddenMarkers&&U(l.maybeHiddenMarkers,this)!=-1||(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},gi.prototype.detachLine=function(n){this.lines.splice(U(this.lines,n),1),!this.lines.length&&this.doc.cm&&(n=this.doc.cm.curOp,(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this))},qe(gi);var Pn=function(n,l){for(this.markers=n,this.primary=l,l=0;l<n.length;++l)n[l].parent=this};Pn.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();zt(this,"clear")}},Pn.prototype.find=function(n,l){return this.primary.find(n,l)},qe(Pn);var _a=0,Kr=function(n,l,p,c,_){if(!(this instanceof Kr))return new Kr(n,l,p,c,_);p==null&&(p=0),en.call(this,[new ii([new Nn("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p,p=Fe(p,0),this.sel=hn(p),this.history=new co(null),this.id=++_a,this.modeOption=l,this.lineSep=c,this.direction=_=="rtl"?"rtl":"ltr",this.extend=!1,typeof n=="string"&&(n=this.splitLines(n)),fo(this,{from:p,to:p,text:n}),Yr(this,hn(p),ci)};Kr.prototype=xe(en.prototype,{constructor:Kr,iter:function(n,l,p){p?this.iterN(n-this.first,l-n,p):this.iterN(this.first,this.first+this.size,n)},insert:function(n,l){for(var p=0,c=0;c<l.length;++c)p+=l[c].height;this.insertInner(n-this.first,l,p)},remove:function(n,l){this.removeInner(n-this.first,l)},getValue:function(n){var l=Mi(this,this.first,this.first+this.size);return n===!1?l:l.join(n||this.lineSeparator())},setValue:Gr(function(n){var l=Fe(this.first,0),p=this.first+this.size-1;Ls(this,{from:l,to:Fe(p,_t(this,p).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&no(this.cm,0,0),Yr(this,hn(l),ci)}),replaceRange:function(n,l,p,c){l=L(this,l),p=p?L(this,p):l,Ns(this,n,l,p,c)},getRange:function(n,l,p){return n=rr(this,L(this,n),L(this,l)),p===!1?n:p===""?n.join(""):n.join(p||this.lineSeparator())},getLine:function(n){return(n=this.getLineHandle(n))&&n.text},getLineHandle:function(n){if(pi(this,n))return _t(this,n)},getLineNumber:function(n){return Ft(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=_t(this,n)),li(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return L(this,n)},getCursor:function(n){var l=this.sel.primary();return n==null||n=="head"?l.head:n=="anchor"?l.anchor:n=="end"||n=="to"||n===!1?l.to():l.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Gr(function(n,l,p){n=L(this,typeof n=="number"?Fe(n,l||0):n),Yr(this,hn(n,null),p)}),setSelection:Gr(function(n,l,p){var c=L(this,n);n=L(this,l||n),Yr(this,hn(c,n),p)}),extendSelection:Gr(function(n,l,p){qo(this,L(this,n),l&&L(this,l),p)}),extendSelections:Gr(function(n,l){Nl(this,I(this,n),l)}),extendSelectionsBy:Gr(function(n,l){n=Me(this.sel.ranges,n),Nl(this,I(this,n),l)}),setSelections:Gr(function(n,l,p){if(n.length){for(var c=[],_=0;_<n.length;_++)c[_]=new ir(L(this,n[_].anchor),L(this,n[_].head||n[_].anchor));l==null&&(l=Math.min(n.length-1,this.sel.primIndex)),Yr(this,Fi(this.cm,c,l),p)}}),addSelection:Gr(function(n,l,p){var c=this.sel.ranges.slice(0);c.push(new ir(L(this,n),L(this,l||n))),Yr(this,Fi(this.cm,c,c.length-1),p)}),getSelection:function(n){for(var l=this.sel.ranges,p,c=0;c<l.length;c++){var _=rr(this,l[c].from(),l[c].to());p=p?p.concat(_):_}return n===!1?p:p.join(n||this.lineSeparator())},getSelections:function(n){for(var l=[],p=this.sel.ranges,c=0;c<p.length;c++){var _=rr(this,p[c].from(),p[c].to());n!==!1&&(_=_.join(n||this.lineSeparator())),l[c]=_}return l},replaceSelection:function(n,l,p){for(var c=[],_=0;_<this.sel.ranges.length;_++)c[_]=n;this.replaceSelections(c,l,p||"+input")},replaceSelections:Gr(function(n,l,p){for(var c=[],_=this.sel,E=0;E<_.ranges.length;E++){var C=_.ranges[E];c[E]={from:C.from(),to:C.to(),text:this.splitLines(n[E]),origin:p}}if(n=l&&l!="end"){for(n=[],_=p=Fe(this.first,0),E=0;E<c.length;E++){var k=c[E];C=Qo(k.from,p,_);var B=Qo(Zi(k),p,_);p=k.to,_=B,l=="around"?(k=this.sel.ranges[E],k=0>K(k.head,k.anchor),n[E]=new ir(k?B:C,k?C:B)):n[E]=new ir(C,C)}n=new ei(n,this.sel.primIndex)}for(l=n,n=c.length-1;0<=n;n--)Ls(this,c[n]);l?Il(this,l):this.cm&&Di(this.cm)}),undo:Gr(function(){na(this,"undo")}),redo:Gr(function(){na(this,"redo")}),undoSelection:Gr(function(){na(this,"undo",!0)}),redoSelection:Gr(function(){na(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,l=0,p=0,c=0;c<n.done.length;c++)n.done[c].ranges||++l;for(c=0;c<n.undone.length;c++)n.undone[c].ranges||++p;return{undo:l,redo:p}},clearHistory:function(){var n=this;this.history=new co(this.history),qi(this,function(l){return l.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:Rn(this.history.done),undone:Rn(this.history.undone)}},setHistory:function(n){var l=this.history=new co(this.history);l.done=Rn(n.done.slice(0),null,!0),l.undone=Rn(n.undone.slice(0),null,!0)},setGutterMarker:Gr(function(n,l,p){return On(this,n,"gutter",function(c){var _=c.gutterMarkers||(c.gutterMarkers={});return _[l]=p,!p&&et(_)&&(c.gutterMarkers=null),!0})}),clearGutter:Gr(function(n){var l=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[n]&&On(l,p,"gutter",function(){return p.gutterMarkers[n]=null,et(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(n){if(typeof n=="number"){if(!pi(this,n))return null;var l=n;if(n=_t(this,n),!n)return null}else if(l=Ft(n),l==null)return null;return{line:l,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:Gr(function(n,l,p){return On(this,n,l=="gutter"?"gutter":"class",function(c){var _=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(c[_]){if(o(p).test(c[_]))return!1;c[_]+=" "+p}else c[_]=p;return!0})}),removeLineClass:Gr(function(n,l,p){return On(this,n,l=="gutter"?"gutter":"class",function(c){var _=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",E=c[_];if(E)if(p==null)c[_]=null;else{var C=E.match(o(p));if(!C)return!1;var k=C.index+C[0].length;c[_]=E.slice(0,C.index)+(C.index&&k!=E.length?" ":"")+E.slice(k)||null}else return!1;return!0})}),addLineWidget:Gr(function(n,l,p){return Jl(this,n,l,p)}),removeLineWidget:function(n){n.clear()},markText:function(n,l,p){return ns(this,L(this,n),L(this,l),p,p&&p.type||"range")},setBookmark:function(n,l){return l={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents},n=L(this,n),ns(this,n,n,l,"bookmark")},findMarksAt:function(n){n=L(this,n);var l=[],p=_t(this,n.line).markedSpans;if(p)for(var c=0;c<p.length;++c){var _=p[c];(_.from==null||_.from<=n.ch)&&(_.to==null||_.to>=n.ch)&&l.push(_.marker.parent||_.marker)}return l},findMarks:function(n,l,p){n=L(this,n),l=L(this,l);var c=[],_=n.line;return this.iter(n.line,l.line+1,function(E){if(E=E.markedSpans)for(var C=0;C<E.length;C++){var k=E[C];k.to!=null&&_==n.line&&n.ch>=k.to||k.from==null&&_!=n.line||k.from!=null&&_==l.line&&k.from>=l.ch||p&&!p(k.marker)||c.push(k.marker.parent||k.marker)}++_}),c},getAllMarks:function(){var n=[];return this.iter(function(l){if(l=l.markedSpans)for(var p=0;p<l.length;++p)l[p].from!=null&&n.push(l[p].marker)}),n},posFromIndex:function(n){var l,p=this.first,c=this.lineSeparator().length;return this.iter(function(_){if(_=_.text.length+c,_>n)return l=n,!0;n-=_,++p}),L(this,Fe(p,l))},indexFromPos:function(n){n=L(this,n);var l=n.ch;if(n.line<this.first||0>n.ch)return 0;var p=this.lineSeparator().length;return this.iter(this.first,n.line,function(c){l+=c.text.length+p}),l},copy:function(n){var l=new Kr(Mi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,n&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(n){n||(n={});var l=this.first,p=this.first+this.size;for(n.from!=null&&n.from>l&&(l=n.from),n.to!=null&&n.to<p&&(p=n.to),l=new Kr(Mi(this,l,p),n.mode||this.modeOption,l,this.lineSep,this.direction),n.sharedHist&&(l.history=this.history),(this.linked||(this.linked=[])).push({doc:l,sharedHist:n.sharedHist}),l.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],n=Xa(this),p=0;p<n.length;p++){var c=n[p],_=c.find(),E=l.clipPos(_.from);_=l.clipPos(_.to),K(E,_)&&(E=ns(l,E,_,c.primary,c.primary.type),c.markers.push(E),E.parent=c)}return l},unlinkDoc:function(n){if(n instanceof Tr&&(n=n.doc),this.linked){for(var l=0;l<this.linked.length;++l)if(this.linked[l].doc==n){this.linked.splice(l,1),n.unlinkDoc(this),Gl(Xa(this));break}}if(n.history==this.history){var p=[n.id];qi(n,function(c){return p.push(c.id)},!0),n.history=new co(null),n.history.done=Rn(this.history.done,p),n.history.undone=Rn(this.history.undone,p)}},iterLinkedDocs:function(n){qi(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):pa(n)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Gr(function(n){n!="rtl"&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(l){return l.order=null}),this.cm&&Ll(this.cm))})}),Kr.prototype.eachLine=Kr.prototype.iter;for(var wa=0,ba=!1,Ti={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},an=0;10>an;an++)Ti[an+48]=Ti[an+96]=String(an);for(var Ea=65;90>=Ea;Ea++)Ti[Ea]=String.fromCharCode(Ea);for(var Co=1;12>=Co;Co++)Ti[Co+111]=Ti[Co+63235]="F"+Co;var Ks={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Ks.default=Li?Ks.macDefault:Ks.pcDefault;var Ws={selectAll:Ul,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),ci)},killLine:function(n){return Bs(n,function(l){if(l.empty()){var p=_t(n.doc,l.head.line).text.length;return l.head.ch==p&&l.head.line<n.lastLine()?{from:l.head,to:Fe(l.head.line+1,0)}:{from:l.head,to:Fe(l.head.line,p)}}return{from:l.from(),to:l.to()}})},deleteLine:function(n){return Bs(n,function(l){return{from:Fe(l.from().line,0),to:L(n.doc,Fe(l.to().line+1,0))}})},delLineLeft:function(n){return Bs(n,function(l){return{from:Fe(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(n){return Bs(n,function(l){var p=n.charCoords(l.head,"div").top+5;return{from:n.coordsChar({left:0,top:p},"div"),to:l.from()}})},delWrappedLineRight:function(n){return Bs(n,function(l){var p=n.charCoords(l.head,"div").top+5;return p=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:p},"div"),{from:l.from(),to:p}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(Fe(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(Fe(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(l){return el(n,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(l){return Xl(n,l.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(l){l=l.head.line;for(var p=_t(n.doc,l),c=p,_;_=Bi(c,!1);)c=_.find(1,!0).line;return c!=p&&(l=Ft(c)),qa(!0,n,p,l,-1)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(l){return l=n.cursorCoords(l.head,"div").top+5,n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:l},"div")},nn)},goLineLeft:function(n){return n.extendSelectionsBy(function(l){return l=n.cursorCoords(l.head,"div").top+5,n.coordsChar({left:0,top:l},"div")},nn)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(l){var p=n.cursorCoords(l.head,"div").top+5;return p=n.coordsChar({left:0,top:p},"div"),p.ch<n.getLine(p.line).search(/\S/)?Xl(n,l.head):p},nn)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("	")},insertSoftTab:function(n){for(var l=[],p=n.listSelections(),c=n.options.tabSize,_=0;_<p.length;_++){var E=p[_].from();E=D(n.getLine(E.line),E.ch,c),l.push(P(c-E%c))}n.replaceSelections(l)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return yi(n,function(){for(var l=n.listSelections(),p=[],c=0;c<l.length;c++)if(l[c].empty()){var _=l[c].head,E=_t(n.doc,_.line).text;if(E){if(_.ch==E.length&&(_=new Fe(_.line,_.ch-1)),0<_.ch)_=new Fe(_.line,_.ch+1),n.replaceRange(E.charAt(_.ch-1)+E.charAt(_.ch-2),Fe(_.line,_.ch-2),_,"+transpose");else if(_.line>n.doc.first){var C=_t(n.doc,_.line-1).text;C&&(_=new Fe(_.line,1),n.replaceRange(E.charAt(0)+n.doc.lineSeparator()+C.charAt(C.length-1),Fe(_.line-1,C.length-1),_,"+transpose"))}}p.push(new ir(_,_))}n.setSelections(p)})},newlineAndIndent:function(n){return yi(n,function(){for(var l=n.listSelections(),p=l.length-1;0<=p;p--)n.replaceRange(n.doc.lineSeparator(),l[p].anchor,l[p].head,"+input");for(l=n.listSelections(),p=0;p<l.length;p++)n.indentLine(l[p].from().line,null,!0);Di(n)})},openLine:function(n){return n.replaceSelection(`
`,"start")},toggleOverwrite:function(n){return n.toggleOverwrite()}},gu=new Si,bl=null,Dn=function(n,l,p){this.time=n,this.pos=l,this.button=p};Dn.prototype.compare=function(n,l,p){return this.time+400>n&&K(l,this.pos)==0&&p==this.button};var Mo,Ao,zs={toString:function(){return"CodeMirror.Init"}},El={},Sa={};Tr.defaults=El,Tr.optionHandlers=Sa;var Sl=[];Tr.defineInitHook=function(n){return Sl.push(n)};var vi=null,wr=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Si,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};wr.prototype.init=function(n){function l(k){for(k=k.target;k;k=k.parentNode){if(k==C)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(k.className))break}return!1}function p(k){if(l(k)&&!H(E,k)){if(E.somethingSelected())vi={lineWise:!1,text:E.getSelections()},k.type=="cut"&&E.replaceSelection("",null,"cut");else if(E.options.lineWiseCopyCut){var B=lu(E);vi={lineWise:!0,text:B.text},k.type=="cut"&&E.operation(function(){E.setSelections(B.ranges,0,ci),E.replaceSelection("",null,"cut")})}else return;if(k.clipboardData){k.clipboardData.clearData();var j=vi.text.join(`
`);if(k.clipboardData.setData("Text",j),k.clipboardData.getData("Text")==j){k.preventDefault();return}}var Z=fu();k=Z.firstChild,E.display.lineSpace.insertBefore(Z,E.display.lineSpace.firstChild),k.value=vi.text.join(`
`);var ce=T();rn(k),setTimeout(function(){E.display.lineSpace.removeChild(Z),ce.focus(),ce==C&&_.showPrimarySelection()},50)}}var c=this,_=this,E=_.cm,C=_.div=n.lineDiv;C.contentEditable=!0,uu(C,E.options.spellcheck,E.options.autocorrect,E.options.autocapitalize),It(C,"paste",function(k){!l(k)||H(E,k)||ou(k,E)||11>=xr&&setTimeout(Pr(E,function(){return c.updateFromDOM()}),20)}),It(C,"compositionstart",function(k){c.composing={data:k.data,done:!1}}),It(C,"compositionupdate",function(k){c.composing||(c.composing={data:k.data,done:!1})}),It(C,"compositionend",function(k){c.composing&&(k.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),It(C,"touchstart",function(){return _.forceCompositionEnd()}),It(C,"input",function(){c.composing||c.readFromDOMSoon()}),It(C,"copy",p),It(C,"cut",p)},wr.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},wr.prototype.prepareSelection=function(){var n=kl(this.cm,!1);return n.focus=T()==this.div,n},wr.prototype.showSelection=function(n,l){n&&this.cm.display.view.length&&((n.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(n))},wr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},wr.prototype.showPrimarySelection=function(){var n=this.getSelection(),l=this.cm,p=l.doc.sel.primary(),c=p.from();if(p=p.to(),l.display.viewTo==l.display.viewFrom||c.line>=l.display.viewTo||p.line<l.display.viewFrom)n.removeAllRanges();else{var _=us(l,n.anchorNode,n.anchorOffset),E=us(l,n.focusNode,n.focusOffset);if(!_||_.bad||!E||E.bad||K(z(_,E),c)!=0||K(zi(_,E),p)!=0)if(_=l.display.view,c=c.line>=l.display.viewFrom&&ul(l,c)||{node:_[0].measure.map[2],offset:0},p=p.line<l.display.viewTo&&ul(l,p),p||(p=_[_.length-1].measure,p=p.maps?p.maps[p.maps.length-1]:p.map,p={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}),c&&p){_=n.rangeCount&&n.getRangeAt(0);try{var C=To(c.node,c.offset,p.offset,p.node)}catch{}C&&(!mn&&l.state.focused?(n.collapse(c.node,c.offset),C.collapsed||(n.removeAllRanges(),n.addRange(C))):(n.removeAllRanges(),n.addRange(C)),_&&n.anchorNode==null?n.addRange(_):mn&&this.startGracePeriod()),this.rememberSelection()}else n.removeAllRanges()}},wr.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},wr.prototype.showMultipleSelections=function(n){f(this.cm.display.cursorDiv,n.cursors),f(this.cm.display.selectionDiv,n.selection)},wr.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},wr.prototype.selectionInEditor=function(){var n=this.getSelection();return n.rangeCount?(n=n.getRangeAt(0).commonAncestorContainer,S(this.div,n)):!1},wr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&T()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},wr.prototype.blur=function(){this.div.blur()},wr.prototype.getField=function(){return this.div},wr.prototype.supportsTouch=function(){return!0},wr.prototype.receivedFocus=function(){function n(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,n))}var l=this,p=this;this.selectionInEditor()?setTimeout(function(){return l.pollSelection()},20):yi(this.cm,function(){return p.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,n)},wr.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},wr.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var n=this.getSelection(),l=this.cm;if(Eo&&yn&&this.cm.display.gutterSpecs.length&&Tu(n.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var p=us(l,n.anchorNode,n.anchorOffset),c=us(l,n.focusNode,n.focusOffset);p&&c&&yi(l,function(){Yr(l.doc,hn(p,c),ci),(p.bad||c.bad)&&(l.curOp.selectionChanged=!0)})}}},wr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n=this.cm,l=n.display,p=n.doc.sel.primary(),c=p.from(),_=p.to();if(c.ch==0&&c.line>n.firstLine()&&(c=Fe(c.line-1,_t(n.doc,c.line-1).length)),_.ch==_t(n.doc,_.line).text.length&&_.line<n.lastLine()&&(_=Fe(_.line+1,0)),c.line<l.viewFrom||_.line>l.viewTo-1)return!1;var E;c.line==l.viewFrom||(E=Ei(n,c.line))==0?(p=Ft(l.view[0].line),E=l.view[0].node):(p=Ft(l.view[E].line),E=l.view[E-1].node.nextSibling);var C=Ei(n,_.line);if(C==l.view.length-1?(_=l.viewTo-1,l=l.lineDiv.lastChild):(_=Ft(l.view[C+1].line)-1,l=l.view[C+1].node.previousSibling),!E)return!1;for(l=n.doc.splitLines(fl(n,E,l,p,_)),E=rr(n.doc,Fe(p,0),Fe(_,_t(n.doc,_).text.length));1<l.length&&1<E.length;)if(oe(l)==oe(E))l.pop(),E.pop(),_--;else if(l[0]==E[0])l.shift(),E.shift(),p++;else break;var k=0;C=0;for(var B=l[0],j=E[0],Z=Math.min(B.length,j.length);k<Z&&B.charCodeAt(k)==j.charCodeAt(k);)++k;for(B=oe(l),j=oe(E),Z=Math.min(B.length-(l.length==1?k:0),j.length-(E.length==1?k:0));C<Z&&B.charCodeAt(B.length-C-1)==j.charCodeAt(j.length-C-1);)++C;if(l.length==1&&E.length==1&&p==c.line)for(;k&&k>c.ch&&B.charCodeAt(B.length-C-1)==j.charCodeAt(j.length-C-1);)k--,C++;if(l[l.length-1]=B.slice(0,B.length-C).replace(/^\u200b+/,""),l[0]=l[0].slice(k).replace(/\u200b+$/,""),c=Fe(p,k),p=Fe(_,E.length?oe(E).length-C:0),1<l.length||l[0]||K(c,p))return Ns(n.doc,l,c,p,"+input"),!0},wr.prototype.ensurePolled=function(){this.forceCompositionEnd()},wr.prototype.reset=function(){this.forceCompositionEnd()},wr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},wr.prototype.readFromDOMSoon=function(){var n=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing)if(n.composing.done)n.composing=null;else return;n.updateFromDOM()},80))},wr.prototype.updateFromDOM=function(){var n=this;!this.cm.isReadOnly()&&this.pollContent()||yi(this.cm,function(){return ui(n.cm)})},wr.prototype.setUneditable=function(n){n.contentEditable="false"},wr.prototype.onKeyPress=function(n){n.charCode==0||this.composing||(n.preventDefault(),this.cm.isReadOnly()||Pr(this.cm,ol)(this.cm,String.fromCharCode(n.charCode==null?n.keyCode:n.charCode),0))},wr.prototype.readOnlyChanged=function(n){this.div.contentEditable=String(n!="nocursor")},wr.prototype.onContextMenu=function(){},wr.prototype.resetPosition=function(){},wr.prototype.needsContentAttribute=!0;var Or=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new Si,this.hasSelection=!1,this.composing=null};Or.prototype.init=function(n){function l(C){if(!H(_,C)){if(_.somethingSelected())vi={lineWise:!1,text:_.getSelections()};else if(_.options.lineWiseCopyCut){var k=lu(_);vi={lineWise:!0,text:k.text},C.type=="cut"?_.setSelections(k.ranges,null,ci):(c.prevInput="",E.value=k.text.join(`
`),rn(E))}else return;C.type=="cut"&&(_.state.cutIncoming=+new Date)}}var p=this,c=this,_=this.cm;this.createField(n);var E=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),bo&&(E.style.width="0px"),It(E,"input",function(){lr&&9<=xr&&p.hasSelection&&(p.hasSelection=null),c.poll()}),It(E,"paste",function(C){H(_,C)||ou(C,_)||(_.state.pasteIncoming=+new Date,c.fastPoll())}),It(E,"cut",l),It(E,"copy",l),It(n.scroller,"paste",function(C){if(!J(n,C)&&!H(_,C))if(E.dispatchEvent){var k=new Event("paste");k.clipboardData=C.clipboardData,E.dispatchEvent(k)}else _.state.pasteIncoming=+new Date,c.focus()}),It(n.lineSpace,"selectstart",function(C){J(n,C)||ut(C)}),It(E,"compositionstart",function(){var C=_.getCursor("from");c.composing&&c.composing.range.clear(),c.composing={start:C,range:_.markText(C,_.getCursor("to"),{className:"CodeMirror-composing"})}}),It(E,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},Or.prototype.createField=function(n){this.wrapper=fu(),this.textarea=this.wrapper.firstChild},Or.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},Or.prototype.prepareSelection=function(){var n=this.cm,l=n.display,p=n.doc,c=kl(n);if(n.options.moveInputWithCursor){n=kr(n,p.sel.primary().head,"div"),p=l.wrapper.getBoundingClientRect();var _=l.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,n.top+_.top-p.top)),c.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,n.left+_.left-p.left))}return c},Or.prototype.showSelection=function(n){var l=this.cm.display;f(l.cursorDiv,n.cursors),f(l.selectionDiv,n.selection),n.teTop!=null&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},Or.prototype.reset=function(n){if(!this.contextMenuPending&&!this.composing){var l=this.cm;l.somethingSelected()?(this.prevInput="",n=l.getSelection(),this.textarea.value=n,l.state.focused&&rn(this.textarea),lr&&9<=xr&&(this.hasSelection=n)):n||(this.prevInput=this.textarea.value="",lr&&9<=xr&&(this.hasSelection=null))}},Or.prototype.getField=function(){return this.textarea},Or.prototype.supportsTouch=function(){return!1},Or.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!So||T()!=this.textarea))try{this.textarea.focus()}catch{}},Or.prototype.blur=function(){this.textarea.blur()},Or.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Or.prototype.receivedFocus=function(){this.slowPoll()},Or.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},Or.prototype.fastPoll=function(){function n(){p.poll()||l?(p.pollingFast=!1,p.slowPoll()):(l=!0,p.polling.set(60,n))}var l=!1,p=this;p.pollingFast=!0,p.polling.set(20,n)},Or.prototype.poll=function(){var n=this,l=this.cm,p=this.textarea,c=this.prevInput;if(this.contextMenuPending||!l.state.focused||gl(p)&&!c&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var _=p.value;if(_==c&&!l.somethingSelected())return!1;if(lr&&9<=xr&&this.hasSelection===_||Li&&/[\uf700-\uf7ff]/.test(_))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var E=_.charCodeAt(0);if(E!=8203||c||(c="​"),E==8666)return this.reset(),this.cm.execCommand("undo")}var C=0;for(E=Math.min(c.length,_.length);C<E&&c.charCodeAt(C)==_.charCodeAt(C);)++C;return yi(l,function(){ol(l,_.slice(C),c.length-C,null,n.composing?"*compose":null),1e3<_.length||-1<_.indexOf(`
`)?p.value=n.prevInput="":n.prevInput=_,n.composing&&(n.composing.range.clear(),n.composing.range=l.markText(n.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Or.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Or.prototype.onKeyPress=function(){lr&&9<=xr&&(this.hasSelection=null),this.fastPoll()},Or.prototype.onContextMenu=function(n){function l(){if(C.selectionStart!=null){var _e=_.somethingSelected(),We="​"+(_e?C.value:"");C.value="⇚",C.value=We,c.prevInput=_e?"":"​",C.selectionStart=1,C.selectionEnd=We.length,E.selForContextMenu=_.doc.sel}}function p(){if(c.contextMenuPending==p&&(c.contextMenuPending=!1,c.wrapper.style.cssText=Z,C.style.cssText=j,lr&&9>xr&&E.scrollbars.setScrollTop(E.scroller.scrollTop=B),C.selectionStart!=null)){(!lr||lr&&9>xr)&&l();var _e=0,We=function(){E.selForContextMenu==_.doc.sel&&C.selectionStart==0&&0<C.selectionEnd&&c.prevInput=="​"?Pr(_,Ul)(_):10>_e++?E.detectingSelectAll=setTimeout(We,500):(E.selForContextMenu=null,E.input.reset())};E.detectingSelectAll=setTimeout(We,200)}}var c=this,_=c.cm,E=_.display,C=c.textarea;c.contextMenuPending&&c.contextMenuPending();var k=Hn(_,n),B=E.scroller.scrollTop;if(k&&!ji){_.options.resetSelectionOnContextMenu&&_.doc.sel.contains(k)==-1&&Pr(_,Yr)(_.doc,hn(k),ci);var j=C.style.cssText,Z=c.wrapper.style.cssText;if(k=c.wrapper.offsetParent.getBoundingClientRect(),c.wrapper.style.cssText="position: static",C.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(n.clientY-k.top-5)+"px; left: "+(n.clientX-k.left-5)+`px;
      z-index: 1000; background: `+(lr?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,ni)var ce=window.scrollY;if(E.input.focus(),ni&&window.scrollTo(null,ce),E.input.reset(),_.somethingSelected()||(C.value=c.prevInput=" "),c.contextMenuPending=p,E.selForContextMenu=_.doc.sel,clearTimeout(E.detectingSelectAll),lr&&9<=xr&&l(),pl){Ct(n);var ye=function(){Q(window,"mouseup",ye),setTimeout(p,20)};It(window,"mouseup",ye)}else setTimeout(p,50)}},Or.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled=n=="nocursor",this.textarea.readOnly=!!n},Or.prototype.setUneditable=function(){},Or.prototype.needsContentAttribute=!1,function(n){function l(c,_,E,C){n.defaults[c]=_,E&&(p[c]=C?function(k,B,j){j!=zs&&E(k,B,j)}:E)}var p=n.optionHandlers;n.defineOption=l,n.Init=zs,l("value","",function(c,_){return c.setValue(_)},!0),l("mode",null,function(c,_){c.doc.modeOption=_,$n(c)},!0),l("indentUnit",2,$n,!0),l("indentWithTabs",!1),l("smartIndent",!0),l("tabSize",4,function(c){es(c),bs(c),ui(c)},!0),l("lineSeparator",null,function(c,_){if(c.doc.lineSep=_){var E=[],C=c.doc.first;c.doc.iter(function(B){for(var j=0;;){var Z=B.text.indexOf(_,j);if(Z==-1)break;j=Z+_.length,E.push(Fe(C,Z))}C++});for(var k=E.length-1;0<=k;k--)Ns(c.doc,_,E[k],Fe(E[k].line,E[k].ch+_.length))}}),l("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(c,_,E){c.state.specialChars=new RegExp(_.source+(_.test("	")?"":"|	"),"g"),E!=zs&&c.refresh()}),l("specialCharPlaceholder",xa,function(c){return c.refresh()},!0),l("electricChars",!0),l("inputStyle",So?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor")},!0),l("spellcheck",!1,function(c,_){return c.getInputField().spellcheck=_},!0),l("autocorrect",!1,function(c,_){return c.getInputField().autocorrect=_},!0),l("autocapitalize",!1,function(c,_){return c.getInputField().autocapitalize=_},!0),l("rtlMoveVisually",!Au),l("wholeLineUpdateBefore",!0),l("theme","default",function(c){wo(c),Os(c)},!0),l("keyMap","default",function(c,_,E){_=sa(_),(E=E!=zs&&sa(E))&&E.detach&&E.detach(c,_),_.attach&&_.attach(c,E||null)}),l("extraKeys",null),l("configureMouse",null),l("lineWrapping",!1,nu,!0),l("gutters",[],function(c,_){c.display.gutterSpecs=qn(_,c.options.lineNumbers),Os(c)},!0),l("fixedGutter",!0,function(c,_){c.display.gutters.style.left=_?Ia(c.display)+"px":"0",c.refresh()},!0),l("coverGutterNextToScrollbar",!1,function(c){return Yn(c)},!0),l("scrollbarStyle","native",function(c){zo(c),Yn(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),l("lineNumbers",!1,function(c,_){c.display.gutterSpecs=qn(c.options.gutters,_),Os(c)},!0),l("firstLineNumber",1,Os,!0),l("lineNumberFormatter",function(c){return c},Os,!0),l("showCursorWhenSelecting",!1,xs,!0),l("resetSelectionOnContextMenu",!0),l("lineWiseCopyCut",!0),l("pasteLinesPerSelection",!0),l("selectionsMayTouch",!1),l("readOnly",!1,function(c,_){_=="nocursor"&&(As(c),c.display.input.blur()),c.display.input.readOnlyChanged(_)}),l("screenReaderLabel",null,function(c,_){c.display.input.screenReaderLabelChanged(_===""?null:_)}),l("disableInput",!1,function(c,_){_||c.display.input.reset()},!0),l("dragDrop",!0,iu),l("allowDropFileTypes",null),l("cursorBlinkRate",530),l("cursorScrollMargin",0),l("cursorHeight",1,xs,!0),l("singleCursorHeightPerLine",!0,xs,!0),l("workTime",100),l("workDelay",100),l("flattenSpans",!0,es,!0),l("addModeClass",!1,es,!0),l("pollInterval",100),l("undoDepth",200,function(c,_){return c.doc.history.undoDepth=_}),l("historyEventDelay",1250),l("viewportMargin",10,function(c){return c.refresh()},!0),l("maxHighlightLength",1e4,es,!0),l("moveInputWithCursor",!0,function(c,_){_||c.display.input.resetPosition()}),l("tabindex",null,function(c,_){return c.display.input.getField().tabIndex=_||""}),l("autofocus",null),l("direction","ltr",function(c,_){return c.doc.setDirection(_)},!0),l("phrases",null)}(Tr),function(n){var l=n.optionHandlers,p=n.helpers={};n.prototype={constructor:n,focus:function(){window.focus(),this.display.input.focus()},setOption:function(c,_){var E=this.options,C=E[c];(E[c]!=_||c=="mode")&&(E[c]=_,l.hasOwnProperty(c)&&Pr(this,l[c])(this,_,C),G(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,_){this.state.keyMaps[_?"push":"unshift"](sa(c))},removeKeyMap:function(c){for(var _=this.state.keyMaps,E=0;E<_.length;++E)if(_[E]==c||_[E].name==c)return _.splice(E,1),!0},addOverlay:ri(function(c,_){var E=c.token?c:n.getMode(this.options,c);if(E.startState)throw Error("Overlays may not be stateful.");he(this.state.overlays,{mode:E,modeSpec:c,opaque:_&&_.opaque,priority:_&&_.priority||0},function(C){return C.priority}),this.state.modeGen++,ui(this)}),removeOverlay:ri(function(c){for(var _=this.state.overlays,E=0;E<_.length;++E){var C=_[E].modeSpec;if(C==c||typeof c=="string"&&C.name==c){_.splice(E,1),this.state.modeGen++,ui(this);break}}}),indentLine:ri(function(c,_,E){typeof _!="string"&&typeof _!="number"&&(_=_==null?this.options.smartIndent?"smart":"prev":_?"add":"subtract"),pi(this.doc,c)&&Ps(this,c,_,E)}),indentSelection:ri(function(c){for(var _=this.doc.sel.ranges,E=-1,C=0;C<_.length;C++){var k=_[C];if(k.empty())k.head.line>E&&(Ps(this,k.head.line,c,!0),E=k.head.line,C==this.doc.sel.primIndex&&Di(this));else{var B=k.from();k=k.to();var j=Math.max(E,B.line);for(E=Math.min(this.lastLine(),k.line-(k.ch?0:1))+1,k=j;k<E;++k)Ps(this,k,c);k=this.doc.sel.ranges,B.ch==0&&_.length==k.length&&0<k[C].from().ch&&Ha(this.doc,C,new ir(B,k[C].to()),ci)}}}),getTokenAt:function(c,_){return gr(this,c,_)},getLineTokens:function(c,_){return gr(this,Fe(c),_,!0)},getTokenTypeAt:function(c){c=L(this.doc,c);var _=Ee(this,_t(this.doc,c.line)),E=0,C=(_.length-1)/2;if(c=c.ch,c==0)_=_[2];else for(;;){var k=E+C>>1;if((k?_[2*k-1]:0)>=c)C=k;else if(_[2*k+1]<c)E=k+1;else{_=_[2*k+2];break}}return E=_?_.indexOf("overlay "):-1,0>E?_:E==0?null:_.slice(0,E-1)},getModeAt:function(c){var _=this.doc.mode;return _.innerMode?n.innerMode(_,this.getTokenAt(c).state).mode:_},getHelper:function(c,_){return this.getHelpers(c,_)[0]},getHelpers:function(c,_){var E=[];if(!p.hasOwnProperty(_))return E;var C=p[_];if(c=this.getModeAt(c),typeof c[_]=="string")C[c[_]]&&E.push(C[c[_]]);else if(c[_])for(var k=0;k<c[_].length;k++){var B=C[c[_][k]];B&&E.push(B)}else c.helperType&&C[c.helperType]?E.push(C[c.helperType]):C[c.name]&&E.push(C[c.name]);for(_=0;_<C._global.length;_++)k=C._global[_],k.pred(c,this)&&U(E,k.val)==-1&&E.push(k.val);return E},getStateAfter:function(c,_){var E=this.doc;return c=Math.max(E.first,Math.min(c??E.first+E.size-1,E.first+E.size-1)),Be(this,c+1,_).state},cursorCoords:function(c,_){var E=this.doc.sel.primary();return c=c==null?E.head:typeof c=="object"?L(this.doc,c):c?E.from():E.to(),kr(this,c,_||"page")},charCoords:function(c,_){return mi(this,L(this.doc,c),_||"page")},coordsChar:function(c,_){return c=Ml(this,c,_||"page"),ka(this,c.left,c.top)},lineAtHeight:function(c,_){return c=Ml(this,{top:c,left:0},_||"page").top,Ai(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,_,E){var C=!1;if(typeof c=="number"){var k=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>k&&(c=k,C=!0),c=_t(this.doc,c)}return Fo(this,c,{top:0,left:0},_||"page",E||C).top+(C?this.doc.height-di(c):0)},defaultTextHeight:function(){return Es(this.display)},defaultCharWidth:function(){return Ss(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,_,E,C,k){var B=this.display;c=kr(this,L(this.doc,c));var j=c.bottom,Z=c.left;if(_.style.position="absolute",_.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(_),B.sizer.appendChild(_),C=="over")j=c.top;else if(C=="above"||C=="near"){var ce=Math.max(B.wrapper.clientHeight,this.doc.height),ye=Math.max(B.sizer.clientWidth,B.lineSpace.clientWidth);(C=="above"||c.bottom+_.offsetHeight>ce)&&c.top>_.offsetHeight?j=c.top-_.offsetHeight:c.bottom+_.offsetHeight<=ce&&(j=c.bottom),Z+_.offsetWidth>ye&&(Z=ye-_.offsetWidth)}_.style.top=j+"px",_.style.left=_.style.right="",k=="right"?(Z=B.sizer.clientWidth-_.offsetWidth,_.style.right="0px"):(k=="left"?Z=0:k=="middle"&&(Z=(B.sizer.clientWidth-_.offsetWidth)/2),_.style.left=Z+"px"),E&&(c=Fa(this,{left:Z,top:j,right:Z+_.offsetWidth,bottom:j+_.offsetHeight}),c.scrollTop!=null&&so(this,c.scrollTop),c.scrollLeft!=null&&An(this,c.scrollLeft))},triggerOnKeyDown:ri(tl),triggerOnKeyPress:ri(il),triggerOnKeyUp:rl,triggerOnMouseDown:ri(nl),execCommand:function(c){if(Ws.hasOwnProperty(c))return Ws[c].call(null,this)},triggerElectric:ri(function(c){au(this,c)}),findPosH:function(c,_,E,C){var k=1;0>_&&(k=-1,_=-_),c=L(this.doc,c);for(var B=0;B<_&&(c=al(this.doc,c,k,E,C),!c.hitSide);++B);return c},moveH:ri(function(c,_){var E=this;this.extendSelectionsBy(function(C){return E.display.shift||E.doc.extend||C.empty()?al(E.doc,C.head,c,_,E.options.rtlMoveVisually):0>c?C.from():C.to()},nn)}),deleteH:ri(function(c,_){var E=this.doc;this.doc.sel.somethingSelected()?E.replaceSelection("",null,"+delete"):Bs(this,function(C){var k=al(E,C.head,c,_,!1);return 0>c?{from:k,to:C.head}:{from:C.head,to:k}})}),findPosV:function(c,_,E,C){var k=1;0>_&&(k=-1,_=-_);var B=L(this.doc,c);for(c=0;c<_&&(B=kr(this,B,"div"),C==null?C=B.left:B.left=C,B=ll(this,B,k,E),!B.hitSide);++c);return B},moveV:ri(function(c,_){var E=this,C=this.doc,k=[],B=!this.display.shift&&!C.extend&&C.sel.somethingSelected();if(C.extendSelectionsBy(function(Z){if(B)return 0>c?Z.from():Z.to();var ce=kr(E,Z.head,"div");Z.goalColumn!=null&&(ce.left=Z.goalColumn),k.push(ce.left);var ye=ll(E,ce,c,_);return _=="page"&&Z==C.sel.primary()&&Ko(E,mi(E,ye,"div").top-ce.top),ye},nn),k.length)for(var j=0;j<C.sel.ranges.length;j++)C.sel.ranges[j].goalColumn=k[j]}),findWordAt:function(c){var _=_t(this.doc,c.line).text,E=c.ch,C=c.ch;if(_){var k=this.getHelper(c,"wordChars");c.sticky!="before"&&C!=_.length||!E?++C:--E;var B=_.charAt(E);for(B=De(B,k)?function(j){return De(j,k)}:/\s/.test(B)?function(j){return/\s/.test(j)}:function(j){return!/\s/.test(j)&&!De(j)};0<E&&B(_.charAt(E-1));)--E;for(;C<_.length&&B(_.charAt(C));)++C}return new ir(Fe(c.line,E),Fe(c.line,C))},toggleOverwrite:function(c){(c==null||c!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?$(this.display.cursorDiv,"CodeMirror-overwrite"):tn(this.display.cursorDiv,"CodeMirror-overwrite"),G(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==T()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ri(function(c,_){no(this,c,_)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-ft(this)-this.display.barHeight,width:c.scrollWidth-ft(this)-this.display.barWidth,clientHeight:Yt(this),clientWidth:Pt(this)}},scrollIntoView:ri(function(c,_){c==null?(c={from:this.doc.sel.primary().head,to:null},_==null&&(_=this.options.cursorScrollMargin)):typeof c=="number"?c={from:Fe(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=_||0,c.from.line!=null?(Wo(this),this.curOp.scrollToPos=c):ks(this,c.from,c.to,c.margin)}),setSize:ri(function(c,_){var E=this,C=function(B){return typeof B=="number"||/^\d+$/.test(String(B))?B+"px":B};c!=null&&(this.display.wrapper.style.width=C(c)),_!=null&&(this.display.wrapper.style.height=C(_)),this.options.lineWrapping&&Po(this);var k=this.display.viewFrom;this.doc.iter(k,this.display.viewTo,function(B){if(B.widgets){for(var j=0;j<B.widgets.length;j++)if(B.widgets[j].noHScroll){Cn(E,k,"widget");break}}++k}),this.curOp.forceUpdate=!0,G(this,"refresh",this)}),operation:function(c){return yi(this,c)},startOperation:function(){return Xn(this)},endOperation:function(){return Zn(this)},refresh:ri(function(){var c=this.display.cachedTextHeight;ui(this),this.curOp.forceUpdate=!0,bs(this),no(this,this.doc.scrollLeft,this.doc.scrollTop),Rs(this.display),(c==null||.5<Math.abs(c-Es(this.display))||this.options.lineWrapping)&&Ba(this),G(this,"refresh",this)}),swapDoc:ri(function(c){var _=this.doc;return _.cm=null,this.state.selectingText&&this.state.selectingText(),Ka(this,c),bs(this),this.display.input.reset(),no(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,zt(this,"swapDoc",this,_),_}),phrase:function(c){var _=this.options.phrases;return _&&Object.prototype.hasOwnProperty.call(_,c)?_[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},qe(n),n.registerHelper=function(c,_,E){p.hasOwnProperty(c)||(p[c]=n[c]={_global:[]}),p[c][_]=E},n.registerGlobalHelper=function(c,_,E,C){n.registerHelper(c,_,C),p[c]._global.push({pred:E,val:C})}}(Tr);var ku="iter insert remove copy getEditor constructor".split(" "),ko;for(ko in Kr.prototype)Kr.prototype.hasOwnProperty(ko)&&0>U(ku,ko)&&(Tr.prototype[ko]=function(n){return function(){return n.apply(this.doc,arguments)}}(Kr.prototype[ko]));return qe(Kr),Tr.inputStyles={textarea:Or,contenteditable:wr},Tr.defineMode=function(n){Tr.defaults.mode||n=="null"||(Tr.defaults.mode=n),Ut.apply(this,arguments)},Tr.defineMIME=function(n,l){ps[n]=l},Tr.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),Tr.defineMIME("text/plain","null"),Tr.defineExtension=function(n,l){Tr.prototype[n]=l},Tr.defineDocExtension=function(n,l){Kr.prototype[n]=l},Tr.fromTextArea=function(n,l){function p(){n.value=k.getValue()}if(l=l?O(l):{},l.value=n.value,!l.tabindex&&n.tabIndex&&(l.tabindex=n.tabIndex),!l.placeholder&&n.placeholder&&(l.placeholder=n.placeholder),l.autofocus==null){var c=T();l.autofocus=c==n||n.getAttribute("autofocus")!=null&&c==document.body}if(n.form&&(It(n.form,"submit",p),!l.leaveSubmitMethodAlone)){var _=n.form,E=_.submit;try{var C=_.submit=function(){p(),_.submit=E,_.submit(),_.submit=C}}catch{}}l.finishInit=function(B){B.save=p,B.getTextArea=function(){return n},B.toTextArea=function(){B.toTextArea=isNaN,p(),n.parentNode.removeChild(B.getWrapperElement()),n.style.display="",n.form&&(Q(n.form,"submit",p),l.leaveSubmitMethodAlone||typeof n.form.submit!="function"||(n.form.submit=E))}},n.style.display="none";var k=Tr(function(B){return n.parentNode.insertBefore(B,n.nextSibling)},l);return k},function(n){n.off=Q,n.on=It,n.wheelEventPixels=bu,n.Doc=Kr,n.splitLines=pa,n.countColumn=D,n.findColumn=F,n.isWordChar=Ce,n.Pass=ua,n.signal=G,n.Line=Nn,n.changeEnd=Zi,n.scrollbarModel=wl,n.Pos=Fe,n.cmpPos=K,n.modes=ma,n.mimeModes=ps,n.resolveMode=_r,n.getMode=pr,n.modeExtensions=ds,n.extendMode=Mr,n.copyState=Hr,n.startState=Er,n.innerMode=or,n.commands=Ws,n.keyMap=Ks,n.keyName=Ql,n.isModifierKey=Za,n.lookupKey=as,n.normalizeKeyMap=os,n.StringStream=Rr,n.SharedTextMarker=Pn,n.TextMarker=gi,n.LineWidget=Ki,n.e_preventDefault=ut,n.e_stopPropagation=gt,n.e_stop=Ct,n.addClass=$,n.contains=S,n.rmClass=tn,n.keyNames=Ti}(Tr),Tr.version="5.65.0",Tr})})(codemirror$1);var codemirrorExports=codemirror$1.exports;const CodeMirror=getDefaultExportFromCjs(codemirrorExports);(function(e,t){(function(r){r(codemirrorExports)})(function(r){r.defineMode("javascript",function(o,u){var f,g,b;function S(J,ae,je){return fn=J,zn=je,ae}function T(J,ae){var je=J.next();if(je=='"'||je=="'")return ae.tokenize=$(je),ae.tokenize(J,ae);if(je=="."&&J.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if(je=="."&&J.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;:\.]/.test(je))return S(je);if(je=="="&&J.eat(">"))return S("=>","operator");if(je=="0"&&J.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test(je))return J.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if(je=="/"){if(J.eat("*"))return ae.tokenize=A,A(J,ae);if(J.eat("/"))return J.skipToEnd(),S("comment","comment");if(Io(J,ae,1)){e:for(var ft=ae=!1;(je=J.next())!=null;){if(!ae){if(je=="/"&&!ft)break e;je=="["?ft=!0:ft&&je=="]"&&(ft=!1)}ae=!ae&&je=="\\"}return J.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")}return J.eat("="),S("operator","operator",J.current())}if(je=="`")return ae.tokenize=M,M(J,ae);if(je=="#"&&J.peek()=="!")return J.skipToEnd(),S("meta","meta");if(je=="#"&&J.eatWhile(vs))return S("variable","property");if(je=="<"&&J.match("!--")||je=="-"&&J.match("->")&&!/\S/.test(J.string.slice(0,J.start)))return J.skipToEnd(),S("comment","comment");if(Sn.test(je))return je==">"&&ae.lexical&&ae.lexical.type==">"||(J.eat("=")?je!="!"&&je!="="||J.eat("="):/[<>*+\-|&?]/.test(je)&&(J.eat(je),je==">"&&J.eat(je))),je=="?"&&J.eat(".")?S("."):S("operator","operator",J.current());if(vs.test(je)){if(J.eatWhile(vs),je=J.current(),ae.lastType!="."){if(eo.propertyIsEnumerable(je))return J=eo[je],S(J.type,J.style,je);if(je=="async"&&J.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",je)}return S("variable","variable",je)}}function $(J){return function(ae,je){var ft=!1,Pt;if(Wn&&ae.peek()=="@"&&ae.match(Uo))return je.tokenize=T,S("jsonld-keyword","meta");for(;(Pt=ae.next())!=null&&(Pt!=J||ft);)ft=!ft&&Pt=="\\";return ft||(je.tokenize=T),S("string","string")}}function A(J,ae){for(var je=!1,ft;ft=J.next();){if(ft=="/"&&je){ae.tokenize=T;break}je=ft=="*"}return S("comment","comment")}function M(J,ae){for(var je=!1,ft;(ft=J.next())!=null;){if(!je&&(ft=="`"||ft=="$"&&J.eat("{"))){ae.tokenize=T;break}je=!je&&ft=="\\"}return S("quasi","string-2",J.current())}function O(J,ae){ae.fatArrowAt&&(ae.fatArrowAt=null);var je=J.string.indexOf("=>",J.start);if(!(0>je)){if(zt){var ft=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(J.string.slice(J.start,je));ft&&(je=ft.index)}ft=0;var Pt=!1;for(--je;0<=je;--je){var Yt=J.string.charAt(je),Ur="([{}])".indexOf(Yt);if(0<=Ur&&3>Ur){if(!ft){++je;break}if(--ft==0){Yt=="("&&(Pt=!0);break}}else if(3<=Ur&&6>Ur)++ft;else if(vs.test(Yt))Pt=!0;else if(/["'\/`]/.test(Yt))for(;;--je){if(je==0)return;if(J.string.charAt(je-1)==Yt&&J.string.charAt(je-2)!="\\"){je--;break}}else if(Pt&&!ft){++je;break}}Pt&&!ft&&(ae.fatArrowAt=je)}}function D(J,ae,je,ft,Pt,Yt){this.indented=J,this.column=ae,this.type=je,this.prev=Pt,this.info=Yt,ft!=null&&(this.align=ft)}function U(J,ae,je,ft,Pt){var Yt=J.cc;for(f=J,g=Pt,b=null,_s=Yt,Tn=ae,J.lexical.hasOwnProperty("align")||(J.lexical.align=!0);;)if((Yt.length?Yt.pop():Ri?Q:Se)(je,ft)){for(;Yt.length&&Yt[Yt.length-1].lex;)Yt.pop()();if(b)return b;if(je=je=="variable")e:if(Bo){for(je=J.localVars;je;je=je.next)if(je.name==ft){je=!0;break e}for(J=J.context;J;J=J.prev)for(je=J.vars;je;je=je.next)if(je.name==ft){je=!0;break e}je=void 0}else je=!1;return je?"variable-2":ae}}function F(){for(var J=arguments.length-1;0<=J;J--)_s.push(arguments[J])}function P(){return F.apply(null,arguments),!0}function oe(J,ae){for(;ae;ae=ae.next)if(ae.name==J)return!0;return!1}function Me(J){var ae=f;if(b="def",Bo){if(ae.context){if(ae.lexical.info=="var"&&ae.context&&ae.context.block){var je=he(J,ae.context);if(je!=null){ae.context=je;return}}else if(!oe(J,ae.localVars)){ae.localVars=new Ce(J,ae.localVars);return}}u.globalVars&&!oe(J,ae.globalVars)&&(ae.globalVars=new Ce(J,ae.globalVars))}}function he(J,ae){return ae?ae.block?(J=he(J,ae.prev))?J==ae.prev?ae:new xe(J,ae.vars,!0):null:oe(J,ae.vars)?ae:new xe(ae.prev,new Ce(J,ae.vars),!1):null}function de(J){return J=="public"||J=="private"||J=="protected"||J=="abstract"||J=="readonly"}function xe(J,ae,je){this.prev=J,this.vars=ae,this.block=je}function Ce(J,ae){this.name=J,this.next=ae}function De(){f.context=new xe(f.context,f.localVars,!1),f.localVars=Vn}function et(){f.context=new xe(f.context,f.localVars,!0),f.localVars=null}function Ve(){f.localVars=f.context.vars,f.context=f.context.prev}function Ze(J,ae){var je=function(){var ft=f,Pt=ft.indented;if(ft.lexical.type=="stat")Pt=ft.lexical.indented;else for(var Yt=ft.lexical;Yt&&Yt.type==")"&&Yt.align;Yt=Yt.prev)Pt=Yt.indented;ft.lexical=new D(Pt,g.column(),J,null,ft.lexical,ae)};return je.lex=!0,je}function se(){var J=f;J.lexical.prev&&(J.lexical.type==")"&&(J.indented=J.lexical.indented),J.lexical=J.lexical.prev)}function me(J){function ae(je){return je==J?P():J==";"||je=="}"||je==")"||je=="]"?F():P(ae)}return ae}function Se(J,ae){return J=="var"?P(Ze("vardef",ae),Ye,me(";"),se):J=="keyword a"?P(Ze("form"),H,Se,se):J=="keyword b"?P(Ze("form"),Se,se):J=="keyword d"?g.match(/^\s*$/,!1)?P():P(Ze("stat"),Ue,me(";"),se):J=="debugger"?P(me(";")):J=="{"?P(Ze("}"),et,jr,se,Ve):J==";"?P():J=="if"?(f.lexical.info=="else"&&f.cc[f.cc.length-1]==se&&f.cc.pop()(),P(Ze("form"),H,Se,se,Ro)):J=="function"?P(bi):J=="for"?P(Ze("form"),et,Oo,Se,Ve,se):J=="class"||zt&&ae=="interface"?(b="keyword",P(Ze("form",J=="class"?J:ae),gs,se)):J=="variable"?zt&&ae=="declare"?(b="keyword",P(Se)):zt&&(ae=="module"||ae=="enum"||ae=="type")&&g.match(/^\s*\w/,!1)?(b="keyword",ae=="enum"?P(Xs):ae=="type"?P(Lo,me("operator"),Fe,me(";")):P(Ze("form"),Nt,me("{"),Ze("}"),jr,se,se)):zt&&ae=="namespace"?(b="keyword",P(Ze("form"),Q,Se,se)):zt&&ae=="abstract"?(b="keyword",P(Se)):P(Ze("stat"),Mr):J=="switch"?P(Ze("form"),H,me("{"),Ze("}","switch"),et,jr,se,se,Ve):J=="case"?P(Q,me(":")):J=="default"?P(me(":")):J=="catch"?P(Ze("form"),De,Y,Se,se,Ve):J=="export"?P(Ze("stat"),Qs,se):J=="import"?P(Ze("stat"),Qi,se):J=="async"?P(Se):ae=="@"?P(Q,Se):F(Ze("stat"),Q,me(";"),se)}function Y(J){if(J=="(")return P(Hi,me(")"))}function Q(J,ae){return ve(J,ae,!1)}function G(J,ae){return ve(J,ae,!0)}function H(J){return J!="("?F():P(Ze(")"),Ue,me(")"),se)}function ve(J,ae,je){if(f.fatArrowAt==g.start){var ft=je?er:Ct;if(J=="(")return P(De,Ze(")"),rr(Hi,")"),se,me("=>"),ft,Ve);if(J=="variable")return F(De,Nt,me("=>"),ft,Ve)}return ft=je?ut:qe,Ca.hasOwnProperty(J)?P(ft):J=="function"?P(bi,ft):J=="class"||zt&&ae=="interface"?(b="keyword",P(Ze("form"),qr,se)):J=="keyword c"||J=="async"?P(je?G:Q):J=="("?P(Ze(")"),Ue,me(")"),se,ft):J=="operator"||J=="spread"?P(je?G:Q):J=="["?P(Ze("]"),No,se,ft):J=="{"?Mi(or,"}",null,ft):J=="quasi"?F(gt,ft):J=="new"?P(Ut(je)):P()}function Ue(J){return J.match(/[;\}\)\],]/)?F():F(Q)}function qe(J,ae){return J==","?P(Ue):ut(J,ae,!1)}function ut(J,ae,je){var ft=je==0?qe:ut,Pt=je==0?Q:G;if(J=="=>")return P(De,je?er:Ct,Ve);if(J=="operator")return/\+\+|--/.test(ae)||zt&&ae=="!"?P(ft):zt&&ae=="<"&&g.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?P(Ze(">"),rr(Fe,">"),se,ft):ae=="?"?P(Q,me(":"),Pt):P(Pt);if(J=="quasi")return F(gt,ft);if(J!=";"){if(J=="(")return Mi(G,")","call",ft);if(J==".")return P(Hr,ft);if(J=="[")return P(Ze("]"),Ue,me("]"),se,ft);if(zt&&ae=="as")return b="keyword",P(Fe,ft);if(J=="regexp")return f.lastType=b="operator",g.backUp(g.pos-g.start-1),P(Pt)}}function gt(J,ae){return J!="quasi"?F():ae.slice(ae.length-2)!="${"?P(gt):P(Ue,wt)}function wt(J){if(J=="}")return b="string-2",f.tokenize=M,P(gt)}function Ct(J){return O(g,f),F(J=="{"?Se:Q)}function er(J){return O(g,f),F(J=="{"?Se:G)}function Ut(J){return function(ae){return ae=="."?P(J?pr:_r):ae=="variable"&&zt?P(ie,J?ut:qe):F(J?G:Q)}}function _r(J,ae){if(ae=="target")return b="keyword",P(qe)}function pr(J,ae){if(ae=="target")return b="keyword",P(ut)}function Mr(J){return J==":"?P(se,Se):F(qe,me(";"),se)}function Hr(J){if(J=="variable")return b="property",P()}function or(J,ae){if(J=="async")return b="property",P(or);if(J=="variable"||Tn=="keyword"){if(b="property",ae=="get"||ae=="set")return P(Er);var je;return zt&&f.fatArrowAt==g.start&&(je=g.match(/^\s*:\s*/,!1))&&(f.fatArrowAt=g.pos+je[0].length),P(_t)}if(J=="number"||J=="string")return b=Wn?"property":Tn+" property",P(_t);if(J=="jsonld-keyword")return P(_t);if(zt&&de(ae))return b="keyword",P(or);if(J=="[")return P(Q,Ft,me("]"),_t);if(J=="spread")return P(G,_t);if(ae=="*")return b="keyword",P(or);if(J==":")return F(_t)}function Er(J){return J!="variable"?F(_t):(b="property",P(bi))}function _t(J){if(J==":")return P(G);if(J=="(")return F(bi)}function rr(J,ae,je){function ft(Pt,Yt){return(je?-1<je.indexOf(Pt):Pt==",")?(Pt=f.lexical,Pt.info=="call"&&(Pt.pos=(Pt.pos||0)+1),P(function(Ur,Yi){return Ur==ae||Yi==ae?F():F(J)},ft)):Pt==ae||Yt==ae?P():je&&-1<je.indexOf(";")?F(J):P(me(ae))}return function(Pt,Yt){return Pt==ae||Yt==ae?P():F(J,ft)}}function Mi(J,ae,je){for(var ft=3;ft<arguments.length;ft++)_s.push(arguments[ft]);return P(Ze(ae,je),rr(J,ae),se)}function jr(J){return J=="}"?P():F(Se,jr)}function Ft(J,ae){if(zt){if(J==":")return P(Fe);if(ae=="?")return P(Ft)}}function Ai(J,ae){if(zt&&(J==":"||ae=="in"))return P(Fe)}function pi(J){if(zt&&J==":")return g.match(/^\s*\w+\s+is\b/,!1)?P(Q,Wi,Fe):P(Fe)}function Wi(J,ae){if(ae=="is")return b="keyword",P()}function Fe(J,ae){if(ae=="keyof"||ae=="typeof"||ae=="infer"||ae=="readonly")return b="keyword",P(ae=="typeof"?G:Fe);if(J=="variable"||ae=="void")return b="type",P(I);if(ae=="|"||ae=="&")return P(Fe);if(J=="string"||J=="number"||J=="atom")return P(I);if(J=="[")return P(Ze("]"),rr(Fe,"]",","),se,I);if(J=="{")return P(Ze("}"),un,se,I);if(J=="(")return P(rr(L,")"),K,I);if(J=="<")return P(rr(Fe,">"),Fe);if(J=="quasi")return F(zi,I)}function K(J){if(J=="=>")return P(Fe)}function un(J){return J.match(/[\}\)\]]/)?P():J==","||J==";"?P(un):F(Qr,un)}function Qr(J,ae){if(J=="variable"||Tn=="keyword")return b="property",P(Qr);if(ae=="?"||J=="number"||J=="string")return P(Qr);if(J==":")return P(Fe);if(J=="[")return P(me("variable"),Ai,me("]"),Qr);if(J=="(")return F(Vi,Qr);if(!J.match(/[;\}\)\],]/))return P()}function zi(J,ae){return J!="quasi"?F():ae.slice(ae.length-2)!="${"?P(zi):P(Fe,z)}function z(J){if(J=="}")return b="string-2",f.tokenize=M,P(zi)}function L(J,ae){return J=="variable"&&g.match(/^\s*[?:]/,!1)||ae=="?"?P(L):J==":"?P(Fe):J=="spread"?P(L):F(Fe)}function I(J,ae){if(ae=="<")return P(Ze(">"),rr(Fe,">"),se,I);if(ae=="|"||J=="."||ae=="&")return P(Fe);if(J=="[")return P(Fe,me("]"),I);if(ae=="extends"||ae=="implements")return b="keyword",P(Fe);if(ae=="?")return P(Fe,me(":"),Fe)}function ie(J,ae){if(ae=="<")return P(Ze(">"),rr(Fe,">"),se,I)}function Ee(){return F(Fe,Be)}function Be(J,ae){if(ae=="=")return P(Fe)}function Ye(J,ae){return ae=="enum"?(b="keyword",P(Xs)):F(Nt,Ft,ar,dr)}function Nt(J,ae){if(zt&&de(ae))return b="keyword",P(Nt);if(J=="variable")return Me(ae),P();if(J=="spread")return P(Nt);if(J=="[")return Mi(gr,"]");if(J=="{")return Mi(Zt,"}")}function Zt(J,ae){return J=="variable"&&!g.match(/^\s*:/,!1)?(Me(ae),P(ar)):(J=="variable"&&(b="property"),J=="spread"?P(Nt):J=="}"?F():J=="["?P(Q,me("]"),me(":"),Zt):P(me(":"),Nt,ar))}function gr(){return F(Nt,ar)}function ar(J,ae){if(ae=="=")return P(G)}function dr(J){if(J==",")return P(Ye)}function Ro(J,ae){if(J=="keyword b"&&ae=="else")return P(Ze("form","else"),Se,se)}function Oo(J,ae){if(ae=="await")return P(Oo);if(J=="(")return P(Ze(")"),ys,se)}function ys(J){return J=="var"?P(Ye,ki):J=="variable"?P(ki):F(ki)}function ki(J,ae){return J==")"?P():J==";"?P(ki):ae=="in"||ae=="of"?(b="keyword",P(Q,ki)):F(Q,ki)}function bi(J,ae){if(ae=="*")return b="keyword",P(bi);if(J=="variable")return Me(ae),P(bi);if(J=="(")return P(De,Ze(")"),rr(Hi,")"),se,pi,Se,Ve);if(zt&&ae=="<")return P(Ze(">"),rr(Ee,">"),se,bi)}function Vi(J,ae){if(ae=="*")return b="keyword",P(Vi);if(J=="variable")return Me(ae),P(Vi);if(J=="(")return P(De,Ze(")"),rr(Hi,")"),se,pi,Ve);if(zt&&ae=="<")return P(Ze(">"),rr(Ee,">"),se,Vi)}function Lo(J,ae){if(J=="keyword"||J=="variable")return b="type",P(Lo);if(ae=="<")return P(Ze(">"),rr(Ee,">"),se)}function Hi(J,ae){return ae=="@"&&P(Q,Hi),J=="spread"?P(Hi):zt&&de(ae)?(b="keyword",P(Hi)):zt&&J=="this"?P(Ft,ar):F(Nt,Ft,ar)}function qr(J,ae){return J=="variable"?gs(J,ae):Bi(J,ae)}function gs(J,ae){if(J=="variable")return Me(ae),P(Bi)}function Bi(J,ae){if(ae=="<")return P(Ze(">"),rr(Ee,">"),se,Bi);if(ae=="extends"||ae=="implements"||zt&&J==",")return ae=="implements"&&(b="keyword"),P(zt?Fe:Q,Bi);if(J=="{")return P(Ze("}"),$i,se)}function $i(J,ae){if(J=="async"||J=="variable"&&(ae=="static"||ae=="get"||ae=="set"||zt&&de(ae))&&g.match(/^\s+[\w$\xa1-\uffff]/,!1))return b="keyword",P($i);if(J=="variable"||Tn=="keyword")return b="property",P(li,$i);if(J=="number"||J=="string")return P(li,$i);if(J=="[")return P(Q,Ft,me("]"),li,$i);if(ae=="*")return b="keyword",P($i);if(zt&&J=="(")return F(Vi,$i);if(J==";"||J==",")return P($i);if(J=="}")return P();if(ae=="@")return P(Q,$i)}function li(J,ae){return ae=="!"||ae=="?"?P(li):J==":"?P(Fe,ar):ae=="="?P(G):(J=f.lexical.prev,F(J&&J.info=="interface"?Vi:bi))}function Qs(J,ae){return ae=="*"?(b="keyword",P(Sr,me(";"))):ae=="default"?(b="keyword",P(Q,me(";"))):J=="{"?P(rr(Ys,"}"),Sr,me(";")):F(Se)}function Ys(J,ae){if(ae=="as")return b="keyword",P(me("variable"));if(J=="variable")return F(G,Ys)}function Qi(J){return J=="string"?P():J=="("?F(Q):J=="."?F(qe):F(bn,di,Sr)}function bn(J,ae){return J=="{"?Mi(bn,"}"):(J=="variable"&&Me(ae),ae=="*"&&(b="keyword"),P(Kn))}function di(J){if(J==",")return P(bn,di)}function Kn(J,ae){if(ae=="as")return b="keyword",P(bn)}function Sr(J,ae){if(ae=="from")return b="keyword",P(Q)}function No(J){return J=="]"?P():F(rr(G,"]"))}function Xs(){return F(Ze("form"),Nt,me("{"),Ze("}"),rr(xa,"}"),se,se)}function xa(){return F(Nt,ar)}function Io(J,ae,je){return ae.tokenize==T&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ae.lastType)||ae.lastType=="quasi"&&/\{\s*$/.test(J.string.slice(0,J.pos-(je||0)))}var En=o.indentUnit,Zs=u.statementIndent,Wn=u.jsonld,Ri=u.json||Wn,Bo=u.trackScope!==!1,zt=u.typescript,vs=u.wordCharacters||/[\w$\xa1-\uffff]/,eo=function(){function J(Yi){return{type:Yi,style:"keyword"}}var ae=J("keyword a"),je=J("keyword b"),ft=J("keyword c"),Pt=J("keyword d"),Yt=J("operator"),Ur={type:"atom",style:"atom"};return{if:J("if"),while:ae,with:ae,else:je,do:je,try:je,finally:je,return:Pt,break:Pt,continue:Pt,new:J("new"),delete:ft,void:ft,throw:ft,debugger:J("debugger"),var:J("var"),const:J("var"),let:J("var"),function:J("function"),catch:J("catch"),for:J("for"),switch:J("switch"),case:J("case"),default:J("default"),in:Yt,typeof:Yt,instanceof:Yt,true:Ur,false:Ur,null:Ur,undefined:Ur,NaN:Ur,Infinity:Ur,this:J("this"),class:J("class"),super:J("atom"),yield:ft,export:J("export"),import:J("import"),extends:ft,await:ft}}(),Sn=/[+\-*&%=<>!?|~^@]/,Uo=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,fn,zn,Ca={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0},_s=b=f=null,Tn=g=void 0,Vn=new Ce("this",new Ce("arguments",null));return Ve.lex=!0,se.lex=!0,{startState:function(J){return J={tokenize:T,lastType:"sof",cc:[],lexical:new D((J||0)-En,0,"block",!1),localVars:u.localVars,context:u.localVars&&new xe(null,null,!1),indented:J||0},u.globalVars&&typeof u.globalVars=="object"&&(J.globalVars=u.globalVars),J},token:function(J,ae){if(J.sol()&&(ae.lexical.hasOwnProperty("align")||(ae.lexical.align=!1),ae.indented=J.indentation(),O(J,ae)),ae.tokenize!=A&&J.eatSpace())return null;var je=ae.tokenize(J,ae);return fn=="comment"?je:(ae.lastType=fn!="operator"||zn!="++"&&zn!="--"?fn:"incdec",U(ae,je,fn,zn,J))},indent:function(J,ae){if(J.tokenize==A||J.tokenize==M)return r.Pass;if(J.tokenize!=T)return 0;var je=ae&&ae.charAt(0),ft=J.lexical,Pt;if(!/^\s*else\b/.test(ae))for(var Yt=J.cc.length-1;0<=Yt;--Yt){var Ur=J.cc[Yt];if(Ur==se)ft=ft.prev;else if(Ur!=Ro&&Ur!=Ve)break}for(;!(ft.type!="stat"&&ft.type!="form"||je!="}"&&(!(Pt=J.cc[J.cc.length-1])||Pt!=qe&&Pt!=ut||/^[,\.=+\-*:?[\(]/.test(ae)));)ft=ft.prev;return Zs&&ft.type==")"&&ft.prev.type=="stat"&&(ft=ft.prev),Pt=ft.type,Yt=je==Pt,Pt=="vardef"?ft.indented+(J.lastType=="operator"||J.lastType==","?ft.info.length+1:0):Pt=="form"&&je=="{"?ft.indented:Pt=="form"?ft.indented+En:Pt=="stat"?(je=ft.indented,J=J.lastType=="operator"||J.lastType==","||Sn.test(ae.charAt(0))||/[,.]/.test(ae.charAt(0)),je+(J?Zs||En:0)):ft.info!="switch"||Yt||u.doubleIndentSwitch==0?ft.align?ft.column+(Yt?0:1):ft.indented+(Yt?0:En):ft.indented+(/^(?:case|default)\b/.test(ae)?En:2*En)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ri?null:"/*",blockCommentEnd:Ri?null:"*/",blockCommentContinue:Ri?null:" * ",lineComment:Ri?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Ri?"json":"javascript",jsonldMode:Wn,jsonMode:Ri,expressionAllowed:Io,skipExpression:function(J){U(J,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(e,t){(function(r){r(codemirrorExports)})(function(r){function o(O,D){for(var U=0,F=O.length;U<F;++U)D(O[U])}function u(O,D,U,F){var P=O.getCursor(),oe=U(O,P);if(!/\b(?:string|comment)\b/.test(oe.type)){var Me=r.innerMode(O.getMode(),oe.state);if(Me.mode.helperType!=="json"){for(oe.state=Me.state,/^[\w$_]*$/.test(oe.string)?oe.end>P.ch&&(oe.end=P.ch,oe.string=oe.string.slice(0,P.ch-oe.start)):oe={start:P.ch,end:P.ch,string:"",state:oe.state,type:oe.string=="."?"property":null},Me=oe;Me.type=="property";){if(Me=U(O,b(P.line,Me.start)),Me.string!=".")return;if(Me=U(O,b(P.line,Me.start)),!he)var he=[];he.push(Me)}return{list:g(oe,he,D,F),from:b(P.line,oe.start),to:b(P.line,oe.end)}}}}function f(O,D){return O=O.getTokenAt(D),D.ch==O.start+1&&O.string.charAt(0)=="."?(O.end=O.start,O.string=".",O.type="property"):/^\.[\w$_]*$/.test(O.string)&&(O.type="property",O.start++,O.string=O.string.replace(/\./,"")),O}function g(O,D,U,F){function P(De){var et;if(et=De.lastIndexOf(he,0)==0){e:if(Array.prototype.indexOf)et=Me.indexOf(De)!=-1;else{for(et=Me.length;et--;)if(Me[et]===De){et=!0;break e}et=!1}et=!et}et&&Me.push(De)}function oe(De){if(typeof De=="string"?o(S,P):De instanceof Array?o(T,P):De instanceof Function&&o($,P),Object.getOwnPropertyNames&&Object.getPrototypeOf)for(;De;De=Object.getPrototypeOf(De))Object.getOwnPropertyNames(De).forEach(P);else for(var et in De)P(et)}var Me=[],he=O.string,de=F&&F.globalScope||window;if(D&&D.length){O=D.pop();var xe;for(O.type&&O.type.indexOf("variable")===0?(F&&F.additionalContext&&(xe=F.additionalContext[O.string]),F&&F.useGlobalScope===!1||(xe=xe||de[O.string])):O.type=="string"?xe="":O.type=="atom"?xe=1:O.type=="function"&&(de.jQuery==null||O.string!="$"&&O.string!="jQuery"||typeof de.jQuery!="function"?de._!=null&&O.string=="_"&&typeof de._=="function"&&(xe=de._()):xe=de.jQuery());xe!=null&&D.length;)xe=xe[D.pop().string];xe!=null&&oe(xe)}else{for(D=O.state.localVars;D;D=D.next)P(D.name);for(xe=O.state.context;xe;xe=xe.prev)for(D=xe.vars;D;D=D.next)P(D.name);for(D=O.state.globalVars;D;D=D.next)P(D.name);if(F&&F.additionalContext!=null)for(var Ce in F.additionalContext)P(Ce);F&&F.useGlobalScope===!1||oe(de),o(U,P)}return Me}var b=r.Pos;r.registerHelper("hint","javascript",function(O,D){return u(O,A,function(U,F){return U.getTokenAt(F)},D)}),r.registerHelper("hint","coffeescript",function(O,D){return u(O,M,f,D)});var S="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),T="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),$=["prototype","apply","call","bind"],A="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),M="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")})})();(function(e,t){(function(r){r(codemirrorExports)})(function(r){function o(M,O){if(this.cm=M,this.options=O,this.widget=null,this.tick=this.debounce=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var D=this;M.on("cursorActivity",this.activityFunc=function(){D.cursorActivity()})}}function u(M,O){function D(Me,he){var de=typeof he!="string"?function(xe){return he(xe,O)}:U.hasOwnProperty(he)?U[he]:he;P[Me]=de}var U={Up:function(){O.moveFocus(-1)},Down:function(){O.moveFocus(1)},PageUp:function(){O.moveFocus(-O.menuSize()+1,!0)},PageDown:function(){O.moveFocus(O.menuSize()-1,!0)},Home:function(){O.setFocus(0)},End:function(){O.setFocus(O.length-1)},Enter:O.pick,Tab:O.pick,Esc:O.close};/Mac/.test(navigator.platform)&&(U["Ctrl-P"]=function(){O.moveFocus(-1)},U["Ctrl-N"]=function(){O.moveFocus(1)});var F=M.options.customKeys,P=F?{}:U;if(F)for(var oe in F)F.hasOwnProperty(oe)&&D(oe,F[oe]);if(M=M.options.extraKeys)for(oe in M)M.hasOwnProperty(oe)&&D(oe,M[oe]);return P}function f(M,O){for(;O&&O!=M;){if(O.nodeName.toUpperCase()==="LI"&&O.parentNode==M)return O;O=O.parentNode}}function g(M,O){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=M,this.data=O,this.picked=!1;var D=this,U=M.cm,F=U.getInputField().ownerDocument,P=F.defaultView||F.parentWindow,oe=this.hints=F.createElement("ul");oe.setAttribute("role","listbox"),oe.setAttribute("aria-expanded","true"),oe.id=this.id,oe.className="CodeMirror-hints "+M.cm.options.theme,this.selectedHint=O.selectedHint||0;for(var Me=O.list,he=0;he<Me.length;++he){var de=oe.appendChild(F.createElement("li")),xe=Me[he],Ce="CodeMirror-hint"+(he!=this.selectedHint?"":" CodeMirror-hint-active");xe.className!=null&&(Ce=xe.className+" "+Ce),de.className=Ce,he==this.selectedHint&&de.setAttribute("aria-selected","true"),de.id=this.id+"-"+he,de.setAttribute("role","option"),xe.render?xe.render(de,O,xe):de.appendChild(F.createTextNode(xe.displayText||(typeof xe=="string"?xe:xe.text))),de.hintId=he}Ce=M.options.container||F.body,he=U.cursorCoords(M.options.alignWithWord?O.from:null);var De=he.left,et=he.bottom,Ve=!0,Ze=de=0;if(Ce!==F.body){xe=["absolute","relative","fixed"].indexOf(P.getComputedStyle(Ce).position)!==-1?Ce:Ce.offsetParent;var se=xe.getBoundingClientRect();Ze=F.body.getBoundingClientRect(),de=se.left-Ze.left-xe.scrollLeft,Ze=se.top-Ze.top-xe.scrollTop}oe.style.left=De-de+"px",oe.style.top=et-Ze+"px",xe=P.innerWidth||Math.max(F.body.offsetWidth,F.documentElement.offsetWidth);var me=P.innerHeight||Math.max(F.body.offsetHeight,F.documentElement.offsetHeight);Ce.appendChild(oe),U.getInputField().setAttribute("aria-autocomplete","list"),U.getInputField().setAttribute("aria-owns",this.id),U.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint),Ce=M.options.moveOnOverlap?oe.getBoundingClientRect():new DOMRect,se=M.options.paddingForScrollbar?oe.scrollHeight>oe.clientHeight+1:!1;var Se;if(setTimeout(function(){Se=U.getScrollInfo()}),0<Ce.bottom-me){var Y=Ce.bottom-Ce.top;0<he.top-(he.bottom-Ce.top)-Y?(oe.style.top=(et=he.top-Y-Ze)+"px",Ve=!1):Y>me&&(oe.style.height=me-5+"px",oe.style.top=(et=he.bottom-Ce.top-Ze)+"px",Ze=U.getCursor(),O.from.ch!=Ze.ch&&(he=U.cursorCoords(Ze),oe.style.left=(De=he.left-de)+"px",Ce=oe.getBoundingClientRect()))}if(Ze=Ce.right-xe,se&&(Ze+=U.display.nativeBarWidth),0<Ze&&(Ce.right-Ce.left>xe&&(oe.style.width=xe-5+"px",Ze-=Ce.right-Ce.left-xe),oe.style.left=(De=he.left-Ze-de)+"px"),se)for(he=oe.firstChild;he;he=he.nextSibling)he.style.paddingRight=U.display.nativeBarWidth+"px";if(U.addKeyMap(this.keyMap=u(M,{moveFocus:function(G,H){D.changeActive(D.selectedHint+G,H)},setFocus:function(G){D.changeActive(G)},menuSize:function(){return D.screenAmount()},length:Me.length,close:function(){M.close()},pick:function(){D.pick()},data:O})),M.options.closeOnUnfocus){var Q;U.on("blur",this.onBlur=function(){Q=setTimeout(function(){M.close()},100)}),U.on("focus",this.onFocus=function(){clearTimeout(Q)})}return U.on("scroll",this.onScroll=function(){var G=U.getScrollInfo(),H=U.getWrapperElement().getBoundingClientRect();Se||(Se=U.getScrollInfo());var ve=et+Se.top-G.top,Ue=ve-(P.pageYOffset||(F.documentElement||F.body).scrollTop);if(Ve||(Ue+=oe.offsetHeight),Ue<=H.top||Ue>=H.bottom)return M.close();oe.style.top=ve+"px",oe.style.left=De+Se.left-G.left+"px"}),r.on(oe,"dblclick",function(G){(G=f(oe,G.target||G.srcElement))&&G.hintId!=null&&(D.changeActive(G.hintId),D.pick())}),r.on(oe,"click",function(G){(G=f(oe,G.target||G.srcElement))&&G.hintId!=null&&(D.changeActive(G.hintId),M.options.completeOnSingleClick&&D.pick())}),r.on(oe,"mousedown",function(){setTimeout(function(){U.focus()},20)}),he=this.getSelectedHintRange(),he.from===0&&he.to===0||this.scrollToActive(),r.signal(O,"select",Me[this.selectedHint],oe.childNodes[this.selectedHint]),!0}function b(M,O){if(!M.somethingSelected())return O;M=[];for(var D=0;D<O.length;D++)O[D].supportsSelection&&M.push(O[D]);return M}function S(M,O,D,U){M.async?M(O,U,D):(M=M(O,D))&&M.then?M.then(U):U(M)}r.showHint=function(M,O,D){if(!O)return M.showHint(D);if(D&&D.async&&(O.async=!0),O={hint:O},D)for(var U in D)O[U]=D[U];return M.showHint(O)},r.defineExtension("showHint",function(M){var O=this.getCursor("start"),D=this.options.hintOptions,U={},F;for(F in A)U[F]=A[F];if(D)for(F in D)D[F]!==void 0&&(U[F]=D[F]);if(M)for(F in M)M[F]!==void 0&&(U[F]=M[F]);if(U.hint.resolve&&(U.hint=U.hint.resolve(this,O)),M=U,O=this.listSelections(),!(1<O.length)){if(this.somethingSelected()){if(!M.hint.supportsSelection)return;for(F=0;F<O.length;F++)if(O[F].head.line!=O[F].anchor.line)return}this.state.completionActive&&this.state.completionActive.close(),O=this.state.completionActive=new o(this,M),O.options.hint&&(r.signal(this,"startCompletion",this),O.update(!0))}}),r.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var T=window.requestAnimationFrame||function(M){return setTimeout(M,1e3/60)},$=window.cancelAnimationFrame||clearTimeout;o.prototype={close:function(){this.active()&&(this.tick=this.cm.state.completionActive=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&r.signal(this.data,"close"),this.widget&&this.widget.close(),r.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(M,O){var D=M.list[O],U=this;this.cm.operation(function(){D.hint?D.hint(U.cm,M,D):U.cm.replaceRange(typeof D=="string"?D:D.text,D.from||M.from,D.to||M.to,"complete"),r.signal(M,"pick",D),U.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&($(this.debounce),this.debounce=0);var M=this.startPos;this.data&&(M=this.data.from);var O=this.cm.getCursor(),D=this.cm.getLine(O.line);if(O.line!=this.startPos.line||D.length-O.ch!=this.startLen-this.startPos.ch||O.ch<M.ch||this.cm.somethingSelected()||!O.ch||this.options.closeCharacters.test(D.charAt(O.ch-1)))this.close();else{var U=this;this.debounce=T(function(){U.update()}),this.widget&&this.widget.disable()}},update:function(M){if(this.tick!=null){var O=this,D=++this.tick;S(this.options.hint,this.cm,this.options,function(U){O.tick==D&&O.finishUpdate(U,M)})}},finishUpdate:function(M,O){this.data&&r.signal(this.data,"update"),O=this.widget&&this.widget.picked||O&&this.options.completeSingle,this.widget&&this.widget.close(),(this.data=M)&&M.list.length&&(O&&M.list.length==1?this.pick(M,0):(this.widget=new g(this,M),r.signal(M,"shown")))}},g.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var M=this.completion.cm.getInputField();M.removeAttribute("aria-activedescendant"),M.removeAttribute("aria-owns"),M=this.completion.cm,this.completion.options.closeOnUnfocus&&(M.off("blur",this.onBlur),M.off("focus",this.onFocus)),M.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var M=this;this.keyMap={Enter:function(){M.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(M,O){M>=this.data.list.length?M=O?this.data.list.length-1:0:0>M&&(M=O?0:this.data.list.length-1),this.selectedHint!=M&&((O=this.hints.childNodes[this.selectedHint])&&(O.className=O.className.replace(" CodeMirror-hint-active",""),O.removeAttribute("aria-selected")),O=this.hints.childNodes[this.selectedHint=M],O.className+=" CodeMirror-hint-active",O.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",O.id),this.scrollToActive(),r.signal(this.data,"select",this.data.list[this.selectedHint],O))},scrollToActive:function(){var M=this.getSelectedHintRange(),O=this.hints.childNodes[M.from];M=this.hints.childNodes[M.to];var D=this.hints.firstChild;O.offsetTop<this.hints.scrollTop?this.hints.scrollTop=O.offsetTop-D.offsetTop:M.offsetTop+M.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=M.offsetTop+M.offsetHeight-this.hints.clientHeight+D.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var M=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-M),to:Math.min(this.data.list.length-1,this.selectedHint+M)}}},r.registerHelper("hint","auto",{resolve:function(M,O){var D=M.getHelpers(O,"hint"),U;return D.length?(M=function(F,P,oe){function Me(de){if(de==he.length)return P(null);S(he[de],F,oe,function(xe){xe&&0<xe.list.length?P(xe):Me(de+1)})}var he=b(F,D);Me(0)},M.async=!0,M.supportsSelection=!0,M):(U=M.getHelper(M.getCursor(),"hintWords"))?function(F){return r.hint.fromList(F,{words:U})}:r.hint.anyword?function(F,P){return r.hint.anyword(F,P)}:function(){}}}),r.registerHelper("hint","fromList",function(M,O){var D=M.getCursor(),U=M.getTokenAt(D);M=r.Pos(D.line,U.start),U.start<D.ch&&/\w/.test(U.string.charAt(D.ch-U.start-1))?U=U.string.substr(0,D.ch-U.start):(U="",M=D);for(var F=[],P=0;P<O.words.length;P++){var oe=O.words[P];oe.slice(0,U.length)==U&&F.push(oe)}if(F.length)return{list:F,from:M,to:D}}),r.commands.autocomplete=r.showHint;var A={hint:r.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};r.defineOption("hintOptions",null)})})();(function(e,t){var r=r||{};r.scope={},r.findInternal=function(o,u,f){o instanceof String&&(o=String(o));for(var g=o.length,b=0;b<g;b++){var S=o[b];if(u.call(f,S,b,o))return{i:b,v:S}}return{i:-1,v:void 0}},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.SIMPLE_FROUND_POLYFILL=!1,r.ISOLATE_POLYFILLS=!1,r.FORCE_POLYFILL_PROMISE=!1,r.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,r.defineProperty=r.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){return o==Array.prototype||o==Object.prototype||(o[u]=f.value),o},r.getGlobal=function(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof globalThis=="object"&&globalThis];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find globalThis object")},r.global=r.getGlobal(this),r.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",r.TRUST_ES6_POLYFILLS=!r.ISOLATE_POLYFILLS||r.IS_SYMBOL_NATIVE,r.polyfills={},r.propertyToPolyfillSymbol={},r.POLYFILL_PREFIX="$jscp$",r.polyfill=function(o,u,f,g){u&&(r.ISOLATE_POLYFILLS?r.polyfillIsolated(o,u,f,g):r.polyfillUnisolated(o,u,f,g))},r.polyfillUnisolated=function(o,u,f,g){for(f=r.global,o=o.split("."),g=0;g<o.length-1;g++){var b=o[g];if(!(b in f))return;f=f[b]}o=o[o.length-1],g=f[o],u=u(g),u!=g&&u!=null&&r.defineProperty(f,o,{configurable:!0,writable:!0,value:u})},r.polyfillIsolated=function(o,u,f,g){var b=o.split(".");o=b.length===1,g=b[0],g=!o&&g in r.polyfills?r.polyfills:r.global;for(var S=0;S<b.length-1;S++){var T=b[S];if(!(T in g))return;g=g[T]}b=b[b.length-1],f=r.IS_SYMBOL_NATIVE&&f==="es6"?g[b]:null,u=u(f),u!=null&&(o?r.defineProperty(r.polyfills,b,{configurable:!0,writable:!0,value:u}):u!==f&&(r.propertyToPolyfillSymbol[b]===void 0&&(f=1e9*Math.random()>>>0,r.propertyToPolyfillSymbol[b]=r.IS_SYMBOL_NATIVE?r.global.Symbol(b):r.POLYFILL_PREFIX+f+"$"+b),r.defineProperty(g,r.propertyToPolyfillSymbol[b],{configurable:!0,writable:!0,value:u})))},r.polyfill("Array.prototype.find",function(o){return o||function(u,f){return r.findInternal(this,u,f).v}},"es6","es3"),function(o){o(codemirrorExports)}(function(o){function u(O){O.state.markedSelection&&O.operation(function(){T(O)})}function f(O){O.state.markedSelection&&O.state.markedSelection.length&&O.operation(function(){b(O)})}function g(O,D,U,F){if(M(D,U)!=0)for(var P=O.state.markedSelection,oe=O.state.markedSelectionStyle,Me=D.line;;){var he=Me==D.line?D:A(Me,0);Me+=$;var de=Me>=U.line,xe=de?U:A(Me,0);if(he=O.markText(he,xe,{className:oe}),F==null?P.push(he):P.splice(F++,0,he),de)break}}function b(O){O=O.state.markedSelection;for(var D=0;D<O.length;++D)O[D].clear();O.length=0}function S(O){b(O);for(var D=O.listSelections(),U=0;U<D.length;U++)g(O,D[U].from(),D[U].to())}function T(O){if(!O.somethingSelected())return b(O);if(1<O.listSelections().length)return S(O);var D=O.getCursor("start"),U=O.getCursor("end"),F=O.state.markedSelection;if(!F.length)return g(O,D,U);var P=F[0].find(),oe=F[F.length-1].find();if(!P||!oe||U.line-D.line<=$||0<=M(D,oe.to)||0>=M(U,P.from))return S(O);for(;0<M(D,P.from);)F.shift().clear(),P=F[0].find();for(0>M(D,P.from)&&(P.to.line-D.line<$?(F.shift().clear(),g(O,D,P.to,0)):g(O,D,P.from,0));0>M(U,oe.to);)F.pop().clear(),oe=F[F.length-1].find();0<M(U,oe.to)&&(U.line-oe.from.line<$?(F.pop().clear(),g(O,oe.from,U)):g(O,oe.to,U))}o.defineOption("styleSelectedText",!1,function(O,D,U){U=U&&U!=o.Init,D&&!U?(O.state.markedSelection=[],O.state.markedSelectionStyle=typeof D=="string"?D:"CodeMirror-selectedtext",S(O),O.on("cursorActivity",u),O.on("change",f)):!D&&U&&(O.off("cursorActivity",u),O.off("change",f),b(O),O.state.markedSelection=O.state.markedSelectionStyle=null)});var $=8,A=o.Pos,M=o.cmpPos})})();(function(e,t){(function(r){r(codemirrorExports)})(function(r){function o($){return $=$.search(b),$==-1?0:$}function u($,A,M){return/\bstring\b/.test($.getTokenTypeAt(S(A.line,0)))&&!/^['"`]/.test(M)}function f($,A){var M=$.getMode();return M.useInnerComments!==!1&&M.innerMode?$.getModeAt(A):M}var g={},b=/[^\s\u00a0]/,S=r.Pos,T=r.cmpPos;r.commands.toggleComment=function($){$.toggleComment()},r.defineExtension("toggleComment",function($){$||($=g);for(var A=1/0,M=this.listSelections(),O=null,D=M.length-1;0<=D;D--){var U=M[D].from(),F=M[D].to();U.line>=A||(F.line>=A&&(F=S(A,0)),A=U.line,O==null?this.uncomment(U,F,$)?O="un":(this.lineComment(U,F,$),O="line"):O=="un"?this.uncomment(U,F,$):this.lineComment(U,F,$))}}),r.defineExtension("lineComment",function($,A,M){M||(M=g);var O=this,D=f(O,$),U=O.getLine($.line);if(U!=null&&!u(O,$,U)){var F=M.lineComment||D.lineComment;if(F){var P=Math.min(A.ch!=0||A.line==$.line?A.line+1:A.line,O.lastLine()+1),oe=M.padding==null?" ":M.padding,Me=M.commentBlankLines||$.line==A.line;O.operation(function(){if(M.indent){for(var he=null,de=$.line;de<P;++de){var xe=O.getLine(de);xe=xe.slice(0,o(xe)),(he==null||he.length>xe.length)&&(he=xe)}for(de=$.line;de<P;++de){xe=O.getLine(de);var Ce=he.length;(Me||b.test(xe))&&(xe.slice(0,Ce)!=he&&(Ce=o(xe)),O.replaceRange(he+F+oe,S(de,0),S(de,Ce)))}}else for(de=$.line;de<P;++de)(Me||b.test(O.getLine(de)))&&O.replaceRange(F+oe,S(de,0))})}else(M.blockCommentStart||D.blockCommentStart)&&(M.fullLines=!0,O.blockComment($,A,M))}}),r.defineExtension("blockComment",function($,A,M){M||(M=g);var O=this,D=f(O,$),U=M.blockCommentStart||D.blockCommentStart,F=M.blockCommentEnd||D.blockCommentEnd;if(!U||!F)(M.lineComment||D.lineComment)&&M.fullLines!=0&&O.lineComment($,A,M);else if(!/\bcomment\b/.test(O.getTokenTypeAt(S($.line,0)))){var P=Math.min(A.line,O.lastLine());P!=$.line&&A.ch==0&&b.test(O.getLine(P))&&--P;var oe=M.padding==null?" ":M.padding;$.line>P||O.operation(function(){if(M.fullLines!=0){var Me=b.test(O.getLine(P));O.replaceRange(oe+F,S(P)),O.replaceRange(U+oe,S($.line,0));var he=M.blockCommentLead||D.blockCommentLead;if(he!=null)for(var de=$.line+1;de<=P;++de)(de!=P||Me)&&O.replaceRange(he+oe,S(de,0))}else Me=T(O.getCursor("to"),A)==0,he=!O.somethingSelected(),O.replaceRange(F,A),Me&&O.setSelection(he?A:O.getCursor("from"),A),O.replaceRange(U,$)})}}),r.defineExtension("uncomment",function($,A,M){M||(M=g);var O=this,D=f(O,$),U=Math.min(A.ch!=0||A.line==$.line?A.line:A.line-1,O.lastLine()),F=Math.min($.line,U),P=M.lineComment||D.lineComment,oe=[],Me=M.padding==null?" ":M.padding,he;e:if(P){for(var de=F;de<=U;++de){var xe=O.getLine(de),Ce=xe.indexOf(P);if(-1<Ce&&!/comment/.test(O.getTokenTypeAt(S(de,Ce+1)))&&(Ce=-1),Ce==-1&&b.test(xe)||-1<Ce&&b.test(xe.slice(0,Ce)))break e;oe.push(xe)}if(O.operation(function(){for(var Y=F;Y<=U;++Y){var Q=oe[Y-F],G=Q.indexOf(P),H=G+P.length;0>G||(Q.slice(H,H+Me.length)==Me&&(H+=Me.length),he=!0,O.replaceRange("",S(Y,G),S(Y,H)))}}),he)return!0}var De=M.blockCommentStart||D.blockCommentStart,et=M.blockCommentEnd||D.blockCommentEnd;if(!De||!et)return!1;var Ve=M.blockCommentLead||D.blockCommentLead,Ze=O.getLine(F),se=Ze.indexOf(De);if(se==-1)return!1;var me=U==F?Ze:O.getLine(U),Se=me.indexOf(et,U==F?se+De.length:0);return M=S(F,se+1),D=S(U,Se+1),Se==-1||!/comment/.test(O.getTokenTypeAt(M))||!/comment/.test(O.getTokenTypeAt(D))||-1<O.getRange(M,D,`
`).indexOf(et)||(D=Ze.lastIndexOf(De,$.ch),M=D==-1?-1:Ze.slice(0,$.ch).indexOf(et,D+De.length),D!=-1&&M!=-1&&M+et.length!=$.ch)||(M=me.indexOf(et,A.ch),$=me.slice(A.ch).lastIndexOf(De,M-A.ch),D=M==-1||$==-1?-1:A.ch+$,M!=-1&&D!=-1&&D!=A.ch)?!1:(O.operation(function(){O.replaceRange("",S(U,Se-(Me&&me.slice(Se-Me.length,Se)==Me?Me.length:0)),S(U,Se+et.length));var Y=se+De.length;if(Me&&Ze.slice(Y,Y+Me.length)==Me&&(Y+=Me.length),O.replaceRange("",S(F,se),S(F,Y)),Ve)for(Y=F+1;Y<=U;++Y){var Q=O.getLine(Y),G=Q.indexOf(Ve);if(G!=-1&&!b.test(Q.slice(0,G))){var H=G+Ve.length;Me&&Q.slice(H,H+Me.length)==Me&&(H+=Me.length),O.replaceRange("",S(Y,G),S(Y,H))}}}),!0)})})})();const keymaps={"Ctrl-Enter":"editor:evalLine","Cmd-Enter":"editor:evalLine","Ctrl-/":"editor:toggleComment","Cmd-/":"editor:toggleComment","Alt-Enter":"editor:evalBlock","Shift-Ctrl-Enter":"editor:evalAll","Shift-Cmd-Enter":"editor:evalAll","Shift-Ctrl-G":"gallery:shareSketch","Shift-Cmd-G":"gallery:shareSketch","Shift-Ctrl-F":"editor:formatCode","Shift-Cmd-F":"editor:formatCode","Shift-Ctrl-L":"gallery:saveToURL","Shift-Cmd-L":"gallery:saveToURL","Shift-Ctrl-H":"hideAll","Shift-Cmd-H":"hideAll","Shift-Ctrl-S":"screencap","Shift-Cmd-S":"screencap"};var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords$1={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];function isInAstralSet(e,t){for(var r=65536,o=0;o<t.length;o+=2){if(r+=t[o],r>e)return!1;if(r+=t[o+1],r>=e)return!0}}function isIdentifierStart(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifierStart.test(String.fromCharCode(e)):t===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)}function isIdentifierChar(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifier.test(String.fromCharCode(e)):t===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)||isInAstralSet(e,astralIdentifierCodes)}var TokenType=function e(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function binop(e,t){return new TokenType(e,{beforeExpr:!0,binop:t})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords={};function kw(e,t){return t===void 0&&(t={}),t.keyword=e,keywords[e]=new TokenType(e,t)}var types$1={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),privateId:new TokenType("privateId",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),questionDot:new TokenType("?."),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),coalesce:binop("??",1),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak$2=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak$2.source,"g");function isNewLine(e){return e===10||e===13||e===8232||e===8233}function nextLineBreak(e,t,r){r===void 0&&(r=e.length);for(var o=t;o<r;o++){var u=e.charCodeAt(o);if(isNewLine(u))return o<r-1&&u===13&&e.charCodeAt(o+1)===10?o+2:o+1}return-1}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty=ref.hasOwnProperty,toString=ref.toString,hasOwn=Object.hasOwn||function(e,t){return hasOwnProperty.call(e,t)},isArray=Array.isArray||function(e){return toString.call(e)==="[object Array]"};function wordsRegexp(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var loneSurrogate=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Position=function e(t,r){this.line=t,this.column=r};Position.prototype.offset=function e(t){return new Position(this.line,this.column+t)};var SourceLocation=function e(t,r,o){this.start=r,this.end=o,t.sourceFile!==null&&(this.source=t.sourceFile)};function getLineInfo(e,t){for(var r=1,o=0;;){var u=nextLineBreak(e,o,t);if(u<0)return new Position(r,t-o);++r,o=u}}var defaultOptions={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},warnedAboutEcmaVersion=!1;function getOptions(e){var t={};for(var r in defaultOptions)t[r]=e&&hasOwn(e,r)?e[r]:defaultOptions[r];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!warnedAboutEcmaVersion&&typeof console=="object"&&console.warn&&(warnedAboutEcmaVersion=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),isArray(t.onToken)){var o=t.onToken;t.onToken=function(u){return o.push(u)}}return isArray(t.onComment)&&(t.onComment=pushComment(t,t.onComment)),t}function pushComment(e,t){return function(r,o,u,f,g,b){var S={type:r?"Block":"Line",value:o,start:u,end:f};e.locations&&(S.loc=new SourceLocation(this,g,b)),e.ranges&&(S.range=[u,f]),t.push(S)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128,SCOPE_CLASS_STATIC_BLOCK=256,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK;function functionFlags(e,t){return SCOPE_FUNCTION|(e?SCOPE_ASYNC:0)|(t?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5,Parser=function e(t,r,o){this.options=t=getOptions(t),this.sourceFile=t.sourceFile,this.keywords=wordsRegexp(keywords$1[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var u="";t.allowReserved!==!0&&(u=reservedWords[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(u+=" await")),this.reservedWords=wordsRegexp(u);var f=(u?u+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(f),this.reservedWordsStrictBind=wordsRegexp(f+" "+reservedWords.strictBind),this.input=String(r),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak$2).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types$1.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(SCOPE_TOP),this.regexpState=null,this.privateNameStack=[]},prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Parser.prototype.parse=function e(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0};prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0&&!this.currentVarScope().inClassFieldInit};prototypeAccessors.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&SCOPE_CLASS_STATIC_BLOCK)return!1;if(t.flags&SCOPE_FUNCTION)return(t.flags&SCOPE_ASYNC)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};prototypeAccessors.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,r=e.inClassFieldInit;return(t&SCOPE_SUPER)>0||r||this.options.allowSuperOutsideMethod};prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0};prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};prototypeAccessors.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,r=e.inClassFieldInit;return(t&(SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK))>0||r};prototypeAccessors.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&SCOPE_CLASS_STATIC_BLOCK)>0};Parser.extend=function e(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var o=this,u=0;u<t.length;u++)o=t[u](o);return o};Parser.parse=function e(t,r){return new this(r,t).parse()};Parser.parseExpressionAt=function e(t,r,o){var u=new this(o,t,r);return u.nextToken(),u.parseExpression()};Parser.tokenizer=function e(t,r){return new this(r,t)};Object.defineProperties(Parser.prototype,prototypeAccessors);var pp$9=Parser.prototype,literal=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;pp$9.strictDirective=function(e){for(;;){skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length;var t=literal.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){skipWhiteSpace.lastIndex=e+t[0].length;var r=skipWhiteSpace.exec(this.input),o=r.index+r[0].length,u=this.input.charAt(o);return u===";"||u==="}"||lineBreak$2.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(u)||u==="!"&&this.input.charAt(o+1)==="=")}e+=t[0].length,skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length,this.input[e]===";"&&e++}};pp$9.eat=function(e){return this.type===e?(this.next(),!0):!1};pp$9.isContextual=function(e){return this.type===types$1.name&&this.value===e&&!this.containsEsc};pp$9.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};pp$9.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};pp$9.canInsertSemicolon=function(){return this.type===types$1.eof||this.type===types$1.braceR||lineBreak$2.test(this.input.slice(this.lastTokEnd,this.start))};pp$9.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};pp$9.semicolon=function(){!this.eat(types$1.semi)&&!this.insertSemicolon()&&this.unexpected()};pp$9.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};pp$9.expect=function(e){this.eat(e)||this.unexpected()};pp$9.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};function DestructuringErrors(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}pp$9.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}};pp$9.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,o=e.doubleProto;if(!t)return r>=0||o>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};pp$9.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};pp$9.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var pp$8=Parser.prototype;pp$8.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==types$1.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var o=0,u=Object.keys(this.undefinedExports);o<u.length;o+=1){var f=u[o];this.raiseRecoverable(this.undefinedExports[f].start,"Export '"+f+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$8.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var t=skipWhiteSpace.exec(this.input),r=this.pos+t[0].length,o=this.input.charCodeAt(r);if(o===91||o===92||o>55295&&o<56320)return!0;if(e)return!1;if(o===123)return!0;if(isIdentifierStart(o,!0)){for(var u=r+1;isIdentifierChar(o=this.input.charCodeAt(u),!0);)++u;if(o===92||o>55295&&o<56320)return!0;var f=this.input.slice(r,u);if(!keywordRelationalOperator.test(f))return!0}return!1};pp$8.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var e=skipWhiteSpace.exec(this.input),t=this.pos+e[0].length,r;return!lineBreak$2.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(isIdentifierChar(r=this.input.charCodeAt(t+8))||r>55295&&r<56320))};pp$8.parseStatement=function(e,t,r){var o=this.type,u=this.startNode(),f;switch(this.isLet(e)&&(o=types$1._var,f="let"),o){case types$1._break:case types$1._continue:return this.parseBreakContinueStatement(u,o.keyword);case types$1._debugger:return this.parseDebuggerStatement(u);case types$1._do:return this.parseDoStatement(u);case types$1._for:return this.parseForStatement(u);case types$1._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(u,!1,!e);case types$1._class:return e&&this.unexpected(),this.parseClass(u,!0);case types$1._if:return this.parseIfStatement(u);case types$1._return:return this.parseReturnStatement(u);case types$1._switch:return this.parseSwitchStatement(u);case types$1._throw:return this.parseThrowStatement(u);case types$1._try:return this.parseTryStatement(u);case types$1._const:case types$1._var:return f=f||this.value,e&&f!=="var"&&this.unexpected(),this.parseVarStatement(u,f);case types$1._while:return this.parseWhileStatement(u);case types$1._with:return this.parseWithStatement(u);case types$1.braceL:return this.parseBlock(!0,u);case types$1.semi:return this.parseEmptyStatement(u);case types$1._export:case types$1._import:if(this.options.ecmaVersion>10&&o===types$1._import){skipWhiteSpace.lastIndex=this.pos;var g=skipWhiteSpace.exec(this.input),b=this.pos+g[0].length,S=this.input.charCodeAt(b);if(S===40||S===46)return this.parseExpressionStatement(u,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===types$1._import?this.parseImport(u):this.parseExport(u,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(u,!0,!e);var T=this.value,$=this.parseExpression();return o===types$1.name&&$.type==="Identifier"&&this.eat(types$1.colon)?this.parseLabeledStatement(u,T,$,e):this.parseExpressionStatement(u,$)}};pp$8.parseBreakContinueStatement=function(e,t){var r=t==="break";this.next(),this.eat(types$1.semi)||this.insertSemicolon()?e.label=null:this.type!==types$1.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var u=this.labels[o];if((e.label==null||u.name===e.label.name)&&(u.kind!=null&&(r||u.kind==="loop")||e.label&&r))break}return o===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")};pp$8.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};pp$8.parseDoStatement=function(e){return this.next(),this.labels.push(loopLabel),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(types$1._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types$1.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};pp$8.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterScope(0),this.expect(types$1.parenL),this.type===types$1.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===types$1._var||this.type===types$1._const||r){var o=this.startNode(),u=r?"let":this.value;return this.next(),this.parseVar(o,!0,u),this.finishNode(o,"VariableDeclaration"),(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===types$1._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,o)):(t>-1&&this.unexpected(t),this.parseFor(e,o))}var f=this.isContextual("let"),g=!1,b=new DestructuringErrors,S=this.parseExpression(t>-1?"await":!0,b);return this.type===types$1._in||(g=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===types$1._in?t>-1&&this.unexpected(t):e.await=t>-1),f&&g&&this.raise(S.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(S,!1,b),this.checkLValPattern(S),this.parseForIn(e,S)):(this.checkExpressionErrors(b,!0),t>-1&&this.unexpected(t),this.parseFor(e,S))};pp$8.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,FUNC_STATEMENT|(r?0:FUNC_HANGING_STATEMENT),!1,t)};pp$8.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(types$1._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};pp$8.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types$1.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};pp$8.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(types$1.braceL),this.labels.push(switchLabel),this.enterScope(0);for(var t,r=!1;this.type!==types$1.braceR;)if(this.type===types$1._case||this.type===types$1._default){var o=this.type===types$1._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),o?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(types$1.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};pp$8.parseThrowStatement=function(e){return this.next(),lineBreak$2.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var empty$1=[];pp$8.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===types$1._catch){var t=this.startNode();if(this.next(),this.eat(types$1.parenL)){t.param=this.parseBindingAtom();var r=t.param.type==="Identifier";this.enterScope(r?SCOPE_SIMPLE_CATCH:0),this.checkLValPattern(t.param,r?BIND_SIMPLE_CATCH:BIND_LEXICAL),this.expect(types$1.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(types$1._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};pp$8.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")};pp$8.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(loopLabel),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};pp$8.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};pp$8.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};pp$8.parseLabeledStatement=function(e,t,r,o){for(var u=0,f=this.labels;u<f.length;u+=1){var g=f[u];g.name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var b=this.type.isLoop?"loop":this.type===types$1._switch?"switch":null,S=this.labels.length-1;S>=0;S--){var T=this.labels[S];if(T.statementStart===e.start)T.statementStart=this.start,T.kind=b;else break}return this.labels.push({name:t,kind:b,statementStart:this.start}),e.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")};pp$8.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};pp$8.parseBlock=function(e,t,r){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(types$1.braceL),e&&this.enterScope(0);this.type!==types$1.braceR;){var o=this.parseStatement(null);t.body.push(o)}return r&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};pp$8.parseFor=function(e,t){return e.init=t,this.expect(types$1.semi),e.test=this.type===types$1.semi?null:this.parseExpression(),this.expect(types$1.semi),e.update=this.type===types$1.parenR?null:this.parseExpression(),this.expect(types$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};pp$8.parseForIn=function(e,t){var r=this.type===types$1._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(types$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")};pp$8.parseVar=function(e,t,r){for(e.declarations=[],e.kind=r;;){var o=this.startNode();if(this.parseVarId(o,r),this.eat(types$1.eq)?o.init=this.parseMaybeAssign(t):r==="const"&&!(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():o.id.type!=="Identifier"&&!(t&&(this.type===types$1._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,e.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(types$1.comma))break}return e};pp$8.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?BIND_VAR:BIND_LEXICAL,!1)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$8.parseFunction=function(e,t,r,o,u){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===types$1.star&&t&FUNC_HANGING_STATEMENT&&this.unexpected(),e.generator=this.eat(types$1.star)),this.options.ecmaVersion>=8&&(e.async=!!o),t&FUNC_STATEMENT&&(e.id=t&FUNC_NULLABLE_ID&&this.type!==types$1.name?null:this.parseIdent(),e.id&&!(t&FUNC_HANGING_STATEMENT)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION));var f=this.yieldPos,g=this.awaitPos,b=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(e.async,e.generator)),t&FUNC_STATEMENT||(e.id=this.type===types$1.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1,u),this.yieldPos=f,this.awaitPos=g,this.awaitIdentPos=b,this.finishNode(e,t&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")};pp$8.parseFunctionParams=function(e){this.expect(types$1.parenL),e.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};pp$8.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var o=this.enterClassBody(),u=this.startNode(),f=!1;for(u.body=[],this.expect(types$1.braceL);this.type!==types$1.braceR;){var g=this.parseClassElement(e.superClass!==null);g&&(u.body.push(g),g.type==="MethodDefinition"&&g.kind==="constructor"?(f&&this.raise(g.start,"Duplicate constructor in the same class"),f=!0):g.key&&g.key.type==="PrivateIdentifier"&&isPrivateNameConflicted(o,g)&&this.raiseRecoverable(g.key.start,"Identifier '#"+g.key.name+"' has already been declared"))}return this.strict=r,this.next(),e.body=this.finishNode(u,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};pp$8.parseClassElement=function(e){if(this.eat(types$1.semi))return null;var t=this.options.ecmaVersion,r=this.startNode(),o="",u=!1,f=!1,g="method",b=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(types$1.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===types$1.star?b=!0:o="static"}if(r.static=b,!o&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===types$1.star)&&!this.canInsertSemicolon()?f=!0:o="async"),!o&&(t>=9||!f)&&this.eat(types$1.star)&&(u=!0),!o&&!f&&!u){var S=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?g=S:o=S)}if(o?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=o,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),t<13||this.type===types$1.parenL||g!=="method"||u||f){var T=!r.static&&checkKeyName(r,"constructor"),$=T&&e;T&&g!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=T?"constructor":g,this.parseClassMethod(r,u,f,$)}else this.parseClassField(r);return r};pp$8.isClassElementNameStart=function(){return this.type===types$1.name||this.type===types$1.privateId||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword};pp$8.parseClassElementName=function(e){this.type===types$1.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};pp$8.parseClassMethod=function(e,t,r,o){var u=e.key;e.kind==="constructor"?(t&&this.raise(u.start,"Constructor can't be a generator"),r&&this.raise(u.start,"Constructor can't be an async method")):e.static&&checkKeyName(e,"prototype")&&this.raise(u.start,"Classes may not have a static property named prototype");var f=e.value=this.parseMethod(t,r,o);return e.kind==="get"&&f.params.length!==0&&this.raiseRecoverable(f.start,"getter should have no params"),e.kind==="set"&&f.params.length!==1&&this.raiseRecoverable(f.start,"setter should have exactly one param"),e.kind==="set"&&f.params[0].type==="RestElement"&&this.raiseRecoverable(f.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};pp$8.parseClassField=function(e){if(checkKeyName(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&checkKeyName(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(types$1.eq)){var t=this.currentThisScope(),r=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=r}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};pp$8.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(SCOPE_CLASS_STATIC_BLOCK|SCOPE_SUPER);this.type!==types$1.braceR;){var r=this.parseStatement(null);e.body.push(r)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};pp$8.parseClassId=function(e,t){this.type===types$1.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,BIND_LEXICAL,!1)):(t===!0&&this.unexpected(),e.id=null)};pp$8.parseClassSuper=function(e){e.superClass=this.eat(types$1._extends)?this.parseExprSubscripts(!1):null};pp$8.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};pp$8.exitClassBody=function(){for(var e=this.privateNameStack.pop(),t=e.declared,r=e.used,o=this.privateNameStack.length,u=o===0?null:this.privateNameStack[o-1],f=0;f<r.length;++f){var g=r[f];hasOwn(t,g.name)||(u?u.used.push(g):this.raiseRecoverable(g.start,"Private field '#"+g.name+"' must be declared in an enclosing class"))}};function isPrivateNameConflicted(e,t){var r=t.key.name,o=e[r],u="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(u=(t.static?"s":"i")+t.kind),o==="iget"&&u==="iset"||o==="iset"&&u==="iget"||o==="sget"&&u==="sset"||o==="sset"&&u==="sget"?(e[r]="true",!1):o?!0:(e[r]=u,!1)}function checkKeyName(e,t){var r=e.computed,o=e.key;return!r&&(o.type==="Identifier"&&o.name===t||o.type==="Literal"&&o.value===t)}pp$8.parseExport=function(e,t){if(this.next(),this.eat(types$1.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==types$1.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(types$1._default)){this.checkExport(t,"default",this.lastTokStart);var r;if(this.type===types$1._function||(r=this.isAsyncFunction())){var o=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(o,FUNC_STATEMENT|FUNC_NULLABLE_ID,!1,r)}else if(this.type===types$1._class){var u=this.startNode();e.declaration=this.parseClass(u,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==types$1.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var f=0,g=e.specifiers;f<g.length;f+=1){var b=g[f];this.checkUnreserved(b.local),this.checkLocalExport(b.local),b.local.type==="Literal"&&this.raise(b.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};pp$8.checkExport=function(e,t,r){e&&(hasOwn(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)};pp$8.checkPatternExport=function(e,t){var r=t.type;if(r==="Identifier")this.checkExport(e,t.name,t.start);else if(r==="ObjectPattern")for(var o=0,u=t.properties;o<u.length;o+=1){var f=u[o];this.checkPatternExport(e,f)}else if(r==="ArrayPattern")for(var g=0,b=t.elements;g<b.length;g+=1){var S=b[g];S&&this.checkPatternExport(e,S)}else r==="Property"?this.checkPatternExport(e,t.value):r==="AssignmentPattern"?this.checkPatternExport(e,t.left):r==="RestElement"?this.checkPatternExport(e,t.argument):r==="ParenthesizedExpression"&&this.checkPatternExport(e,t.expression)};pp$8.checkVariableExport=function(e,t){if(e)for(var r=0,o=t;r<o.length;r+=1){var u=o[r];this.checkPatternExport(e,u.id)}};pp$8.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};pp$8.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(r)r=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var o=this.startNode();o.local=this.parseModuleExportName(),o.exported=this.eatContextual("as")?this.parseModuleExportName():o.local,this.checkExport(e,o.exported[o.exported.type==="Identifier"?"name":"value"],o.exported.start),t.push(this.finishNode(o,"ExportSpecifier"))}return t};pp$8.parseImport=function(e){return this.next(),this.type===types$1.string?(e.specifiers=empty$1,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===types$1.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};pp$8.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===types$1.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLValSimple(r.local,BIND_LEXICAL),e.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(types$1.comma))return e}if(this.type===types$1.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,BIND_LEXICAL),e.push(this.finishNode(o,"ImportNamespaceSpecifier")),e}for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(t)t=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var u=this.startNode();u.imported=this.parseModuleExportName(),this.eatContextual("as")?u.local=this.parseIdent():(this.checkUnreserved(u.imported),u.local=u.imported),this.checkLValSimple(u.local,BIND_LEXICAL),e.push(this.finishNode(u,"ImportSpecifier"))}return e};pp$8.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===types$1.string){var e=this.parseLiteral(this.value);return loneSurrogate.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};pp$8.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};pp$8.isDirectiveCandidate=function(e){return e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var pp$7=Parser.prototype;pp$7.toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var o=0,u=e.properties;o<u.length;o+=1){var f=u[o];this.toAssignable(f,t),f.type==="RestElement"&&(f.argument.type==="ArrayPattern"||f.argument.type==="ObjectPattern")&&this.raise(f.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e};pp$7.toAssignableList=function(e,t){for(var r=e.length,o=0;o<r;o++){var u=e[o];u&&this.toAssignable(u,t)}if(r){var f=e[r-1];this.options.ecmaVersion===6&&t&&f&&f.type==="RestElement"&&f.argument.type!=="Identifier"&&this.unexpected(f.argument.start)}return e};pp$7.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};pp$7.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types$1.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};pp$7.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types$1.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(types$1.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case types$1.braceL:return this.parseObj(!0)}return this.parseIdent()};pp$7.parseBindingList=function(e,t,r){for(var o=[],u=!0;!this.eat(e);)if(u?u=!1:this.expect(types$1.comma),t&&this.type===types$1.comma)o.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===types$1.ellipsis){var f=this.parseRestBinding();this.parseBindingListItem(f),o.push(f),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else{var g=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(g),o.push(g)}}return o};pp$7.parseBindingListItem=function(e){return e};pp$7.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types$1.eq))return r;var o=this.startNodeAt(e,t);return o.left=r,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};pp$7.checkLValSimple=function(e,t,r){t===void 0&&(t=BIND_NONE);var o=t!==BIND_NONE;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(o?"Binding ":"Assigning to ")+e.name+" in strict mode"),o&&(t===BIND_LEXICAL&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),r&&(hasOwn(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),t!==BIND_OUTSIDE&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,r);default:this.raise(e.start,(o?"Binding":"Assigning to")+" rvalue")}};pp$7.checkLValPattern=function(e,t,r){switch(t===void 0&&(t=BIND_NONE),e.type){case"ObjectPattern":for(var o=0,u=e.properties;o<u.length;o+=1){var f=u[o];this.checkLValInnerPattern(f,t,r)}break;case"ArrayPattern":for(var g=0,b=e.elements;g<b.length;g+=1){var S=b[g];S&&this.checkLValInnerPattern(S,t,r)}break;default:this.checkLValSimple(e,t,r)}};pp$7.checkLValInnerPattern=function(e,t,r){switch(t===void 0&&(t=BIND_NONE),e.type){case"Property":this.checkLValInnerPattern(e.value,t,r);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,r);break;case"RestElement":this.checkLValPattern(e.argument,t,r);break;default:this.checkLValPattern(e,t,r)}};var TokContext=function e(t,r,o,u,f){this.token=t,this.isExpr=!!r,this.preserveSpace=!!o,this.override=u,this.generator=!!f},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]};pp$6.curContext=function(){return this.context[this.context.length-1]};pp$6.braceIsBlock=function(e){var t=this.curContext();return t===types.f_expr||t===types.f_stat?!0:e===types$1.colon&&(t===types.b_stat||t===types.b_expr)?!t.isExpr:e===types$1._return||e===types$1.name&&this.exprAllowed?lineBreak$2.test(this.input.slice(this.lastTokEnd,this.start)):e===types$1._else||e===types$1.semi||e===types$1.eof||e===types$1.parenR||e===types$1.arrow?!0:e===types$1.braceL?t===types.b_stat:e===types$1._var||e===types$1._const||e===types$1.name?!1:!this.exprAllowed};pp$6.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};pp$6.updateContext=function(e){var t,r=this.type;r.keyword&&e===types$1.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr};pp$6.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};types$1.parenR.updateContext=types$1.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===types.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};types$1.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?types.b_stat:types.b_expr),this.exprAllowed=!0};types$1.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0};types$1.parenL.updateContext=function(e){var t=e===types$1._if||e===types$1._for||e===types$1._with||e===types$1._while;this.context.push(t?types.p_stat:types.p_expr),this.exprAllowed=!0};types$1.incDec.updateContext=function(){};types$1._function.updateContext=types$1._class.updateContext=function(e){e.beforeExpr&&e!==types$1._else&&!(e===types$1.semi&&this.curContext()!==types.p_stat)&&!(e===types$1._return&&lineBreak$2.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===types$1.colon||e===types$1.braceL)&&this.curContext()===types.b_stat)?this.context.push(types.f_expr):this.context.push(types.f_stat),this.exprAllowed=!1};types$1.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1};types$1.star.updateContext=function(e){if(e===types$1._function){var t=this.context.length-1;this.context[t]===types.f_expr?this.context[t]=types.f_expr_gen:this.context[t]=types.f_gen}this.exprAllowed=!0};types$1.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==types$1.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var pp$5=Parser.prototype;pp$5.checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var o=e.key,u;switch(o.type){case"Identifier":u=o.name;break;case"Literal":u=String(o.value);break;default:return}var f=e.kind;if(this.options.ecmaVersion>=6){u==="__proto__"&&f==="init"&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),t.proto=!0);return}u="$"+u;var g=t[u];if(g){var b;f==="init"?b=this.strict&&g.init||g.get||g.set:b=g.init||g[f],b&&this.raiseRecoverable(o.start,"Redefinition of property")}else g=t[u]={init:!1,get:!1,set:!1};g[f]=!0}};pp$5.parseExpression=function(e,t){var r=this.start,o=this.startLoc,u=this.parseMaybeAssign(e,t);if(this.type===types$1.comma){var f=this.startNodeAt(r,o);for(f.expressions=[u];this.eat(types$1.comma);)f.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(f,"SequenceExpression")}return u};pp$5.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var o=!1,u=-1,f=-1,g=-1;t?(u=t.parenthesizedAssign,f=t.trailingComma,g=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new DestructuringErrors,o=!0);var b=this.start,S=this.startLoc;(this.type===types$1.parenL||this.type===types$1.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var T=this.parseMaybeConditional(e,t);if(r&&(T=r.call(this,T,b,S)),this.type.isAssign){var $=this.startNodeAt(b,S);return $.operator=this.value,this.type===types$1.eq&&(T=this.toAssignable(T,!1,t)),o||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=T.start&&(t.shorthandAssign=-1),this.type===types$1.eq?this.checkLValPattern(T):this.checkLValSimple(T),$.left=T,this.next(),$.right=this.parseMaybeAssign(e),g>-1&&(t.doubleProto=g),this.finishNode($,"AssignmentExpression")}else o&&this.checkExpressionErrors(t,!0);return u>-1&&(t.parenthesizedAssign=u),f>-1&&(t.trailingComma=f),T};pp$5.parseMaybeConditional=function(e,t){var r=this.start,o=this.startLoc,u=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return u;if(this.eat(types$1.question)){var f=this.startNodeAt(r,o);return f.test=u,f.consequent=this.parseMaybeAssign(),this.expect(types$1.colon),f.alternate=this.parseMaybeAssign(e),this.finishNode(f,"ConditionalExpression")}return u};pp$5.parseExprOps=function(e,t){var r=this.start,o=this.startLoc,u=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||u.start===r&&u.type==="ArrowFunctionExpression"?u:this.parseExprOp(u,r,o,-1,e)};pp$5.parseExprOp=function(e,t,r,o,u){var f=this.type.binop;if(f!=null&&(!u||this.type!==types$1._in)&&f>o){var g=this.type===types$1.logicalOR||this.type===types$1.logicalAND,b=this.type===types$1.coalesce;b&&(f=types$1.logicalAND.binop);var S=this.value;this.next();var T=this.start,$=this.startLoc,A=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,u),T,$,f,u),M=this.buildBinary(t,r,e,A,S,g||b);return(g&&this.type===types$1.coalesce||b&&(this.type===types$1.logicalOR||this.type===types$1.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(M,t,r,o,u)}return e};pp$5.buildBinary=function(e,t,r,o,u,f){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var g=this.startNodeAt(e,t);return g.left=r,g.operator=u,g.right=o,this.finishNode(g,f?"LogicalExpression":"BinaryExpression")};pp$5.parseMaybeUnary=function(e,t,r,o){var u=this.start,f=this.startLoc,g;if(this.isContextual("await")&&this.canAwait)g=this.parseAwait(o),t=!0;else if(this.type.prefix){var b=this.startNode(),S=this.type===types$1.incDec;b.operator=this.value,b.prefix=!0,this.next(),b.argument=this.parseMaybeUnary(null,!0,S,o),this.checkExpressionErrors(e,!0),S?this.checkLValSimple(b.argument):this.strict&&b.operator==="delete"&&b.argument.type==="Identifier"?this.raiseRecoverable(b.start,"Deleting local variable in strict mode"):b.operator==="delete"&&isPrivateFieldAccess(b.argument)?this.raiseRecoverable(b.start,"Private fields can not be deleted"):t=!0,g=this.finishNode(b,S?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===types$1.privateId)(o||this.privateNameStack.length===0)&&this.unexpected(),g=this.parsePrivateIdent(),this.type!==types$1._in&&this.unexpected();else{if(g=this.parseExprSubscripts(e,o),this.checkExpressionErrors(e))return g;for(;this.type.postfix&&!this.canInsertSemicolon();){var T=this.startNodeAt(u,f);T.operator=this.value,T.prefix=!1,T.argument=g,this.checkLValSimple(g),this.next(),g=this.finishNode(T,"UpdateExpression")}}if(!r&&this.eat(types$1.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(u,f,g,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return g};function isPrivateFieldAccess(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&isPrivateFieldAccess(e.expression)}pp$5.parseExprSubscripts=function(e,t){var r=this.start,o=this.startLoc,u=this.parseExprAtom(e,t);if(u.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return u;var f=this.parseSubscripts(u,r,o,!1,t);return e&&f.type==="MemberExpression"&&(e.parenthesizedAssign>=f.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=f.start&&(e.parenthesizedBind=-1),e.trailingComma>=f.start&&(e.trailingComma=-1)),f};pp$5.parseSubscripts=function(e,t,r,o,u){for(var f=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,g=!1;;){var b=this.parseSubscript(e,t,r,o,f,g,u);if(b.optional&&(g=!0),b===e||b.type==="ArrowFunctionExpression"){if(g){var S=this.startNodeAt(t,r);S.expression=b,b=this.finishNode(S,"ChainExpression")}return b}e=b}};pp$5.parseSubscript=function(e,t,r,o,u,f,g){var b=this.options.ecmaVersion>=11,S=b&&this.eat(types$1.questionDot);o&&S&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var T=this.eat(types$1.bracketL);if(T||S&&this.type!==types$1.parenL&&this.type!==types$1.backQuote||this.eat(types$1.dot)){var $=this.startNodeAt(t,r);$.object=e,T?($.property=this.parseExpression(),this.expect(types$1.bracketR)):this.type===types$1.privateId&&e.type!=="Super"?$.property=this.parsePrivateIdent():$.property=this.parseIdent(this.options.allowReserved!=="never"),$.computed=!!T,b&&($.optional=S),e=this.finishNode($,"MemberExpression")}else if(!o&&this.eat(types$1.parenL)){var A=new DestructuringErrors,M=this.yieldPos,O=this.awaitPos,D=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var U=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1,A);if(u&&!S&&!this.canInsertSemicolon()&&this.eat(types$1.arrow))return this.checkPatternErrors(A,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=M,this.awaitPos=O,this.awaitIdentPos=D,this.parseArrowExpression(this.startNodeAt(t,r),U,!0,g);this.checkExpressionErrors(A,!0),this.yieldPos=M||this.yieldPos,this.awaitPos=O||this.awaitPos,this.awaitIdentPos=D||this.awaitIdentPos;var F=this.startNodeAt(t,r);F.callee=e,F.arguments=U,b&&(F.optional=S),e=this.finishNode(F,"CallExpression")}else if(this.type===types$1.backQuote){(S||f)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var P=this.startNodeAt(t,r);P.tag=e,P.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(P,"TaggedTemplateExpression")}return e};pp$5.parseExprAtom=function(e,t){this.type===types$1.slash&&this.readRegexp();var r,o=this.potentialArrowAt===this.start;switch(this.type){case types$1._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===types$1.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==types$1.dot&&this.type!==types$1.bracketL&&this.type!==types$1.parenL&&this.unexpected(),this.finishNode(r,"Super");case types$1._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case types$1.name:var u=this.start,f=this.startLoc,g=this.containsEsc,b=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!g&&b.name==="async"&&!this.canInsertSemicolon()&&this.eat(types$1._function))return this.overrideContext(types.f_expr),this.parseFunction(this.startNodeAt(u,f),0,!1,!0,t);if(o&&!this.canInsertSemicolon()){if(this.eat(types$1.arrow))return this.parseArrowExpression(this.startNodeAt(u,f),[b],!1,t);if(this.options.ecmaVersion>=8&&b.name==="async"&&this.type===types$1.name&&!g&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return b=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(types$1.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(u,f),[b],!0,t)}return b;case types$1.regexp:var S=this.value;return r=this.parseLiteral(S.value),r.regex={pattern:S.pattern,flags:S.flags},r;case types$1.num:case types$1.string:return this.parseLiteral(this.value);case types$1._null:case types$1._true:case types$1._false:return r=this.startNode(),r.value=this.type===types$1._null?null:this.type===types$1._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case types$1.parenL:var T=this.start,$=this.parseParenAndDistinguishExpression(o,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget($)&&(e.parenthesizedAssign=T),e.parenthesizedBind<0&&(e.parenthesizedBind=T)),$;case types$1.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(types$1.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case types$1.braceL:return this.overrideContext(types.b_expr),this.parseObj(!1,e);case types$1._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case types$1._class:return this.parseClass(this.startNode(),!1);case types$1._new:return this.parseNew();case types$1.backQuote:return this.parseTemplate();case types$1._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};pp$5.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case types$1.parenL:return this.parseDynamicImport(e);case types$1.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}};pp$5.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(types$1.parenR)){var t=this.start;this.eat(types$1.comma)&&this.eat(types$1.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};pp$5.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};pp$5.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};pp$5.parseParenExpression=function(){this.expect(types$1.parenL);var e=this.parseExpression();return this.expect(types$1.parenR),e};pp$5.parseParenAndDistinguishExpression=function(e,t){var r=this.start,o=this.startLoc,u,f=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var g=this.start,b=this.startLoc,S=[],T=!0,$=!1,A=new DestructuringErrors,M=this.yieldPos,O=this.awaitPos,D;for(this.yieldPos=0,this.awaitPos=0;this.type!==types$1.parenR;)if(T?T=!1:this.expect(types$1.comma),f&&this.afterTrailingComma(types$1.parenR,!0)){$=!0;break}else if(this.type===types$1.ellipsis){D=this.start,S.push(this.parseParenItem(this.parseRestBinding())),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else S.push(this.parseMaybeAssign(!1,A,this.parseParenItem));var U=this.lastTokEnd,F=this.lastTokEndLoc;if(this.expect(types$1.parenR),e&&!this.canInsertSemicolon()&&this.eat(types$1.arrow))return this.checkPatternErrors(A,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=M,this.awaitPos=O,this.parseParenArrowList(r,o,S,t);(!S.length||$)&&this.unexpected(this.lastTokStart),D&&this.unexpected(D),this.checkExpressionErrors(A,!0),this.yieldPos=M||this.yieldPos,this.awaitPos=O||this.awaitPos,S.length>1?(u=this.startNodeAt(g,b),u.expressions=S,this.finishNodeAt(u,"SequenceExpression",U,F)):u=S[0]}else u=this.parseParenExpression();if(this.options.preserveParens){var P=this.startNodeAt(r,o);return P.expression=u,this.finishNode(P,"ParenthesizedExpression")}else return u};pp$5.parseParenItem=function(e){return e};pp$5.parseParenArrowList=function(e,t,r,o){return this.parseArrowExpression(this.startNodeAt(e,t),r,!1,o)};var empty=[];pp$5.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(types$1.dot)){e.meta=t;var r=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var o=this.start,u=this.startLoc,f=this.type===types$1._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),o,u,!0,!1),f&&e.callee.type==="ImportExpression"&&this.raise(o,"Cannot use new with import()"),this.eat(types$1.parenL)?e.arguments=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1):e.arguments=empty,this.finishNode(e,"NewExpression")};pp$5.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===types$1.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===types$1.backQuote,this.finishNode(r,"TemplateElement")};pp$5.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var o=this.parseTemplateElement({isTagged:t});for(r.quasis=[o];!o.tail;)this.type===types$1.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(types$1.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(types$1.braceR),r.quasis.push(o=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")};pp$5.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===types$1.name||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types$1.star)&&!lineBreak$2.test(this.input.slice(this.lastTokEnd,this.start))};pp$5.parseObj=function(e,t){var r=this.startNode(),o=!0,u={};for(r.properties=[],this.next();!this.eat(types$1.braceR);){if(o)o=!1;else if(this.expect(types$1.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(types$1.braceR))break;var f=this.parseProperty(e,t);e||this.checkPropClash(f,u,t),r.properties.push(f)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")};pp$5.parseProperty=function(e,t){var r=this.startNode(),o,u,f,g;if(this.options.ecmaVersion>=9&&this.eat(types$1.ellipsis))return e?(r.argument=this.parseIdent(!1),this.type===types$1.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(this.type===types$1.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),r.argument=this.parseMaybeAssign(!1,t),this.type===types$1.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(e||t)&&(f=this.start,g=this.startLoc),e||(o=this.eat(types$1.star)));var b=this.containsEsc;return this.parsePropertyName(r),!e&&!b&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(r)?(u=!0,o=this.options.ecmaVersion>=9&&this.eat(types$1.star),this.parsePropertyName(r,t)):u=!1,this.parsePropertyValue(r,e,o,u,f,g,t,b),this.finishNode(r,"Property")};pp$5.parsePropertyValue=function(e,t,r,o,u,f,g,b){if((r||o)&&this.type===types$1.colon&&this.unexpected(),this.eat(types$1.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,g),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===types$1.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,o);else if(!t&&!b&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==types$1.comma&&this.type!==types$1.braceR&&this.type!==types$1.eq){(r||o)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var S=e.kind==="get"?0:1;if(e.value.params.length!==S){var T=e.value.start;e.kind==="get"?this.raiseRecoverable(T,"getter should have no params"):this.raiseRecoverable(T,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((r||o)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=u),e.kind="init",t?e.value=this.parseMaybeDefault(u,f,this.copyNode(e.key)):this.type===types$1.eq&&g?(g.shorthandAssign<0&&(g.shorthandAssign=this.start),e.value=this.parseMaybeDefault(u,f,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};pp$5.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(types$1.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(types$1.bracketR),e.key;e.computed=!1}return e.key=this.type===types$1.num||this.type===types$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};pp$5.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};pp$5.parseMethod=function(e,t,r){var o=this.startNode(),u=this.yieldPos,f=this.awaitPos,g=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=e),this.options.ecmaVersion>=8&&(o.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(t,o.generator)|SCOPE_SUPER|(r?SCOPE_DIRECT_SUPER:0)),this.expect(types$1.parenL),o.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=u,this.awaitPos=f,this.awaitIdentPos=g,this.finishNode(o,"FunctionExpression")};pp$5.parseArrowExpression=function(e,t,r,o){var u=this.yieldPos,f=this.awaitPos,g=this.awaitIdentPos;return this.enterScope(functionFlags(r,!1)|SCOPE_ARROW),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,o),this.yieldPos=u,this.awaitPos=f,this.awaitIdentPos=g,this.finishNode(e,"ArrowFunctionExpression")};pp$5.parseFunctionBody=function(e,t,r,o){var u=t&&this.type!==types$1.braceL,f=this.strict,g=!1;if(u)e.body=this.parseMaybeAssign(o),e.expression=!0,this.checkParams(e,!1);else{var b=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!f||b)&&(g=this.strictDirective(this.end),g&&b&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var S=this.labels;this.labels=[],g&&(this.strict=!0),this.checkParams(e,!f&&!g&&!t&&!r&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,BIND_OUTSIDE),e.body=this.parseBlock(!1,void 0,g&&!f),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=S}this.exitScope()};pp$5.isSimpleParamList=function(e){for(var t=0,r=e;t<r.length;t+=1){var o=r[t];if(o.type!=="Identifier")return!1}return!0};pp$5.checkParams=function(e,t){for(var r=Object.create(null),o=0,u=e.params;o<u.length;o+=1){var f=u[o];this.checkLValInnerPattern(f,BIND_VAR,t?null:r)}};pp$5.parseExprList=function(e,t,r,o){for(var u=[],f=!0;!this.eat(e);){if(f)f=!1;else if(this.expect(types$1.comma),t&&this.afterTrailingComma(e))break;var g=void 0;r&&this.type===types$1.comma?g=null:this.type===types$1.ellipsis?(g=this.parseSpread(o),o&&this.type===types$1.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):g=this.parseMaybeAssign(!1,o),u.push(g)}return u};pp$5.checkUnreserved=function(e){var t=e.start,r=e.end,o=e.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(t,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(t,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,r).indexOf("\\")!==-1)){var u=this.strict?this.reservedWordsStrict:this.reservedWords;u.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+o+"' is reserved"))}};pp$5.parseIdent=function(e,t){var r=this.startNode();return this.type===types$1.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,(r.name==="class"||r.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};pp$5.parsePrivateIdent=function(){var e=this.startNode();return this.type===types$1.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e),e};pp$5.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===types$1.semi||this.canInsertSemicolon()||this.type!==types$1.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(types$1.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};pp$5.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(e,t){var r=getLineInfo(this.input,e);t+=" ("+r.line+":"+r.column+")";var o=new SyntaxError(t);throw o.pos=e,o.loc=r,o.raisedAt=this.pos,o};pp$4.raiseRecoverable=pp$4.raise;pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$3=Parser.prototype,Scope=function e(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};pp$3.enterScope=function(e){this.scopeStack.push(new Scope(e))};pp$3.exitScope=function(){this.scopeStack.pop()};pp$3.treatFunctionsAsVarInScope=function(e){return e.flags&SCOPE_FUNCTION||!this.inModule&&e.flags&SCOPE_TOP};pp$3.declareName=function(e,t,r){var o=!1;if(t===BIND_LEXICAL){var u=this.currentScope();o=u.lexical.indexOf(e)>-1||u.functions.indexOf(e)>-1||u.var.indexOf(e)>-1,u.lexical.push(e),this.inModule&&u.flags&SCOPE_TOP&&delete this.undefinedExports[e]}else if(t===BIND_SIMPLE_CATCH){var f=this.currentScope();f.lexical.push(e)}else if(t===BIND_FUNCTION){var g=this.currentScope();this.treatFunctionsAsVar?o=g.lexical.indexOf(e)>-1:o=g.lexical.indexOf(e)>-1||g.var.indexOf(e)>-1,g.functions.push(e)}else for(var b=this.scopeStack.length-1;b>=0;--b){var S=this.scopeStack[b];if(S.lexical.indexOf(e)>-1&&!(S.flags&SCOPE_SIMPLE_CATCH&&S.lexical[0]===e)||!this.treatFunctionsAsVarInScope(S)&&S.functions.indexOf(e)>-1){o=!0;break}if(S.var.push(e),this.inModule&&S.flags&SCOPE_TOP&&delete this.undefinedExports[e],S.flags&SCOPE_VAR)break}o&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")};pp$3.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};pp$3.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};pp$3.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&SCOPE_VAR)return t}};pp$3.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&SCOPE_VAR&&!(t.flags&SCOPE_ARROW))return t}};var Node=function e(t,r,o){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new SourceLocation(t,o)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},pp$2=Parser.prototype;pp$2.startNode=function(){return new Node(this,this.start,this.startLoc)};pp$2.startNodeAt=function(e,t){return new Node(this,e,t)};function finishNodeAt(e,t,r,o){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=o),this.options.ranges&&(e.range[1]=r),e}pp$2.finishNode=function(e,t){return finishNodeAt.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};pp$2.finishNodeAt=function(e,t,r,o){return finishNodeAt.call(this,e,t,r,o)};pp$2.copyNode=function(e){var t=new Node(this,e.start,this.startLoc);for(var r in e)t[r]=e[r];return t};var ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic",ecma11BinaryProperties=ecma10BinaryProperties,ecma12BinaryProperties=ecma11BinaryProperties+" EBase EComp EMod EPres ExtPict",ecma13BinaryProperties=ecma12BinaryProperties,unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties,12:ecma12BinaryProperties,13:ecma13BinaryProperties},unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ecma9ScriptValues="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ecma12ScriptValues=ecma11ScriptValues+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ecma13ScriptValues=ecma12ScriptValues+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues,12:ecma12ScriptValues,13:ecma13ScriptValues},data={};function buildUnicodeData(e){var t=data[e]={binary:wordsRegexp(unicodeBinaryProperties[e]+" "+unicodeGeneralCategoryValues),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var i=0,list=[9,10,11,12,13];i<list.length;i+=1){var ecmaVersion=list[i];buildUnicodeData(ecmaVersion)}var pp$1=Parser.prototype,RegExpValidationState=function e(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":""),this.unicodeProperties=data[t.options.ecmaVersion>=13?13:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};RegExpValidationState.prototype.reset=function e(t,r,o){var u=o.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=o,this.switchU=u&&this.parser.options.ecmaVersion>=6,this.switchN=u&&this.parser.options.ecmaVersion>=9};RegExpValidationState.prototype.raise=function e(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};RegExpValidationState.prototype.at=function e(t,r){r===void 0&&(r=!1);var o=this.source,u=o.length;if(t>=u)return-1;var f=o.charCodeAt(t);if(!(r||this.switchU)||f<=55295||f>=57344||t+1>=u)return f;var g=o.charCodeAt(t+1);return g>=56320&&g<=57343?(f<<10)+g-56613888:f};RegExpValidationState.prototype.nextIndex=function e(t,r){r===void 0&&(r=!1);var o=this.source,u=o.length;if(t>=u)return u;var f=o.charCodeAt(t),g;return!(r||this.switchU)||f<=55295||f>=57344||t+1>=u||(g=o.charCodeAt(t+1))<56320||g>57343?t+1:t+2};RegExpValidationState.prototype.current=function e(t){return t===void 0&&(t=!1),this.at(this.pos,t)};RegExpValidationState.prototype.lookahead=function e(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};RegExpValidationState.prototype.advance=function e(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};RegExpValidationState.prototype.eat=function e(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};function codePointToString$1(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}pp$1.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,o=0;o<r.length;o++){var u=r.charAt(o);t.indexOf(u)===-1&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(u,o+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}};pp$1.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};pp$1.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,r=e.backReferenceNames;t<r.length;t+=1){var o=r[t];e.groupNames.indexOf(o)===-1&&e.raise("Invalid named capture referenced")}};pp$1.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};pp$1.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};pp$1.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};pp$1.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1};pp$1.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};pp$1.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};pp$1.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var o=0,u=-1;if(this.regexp_eatDecimalDigits(e)&&(o=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(u=e.lastIntValue),e.eat(125)))return u!==-1&&u<o&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1};pp$1.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};pp$1.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};pp$1.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};pp$1.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};pp$1.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};pp$1.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};pp$1.regexp_eatSyntaxCharacter=function(e){var t=e.current();return isSyntaxCharacter(t)?(e.lastIntValue=t,e.advance(),!0):!1};function isSyntaxCharacter(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}pp$1.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;(r=e.current())!==-1&&!isSyntaxCharacter(r);)e.advance();return e.pos!==t};pp$1.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};pp$1.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};pp$1.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};pp$1.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=codePointToString$1(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=codePointToString$1(e.lastIntValue);return!0}return!1};pp$1.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,o=e.current(r);return e.advance(r),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(o=e.lastIntValue),isRegExpIdentifierStart(o)?(e.lastIntValue=o,!0):(e.pos=t,!1)};function isRegExpIdentifierStart(e){return isIdentifierStart(e,!0)||e===36||e===95}pp$1.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,o=e.current(r);return e.advance(r),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(o=e.lastIntValue),isRegExpIdentifierPart(o)?(e.lastIntValue=o,!0):(e.pos=t,!1)};function isRegExpIdentifierPart(e){return isIdentifierChar(e,!0)||e===36||e===95||e===8204||e===8205}pp$1.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};pp$1.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1};pp$1.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};pp$1.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};pp$1.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};pp$1.regexp_eatZero=function(e){return e.current()===48&&!isDecimalDigit(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};pp$1.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};pp$1.regexp_eatControlLetter=function(e){var t=e.current();return isControlLetter(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function isControlLetter(e){return e>=65&&e<=90||e>=97&&e<=122}pp$1.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var r=e.pos,o=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var u=e.lastIntValue;if(o&&u>=55296&&u<=56319){var f=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var g=e.lastIntValue;if(g>=56320&&g<=57343)return e.lastIntValue=(u-55296)*1024+(g-56320)+65536,!0}e.pos=f,e.lastIntValue=u}return!0}if(o&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&isValidUnicode(e.lastIntValue))return!0;o&&e.raise("Invalid unicode escape"),e.pos=r}return!1};function isValidUnicode(e){return e>=0&&e<=1114111}pp$1.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};pp$1.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};pp$1.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(isCharacterClassEscape(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(t===80||t===112)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1};function isCharacterClassEscape(e){return e===100||e===68||e===115||e===83||e===119||e===87}pp$1.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var o=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,o),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var u=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,u),!0}return!1};pp$1.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){hasOwn(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")};pp$1.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")};pp$1.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyNameCharacter(t=e.current());)e.lastStringValue+=codePointToString$1(t),e.advance();return e.lastStringValue!==""};function isUnicodePropertyNameCharacter(e){return isControlLetter(e)||e===95}pp$1.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";isUnicodePropertyValueCharacter(t=e.current());)e.lastStringValue+=codePointToString$1(t),e.advance();return e.lastStringValue!==""};function isUnicodePropertyValueCharacter(e){return isUnicodePropertyNameCharacter(e)||isDecimalDigit(e)}pp$1.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};pp$1.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1};pp$1.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;e.switchU&&(t===-1||r===-1)&&e.raise("Invalid character class"),t!==-1&&r!==-1&&t>r&&e.raise("Range out of order in character class")}}};pp$1.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(r===99||isOctalDigit(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var o=e.current();return o!==93?(e.lastIntValue=o,e.advance(),!0):!1};pp$1.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};pp$1.regexp_eatClassControlLetter=function(e){var t=e.current();return isDecimalDigit(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};pp$1.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};pp$1.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;isDecimalDigit(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t};function isDecimalDigit(e){return e>=48&&e<=57}pp$1.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;isHexDigit(r=e.current());)e.lastIntValue=16*e.lastIntValue+hexToInt(r),e.advance();return e.pos!==t};function isHexDigit(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function hexToInt(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}pp$1.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+r*8+e.lastIntValue:e.lastIntValue=t*8+r}else e.lastIntValue=t;return!0}return!1};pp$1.regexp_eatOctalDigit=function(e){var t=e.current();return isOctalDigit(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function isOctalDigit(e){return e>=48&&e<=55}pp$1.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var o=0;o<t;++o){var u=e.current();if(!isHexDigit(u))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+hexToInt(u),e.advance()}return!0};var Token$3=function e(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new SourceLocation(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},pp=Parser.prototype;pp.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Token$3(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};pp.getToken=function(){return this.next(),new Token$3(this)};typeof Symbol<"u"&&(pp[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===types$1.eof,value:t}}}});pp.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types$1.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};pp.readToken=function(e){return isIdentifierStart(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};pp.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};pp.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var o=void 0,u=t;(o=nextLineBreak(this.input,u,this.pos))>-1;)++this.curLine,u=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,e,this.curPosition())};pp.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!isNewLine(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())};pp.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&nonASCIIwhitespace.test(String.fromCharCode(e)))++this.pos;else break e}}};pp.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)};pp.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(types$1.ellipsis)):(++this.pos,this.finishToken(types$1.dot))};pp.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.slash,1)};pp.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,o=e===42?types$1.star:types$1.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++r,o=types$1.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(types$1.assign,r+1):this.finishOp(o,r)};pp.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(types$1.assign,3)}return this.finishOp(e===124?types$1.logicalOR:types$1.logicalAND,2)}return t===61?this.finishOp(types$1.assign,2):this.finishOp(e===124?types$1.bitwiseOR:types$1.bitwiseAND,1)};pp.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.bitwiseXOR,1)};pp.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak$2.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types$1.incDec,2):t===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.plusMin,1)};pp.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(types$1.assign,r+1):this.finishOp(types$1.bitShift,r)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(r=2),this.finishOp(types$1.relational,r))};pp.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(types$1.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types$1.arrow)):this.finishOp(e===61?types$1.eq:types$1.prefix,1)};pp.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(types$1.questionDot,2)}if(t===63){if(e>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(types$1.assign,3)}return this.finishOp(types$1.coalesce,2)}}return this.finishOp(types$1.question,1)};pp.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),isIdentifierStart(t,!0)||t===92))return this.finishToken(types$1.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+codePointToString(t)+"'")};pp.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types$1.parenL);case 41:return++this.pos,this.finishToken(types$1.parenR);case 59:return++this.pos,this.finishToken(types$1.semi);case 44:return++this.pos,this.finishToken(types$1.comma);case 91:return++this.pos,this.finishToken(types$1.bracketL);case 93:return++this.pos,this.finishToken(types$1.bracketR);case 123:return++this.pos,this.finishToken(types$1.braceL);case 125:return++this.pos,this.finishToken(types$1.braceR);case 58:return++this.pos,this.finishToken(types$1.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types$1.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(types$1.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+codePointToString(e)+"'")};pp.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)};pp.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(lineBreak$2.test(o)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if(o==="[")t=!0;else if(o==="]"&&t)t=!1;else if(o==="/"&&!t)break;e=o==="\\"}++this.pos}var u=this.input.slice(r,this.pos);++this.pos;var f=this.pos,g=this.readWord1();this.containsEsc&&this.unexpected(f);var b=this.regexpState||(this.regexpState=new RegExpValidationState(this));b.reset(r,u,g),this.validateRegExpFlags(b),this.validateRegExpPattern(b);var S=null;try{S=new RegExp(u,g)}catch{}return this.finishToken(types$1.regexp,{pattern:u,flags:g,value:S})};pp.readInt=function(e,t,r){for(var o=this.options.ecmaVersion>=12&&t===void 0,u=r&&this.input.charCodeAt(this.pos)===48,f=this.pos,g=0,b=0,S=0,T=t??1/0;S<T;++S,++this.pos){var $=this.input.charCodeAt(this.pos),A=void 0;if(o&&$===95){u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),b===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),S===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),b=$;continue}if($>=97?A=$-97+10:$>=65?A=$-65+10:$>=48&&$<=57?A=$-48:A=1/0,A>=e)break;b=$,g=g*e+A}return o&&b===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===f||t!=null&&this.pos-f!==t?null:g};function stringToNumber(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function stringToBigInt(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}pp.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return r==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=stringToBigInt(this.input.slice(t,this.pos)),++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,r)};pp.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var r=this.pos-t>=2&&this.input.charCodeAt(t)===48;r&&this.strict&&this.raise(t,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&o===110){var u=stringToBigInt(this.input.slice(t,this.pos));return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,u)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),o===46&&!r&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!r&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var f=stringToNumber(this.input.slice(t,this.pos),r);return this.finishToken(types$1.num,f)};pp.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else t=this.readHexChar(4);return t};function codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}pp.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===e)break;o===92?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(isNewLine(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(types$1.string,t)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};pp.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(e,t)};pp.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===types$1.template||this.type===types$1.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(types$1.dollarBraceL)):(++this.pos,this.finishToken(types$1.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(types$1.template,e));if(r===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(isNewLine(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};pp.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(types$1.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};pp.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var r=this.pos-1;return this.invalidStringToken(r,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],u=parseInt(o,8);return u>255&&(o=o.slice(0,-1),u=parseInt(o,8)),this.pos+=o.length-1,t=this.input.charCodeAt(this.pos),(o!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-o.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(u)}return isNewLine(t)?"":String.fromCharCode(t)}};pp.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return r===null&&this.invalidStringToken(t,"Bad character escape sequence"),r};pp.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var u=this.fullCharCodeAtPos();if(isIdentifierChar(u,o))this.pos+=u<=65535?1:2;else if(u===92){this.containsEsc=!0,e+=this.input.slice(r,this.pos);var f=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var g=this.readCodePoint();(t?isIdentifierStart:isIdentifierChar)(g,o)||this.invalidStringToken(f,"Invalid Unicode escape"),e+=codePointToString(g),r=this.pos}else break;t=!1}return e+this.input.slice(r,this.pos)};pp.readWord=function(){var e=this.readWord1(),t=types$1.name;return this.keywords.test(e)&&(t=keywords[e]),this.finishToken(t,e)};var version="8.7.0";Parser.acorn={Parser,version,defaultOptions,Position,SourceLocation,getLineInfo,Node,TokenType,tokTypes:types$1,keywordTypes:keywords,TokContext,tokContexts:types,isIdentifierChar,isIdentifierStart,Token:Token$3,isNewLine,lineBreak:lineBreak$2,lineBreakG,nonASCIIwhitespace};const{stringify}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");const OPERATOR_PRECEDENCE={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},NEEDS_PARENTHESES=17,EXPRESSIONS_PRECEDENCE={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:NEEDS_PARENTHESES,ClassExpression:NEEDS_PARENTHESES,FunctionExpression:NEEDS_PARENTHESES,ObjectExpression:NEEDS_PARENTHESES,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function formatSequence(e,t){const{generator:r}=e;if(e.write("("),t!=null&&t.length>0){r[t[0].type](t[0],e);const{length:o}=t;for(let u=1;u<o;u++){const f=t[u];e.write(", "),r[f.type](f,e)}}e.write(")")}function expressionNeedsParenthesis(e,t,r,o){const u=e.expressionsPrecedence[t.type];if(u===NEEDS_PARENTHESES)return!0;const f=e.expressionsPrecedence[r.type];return u!==f?!o&&u===15&&f===14&&r.operator==="**"||u<f:u!==13&&u!==14?!1:t.operator==="**"&&r.operator==="**"?!o:o?OPERATOR_PRECEDENCE[t.operator]<=OPERATOR_PRECEDENCE[r.operator]:OPERATOR_PRECEDENCE[t.operator]<OPERATOR_PRECEDENCE[r.operator]}function formatExpression(e,t,r,o){const{generator:u}=e;expressionNeedsParenthesis(e,t,r,o)?(e.write("("),u[t.type](t,e),e.write(")")):u[t.type](t,e)}function reindent(e,t,r,o){const u=t.split(`
`),f=u.length-1;if(e.write(u[0].trim()),f>0){e.write(o);for(let g=1;g<f;g++)e.write(r+u[g].trim()+o);e.write(r+u[f].trim())}}function formatComments(e,t,r,o){const{length:u}=t;for(let f=0;f<u;f++){const g=t[f];e.write(r),g.type[0]==="L"?e.write("// "+g.value.trim()+`
`,g):(e.write("/*"),reindent(e,g.value,r,o),e.write("*/"+o))}}function hasCallExpression(e){let t=e;for(;t!=null;){const{type:r}=t;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")t=t.object;else return!1}}function formatVariableDeclaration(e,t){const{generator:r}=e,{declarations:o}=t;e.write(t.kind+" ");const{length:u}=o;if(u>0){r.VariableDeclarator(o[0],e);for(let f=1;f<u;f++)e.write(", "),r.VariableDeclarator(o[f],e)}}let ForInStatement,FunctionDeclaration,RestElement,BinaryExpression,ArrayExpression,BlockStatement;const GENERATOR={Program(e,t){const r=t.indent.repeat(t.indentLevel),{lineEnd:o,writeComments:u}=t;u&&e.comments!=null&&formatComments(t,e.comments,r,o);const f=e.body,{length:g}=f;for(let b=0;b<g;b++){const S=f[b];u&&S.comments!=null&&formatComments(t,S.comments,r,o),t.write(r),this[S.type](S,t),t.write(o)}u&&e.trailingComments!=null&&formatComments(t,e.trailingComments,r,o)},BlockStatement:BlockStatement=function(e,t){const r=t.indent.repeat(t.indentLevel++),{lineEnd:o,writeComments:u}=t,f=r+t.indent;t.write("{");const g=e.body;if(g!=null&&g.length>0){t.write(o),u&&e.comments!=null&&formatComments(t,e.comments,f,o);const{length:b}=g;for(let S=0;S<b;S++){const T=g[S];u&&T.comments!=null&&formatComments(t,T.comments,f,o),t.write(f),this[T.type](T,t),t.write(o)}t.write(r)}else u&&e.comments!=null&&(t.write(o),formatComments(t,e.comments,f,o),t.write(r));u&&e.trailingComments!=null&&formatComments(t,e.trailingComments,f,o),t.write("}"),t.indentLevel--},ClassBody:BlockStatement,StaticBlock(e,t){t.write("static "),this.BlockStatement(e,t)},EmptyStatement(e,t){t.write(";")},ExpressionStatement(e,t){const r=t.expressionsPrecedence[e.expression.type];r===NEEDS_PARENTHESES||r===3&&e.expression.left.type[0]==="O"?(t.write("("),this[e.expression.type](e.expression,t),t.write(")")):this[e.expression.type](e.expression,t),t.write(";")},IfStatement(e,t){t.write("if ("),this[e.test.type](e.test,t),t.write(") "),this[e.consequent.type](e.consequent,t),e.alternate!=null&&(t.write(" else "),this[e.alternate.type](e.alternate,t))},LabeledStatement(e,t){this[e.label.type](e.label,t),t.write(": "),this[e.body.type](e.body,t)},BreakStatement(e,t){t.write("break"),e.label!=null&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},ContinueStatement(e,t){t.write("continue"),e.label!=null&&(t.write(" "),this[e.label.type](e.label,t)),t.write(";")},WithStatement(e,t){t.write("with ("),this[e.object.type](e.object,t),t.write(") "),this[e.body.type](e.body,t)},SwitchStatement(e,t){const r=t.indent.repeat(t.indentLevel++),{lineEnd:o,writeComments:u}=t;t.indentLevel++;const f=r+t.indent,g=f+t.indent;t.write("switch ("),this[e.discriminant.type](e.discriminant,t),t.write(") {"+o);const{cases:b}=e,{length:S}=b;for(let T=0;T<S;T++){const $=b[T];u&&$.comments!=null&&formatComments(t,$.comments,f,o),$.test?(t.write(f+"case "),this[$.test.type]($.test,t),t.write(":"+o)):t.write(f+"default:"+o);const{consequent:A}=$,{length:M}=A;for(let O=0;O<M;O++){const D=A[O];u&&D.comments!=null&&formatComments(t,D.comments,g,o),t.write(g),this[D.type](D,t),t.write(o)}}t.indentLevel-=2,t.write(r+"}")},ReturnStatement(e,t){t.write("return"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t)),t.write(";")},ThrowStatement(e,t){t.write("throw "),this[e.argument.type](e.argument,t),t.write(";")},TryStatement(e,t){if(t.write("try "),this[e.block.type](e.block,t),e.handler){const{handler:r}=e;r.param==null?t.write(" catch "):(t.write(" catch ("),this[r.param.type](r.param,t),t.write(") ")),this[r.body.type](r.body,t)}e.finalizer&&(t.write(" finally "),this[e.finalizer.type](e.finalizer,t))},WhileStatement(e,t){t.write("while ("),this[e.test.type](e.test,t),t.write(") "),this[e.body.type](e.body,t)},DoWhileStatement(e,t){t.write("do "),this[e.body.type](e.body,t),t.write(" while ("),this[e.test.type](e.test,t),t.write(");")},ForStatement(e,t){if(t.write("for ("),e.init!=null){const{init:r}=e;r.type[0]==="V"?formatVariableDeclaration(t,r):this[r.type](r,t)}t.write("; "),e.test&&this[e.test.type](e.test,t),t.write("; "),e.update&&this[e.update.type](e.update,t),t.write(") "),this[e.body.type](e.body,t)},ForInStatement:ForInStatement=function(e,t){t.write(`for ${e.await?"await ":""}(`);const{left:r}=e;r.type[0]==="V"?formatVariableDeclaration(t,r):this[r.type](r,t),t.write(e.type[3]==="I"?" in ":" of "),this[e.right.type](e.right,t),t.write(") "),this[e.body.type](e.body,t)},ForOfStatement:ForInStatement,DebuggerStatement(e,t){t.write("debugger;",e)},FunctionDeclaration:FunctionDeclaration=function(e,t){t.write((e.async?"async ":"")+(e.generator?"function* ":"function ")+(e.id?e.id.name:""),e),formatSequence(t,e.params),t.write(" "),this[e.body.type](e.body,t)},FunctionExpression:FunctionDeclaration,VariableDeclaration(e,t){formatVariableDeclaration(t,e),t.write(";")},VariableDeclarator(e,t){this[e.id.type](e.id,t),e.init!=null&&(t.write(" = "),this[e.init.type](e.init,t))},ClassDeclaration(e,t){if(t.write("class "+(e.id?`${e.id.name} `:""),e),e.superClass){t.write("extends ");const{superClass:r}=e,{type:o}=r,u=t.expressionsPrecedence[o];(o[0]!=="C"||o[1]!=="l"||o[5]!=="E")&&(u===NEEDS_PARENTHESES||u<t.expressionsPrecedence.ClassExpression)?(t.write("("),this[e.superClass.type](r,t),t.write(")")):this[r.type](r,t),t.write(" ")}this.ClassBody(e.body,t)},ImportDeclaration(e,t){t.write("import ");const{specifiers:r}=e,{length:o}=r;let u=0;if(o>0){for(;u<o;){u>0&&t.write(", ");const f=r[u],g=f.type[6];if(g==="D")t.write(f.local.name,f),u++;else if(g==="N")t.write("* as "+f.local.name,f),u++;else break}if(u<o){for(t.write("{");;){const f=r[u],{name:g}=f.imported;if(t.write(g,f),g!==f.local.name&&t.write(" as "+f.local.name),++u<o)t.write(", ");else break}t.write("}")}t.write(" from ")}this.Literal(e.source,t),t.write(";")},ImportExpression(e,t){t.write("import("),this[e.source.type](e.source,t),t.write(")")},ExportDefaultDeclaration(e,t){t.write("export default "),this[e.declaration.type](e.declaration,t),t.expressionsPrecedence[e.declaration.type]!=null&&e.declaration.type[0]!=="F"&&t.write(";")},ExportNamedDeclaration(e,t){if(t.write("export "),e.declaration)this[e.declaration.type](e.declaration,t);else{t.write("{");const{specifiers:r}=e,{length:o}=r;if(o>0)for(let u=0;;){const f=r[u],{name:g}=f.local;if(t.write(g,f),g!==f.exported.name&&t.write(" as "+f.exported.name),++u<o)t.write(", ");else break}t.write("}"),e.source&&(t.write(" from "),this.Literal(e.source,t)),t.write(";")}},ExportAllDeclaration(e,t){e.exported!=null?t.write("export * as "+e.exported.name+" from "):t.write("export * from "),this.Literal(e.source,t),t.write(";")},MethodDefinition(e,t){e.static&&t.write("static ");const r=e.kind[0];(r==="g"||r==="s")&&t.write(e.kind+" "),e.value.async&&t.write("async "),e.value.generator&&t.write("*"),e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),formatSequence(t,e.value.params),t.write(" "),this[e.value.body.type](e.value.body,t)},ClassExpression(e,t){this.ClassDeclaration(e,t)},ArrowFunctionExpression(e,t){t.write(e.async?"async ":"",e);const{params:r}=e;r!=null&&(r.length===1&&r[0].type[0]==="I"?t.write(r[0].name,r[0]):formatSequence(t,e.params)),t.write(" => "),e.body.type[0]==="O"?(t.write("("),this.ObjectExpression(e.body,t),t.write(")")):this[e.body.type](e.body,t)},ThisExpression(e,t){t.write("this",e)},Super(e,t){t.write("super",e)},RestElement:RestElement=function(e,t){t.write("..."),this[e.argument.type](e.argument,t)},SpreadElement:RestElement,YieldExpression(e,t){t.write(e.delegate?"yield*":"yield"),e.argument&&(t.write(" "),this[e.argument.type](e.argument,t))},AwaitExpression(e,t){t.write("await ",e),formatExpression(t,e.argument,e)},TemplateLiteral(e,t){const{quasis:r,expressions:o}=e;t.write("`");const{length:u}=o;for(let g=0;g<u;g++){const b=o[g],S=r[g];t.write(S.value.raw,S),t.write("${"),this[b.type](b,t),t.write("}")}const f=r[r.length-1];t.write(f.value.raw,f),t.write("`")},TemplateElement(e,t){t.write(e.value.raw,e)},TaggedTemplateExpression(e,t){formatExpression(t,e.tag,e),this[e.quasi.type](e.quasi,t)},ArrayExpression:ArrayExpression=function(e,t){if(t.write("["),e.elements.length>0){const{elements:r}=e,{length:o}=r;for(let u=0;;){const f=r[u];if(f!=null&&this[f.type](f,t),++u<o)t.write(", ");else{f==null&&t.write(", ");break}}}t.write("]")},ArrayPattern:ArrayExpression,ObjectExpression(e,t){const r=t.indent.repeat(t.indentLevel++),{lineEnd:o,writeComments:u}=t,f=r+t.indent;if(t.write("{"),e.properties.length>0){t.write(o),u&&e.comments!=null&&formatComments(t,e.comments,f,o);const g=","+o,{properties:b}=e,{length:S}=b;for(let T=0;;){const $=b[T];if(u&&$.comments!=null&&formatComments(t,$.comments,f,o),t.write(f),this[$.type]($,t),++T<S)t.write(g);else break}t.write(o),u&&e.trailingComments!=null&&formatComments(t,e.trailingComments,f,o),t.write(r+"}")}else u?e.comments!=null?(t.write(o),formatComments(t,e.comments,f,o),e.trailingComments!=null&&formatComments(t,e.trailingComments,f,o),t.write(r+"}")):e.trailingComments!=null?(t.write(o),formatComments(t,e.trailingComments,f,o),t.write(r+"}")):t.write("}"):t.write("}");t.indentLevel--},Property(e,t){e.method||e.kind[0]!=="i"?this.MethodDefinition(e,t):(e.shorthand||(e.computed?(t.write("["),this[e.key.type](e.key,t),t.write("]")):this[e.key.type](e.key,t),t.write(": ")),this[e.value.type](e.value,t))},PropertyDefinition(e,t){e.static&&t.write("static "),this[e.key.type](e.key,t),t.write(" = "),this[e.value.type](e.value,t)},ObjectPattern(e,t){if(t.write("{"),e.properties.length>0){const{properties:r}=e,{length:o}=r;for(let u=0;this[r[u].type](r[u],t),++u<o;)t.write(", ")}t.write("}")},SequenceExpression(e,t){formatSequence(t,e.expressions)},UnaryExpression(e,t){if(e.prefix){const{operator:r,argument:o,argument:{type:u}}=e;t.write(r);const f=expressionNeedsParenthesis(t,o,e);!f&&(r.length>1||u[0]==="U"&&(u[1]==="n"||u[1]==="p")&&o.prefix&&o.operator[0]===r&&(r==="+"||r==="-"))&&t.write(" "),f?(t.write(r.length>1?" (":"("),this[u](o,t),t.write(")")):this[u](o,t)}else this[e.argument.type](e.argument,t),t.write(e.operator)},UpdateExpression(e,t){e.prefix?(t.write(e.operator),this[e.argument.type](e.argument,t)):(this[e.argument.type](e.argument,t),t.write(e.operator))},AssignmentExpression(e,t){this[e.left.type](e.left,t),t.write(" "+e.operator+" "),this[e.right.type](e.right,t)},AssignmentPattern(e,t){this[e.left.type](e.left,t),t.write(" = "),this[e.right.type](e.right,t)},BinaryExpression:BinaryExpression=function(e,t){const r=e.operator==="in";r&&t.write("("),formatExpression(t,e.left,e,!1),t.write(" "+e.operator+" "),formatExpression(t,e.right,e,!0),r&&t.write(")")},LogicalExpression:BinaryExpression,ConditionalExpression(e,t){const{test:r}=e,o=t.expressionsPrecedence[r.type];o===NEEDS_PARENTHESES||o<=t.expressionsPrecedence.ConditionalExpression?(t.write("("),this[r.type](r,t),t.write(")")):this[r.type](r,t),t.write(" ? "),this[e.consequent.type](e.consequent,t),t.write(" : "),this[e.alternate.type](e.alternate,t)},NewExpression(e,t){t.write("new ");const r=t.expressionsPrecedence[e.callee.type];r===NEEDS_PARENTHESES||r<t.expressionsPrecedence.CallExpression||hasCallExpression(e.callee)?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),formatSequence(t,e.arguments)},CallExpression(e,t){const r=t.expressionsPrecedence[e.callee.type];r===NEEDS_PARENTHESES||r<t.expressionsPrecedence.CallExpression?(t.write("("),this[e.callee.type](e.callee,t),t.write(")")):this[e.callee.type](e.callee,t),e.optional&&t.write("?."),formatSequence(t,e.arguments)},ChainExpression(e,t){this[e.expression.type](e.expression,t)},MemberExpression(e,t){const r=t.expressionsPrecedence[e.object.type];r===NEEDS_PARENTHESES||r<t.expressionsPrecedence.MemberExpression?(t.write("("),this[e.object.type](e.object,t),t.write(")")):this[e.object.type](e.object,t),e.computed?(e.optional&&t.write("?."),t.write("["),this[e.property.type](e.property,t),t.write("]")):(e.optional?t.write("?."):t.write("."),this[e.property.type](e.property,t))},MetaProperty(e,t){t.write(e.meta.name+"."+e.property.name,e)},Identifier(e,t){t.write(e.name,e)},PrivateIdentifier(e,t){t.write(`#${e.name}`,e)},Literal(e,t){e.raw!=null?t.write(e.raw,e):e.regex!=null?this.RegExpLiteral(e,t):e.bigint!=null?t.write(e.bigint+"n",e):t.write(stringify(e.value),e)},RegExpLiteral(e,t){const{regex:r}=e;t.write(`/${r.pattern}/${r.flags}`,e)}},EMPTY_OBJECT={};class State{constructor(t){const r=t??EMPTY_OBJECT;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:GENERATOR,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:EXPRESSIONS_PRECEDENCE,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(t){this.output+=t}writeToStream(t){this.output.write(t)}writeAndMap(t,r){this.output+=t,this.map(t,r)}writeToStreamAndMap(t,r){this.output.write(t),this.map(t,r)}map(t,r){if(r!=null){const{type:f}=r;if(f[0]==="L"&&f[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){const{mapping:g}=this;g.original=r.loc.start,g.name=r.name,this.sourceMap.addMapping(g)}if(f[0]==="T"&&f[8]==="E"||f[0]==="L"&&f[1]==="i"&&typeof r.value=="string"){const{length:g}=t;let{column:b,line:S}=this;for(let T=0;T<g;T++)t[T]===`
`?(b=0,S++):b++;this.column=b,this.line=S;return}}const{length:o}=t,{lineEnd:u}=this;o>0&&(this.lineEndSize>0&&(u.length===1?t[o-1]===u:t.endsWith(u))?(this.line+=this.lineEndSize,this.column=0):this.column+=o)}toString(){return this.output}}function generate(e,t){const r=new State(t);return r.generator[e.type](e,r),r.output}var astravel={},defaultTraveler={};(function(e){(function(t,r){r(e)})(this,function(t){t.__esModule=!0;function r($,A){if(!($ instanceof A))throw new TypeError("Cannot call a class as a function")}var o=void 0,u=void 0,f=void 0,g=void 0,b=void 0,S=Function.prototype,T=function $(A,M){r(this,$),this.node=A,this.state=M};t.default={go:function(A,M){this[A.type](A,M)},find:function(A,M,O){var D=Object.create(this);D.go=function(U,F){if(A(U,F))throw new T(U,F);this[U.type](U,F)};try{D.go(M,O)}catch(U){if(U instanceof T)return U;throw U}},makeChild:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=Object.create(this);M.super=this;for(var O in A)M[O]=A[O];return M},Program:function(A,M){for(var O=A.body,D=O.length,U=0;U<D;U++)this.go(O[U],M)},BlockStatement:function(A,M){var O=A.body;if(O!=null)for(var D=0,U=O.length;D<U;D++)this.go(O[D],M)},EmptyStatement:S,ExpressionStatement:function(A,M){this.go(A.expression,M)},IfStatement:function(A,M){this.go(A.test,M),this.go(A.consequent,M),A.alternate!=null&&this.go(A.alternate,M)},LabeledStatement:function(A,M){this.go(A.label,M),this.go(A.body,M)},BreakStatement:function(A,M){A.label&&this.go(A.label,M)},ContinueStatement:function(A,M){A.label&&this.go(A.label,M)},WithStatement:function(A,M){this.go(A.object,M),this.go(A.body,M)},SwitchStatement:function(A,M){this.go(A.discriminant,M);for(var O=A.cases,D=O.length,U=0;U<D;U++)this.go(O[U],M)},SwitchCase:function(A,M){A.test!=null&&this.go(A.test,M);for(var O=A.consequent,D=O.length,U=0;U<D;U++)this.go(O[U],M)},ReturnStatement:function(A,M){A.argument&&this.go(A.argument,M)},ThrowStatement:function(A,M){this.go(A.argument,M)},TryStatement:function(A,M){this.go(A.block,M),A.handler!=null&&this.go(A.handler,M),A.finalizer!=null&&this.go(A.finalizer,M)},CatchClause:function(A,M){A.param!=null&&this.go(A.param,M),this.go(A.body,M)},WhileStatement:function(A,M){this.go(A.test,M),this.go(A.body,M)},DoWhileStatement:function(A,M){this.go(A.body,M),this.go(A.test,M)},ForStatement:function(A,M){A.init!=null&&this.go(A.init,M),A.test!=null&&this.go(A.test,M),A.update!=null&&this.go(A.update,M),this.go(A.body,M)},ForInStatement:o=function(A,M){this.go(A.left,M),this.go(A.right,M),this.go(A.body,M)},DebuggerStatement:S,FunctionDeclaration:u=function(A,M){A.id!=null&&this.go(A.id,M);var O=A.params;if(O!=null)for(var D=0,U=O.length;D<U;D++)this.go(O[D],M);this.go(A.body,M)},VariableDeclaration:function(A,M){for(var O=A.declarations,D=O.length,U=0;U<D;U++)this.go(O[U],M)},VariableDeclarator:function(A,M){this.go(A.id,M),A.init!=null&&this.go(A.init,M)},ArrowFunctionExpression:function(A,M){var O=A.params;if(O!=null)for(var D=0,U=O.length;D<U;D++)this.go(O[D],M);this.go(A.body,M)},ThisExpression:S,ArrayExpression:b=function(A,M){for(var O=A.elements,D=O.length,U=0;U<D;U++){var F=O[U];F!=null&&this.go(O[U],M)}},ObjectExpression:function(A,M){for(var O=A.properties,D=O.length,U=0;U<D;U++)this.go(O[U],M)},Property:function(A,M){this.go(A.key,M),A.shorthand||this.go(A.value,M)},FunctionExpression:u,SequenceExpression:function(A,M){for(var O=A.expressions,D=O.length,U=0;U<D;U++)this.go(O[U],M)},UnaryExpression:function(A,M){this.go(A.argument,M)},UpdateExpression:function(A,M){this.go(A.argument,M)},AssignmentExpression:function(A,M){this.go(A.left,M),this.go(A.right,M)},BinaryExpression:g=function(A,M){this.go(A.left,M),this.go(A.right,M)},LogicalExpression:g,ConditionalExpression:function(A,M){this.go(A.test,M),this.go(A.consequent,M),this.go(A.alternate,M)},NewExpression:function(A,M){this.CallExpression(A,M)},CallExpression:function(A,M){this.go(A.callee,M);for(var O=A.arguments,D=O.length,U=0;U<D;U++)this.go(O[U],M)},MemberExpression:function(A,M){this.go(A.object,M),this.go(A.property,M)},Identifier:S,Literal:S,ForOfStatement:o,ClassDeclaration:function(A,M){A.id&&this.go(A.id,M),A.superClass&&this.go(A.superClass,M),this.go(A.body,M)},ClassBody:function(A,M){for(var O=A.body,D=O.length,U=0;U<D;U++)this.go(O[U],M)},ImportDeclaration:function(A,M){for(var O=A.specifiers,D=O.length,U=0;U<D;U++)this.go(O[U],M);this.go(A.source,M)},ImportNamespaceSpecifier:function(A,M){this.go(A.local,M)},ImportDefaultSpecifier:function(A,M){this.go(A.local,M)},ImportSpecifier:function(A,M){this.go(A.imported,M),this.go(A.local,M)},ExportDefaultDeclaration:function(A,M){this.go(A.declaration,M)},ExportNamedDeclaration:function(A,M){A.declaration&&this.go(A.declaration,M);for(var O=A.specifiers,D=O.length,U=0;U<D;U++)this.go(O[U],M);A.source&&this.go(A.source,M)},ExportSpecifier:function(A,M){this.go(A.local,M),this.go(A.exported,M)},ExportAllDeclaration:function(A,M){this.go(A.source,M)},MethodDefinition:function(A,M){this.go(A.key,M),this.go(A.value,M)},ClassExpression:function(A,M){this.ClassDeclaration(A,M)},Super:S,RestElement:f=function(A,M){this.go(A.argument,M)},SpreadElement:f,YieldExpression:function(A,M){A.argument&&this.go(A.argument,M)},TaggedTemplateExpression:function(A,M){this.go(A.tag,M),this.go(A.quasi,M)},TemplateLiteral:function(A,M){for(var O=A.quasis,D=A.expressions,U=0,F=D.length;U<F;U++)this.go(D[U],M);for(var P=0,oe=O.length;P<oe;P++)this.go(O[P],M)},TemplateElement:S,ObjectPattern:function(A,M){for(var O=A.properties,D=O.length,U=0;U<D;U++)this.go(O[U],M)},ArrayPattern:b,AssignmentPattern:function(A,M){this.go(A.left,M),this.go(A.right,M)},MetaProperty:function(A,M){this.go(A.meta,M),this.go(A.property,M)},AwaitExpression:function(A,M){this.go(A.argument,M)}}})})(defaultTraveler);var attachComments={};(function(e){(function(t,r){r(e,defaultTraveler)})(this,function(t,r){t.__esModule=!0,t.default=function(S,T){return b[S.type](S,{comments:T,index:0}),S};var o=u(r);function u(S){return S&&S.__esModule?S:{default:S}}function f(S,T,$,A,M){var O=A.index,D=A.comments,U=D[O],F=void 0,P=void 0;if(U!=null)if(T==null||T.length===0){for(F=S.comments!=null?S.comments:[];U!=null&&U.end<S.end;)F.push(U),U=D[++O];A.index=O,F.length!==0&&S.comments==null&&(S.comments=F)}else{if($){F=S.comments!=null?S.comments:[];for(var oe=T[0].start;U!=null&&U.type[0]==="B"&&U.end<oe;)F.push(U),U=D[++O];F.length!==0&&S.comments==null&&(S.comments=F)}for(var Me=0,he=T.length;U!=null&&Me<he;Me++){var de=T[Me];for(F=[];U!=null&&U.end<de.start;)F.push(U),U=D[++O];U!=null&&U.type[0]==="L"&&U.loc.start.line===de.loc.end.line&&(F.push(U),U=D[++O]),F.length!==0&&(de.comments=F),A.index=O,M[de.type](de,A),O=A.index,U=D[O]}for(P=[];U!=null&&U.end<S.end;)P.push(U),U=D[++O];P.length!==0&&(S.trailingComments=P),A.index=O}}var g=void 0,b=o.default.makeChild({Program:g=function(T,$){f(T,T.body,!0,$,this)},BlockStatement:g,ObjectExpression:function(T,$){f(T,T.properties,!0,$,this)},ArrayExpression:function(T,$){f(T,T.elements,!0,$,this)},SwitchStatement:function(T,$){f(T,T.cases,!1,$,this)},SwitchCase:function(T,$){f(T,T.consequent,!1,$,this)}})})})(attachComments);(function(e){(function(t,r){r(e,defaultTraveler,attachComments)})(this,function(t,r,o){t.__esModule=!0,t.makeTraveler=t.attachComments=t.defaultTraveler=void 0;var u=g(r),f=g(o);function g(S){return S&&S.__esModule?S:{default:S}}function b(S){return u.default.makeChild(S)}t.defaultTraveler=u.default,t.attachComments=f.default,t.makeTraveler=b})})(astravel);class UndoStack{constructor(t){this.stack=[],this.index=-1,this.limit=t}atTop(){return this.index===-1}canUndo(){return this.stack.length===0?!1:this.index===-1||this.index>0}canRedo(){return this.stack.length===0||this.index===-1?!1:this.index<this.stack.length-1}push(t){if(this.index>=0){for(;this.index<this.stack.length;)this.stack.pop();this.index=-1}this.limit&&this.stack.length>this.limit&&this.stack.shift(),this.stack.push(t)}undo(){return this.stack.length===0?void 0:(this.index===-1&&(this.index=this.stack.length-1),this.index>0&&this.index--,this.stack[this.index])}redo(){if(this.stack.length===0||this.index===-1)return;let t=this.index+1;if(!(t>=this.stack.length))return this.index=t,this.stack[this.index]}}class Mutator{constructor(t){this.editor=t,this.undoStack=new UndoStack,this.initialVector=[],this.funcTab={},this.transMap={},this.scanFuncs(),this.dumpDict()}dumpList(){glslTransforms().forEach(r=>{r.inputs.forEach(o=>{o.name+""+o.type+o.default})})}scanFuncs(){let t=glslTransforms();console.log(t),t.forEach(r=>{this.transMap[r.name]=r,this.funcTab[r.type]===void 0&&(this.funcTab[r.type]=[]),this.funcTab[r.type].push(r)})}dumpDict(){for(let t in this.funcTab)this.funcTab[t].forEach(r=>{r.inputs.forEach(o=>{o.name+""+o.type+o.default})})}mutate(t){let r=this.editor.cm.getValue();this.undoStack.push({text:r,lastLitX:this.lastLitX});let o=!0,u=5;for(;o&&u-->=0;){var f=[];let g=Parser.parse(r,{locations:!0,onComment:f});this.transform(g,t),astravel.attachComments(g,f);let b=generate(g,{comments:!0});this.editor.cm.setValue(b);try{repl.eval(b,(S,T)=>{T&&console.log("Eval error: "+b),o=T})}catch(S){console.log("Exception caught: "+S),o=S}}}doUndo(){if(this.undoStack.atTop()){let t=this.editor.cm.getValue();this.undoStack.push({text:t,lastLitX:this.lastLitX})}if(this.undoStack.canUndo()){let{text:t,lastLitX:r}=this.undoStack.undo();this.setText(t),this.lastLitX=r}}doRedo(){if(this.undoStack.canRedo()){let{text:t,lastLitX:r}=this.undoStack.redo();this.setText(t),this.lastLitX=r}}setText(t){this.editor.cm.setValue(t),repl.eval(t,(r,o)=>{})}transform(t,r){let o=astravel.makeTraveler({go:function(f,g){if(f.type==="Literal")g.literalTab.push(f);else if(f.type==="MemberExpression"){if(f.property&&f.property.type==="Literal")return}else f.type==="CallExpression"&&f.callee&&f.callee.property&&f.callee.property.name&&f.callee.property.name!=="out"&&g.functionTab.push(f);this.super.go.call(this,f,g)}}),u={};if(u.literalTab=[],u.functionTab=[],o.go(t,u),this.litCount=u.literalTab.length,this.funCount=u.functionTab.length,this.litCount!==this.initialVector.length){let f=[];for(let g=0;g<this.litCount;++g)f.push(u.literalTab[g].value);this.initialVector=f}r.changeTransform?this.glitchTrans(u,r):this.glitchLiteral(u,r)}glitchLiteral(t,r){let o=0;r.reroll?this.lastLitX!==void 0&&(o=this.lastLitX):(o=Math.floor(Math.random()*this.litCount),this.lastLitX=o);let u=t.literalTab[o];if(u){let f=this.glitchRelToInit(u.value,this.initialVector[o]),g=u.raw;u.value=f,u.raw=""+f,console.log("Literal: "+o+" changed from: "+g+" to: "+f)}}glitchNumber(t){t===0&&(t=1);let r=t*2;return Math.round(Math.random()*r*1e3)/1e3}glitchRelToInit(t,r){return r===void 0?glitchNumber(t):(r===0&&(r=.5),Math.round(Math.random()*r*2*1e3)/1e3)}glitchTrans(t,r){let o=Math.floor(Math.random()*this.funCount);if(t.functionTab[o]===void 0||t.functionTab[o].callee===void 0||t.functionTab[o].callee.property===void 0){console.log("No valid functionTab for index: "+o);return}let u=t.functionTab[o].callee.property.name;if(u==null){console.log("No name for callee");return}let f=this.transMap[u].type;if(f==null){console.log("ftype undefined for: "+u);return}let g=this.funcTab[f];if(g==null){console.log("no funcTab entry for: "+f);return}let b=Math.floor(Math.random()*g.length),S=g[b].name;if(u==="modulate"&&S==="modulateScrollX"){console.log("Function: "+o+" changing from: "+u+" can't change to: "+S);return}t.functionTab[o].callee.property.name=S,console.log("Function: "+o+" changed from: "+u+" to: "+S)}}var js={exports:{}},src={},javascript={exports:{}},beautifier$2={},output={};function OutputLine(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}OutputLine.prototype.clone_empty=function(){var e=new OutputLine(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e};OutputLine.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]};OutputLine.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1};OutputLine.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};OutputLine.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};OutputLine.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};OutputLine.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,e.__items[0]===" "&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1};OutputLine.prototype.is_empty=function(){return this.__items.length===0};OutputLine.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};OutputLine.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf(`
`);t!==-1?this.__character_count=e.length-t:this.__character_count+=e.length};OutputLine.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e};OutputLine.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};OutputLine.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};OutputLine.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};OutputLine.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e};function IndentStringCache(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}IndentStringCache.prototype.get_indent_size=function(e,t){var r=this.__base_string_length;return t=t||0,e<0&&(r=0),r+=e*this.__indent_size,r+=t,r};IndentStringCache.prototype.get_indent_string=function(e,t){var r=this.__base_string;return t=t||0,e<0&&(e=0,r=""),t+=e*this.__indent_size,this.__ensure_cache(t),r+=this.__cache[t],r};IndentStringCache.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()};IndentStringCache.prototype.__add_column=function(){var e=this.__cache.length,t=0,r="";this.__indent_size&&e>=this.__indent_size&&(t=Math.floor(e/this.__indent_size),e-=t*this.__indent_size,r=new Array(t+1).join(this.__indent_string)),e&&(r+=new Array(e+1).join(" ")),this.__cache.push(r)};function Output$3(e,t){this.__indent_cache=new IndentStringCache(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new OutputLine(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}Output$3.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};Output$3.prototype.get_line_number=function(){return this.__lines.length};Output$3.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)};Output$3.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)};Output$3.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};Output$3.prototype.add_new_line=function(e){return this.is_empty()||!e&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};Output$3.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&(t[t.length-1]===`
`&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var r=this.__lines.join(`
`);return e!==`
`&&(r=r.replace(/[\n]/g,e)),r};Output$3.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};Output$3.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)};Output$3.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};Output$3.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};Output$3.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};Output$3.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()};Output$3.prototype.trim=function(e){for(e=e===void 0?!1:e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};Output$3.prototype.just_added_newline=function(){return this.current_line.is_empty()};Output$3.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};Output$3.prototype.ensure_empty_line_above=function(e,t){for(var r=this.__lines.length-2;r>=0;){var o=this.__lines[r];if(o.is_empty())break;if(o.item(0).indexOf(e)!==0&&o.item(-1)!==t){this.__lines.splice(r+1,0,new OutputLine(this)),this.previous_line=this.__lines[this.__lines.length-2];break}r--}};output.Output=Output$3;var token={};function Token$2(e,t,r,o){this.type=e,this.text=t,this.comments_before=null,this.newlines=r||0,this.whitespace_before=o||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}token.Token=Token$2;var acorn$2={};(function(e){var t="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",o="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",u="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",f="(?:\\\\u[0-9a-fA-F]{4}|["+t+o+"])",g="(?:\\\\u[0-9a-fA-F]{4}|["+r+o+u+"])*";e.identifier=new RegExp(f+g,"g"),e.identifierStart=new RegExp(f),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+r+o+u+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp(`\r
|`+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")})(acorn$2);var options$3={},options$2={};function Options$9(e,t){this.raw_options=_mergeOpts(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}Options$9.prototype._get_array=function(e,t){var r=this.raw_options[e],o=t||[];return typeof r=="object"?r!==null&&typeof r.concat=="function"&&(o=r.concat()):typeof r=="string"&&(o=r.split(/[^a-zA-Z0-9_\/\-]+/)),o};Options$9.prototype._get_boolean=function(e,t){var r=this.raw_options[e],o=r===void 0?!!t:!!r;return o};Options$9.prototype._get_characters=function(e,t){var r=this.raw_options[e],o=t||"";return typeof r=="string"&&(o=r.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),o};Options$9.prototype._get_number=function(e,t){var r=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var o=parseInt(r,10);return isNaN(o)&&(o=t),o};Options$9.prototype._get_selection=function(e,t,r){var o=this._get_selection_list(e,t,r);if(o.length!==1)throw new Error("Invalid Option Value: The option '"+e+`' can only be one of the following values:
`+t+`
You passed in: '`+this.raw_options[e]+"'");return o[0]};Options$9.prototype._get_selection_list=function(e,t,r){if(!t||t.length===0)throw new Error("Selection list cannot be empty.");if(r=r||[t[0]],!this._is_valid_selection(r,t))throw new Error("Invalid Default Value!");var o=this._get_array(e,r);if(!this._is_valid_selection(o,t))throw new Error("Invalid Option Value: The option '"+e+`' can contain only the following values:
`+t+`
You passed in: '`+this.raw_options[e]+"'");return o};Options$9.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some(function(r){return t.indexOf(r)===-1})};function _mergeOpts(e,t){var r={};e=_normalizeOpts(e);var o;for(o in e)o!==t&&(r[o]=e[o]);if(t&&e[t])for(o in e[t])r[o]=e[t][o];return r}function _normalizeOpts(e){var t={},r;for(r in e){var o=r.replace(/-/g,"_");t[o]=e[r]}return t}options$2.Options=Options$9;options$2.normalizeOpts=_normalizeOpts;options$2.mergeOpts=_mergeOpts;var BaseOptions$2=options$2.Options,validPositionValues$1=["before-newline","after-newline","preserve-newline"];function Options$8(e){BaseOptions$2.call(this,e,"js");var t=this.raw_options.brace_style||null;t==="expand-strict"?this.raw_options.brace_style="expand":t==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var r=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<r.length;o++)r[o]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=r[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",validPositionValues$1),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}Options$8.prototype=new BaseOptions$2;options$3.Options=Options$8;var tokenizer$2={},inputscanner={},regexp_has_sticky=RegExp.prototype.hasOwnProperty("sticky");function InputScanner$3(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}InputScanner$3.prototype.restart=function(){this.__position=0};InputScanner$3.prototype.back=function(){this.__position>0&&(this.__position-=1)};InputScanner$3.prototype.hasNext=function(){return this.__position<this.__input_length};InputScanner$3.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e};InputScanner$3.prototype.peek=function(e){var t=null;return e=e||0,e+=this.__position,e>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t};InputScanner$3.prototype.__match=function(e,t){e.lastIndex=t;var r=e.exec(this.__input);return r&&!(regexp_has_sticky&&e.sticky)&&r.index!==t&&(r=null),r};InputScanner$3.prototype.test=function(e,t){return t=t||0,t+=this.__position,t>=0&&t<this.__input_length?!!this.__match(e,t):!1};InputScanner$3.prototype.testChar=function(e,t){var r=this.peek(t);return e.lastIndex=0,r!==null&&e.test(r)};InputScanner$3.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t};InputScanner$3.prototype.read=function(e,t,r){var o="",u;return e&&(u=this.match(e),u&&(o+=u[0])),t&&(u||!e)&&(o+=this.readUntil(t,r)),o};InputScanner$3.prototype.readUntil=function(e,t){var r="",o=this.__position;e.lastIndex=this.__position;var u=e.exec(this.__input);return u?(o=u.index,t&&(o+=u[0].length)):o=this.__input_length,r=this.__input.substring(this.__position,o),this.__position=o,r};InputScanner$3.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)};InputScanner$3.prototype.get_regexp=function(e,t){var r=null,o="g";return t&&regexp_has_sticky&&(o="y"),typeof e=="string"&&e!==""?r=new RegExp(e,o):e&&(r=new RegExp(e.source,o)),r};InputScanner$3.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};InputScanner$3.prototype.peekUntilAfter=function(e){var t=this.__position,r=this.readUntilAfter(e);return this.__position=t,r};InputScanner$3.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e};inputscanner.InputScanner=InputScanner$3;var tokenizer$1={},tokenstream={};function TokenStream$1(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}TokenStream$1.prototype.restart=function(){this.__position=0};TokenStream$1.prototype.isEmpty=function(){return this.__tokens_length===0};TokenStream$1.prototype.hasNext=function(){return this.__position<this.__tokens_length};TokenStream$1.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e};TokenStream$1.prototype.peek=function(e){var t=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t};TokenStream$1.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1};tokenstream.TokenStream=TokenStream$1;var whitespacepattern={},pattern={};function Pattern$4(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}Pattern$4.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e};Pattern$4.prototype.read_match=function(){return this._input.match(this._match_pattern)};Pattern$4.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t};Pattern$4.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t};Pattern$4.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t};Pattern$4.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t};Pattern$4.prototype._create=function(){return new Pattern$4(this._input,this)};Pattern$4.prototype._update=function(){};pattern.Pattern=Pattern$4;var Pattern$3=pattern.Pattern;function WhitespacePattern$1(e,t){Pattern$3.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}WhitespacePattern$1.prototype=new Pattern$3;WhitespacePattern$1.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")};WhitespacePattern$1.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(e===" ")this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e};WhitespacePattern$1.prototype.matching=function(e,t){var r=this._create();return r.__set_whitespace_patterns(e,t),r._update(),r};WhitespacePattern$1.prototype._create=function(){return new WhitespacePattern$1(this._input,this)};WhitespacePattern$1.prototype.__split=function(e,t){e.lastIndex=0;for(var r=0,o=[],u=e.exec(t);u;)o.push(t.substring(r,u.index)),r=u.index+u[0].length,u=e.exec(t);return r<t.length?o.push(t.substring(r,t.length)):o.push(""),o};whitespacepattern.WhitespacePattern=WhitespacePattern$1;var InputScanner$2=inputscanner.InputScanner,Token$1=token.Token,TokenStream=tokenstream.TokenStream,WhitespacePattern=whitespacepattern.WhitespacePattern,TOKEN$4={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Tokenizer$4=function(e,t){this._input=new InputScanner$2(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new WhitespacePattern(this._input)};Tokenizer$4.prototype.tokenize=function(){this._input.restart(),this.__tokens=new TokenStream,this._reset();for(var e,t=new Token$1(TOKEN$4.START,""),r=null,o=[],u=new TokenStream;t.type!==TOKEN$4.EOF;){for(e=this._get_next_token(t,r);this._is_comment(e);)u.add(e),e=this._get_next_token(t,r);u.isEmpty()||(e.comments_before=u,u=new TokenStream),e.parent=r,this._is_opening(e)?(o.push(r),r=e):r&&this._is_closing(e,r)&&(e.opened=r,r.closed=e,r=o.pop(),e.parent=r),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens};Tokenizer$4.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Tokenizer$4.prototype._reset=function(){};Tokenizer$4.prototype._get_next_token=function(e,t){this._readWhitespace();var r=this._input.read(/.+/g);return r?this._create_token(TOKEN$4.RAW,r):this._create_token(TOKEN$4.EOF,"")};Tokenizer$4.prototype._is_comment=function(e){return!1};Tokenizer$4.prototype._is_opening=function(e){return!1};Tokenizer$4.prototype._is_closing=function(e,t){return!1};Tokenizer$4.prototype._create_token=function(e,t){var r=new Token$1(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return r};Tokenizer$4.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};tokenizer$1.Tokenizer=Tokenizer$4;tokenizer$1.TOKEN=TOKEN$4;var directives={};function Directives$3(e,t){e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}Directives$3.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(e);r;)t[r[1]]=r[2],r=this.__directive_pattern.exec(e);return t};Directives$3.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)};directives.Directives=Directives$3;var templatablepattern={},Pattern$2=pattern.Pattern,template_names={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function TemplatablePattern$2(e,t){Pattern$2.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},template_names),this._excluded=Object.assign({},template_names),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var r=new Pattern$2(e);this.__patterns={handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:r.starting_with(/{{{/).until_after(/}}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),php:r.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:r.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:r.starting_with(/{%/).until_after(/%}/),django_value:r.starting_with(/{{/).until_after(/}}/),django_comment:r.starting_with(/{#/).until_after(/#}/),smarty:r.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:r.starting_with(/{\*/).until_after(/\*}/),smarty_literal:r.starting_with(/{literal}/).until_after(/{\/literal}/)}}TemplatablePattern$2.prototype=new Pattern$2;TemplatablePattern$2.prototype._create=function(){return new TemplatablePattern$2(this._input,this)};TemplatablePattern$2.prototype._update=function(){this.__set_templated_pattern()};TemplatablePattern$2.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t};TemplatablePattern$2.prototype.read_options=function(e){var t=this._create();for(var r in template_names)t._disabled[r]=e.templating.indexOf(r)===-1;return t._update(),t};TemplatablePattern$2.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t};TemplatablePattern$2.prototype.read=function(){var e="";this._match_pattern?e=this._input.read(this._starting_pattern):e=this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e};TemplatablePattern$2.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")};TemplatablePattern$2.prototype._read_template=function(){var e="",t=this._input.peek();if(t==="<"){var r=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&r==="?"&&(e=e||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&r==="%"&&(e=e||this.__patterns.erb.read())}else t==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(e=e||this.__patterns.handlebars_comment.read(),e=e||this.__patterns.handlebars_unescaped.read(),e=e||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=e||this.__patterns.django_comment.read(),e=e||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=e||this.__patterns.smarty_comment.read(),e=e||this.__patterns.smarty_literal.read(),e=e||this.__patterns.smarty.read()));return e};templatablepattern.TemplatablePattern=TemplatablePattern$2;var InputScanner$1=inputscanner.InputScanner,BaseTokenizer$1=tokenizer$1.Tokenizer,BASETOKEN$1=tokenizer$1.TOKEN,Directives$2=directives.Directives,acorn$1=acorn$2,Pattern$1=pattern.Pattern,TemplatablePattern$1=templatablepattern.TemplatablePattern;function in_array$2(e,t){return t.indexOf(e)!==-1}var TOKEN$3={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:BASETOKEN$1.START,RAW:BASETOKEN$1.RAW,EOF:BASETOKEN$1.EOF},directives_core$2=new Directives$2(/\/\*/,/\*\//),number_pattern=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,digit=/[0-9]/,dot_pattern=/[^\d\.]/,positionable_operators$1=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),punct=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";punct=punct.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");punct="\\?\\.(?!\\d) "+punct;punct=punct.replace(/ /g,"|");var punct_pattern=new RegExp(punct),line_starters$1="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),reserved_words=line_starters$1.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),reserved_word_pattern=new RegExp("^(?:"+reserved_words.join("|")+")$"),in_html_comment,Tokenizer$3=function(e,t){BaseTokenizer$1.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var r=new Pattern$1(this._input),o=new TemplatablePattern$1(this._input).read_options(this._options);this.__patterns={template:o,identifier:o.starting_with(acorn$1.identifier).matching(acorn$1.identifierMatch),number:r.matching(number_pattern),punct:r.matching(punct_pattern),comment:r.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:r.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:r.matching(/<!--/),html_comment_end:r.matching(/-->/),include:r.starting_with(/#include/).until_after(acorn$1.lineBreak),shebang:r.starting_with(/#!/).until_after(acorn$1.lineBreak),xml:r.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:o.until(/['\\\n\r\u2028\u2029]/),double_quote:o.until(/["\\\n\r\u2028\u2029]/),template_text:o.until(/[`\\$]/),template_expression:o.until(/[`}\\]/)}};Tokenizer$3.prototype=new BaseTokenizer$1;Tokenizer$3.prototype._is_comment=function(e){return e.type===TOKEN$3.COMMENT||e.type===TOKEN$3.BLOCK_COMMENT||e.type===TOKEN$3.UNKNOWN};Tokenizer$3.prototype._is_opening=function(e){return e.type===TOKEN$3.START_BLOCK||e.type===TOKEN$3.START_EXPR};Tokenizer$3.prototype._is_closing=function(e,t){return(e.type===TOKEN$3.END_BLOCK||e.type===TOKEN$3.END_EXPR)&&t&&(e.text==="]"&&t.text==="["||e.text===")"&&t.text==="("||e.text==="}"&&t.text==="{")};Tokenizer$3.prototype._reset=function(){in_html_comment=!1};Tokenizer$3.prototype._get_next_token=function(e,t){var r=null;this._readWhitespace();var o=this._input.peek();return o===null?this._create_token(TOKEN$3.EOF,""):(r=r||this._read_non_javascript(o),r=r||this._read_string(o),r=r||this._read_word(e),r=r||this._read_singles(o),r=r||this._read_comment(o),r=r||this._read_regexp(o,e),r=r||this._read_xml(o,e),r=r||this._read_punctuation(),r=r||this._create_token(TOKEN$3.UNKNOWN,this._input.next()),r)};Tokenizer$3.prototype._read_word=function(e){var t;if(t=this.__patterns.identifier.read(),t!=="")return t=t.replace(acorn$1.allLineBreaks,`
`),!(e.type===TOKEN$3.DOT||e.type===TOKEN$3.RESERVED&&(e.text==="set"||e.text==="get"))&&reserved_word_pattern.test(t)?t==="in"||t==="of"?this._create_token(TOKEN$3.OPERATOR,t):this._create_token(TOKEN$3.RESERVED,t):this._create_token(TOKEN$3.WORD,t);if(t=this.__patterns.number.read(),t!=="")return this._create_token(TOKEN$3.WORD,t)};Tokenizer$3.prototype._read_singles=function(e){var t=null;return e==="("||e==="["?t=this._create_token(TOKEN$3.START_EXPR,e):e===")"||e==="]"?t=this._create_token(TOKEN$3.END_EXPR,e):e==="{"?t=this._create_token(TOKEN$3.START_BLOCK,e):e==="}"?t=this._create_token(TOKEN$3.END_BLOCK,e):e===";"?t=this._create_token(TOKEN$3.SEMICOLON,e):e==="."&&dot_pattern.test(this._input.peek(1))?t=this._create_token(TOKEN$3.DOT,e):e===","&&(t=this._create_token(TOKEN$3.COMMA,e)),t&&this._input.next(),t};Tokenizer$3.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(e!=="")return e==="="?this._create_token(TOKEN$3.EQUALS,e):e==="?."?this._create_token(TOKEN$3.DOT,e):this._create_token(TOKEN$3.OPERATOR,e)};Tokenizer$3.prototype._read_non_javascript=function(e){var t="";if(e==="#"){if(this._is_first_token()&&(t=this.__patterns.shebang.read(),t))return this._create_token(TOKEN$3.UNKNOWN,t.trim()+`
`);if(t=this.__patterns.include.read(),t)return this._create_token(TOKEN$3.UNKNOWN,t.trim()+`
`);e=this._input.next();var r="#";if(this._input.hasNext()&&this._input.testChar(digit)){do e=this._input.next(),r+=e;while(this._input.hasNext()&&e!=="#"&&e!=="=");return e==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(r+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(r+="{}",this._input.next(),this._input.next())),this._create_token(TOKEN$3.WORD,r)}this._input.back()}else if(e==="<"&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read(),t){for(;this._input.hasNext()&&!this._input.testChar(acorn$1.newline);)t+=this._input.next();return in_html_comment=!0,this._create_token(TOKEN$3.COMMENT,t)}}else if(in_html_comment&&e==="-"&&(t=this.__patterns.html_comment_end.read(),t))return in_html_comment=!1,this._create_token(TOKEN$3.COMMENT,t);return null};Tokenizer$3.prototype._read_comment=function(e){var t=null;if(e==="/"){var r="";if(this._input.peek(1)==="*"){r=this.__patterns.block_comment.read();var o=directives_core$2.get_directives(r);o&&o.ignore==="start"&&(r+=directives_core$2.readIgnored(this._input)),r=r.replace(acorn$1.allLineBreaks,`
`),t=this._create_token(TOKEN$3.BLOCK_COMMENT,r),t.directives=o}else this._input.peek(1)==="/"&&(r=this.__patterns.comment.read(),t=this._create_token(TOKEN$3.COMMENT,r))}return t};Tokenizer$3.prototype._read_string=function(e){if(e==="`"||e==="'"||e==='"'){var t=this._input.next();return this.has_char_escapes=!1,e==="`"?t+=this._read_string_recursive("`",!0,"${"):t+=this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=unescape_string(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(acorn$1.allLineBreaks,`
`),this._create_token(TOKEN$3.STRING,t)}return null};Tokenizer$3.prototype._allow_regexp_or_xml=function(e){return e.type===TOKEN$3.RESERVED&&in_array$2(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===TOKEN$3.END_EXPR&&e.text===")"&&e.opened.previous.type===TOKEN$3.RESERVED&&in_array$2(e.opened.previous.text,["if","while","for"])||in_array$2(e.type,[TOKEN$3.COMMENT,TOKEN$3.START_EXPR,TOKEN$3.START_BLOCK,TOKEN$3.START,TOKEN$3.END_BLOCK,TOKEN$3.OPERATOR,TOKEN$3.EQUALS,TOKEN$3.EOF,TOKEN$3.SEMICOLON,TOKEN$3.COMMA])};Tokenizer$3.prototype._read_regexp=function(e,t){if(e==="/"&&this._allow_regexp_or_xml(t)){for(var r=this._input.next(),o=!1,u=!1;this._input.hasNext()&&(o||u||this._input.peek()!==e)&&!this._input.testChar(acorn$1.newline);)r+=this._input.peek(),o?o=!1:(o=this._input.peek()==="\\",this._input.peek()==="["?u=!0:this._input.peek()==="]"&&(u=!1)),this._input.next();return this._input.peek()===e&&(r+=this._input.next(),r+=this._input.read(acorn$1.identifier)),this._create_token(TOKEN$3.STRING,r)}return null};Tokenizer$3.prototype._read_xml=function(e,t){if(this._options.e4x&&e==="<"&&this._allow_regexp_or_xml(t)){var r="",o=this.__patterns.xml.read_match();if(o){for(var u=o[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),f=u.indexOf("{")===0,g=0;o;){var b=!!o[1],S=o[2],T=!!o[o.length-1]||S.slice(0,8)==="![CDATA[";if(!T&&(S===u||f&&S.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(b?--g:++g),r+=o[0],g<=0)break;o=this.__patterns.xml.read_match()}return o||(r+=this._input.match(/[\s\S]*/g)[0]),r=r.replace(acorn$1.allLineBreaks,`
`),this._create_token(TOKEN$3.STRING,r)}}return null};function unescape_string(e){for(var t="",r=0,o=new InputScanner$1(e),u=null;o.hasNext();)if(u=o.match(/([\s]|[^\\]|\\\\)+/g),u&&(t+=u[0]),o.peek()==="\\"){if(o.next(),o.peek()==="x")u=o.match(/x([0-9A-Fa-f]{2})/g);else if(o.peek()==="u")u=o.match(/u([0-9A-Fa-f]{4})/g);else{t+="\\",o.hasNext()&&(t+=o.next());continue}if(!u||(r=parseInt(u[1],16),r>126&&r<=255&&u[0].indexOf("x")===0))return e;if(r>=0&&r<32){t+="\\"+u[0];continue}else r===34||r===39||r===92?t+="\\"+String.fromCharCode(r):t+=String.fromCharCode(r)}return t}Tokenizer$3.prototype._read_string_recursive=function(e,t,r){var o,u;e==="'"?u=this.__patterns.single_quote:e==='"'?u=this.__patterns.double_quote:e==="`"?u=this.__patterns.template_text:e==="}"&&(u=this.__patterns.template_expression);for(var f=u.read(),g="";this._input.hasNext();){if(g=this._input.next(),g===e||!t&&acorn$1.newline.test(g)){this._input.back();break}else g==="\\"&&this._input.hasNext()?(o=this._input.peek(),o==="x"||o==="u"?this.has_char_escapes=!0:o==="\r"&&this._input.peek(1)===`
`&&this._input.next(),g+=this._input.next()):r&&(r==="${"&&g==="$"&&this._input.peek()==="{"&&(g+=this._input.next()),r===g&&(e==="`"?g+=this._read_string_recursive("}",t,"`"):g+=this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(g+=this._input.next())));g+=u.read(),f+=g}return f};tokenizer$2.Tokenizer=Tokenizer$3;tokenizer$2.TOKEN=TOKEN$3;tokenizer$2.positionable_operators=positionable_operators$1.slice();tokenizer$2.line_starters=line_starters$1.slice();var Output$2=output.Output,Token=token.Token,acorn=acorn$2,Options$7=options$3.Options,Tokenizer$2=tokenizer$2.Tokenizer,line_starters=tokenizer$2.line_starters,positionable_operators=tokenizer$2.positionable_operators,TOKEN$2=tokenizer$2.TOKEN;function in_array$1(e,t){return t.indexOf(e)!==-1}function ltrim(e){return e.replace(/^\s+/g,"")}function generateMapFromStrings(e){for(var t={},r=0;r<e.length;r++)t[e[r].replace(/-/g,"_")]=e[r];return t}function reserved_word(e,t){return e&&e.type===TOKEN$2.RESERVED&&e.text===t}function reserved_array(e,t){return e&&e.type===TOKEN$2.RESERVED&&in_array$1(e.text,t)}var special_words=["case","return","do","if","throw","else","await","break","continue","async"],validPositionValues=["before-newline","after-newline","preserve-newline"],OPERATOR_POSITION=generateMapFromStrings(validPositionValues),OPERATOR_POSITION_BEFORE_OR_PRESERVE=[OPERATOR_POSITION.before_newline,OPERATOR_POSITION.preserve_newline],MODE={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function remove_redundant_indentation(e,t){t.multiline_frame||t.mode===MODE.ForInitializer||t.mode===MODE.Conditional||e.remove_indent(t.start_line_index)}function split_linebreaks(e){e=e.replace(acorn.allLineBreaks,`
`);for(var t=[],r=e.indexOf(`
`);r!==-1;)t.push(e.substring(0,r)),e=e.substring(r+1),r=e.indexOf(`
`);return e.length&&t.push(e),t}function is_array(e){return e===MODE.ArrayLiteral}function is_expression(e){return in_array$1(e,[MODE.Expression,MODE.ForInitializer,MODE.Conditional])}function all_lines_start_with(e,t){for(var r=0;r<e.length;r++){var o=e[r].trim();if(o.charAt(0)!==t)return!1}return!0}function each_line_matches_indent(e,t){for(var r=0,o=e.length,u;r<o;r++)if(u=e[r],u&&u.indexOf(t)!==0)return!1;return!0}function Beautifier$5(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new Options$7(t)}Beautifier$5.prototype.create_flags=function(e,t){var r=0;e&&(r=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>r&&(r=e.line_indent_level));var o={mode:t,parent:e,last_token:e?e.last_token:new Token(TOKEN$2.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:r,alignment:0,line_indent_level:e?e.line_indent_level:r,start_line_index:this._output.get_line_number(),ternary_depth:0};return o};Beautifier$5.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new Output$2(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(MODE.BlockStatement);var r=new Tokenizer$2(e,this._options);return this._tokens=r.tokenize(),e};Beautifier$5.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e,t=this._reset(this._source_text),r=this._options.eol;this._options.eol==="auto"&&(r=`
`,t&&acorn.lineBreak.test(t||"")&&(r=t.match(acorn.lineBreak)[0]));for(var o=this._tokens.next();o;)this.handle_token(o),this._last_last_text=this._flags.last_token.text,this._flags.last_token=o,o=this._tokens.next();return e=this._output.get_code(r),e};Beautifier$5.prototype.handle_token=function(e,t){e.type===TOKEN$2.START_EXPR?this.handle_start_expr(e):e.type===TOKEN$2.END_EXPR?this.handle_end_expr(e):e.type===TOKEN$2.START_BLOCK?this.handle_start_block(e):e.type===TOKEN$2.END_BLOCK?this.handle_end_block(e):e.type===TOKEN$2.WORD?this.handle_word(e):e.type===TOKEN$2.RESERVED?this.handle_word(e):e.type===TOKEN$2.SEMICOLON?this.handle_semicolon(e):e.type===TOKEN$2.STRING?this.handle_string(e):e.type===TOKEN$2.EQUALS?this.handle_equals(e):e.type===TOKEN$2.OPERATOR?this.handle_operator(e):e.type===TOKEN$2.COMMA?this.handle_comma(e):e.type===TOKEN$2.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===TOKEN$2.COMMENT?this.handle_comment(e,t):e.type===TOKEN$2.DOT?this.handle_dot(e):e.type===TOKEN$2.EOF?this.handle_eof(e):e.type===TOKEN$2.UNKNOWN?this.handle_unknown(e,t):this.handle_unknown(e,t)};Beautifier$5.prototype.handle_whitespace_and_comments=function(e,t){var r=e.newlines,o=this._options.keep_array_indentation&&is_array(this._flags.mode);if(e.comments_before)for(var u=e.comments_before.next();u;)this.handle_whitespace_and_comments(u,t),this.handle_token(u,t),u=e.comments_before.next();if(o)for(var f=0;f<r;f+=1)this.print_newline(f>0,t);else if(this._options.max_preserve_newlines&&r>this._options.max_preserve_newlines&&(r=this._options.max_preserve_newlines),this._options.preserve_newlines&&r>1){this.print_newline(!1,t);for(var g=1;g<r;g+=1)this.print_newline(!0,t)}};var newline_restricted_tokens=["async","break","continue","return","throw","yield"];Beautifier$5.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=t===void 0?!1:t,!this._output.just_added_newline()){var r=this._options.preserve_newlines&&e.newlines||t,o=in_array$1(this._flags.last_token.text,positionable_operators)||in_array$1(e.text,positionable_operators);if(o){var u=in_array$1(this._flags.last_token.text,positionable_operators)&&in_array$1(this._options.operator_position,OPERATOR_POSITION_BEFORE_OR_PRESERVE)||in_array$1(e.text,positionable_operators);r=r&&u}if(r)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(reserved_array(this._flags.last_token,newline_restricted_tokens))return;this._output.set_wrap_point()}}};Beautifier$5.prototype.print_newline=function(e,t){if(!t&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==TOKEN$2.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var r=this._tokens.peek();this._flags.mode===MODE.Statement&&!(this._flags.if_block&&reserved_word(r,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)};Beautifier$5.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&(e.text==="["||is_array(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Beautifier$5.prototype.print_token=function(e){if(this._output.raw){this._output.add_raw_token(e);return}if(this._options.comma_first&&e.previous&&e.previous.type===TOKEN$2.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Beautifier$5.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Beautifier$5.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Beautifier$5.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Beautifier$5.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===MODE.Statement&&remove_redundant_indentation(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Beautifier$5.prototype.start_of_object_property=function(){return this._flags.parent.mode===MODE.ObjectLiteral&&this._flags.mode===MODE.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||reserved_array(this._flags.last_token,["get","set"]))};Beautifier$5.prototype.start_of_statement=function(e){var t=!1;return t=t||reserved_array(this._flags.last_token,["var","let","const"])&&e.type===TOKEN$2.WORD,t=t||reserved_word(this._flags.last_token,"do"),t=t||!(this._flags.parent.mode===MODE.ObjectLiteral&&this._flags.mode===MODE.Statement)&&reserved_array(this._flags.last_token,newline_restricted_tokens)&&!e.newlines,t=t||reserved_word(this._flags.last_token,"else")&&!(reserved_word(e,"if")&&!e.comments_before),t=t||this._flags.last_token.type===TOKEN$2.END_EXPR&&(this._previous_flags.mode===MODE.ForInitializer||this._previous_flags.mode===MODE.Conditional),t=t||this._flags.last_token.type===TOKEN$2.WORD&&this._flags.mode===MODE.BlockStatement&&!this._flags.in_case&&!(e.text==="--"||e.text==="++")&&this._last_last_text!=="function"&&e.type!==TOKEN$2.WORD&&e.type!==TOKEN$2.RESERVED,t=t||this._flags.mode===MODE.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||reserved_array(this._flags.last_token,["get","set"])),t?(this.set_mode(MODE.Statement),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,reserved_array(e,["do","for","if","while"])),!0):!1};Beautifier$5.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=MODE.Expression;if(e.text==="["){if(this._flags.last_token.type===TOKEN$2.WORD||this._flags.last_token.text===")"){reserved_array(this._flags.last_token,line_starters)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}t=MODE.ArrayLiteral,is_array(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),in_array$1(this._flags.last_token.type,[TOKEN$2.START_EXPR,TOKEN$2.END_EXPR,TOKEN$2.WORD,TOKEN$2.OPERATOR,TOKEN$2.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===TOKEN$2.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,t=MODE.ForInitializer):in_array$1(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=MODE.Conditional):in_array$1(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&e.whitespace_before===""?this._output.space_before_token=!1:(in_array$1(this._flags.last_token.text,line_starters)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===TOKEN$2.EQUALS||this._flags.last_token.type===TOKEN$2.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===TOKEN$2.WORD){this._output.space_before_token=!1;var r=this._tokens.peek(-3);if(this._options.space_after_named_function&&r){var o=this._tokens.peek(-4);reserved_array(r,["async","function"])||r.text==="*"&&reserved_array(o,["async","function"])?this._output.space_before_token=!0:this._flags.mode===MODE.ObjectLiteral&&(r.text==="{"||r.text===","||r.text==="*"&&(o.text==="{"||o.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===TOKEN$2.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(in_array$1(this._last_last_text,["function","yield"])||this._flags.mode===MODE.ObjectLiteral&&in_array$1(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===TOKEN$2.START_BLOCK?this.print_newline():(this._flags.last_token.type===TOKEN$2.END_EXPR||this._flags.last_token.type===TOKEN$2.START_EXPR||this._flags.last_token.type===TOKEN$2.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===TOKEN$2.COMMA)&&this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Beautifier$5.prototype.handle_end_expr=function(e){for(;this._flags.mode===MODE.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,e.text==="]"&&is_array(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===TOKEN$2.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(e),this.restore_mode(),remove_redundant_indentation(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===MODE.Conditional&&(this._previous_flags.mode=MODE.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Beautifier$5.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),r=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===TOKEN$2.END_EXPR?(this.set_mode(MODE.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(MODE.BlockStatement):r&&(in_array$1(r.text,[":",","])&&in_array$1(t.type,[TOKEN$2.STRING,TOKEN$2.WORD,TOKEN$2.RESERVED])||in_array$1(t.text,["get","set","..."])&&in_array$1(r.type,[TOKEN$2.WORD,TOKEN$2.RESERVED]))?in_array$1(this._last_last_text,["class","interface"])?this.set_mode(MODE.BlockStatement):this.set_mode(MODE.ObjectLiteral):this._flags.last_token.type===TOKEN$2.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(MODE.BlockStatement):in_array$1(this._flags.last_token.type,[TOKEN$2.EQUALS,TOKEN$2.START_EXPR,TOKEN$2.COMMA,TOKEN$2.OPERATOR])||reserved_array(this._flags.last_token,["return","throw","import","default"])?this.set_mode(MODE.ObjectLiteral):this.set_mode(MODE.BlockStatement);var o=!t.comments_before&&t.text==="}",u=o&&this._flags.last_word==="function"&&this._flags.last_token.type===TOKEN$2.END_EXPR;if(this._options.brace_preserve_inline){var f=0,g=null;this._flags.inline_frame=!0;do if(f+=1,g=this._tokens.peek(f-1),g.newlines){this._flags.inline_frame=!1;break}while(g.type!==TOKEN$2.EOF&&!(g.type===TOKEN$2.END_BLOCK&&g.opened===e))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==TOKEN$2.OPERATOR&&(u||this._flags.last_token.type===TOKEN$2.EQUALS||reserved_array(this._flags.last_token,special_words)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(is_array(this._previous_flags.mode)&&(this._flags.last_token.type===TOKEN$2.START_EXPR||this._flags.last_token.type===TOKEN$2.COMMA)&&((this._flags.last_token.type===TOKEN$2.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===TOKEN$2.COMMA||this._flags.last_token.type===TOKEN$2.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==TOKEN$2.OPERATOR&&this._flags.last_token.type!==TOKEN$2.START_EXPR&&(this._flags.last_token.type===TOKEN$2.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(e),this.indent(),!o&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Beautifier$5.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===MODE.Statement;)this.restore_mode();var t=this._flags.last_token.type===TOKEN$2.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:this._options.brace_style==="expand"?t||this.print_newline():t||(is_array(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)};Beautifier$5.prototype.handle_word=function(e){if(e.type===TOKEN$2.RESERVED){if(in_array$1(e.text,["set","get"])&&this._flags.mode!==MODE.ObjectLiteral)e.type=TOKEN$2.WORD;else if(e.text==="import"&&this._tokens.peek().text==="(")e.type=TOKEN$2.WORD;else if(in_array$1(e.text,["as","from"])&&!this._flags.import_block)e.type=TOKEN$2.WORD;else if(this._flags.mode===MODE.ObjectLiteral){var t=this._tokens.peek();t.text===":"&&(e.type=TOKEN$2.WORD)}}if(this.start_of_statement(e)?reserved_array(this._flags.last_token,["var","let","const"])&&e.type===TOKEN$2.WORD&&(this._flags.declaration_statement=!0):e.newlines&&!is_expression(this._flags.mode)&&(this._flags.last_token.type!==TOKEN$2.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==TOKEN$2.EQUALS&&(this._options.preserve_newlines||!reserved_array(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(e),this.print_newline()):this.handle_whitespace_and_comments(e),this._flags.do_block&&!this._flags.do_while)if(reserved_word(e,"while")){this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&reserved_word(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===MODE.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&reserved_array(e,["case","default"])){this.print_newline(),this._flags.last_token.type!==TOKEN$2.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),this._flags.in_case=!0;return}if((this._flags.last_token.type===TOKEN$2.COMMA||this._flags.last_token.type===TOKEN$2.START_EXPR||this._flags.last_token.type===TOKEN$2.EQUALS||this._flags.last_token.type===TOKEN$2.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e)),reserved_word(e,"function")){(in_array$1(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(in_array$1(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===TOKEN$2.OPERATOR))&&!this._output.just_added_blankline()&&!e.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===TOKEN$2.RESERVED||this._flags.last_token.type===TOKEN$2.WORD?reserved_array(this._flags.last_token,["get","set","new","export"])||reserved_array(this._flags.last_token,newline_restricted_tokens)?this._output.space_before_token=!0:reserved_word(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===TOKEN$2.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(is_expression(this._flags.mode)||is_array(this._flags.mode))||this.print_newline(),this.print_token(e),this._flags.last_word=e.text;return}var r="NONE";if(this._flags.last_token.type===TOKEN$2.END_BLOCK?this._previous_flags.inline_frame?r="SPACE":reserved_array(e,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&e.newlines?r="NEWLINE":(r="SPACE",this._output.space_before_token=!0):r="NEWLINE":this._flags.last_token.type===TOKEN$2.SEMICOLON&&this._flags.mode===MODE.BlockStatement?r="NEWLINE":this._flags.last_token.type===TOKEN$2.SEMICOLON&&is_expression(this._flags.mode)?r="SPACE":this._flags.last_token.type===TOKEN$2.STRING?r="NEWLINE":this._flags.last_token.type===TOKEN$2.RESERVED||this._flags.last_token.type===TOKEN$2.WORD||this._flags.last_token.text==="*"&&(in_array$1(this._last_last_text,["function","yield"])||this._flags.mode===MODE.ObjectLiteral&&in_array$1(this._last_last_text,["{",","]))?r="SPACE":this._flags.last_token.type===TOKEN$2.START_BLOCK?this._flags.inline_frame?r="SPACE":r="NEWLINE":this._flags.last_token.type===TOKEN$2.END_EXPR&&(this._output.space_before_token=!0,r="NEWLINE"),reserved_array(e,line_starters)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?r="SPACE":r="NEWLINE"),reserved_array(e,["else","catch","finally"]))if((!(this._flags.last_token.type===TOKEN$2.END_BLOCK&&this._previous_flags.mode===MODE.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&e.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var o=this._output.current_line;o.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else r==="NEWLINE"?reserved_array(this._flags.last_token,special_words)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&reserved_array(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==TOKEN$2.END_EXPR?(this._flags.last_token.type!==TOKEN$2.START_EXPR||!reserved_array(e,["var","let","const"]))&&this._flags.last_token.text!==":"&&(reserved_word(e,"if")&&reserved_word(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):reserved_array(e,line_starters)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&is_array(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():r==="SPACE"&&(this._output.space_before_token=!0);e.previous&&(e.previous.type===TOKEN$2.WORD||e.previous.type===TOKEN$2.RESERVED)&&(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===TOKEN$2.RESERVED&&(e.text==="do"?this._flags.do_block=!0:e.text==="if"?this._flags.if_block=!0:e.text==="import"?this._flags.import_block=!0:this._flags.import_block&&reserved_word(e,"from")&&(this._flags.import_block=!1))};Beautifier$5.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();this._flags.mode===MODE.Statement&&!(this._flags.if_block&&reserved_word(t,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)};Beautifier$5.prototype.handle_string=function(e){e.text.startsWith("`")&&e.newlines===0&&e.whitespace_before===""&&(e.previous.text===")"||this._flags.last_token.type===TOKEN$2.WORD)||(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===TOKEN$2.RESERVED||this._flags.last_token.type===TOKEN$2.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===TOKEN$2.COMMA||this._flags.last_token.type===TOKEN$2.START_EXPR||this._flags.last_token.type===TOKEN$2.EQUALS||this._flags.last_token.type===TOKEN$2.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):e.text.startsWith("`")&&this._flags.last_token.type===TOKEN$2.END_EXPR&&(e.previous.text==="]"||e.previous.text===")")&&e.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(e)};Beautifier$5.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0};Beautifier$5.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(is_expression(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===MODE.ObjectLiteral||this._flags.mode===MODE.Statement&&this._flags.parent.mode===MODE.ObjectLiteral?(this._flags.mode===MODE.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)};Beautifier$5.prototype.handle_operator=function(e){var t=e.text==="*"&&(reserved_array(this._flags.last_token,["function","yield"])||in_array$1(this._flags.last_token.type,[TOKEN$2.START_BLOCK,TOKEN$2.COMMA,TOKEN$2.END_BLOCK,TOKEN$2.SEMICOLON])),r=in_array$1(e.text,["-","+"])&&(in_array$1(this._flags.last_token.type,[TOKEN$2.START_BLOCK,TOKEN$2.START_EXPR,TOKEN$2.EQUALS,TOKEN$2.OPERATOR])||in_array$1(this._flags.last_token.text,line_starters)||this._flags.last_token.text===",");if(!this.start_of_statement(e)){var o=!t;this.handle_whitespace_and_comments(e,o)}if(reserved_array(this._flags.last_token,special_words)){this._output.space_before_token=!0,this.print_token(e);return}if(e.text==="*"&&this._flags.last_token.type===TOKEN$2.DOT){this.print_token(e);return}if(e.text==="::"){this.print_token(e);return}if(this._flags.last_token.type===TOKEN$2.OPERATOR&&in_array$1(this._options.operator_position,OPERATOR_POSITION_BEFORE_OR_PRESERVE)&&this.allow_wrap_or_preserved_newline(e),e.text===":"&&this._flags.in_case){this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==TOKEN$2.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var u=!0,f=!0,g=!1;if(e.text===":"?this._flags.ternary_depth===0?u=!1:(this._flags.ternary_depth-=1,g=!0):e.text==="?"&&(this._flags.ternary_depth+=1),!r&&!t&&this._options.preserve_newlines&&in_array$1(e.text,positionable_operators)){var b=e.text===":",S=b&&g,T=b&&!g;switch(this._options.operator_position){case OPERATOR_POSITION.before_newline:this._output.space_before_token=!T,this.print_token(e),(!b||S)&&this.allow_wrap_or_preserved_newline(e),this._output.space_before_token=!0;return;case OPERATOR_POSITION.after_newline:this._output.space_before_token=!0,!b||S?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),this._output.space_before_token=!0;return;case OPERATOR_POSITION.preserve_newline:T||this.allow_wrap_or_preserved_newline(e),u=!(this._output.just_added_newline()||T),this._output.space_before_token=u,this.print_token(e),this._output.space_before_token=!0;return}}if(t){this.allow_wrap_or_preserved_newline(e),u=!1;var $=this._tokens.peek();f=$&&in_array$1($.type,[TOKEN$2.WORD,TOKEN$2.RESERVED])}else e.text==="..."?(this.allow_wrap_or_preserved_newline(e),u=this._flags.last_token.type===TOKEN$2.START_BLOCK,f=!1):(in_array$1(e.text,["--","++","!","~"])||r)&&((this._flags.last_token.type===TOKEN$2.COMMA||this._flags.last_token.type===TOKEN$2.START_EXPR)&&this.allow_wrap_or_preserved_newline(e),u=!1,f=!1,e.newlines&&(e.text==="--"||e.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&is_expression(this._flags.mode)&&(u=!0),this._flags.last_token.type===TOKEN$2.RESERVED?u=!0:this._flags.last_token.type===TOKEN$2.END_EXPR?u=!(this._flags.last_token.text==="]"&&(e.text==="--"||e.text==="++")):this._flags.last_token.type===TOKEN$2.OPERATOR&&(u=in_array$1(e.text,["--","-","++","+"])&&in_array$1(this._flags.last_token.text,["--","-","++","+"]),in_array$1(e.text,["+","-"])&&in_array$1(this._flags.last_token.text,["--","++"])&&(f=!0)),(this._flags.mode===MODE.BlockStatement&&!this._flags.inline_frame||this._flags.mode===MODE.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||u,this.print_token(e),this._output.space_before_token=f};Beautifier$5.prototype.handle_block_comment=function(e,t){if(this._output.raw){this._output.add_raw_token(e),e.directives&&e.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(e.directives){this.print_newline(!1,t),this.print_token(e),e.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!acorn.newline.test(e.text)&&!e.newlines){this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0;return}else this.print_block_commment(e,t)};Beautifier$5.prototype.print_block_commment=function(e,t){var r=split_linebreaks(e.text),o,u=!1,f=!1,g=e.whitespace_before,b=g.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(r[0]),this.print_newline(!1,t),r.length>1){for(r=r.slice(1),u=all_lines_start_with(r,"*"),f=each_line_matches_indent(r,g),u&&(this._flags.alignment=1),o=0;o<r.length;o++)u?(this.print_token_line_indentation(e),this._output.add_token(ltrim(r[o]))):f&&r[o]?(this.print_token_line_indentation(e),this._output.add_token(r[o].substring(b))):(this._output.current_line.set_indent(-1),this._output.add_token(r[o])),this.print_newline(!1,t);this._flags.alignment=0}};Beautifier$5.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)};Beautifier$5.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),reserved_array(this._flags.last_token,special_words)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)};Beautifier$5.prototype.handle_unknown=function(e,t){this.print_token(e),e.text[e.text.length-1]===`
`&&this.print_newline(!1,t)};Beautifier$5.prototype.handle_eof=function(e){for(;this._flags.mode===MODE.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e)};beautifier$2.Beautifier=Beautifier$5;var Beautifier$4=beautifier$2.Beautifier,Options$6=options$3.Options;function js_beautify$1(e,t){var r=new Beautifier$4(e,t);return r.beautify()}javascript.exports=js_beautify$1;javascript.exports.defaultOptions=function(){return new Options$6};var javascriptExports=javascript.exports,css={exports:{}},beautifier$1={},options$1={},BaseOptions$1=options$2.Options;function Options$5(e){BaseOptions$1.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var r=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var o=0;o<r.length;o++)r[o]!=="expand"?this.brace_style="collapse":this.brace_style=r[o]}Options$5.prototype=new BaseOptions$1;options$1.Options=Options$5;var Options$4=options$1.Options,Output$1=output.Output,InputScanner=inputscanner.InputScanner,Directives$1=directives.Directives,directives_core$1=new Directives$1(/\/\*/,/\*\//),lineBreak$1=/\r\n|[\r\n]/,allLineBreaks$1=/\r\n|[\r\n]/g,whitespaceChar=/\s/,whitespacePattern=/(?:\s|\n)+/g,block_comment_pattern=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,comment_pattern=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Beautifier$3(e,t){this._source_text=e||"",this._options=new Options$4(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Beautifier$3.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,this._ch==="\\")t+=this._input.next();else if(e.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return t};Beautifier$3.prototype.eatWhitespace=function(e){for(var t=whitespaceChar.test(this._input.peek()),r=0;whitespaceChar.test(this._input.peek());)this._ch=this._input.next(),e&&this._ch===`
`&&(r===0||r<this._options.max_preserve_newlines)&&(r++,this._output.add_new_line(!0));return t};Beautifier$3.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,r=this._input.peek(t);r;){if(r==="{")return!0;if(r==="(")e+=1;else if(r===")"){if(e===0)return!1;e-=1}else if(r===";"||r==="}")return!1;t++,r=this._input.peek(t)}return!1};Beautifier$3.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)};Beautifier$3.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)};Beautifier$3.prototype.indent=function(){this._indentLevel++};Beautifier$3.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Beautifier$3.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;t==="auto"&&(t=`
`,e&&lineBreak$1.test(e||"")&&(t=e.match(lineBreak$1)[0])),e=e.replace(allLineBreaks$1,`
`);var r=e.match(/^[\t ]*/)[0];this._output=new Output$1(this._options,r),this._input=new InputScanner(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var o=0,u=!1,f=!1,g=!1,b=!1,S=!1,T=this._ch,$,A,M;$=this._input.read(whitespacePattern),A=$!=="",M=T,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),T=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var O=this._input.read(block_comment_pattern),D=directives_core$1.get_directives(O);D&&D.ignore==="start"&&(O+=directives_core$1.readIgnored(this._input)),this.print_string(O),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(comment_pattern)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(A),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var U=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);U.match(/[ :]$/)&&(U=this.eatString(": ").replace(/\s$/,""),this.print_string(U),this._output.space_before_token=!0),U=U.replace(/\s$/,""),U==="extend"?b=!0:U==="import"&&(S=!0),U in this.NESTED_AT_RULE?(this._nestedLevel+=1,U in this.CONDITIONAL_GROUP_RULE&&(g=!0)):!u&&o===0&&U.indexOf(":")!==-1&&(f=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(A),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(f&&(f=!1,this.outdent()),g?(g=!1,u=this._indentLevel>=this._nestedLevel):u=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&u&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),M==="{"&&this._output.trim(!0),S=!1,b=!1,f&&(this.outdent(),f=!1),this.print_string(this._ch),u=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(u||g)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!b&&o===0?(this.print_string(":"),f||(f=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(A),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?o===0?(f&&(this.outdent(),f=!1),b=!1,S=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),o++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),o&&(o--,this.outdent()))):(this.preserveSingleSpace(A),this.print_string(this._ch),this.eatWhitespace(),o++,this.indent()):this._ch===")"?(o&&(o--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!f&&o===0&&!S&&!b?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!f&&o===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&whitespaceChar.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(A),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),whitespaceChar.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(A),this.print_string(this._ch));var F=this._output.get_code(t);return F};beautifier$1.Beautifier=Beautifier$3;var Beautifier$2=beautifier$1.Beautifier,Options$3=options$1.Options;function css_beautify$1(e,t){var r=new Beautifier$2(e,t);return r.beautify()}css.exports=css_beautify$1;css.exports.defaultOptions=function(){return new Options$3};var cssExports=css.exports,html={exports:{}},beautifier={},options={},BaseOptions=options$2.Options;function Options$2(e){BaseOptions.call(this,e,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}Options$2.prototype=new BaseOptions;options.Options=Options$2;var tokenizer={},BaseTokenizer=tokenizer$1.Tokenizer,BASETOKEN=tokenizer$1.TOKEN,Directives=directives.Directives,TemplatablePattern=templatablepattern.TemplatablePattern,Pattern=pattern.Pattern,TOKEN$1={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:BASETOKEN.START,RAW:BASETOKEN.RAW,EOF:BASETOKEN.EOF},directives_core=new Directives(/<\!--/,/-->/),Tokenizer$1=function(e,t){BaseTokenizer.call(this,e,t),this._current_tag_name="";var r=new TemplatablePattern(this._input).read_options(this._options),o=new Pattern(this._input);if(this.__patterns={word:r.until(/[\n\r\t <]/),single_quote:r.until_after(/'/),double_quote:r.until_after(/"/),attribute:r.until(/[\n\r\t =>]|\/>/),element_name:r.until(/[\n\r\t >\/]/),handlebars_comment:o.starting_with(/{{!--/).until_after(/--}}/),handlebars:o.starting_with(/{{/).until_after(/}}/),handlebars_open:o.until(/[\n\r\t }]/),handlebars_raw_close:o.until(/}}/),comment:o.starting_with(/<!--/).until_after(/-->/),cdata:o.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:o.starting_with(/<!\[/).until_after(/]>/),processing:o.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var u=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=o.matching(u).until_after(u)}};Tokenizer$1.prototype=new BaseTokenizer;Tokenizer$1.prototype._is_comment=function(e){return!1};Tokenizer$1.prototype._is_opening=function(e){return e.type===TOKEN$1.TAG_OPEN};Tokenizer$1.prototype._is_closing=function(e,t){return e.type===TOKEN$1.TAG_CLOSE&&t&&((e.text===">"||e.text==="/>")&&t.text[0]==="<"||e.text==="}}"&&t.text[0]==="{"&&t.text[1]==="{")};Tokenizer$1.prototype._reset=function(){this._current_tag_name=""};Tokenizer$1.prototype._get_next_token=function(e,t){var r=null;this._readWhitespace();var o=this._input.peek();return o===null?this._create_token(TOKEN$1.EOF,""):(r=r||this._read_open_handlebars(o,t),r=r||this._read_attribute(o,e,t),r=r||this._read_close(o,t),r=r||this._read_raw_content(o,e,t),r=r||this._read_content_word(o),r=r||this._read_comment_or_cdata(o),r=r||this._read_processing(o),r=r||this._read_open(o,t),r=r||this._create_token(TOKEN$1.UNKNOWN,this._input.next()),r)};Tokenizer$1.prototype._read_comment_or_cdata=function(e){var t=null,r=null,o=null;if(e==="<"){var u=this._input.peek(1);u==="!"&&(r=this.__patterns.comment.read(),r?(o=directives_core.get_directives(r),o&&o.ignore==="start"&&(r+=directives_core.readIgnored(this._input))):r=this.__patterns.cdata.read()),r&&(t=this._create_token(TOKEN$1.COMMENT,r),t.directives=o)}return t};Tokenizer$1.prototype._read_processing=function(e){var t=null,r=null,o=null;if(e==="<"){var u=this._input.peek(1);(u==="!"||u==="?")&&(r=this.__patterns.conditional_comment.read(),r=r||this.__patterns.processing.read()),r&&(t=this._create_token(TOKEN$1.COMMENT,r),t.directives=o)}return t};Tokenizer$1.prototype._read_open=function(e,t){var r=null,o=null;return t||e==="<"&&(r=this._input.next(),this._input.peek()==="/"&&(r+=this._input.next()),r+=this.__patterns.element_name.read(),o=this._create_token(TOKEN$1.TAG_OPEN,r)),o};Tokenizer$1.prototype._read_open_handlebars=function(e,t){var r=null,o=null;return t||this._options.indent_handlebars&&e==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(r=this.__patterns.handlebars_comment.read(),r=r||this.__patterns.handlebars.read(),o=this._create_token(TOKEN$1.COMMENT,r)):(r=this.__patterns.handlebars_open.read(),o=this._create_token(TOKEN$1.TAG_OPEN,r))),o};Tokenizer$1.prototype._read_close=function(e,t){var r=null,o=null;return t&&(t.text[0]==="<"&&(e===">"||e==="/"&&this._input.peek(1)===">")?(r=this._input.next(),e==="/"&&(r+=this._input.next()),o=this._create_token(TOKEN$1.TAG_CLOSE,r)):t.text[0]==="{"&&e==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),o=this._create_token(TOKEN$1.TAG_CLOSE,"}}"))),o};Tokenizer$1.prototype._read_attribute=function(e,t,r){var o=null,u="";if(r&&r.text[0]==="<")if(e==="=")o=this._create_token(TOKEN$1.EQUALS,this._input.next());else if(e==='"'||e==="'"){var f=this._input.next();e==='"'?f+=this.__patterns.double_quote.read():f+=this.__patterns.single_quote.read(),o=this._create_token(TOKEN$1.VALUE,f)}else u=this.__patterns.attribute.read(),u&&(t.type===TOKEN$1.EQUALS?o=this._create_token(TOKEN$1.VALUE,u):o=this._create_token(TOKEN$1.ATTRIBUTE,u));return o};Tokenizer$1.prototype._is_content_unformatted=function(e){return this._options.void_elements.indexOf(e)===-1&&(this._options.content_unformatted.indexOf(e)!==-1||this._options.unformatted.indexOf(e)!==-1)};Tokenizer$1.prototype._read_raw_content=function(e,t,r){var o="";if(r&&r.text[0]==="{")o=this.__patterns.handlebars_raw_close.read();else if(t.type===TOKEN$1.TAG_CLOSE&&t.opened.text[0]==="<"&&t.text[0]!=="/"){var u=t.opened.text.substr(1).toLowerCase();if(u==="script"||u==="style"){var f=this._read_comment_or_cdata(e);if(f)return f.type=TOKEN$1.TEXT,f;o=this._input.readUntil(new RegExp("</"+u+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(u)&&(o=this._input.readUntil(new RegExp("</"+u+"[\\n\\r\\t ]*?>","ig")))}return o?this._create_token(TOKEN$1.TEXT,o):null};Tokenizer$1.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(TOKEN$1.TEXT,t)};tokenizer.Tokenizer=Tokenizer$1;tokenizer.TOKEN=TOKEN$1;var Options$1=options.Options,Output=output.Output,Tokenizer=tokenizer.Tokenizer,TOKEN=tokenizer.TOKEN,lineBreak=/\r\n|[\r\n]/,allLineBreaks=/\r\n|[\r\n]/g,Printer=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new Output(e,t)};Printer.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)};Printer.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t};Printer.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Printer.prototype.add_raw_token=function(e){this._output.add_raw_token(e)};Printer.prototype.print_preserved_newlines=function(e){var t=0;e.type!==TOKEN.TEXT&&e.previous.type!==TOKEN.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var r=0;r<t;r++)this.print_newline(r>0);return t!==0};Printer.prototype.traverse_whitespace=function(e){return e.whitespace_before||e.newlines?(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0):!1};Printer.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Printer.prototype.print_newline=function(e){this._output.add_new_line(e)};Printer.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))};Printer.prototype.indent=function(){this.indent_level++};Printer.prototype.get_full_indent=function(e){return e=this.indent_level+(e||0),e<1?"":this._output.get_indent_string(e)};var get_type_attribute=function(e){for(var t=null,r=e.next;r.type!==TOKEN.EOF&&e.closed!==r;){if(r.type===TOKEN.ATTRIBUTE&&r.text==="type"){r.next&&r.next.type===TOKEN.EQUALS&&r.next.next&&r.next.next.type===TOKEN.VALUE&&(t=r.next.next.text);break}r=r.next}return t},get_custom_beautifier_name=function(e,t){var r=null,o=null;return t.closed?(e==="script"?r="text/javascript":e==="style"&&(r="text/css"),r=get_type_attribute(t)||r,r.search("text/css")>-1?o="css":r.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?o="javascript":r.search(/(text|application|dojo)\/(x-)?(html)/)>-1?o="html":r.search(/test\/null/)>-1&&(o="null"),o):null};function in_array(e,t){return t.indexOf(e)!==-1}function TagFrame(e,t,r){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=r||0,this.parser_token=t||null}function TagStack(e){this._printer=e,this._current_frame=null}TagStack.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};TagStack.prototype.record_tag=function(e){var t=new TagFrame(this._current_frame,e,this._printer.indent_level);this._current_frame=t};TagStack.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t};TagStack.prototype._get_frame=function(e,t){for(var r=this._current_frame;r&&e.indexOf(r.tag)===-1;){if(t&&t.indexOf(r.tag)!==-1){r=null;break}r=r.parent}return r};TagStack.prototype.try_pop=function(e,t){var r=this._get_frame([e],t);return this._try_pop_frame(r)};TagStack.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)};function Beautifier$1(e,t,r,o){this._source_text=e||"",t=t||{},this._js_beautify=r,this._css_beautify=o,this._tag_stack=null;var u=new Options$1(t,"html");this._options=u,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Beautifier$1.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;this._options.eol==="auto"&&(t=`
`,e&&lineBreak.test(e)&&(t=e.match(lineBreak)[0])),e=e.replace(allLineBreaks,`
`);var r=e.match(/^[\t ]*/)[0],o={text:"",type:""},u=new TagOpenParserToken,f=new Printer(this._options,r),g=new Tokenizer(e,this._options).tokenize();this._tag_stack=new TagStack(f);for(var b=null,S=g.next();S.type!==TOKEN.EOF;)S.type===TOKEN.TAG_OPEN||S.type===TOKEN.COMMENT?(b=this._handle_tag_open(f,S,u,o),u=b):S.type===TOKEN.ATTRIBUTE||S.type===TOKEN.EQUALS||S.type===TOKEN.VALUE||S.type===TOKEN.TEXT&&!u.tag_complete?b=this._handle_inside_tag(f,S,u,g):S.type===TOKEN.TAG_CLOSE?b=this._handle_tag_close(f,S,u):S.type===TOKEN.TEXT?b=this._handle_text(f,S,u):f.add_raw_token(S),o=b,S=g.next();var T=f._output.get_code(t);return T};Beautifier$1.prototype._handle_tag_close=function(e,t,r){var o={text:t.text,type:t.type};return e.alignment_size=0,r.tag_complete=!0,e.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),r.is_unformatted?e.add_raw_token(t):(r.tag_start_char==="<"&&(e.set_space_before_token(t.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&r.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),r.indent_content&&!(r.is_unformatted||r.is_content_unformatted)&&(e.indent(),r.indent_content=!1),!r.is_inline_element&&!(r.is_unformatted||r.is_content_unformatted)&&e.set_wrap_point(),o};Beautifier$1.prototype._handle_inside_tag=function(e,t,r,o){var u=r.has_wrapped_attrs,f={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),r.is_unformatted)e.add_raw_token(t);else if(r.tag_start_char==="{"&&t.type===TOKEN.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===TOKEN.ATTRIBUTE?(e.set_space_before_token(!0),r.attr_count+=1):(t.type===TOKEN.EQUALS||t.type===TOKEN.VALUE&&t.previous.type===TOKEN.EQUALS)&&e.set_space_before_token(!1),t.type===TOKEN.ATTRIBUTE&&r.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),u=u||t.newlines!==0),this._is_wrap_attributes_force)){var g=r.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&r.attr_count===1){var b=!0,S=0,T;do{if(T=o.peek(S),T.type===TOKEN.ATTRIBUTE){b=!1;break}S+=1}while(S<4&&T.type!==TOKEN.EOF&&T.type!==TOKEN.TAG_CLOSE);g=!b}g&&(e.print_newline(!1),u=!0)}e.print_token(t),u=u||e.previous_token_wrapped(),r.has_wrapped_attrs=u}return f};Beautifier$1.prototype._handle_text=function(e,t,r){var o={text:t.text,type:"TK_CONTENT"};return r.custom_beautifier_name?this._print_custom_beatifier_text(e,t,r):r.is_unformatted||r.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),o};Beautifier$1.prototype._print_custom_beatifier_text=function(e,t,r){var o=this;if(t.text!==""){var u=t.text,f,g=1,b="",S="";r.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?f=this._js_beautify:r.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?f=this._css_beautify:r.custom_beautifier_name==="html"&&(f=function(D,U){var F=new Beautifier$1(D,U,o._js_beautify,o._css_beautify);return F.beautify()}),this._options.indent_scripts==="keep"?g=0:this._options.indent_scripts==="separate"&&(g=-e.indent_level);var T=e.get_full_indent(g);if(u=u.replace(/\n[ \t]*$/,""),r.custom_beautifier_name!=="html"&&u[0]==="<"&&u.match(/^(<!--|<!\[CDATA\[)/)){var $=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(u);if(!$){e.add_raw_token(t);return}b=T+$[1]+`
`,u=$[4],$[5]&&(S=T+$[5]),u=u.replace(/\n[ \t]*$/,""),($[2]||$[3].indexOf(`
`)!==-1)&&($=$[3].match(/[ \t]+$/),$&&(t.whitespace_before=$[0]))}if(u)if(f){var A=function(){this.eol=`
`};A.prototype=this._options.raw_options;var M=new A;u=f(T+u,M)}else{var O=t.whitespace_before;O&&(u=u.replace(new RegExp(`
(`+O+")?","g"),`
`)),u=T+u.replace(/\n/g,`
`+T)}b&&(u?u=b+u+`
`+S:u=b+S),e.print_newline(!1),u&&(t.text=u,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}};Beautifier$1.prototype._handle_tag_open=function(e,t,r,o){var u=this._get_tag_open_token(t);return(r.is_unformatted||r.is_content_unformatted)&&!r.is_empty_element&&t.type===TOKEN.TAG_OPEN&&t.text.indexOf("</")===0?(e.add_raw_token(t),u.start_tag_token=this._tag_stack.try_pop(u.tag_name)):(e.traverse_whitespace(t),this._set_tag_position(e,t,u,r,o),u.is_inline_element||e.set_wrap_point(),e.print_token(t)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(u.alignment_size=t.text.length+1),!u.tag_complete&&!u.is_unformatted&&(e.alignment_size=u.alignment_size),u};var TagOpenParserToken=function(e,t){if(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!t)this.tag_complete=!0;else{var r;this.tag_start_char=t.text[0],this.text=t.text,this.tag_start_char==="<"?(r=t.text.match(/^<([^\s>]*)/),this.tag_check=r?r[1]:""):(r=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=r?r[1]:"",t.text==="{{#>"&&this.tag_check===">"&&t.next!==null&&(this.tag_check=t.next.text)),this.tag_check=this.tag_check.toLowerCase(),t.type===TOKEN.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&t.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Beautifier$1.prototype._get_tag_open_token=function(e){var t=new TagOpenParserToken(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||in_array(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&in_array(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&in_array(t.tag_check,this._options.content_unformatted),t.is_inline_element=in_array(t.tag_name,this._options.inline)||t.tag_start_char==="{",t};Beautifier$1.prototype._set_tag_position=function(e,t,r,o,u){if(r.is_empty_element||(r.is_end_tag?r.start_tag_token=this._tag_stack.try_pop(r.tag_name):(this._do_optional_end_element(r)&&(r.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(r),(r.tag_name==="script"||r.tag_name==="style")&&!(r.is_unformatted||r.is_content_unformatted)&&(r.custom_beautifier_name=get_custom_beautifier_name(r.tag_check,t)))),in_array(r.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),r.is_empty_element){if(r.tag_start_char==="{"&&r.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),r.indent_content=!0;var f=e.current_line_has_match(/{{#if/);f||e.print_newline(!1)}r.tag_name==="!--"&&u.type===TOKEN.TAG_CLOSE&&o.is_end_tag&&r.text.indexOf(`
`)===-1||(r.is_inline_element||r.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,r))}else if(r.is_end_tag){var g=!1;g=r.start_tag_token&&r.start_tag_token.multiline_content,g=g||!r.is_inline_element&&!(o.is_inline_element||o.is_unformatted)&&!(u.type===TOKEN.TAG_CLOSE&&r.start_tag_token===o)&&u.type!=="TK_CONTENT",(r.is_content_unformatted||r.is_unformatted)&&(g=!1),g&&e.print_newline(!1)}else r.indent_content=!r.custom_beautifier_name,r.tag_start_char==="<"&&(r.tag_name==="html"?r.indent_content=this._options.indent_inner_html:r.tag_name==="head"?r.indent_content=this._options.indent_head_inner_html:r.tag_name==="body"&&(r.indent_content=this._options.indent_body_inner_html)),!(r.is_inline_element||r.is_unformatted)&&(u.type!=="TK_CONTENT"||r.is_content_unformatted)&&e.print_newline(!1),this._calcluate_parent_multiline(e,r)};Beautifier$1.prototype._calcluate_parent_multiline=function(e,t){t.parent&&e._output.just_added_newline()&&!((t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element)&&(t.parent.multiline_content=!0)};var p_closers=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],p_parent_excludes=["a","audio","del","ins","map","noscript","video"];Beautifier$1.prototype._do_optional_end_element=function(e){var t=null;if(!(e.is_empty_element||!e.is_start_tag||!e.parent)){if(e.tag_name==="body")t=t||this._tag_stack.try_pop("head");else if(e.tag_name==="li")t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if(e.tag_name==="dd"||e.tag_name==="dt")t=t||this._tag_stack.try_pop("dt",["dl"]),t=t||this._tag_stack.try_pop("dd",["dl"]);else if(e.parent.tag_name==="p"&&p_closers.indexOf(e.tag_name)!==-1){var r=e.parent.parent;(!r||p_parent_excludes.indexOf(r.tag_name)===-1)&&(t=t||this._tag_stack.try_pop("p"))}else e.tag_name==="rp"||e.tag_name==="rt"?(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]),t=t||this._tag_stack.try_pop("rp",["ruby","rtc"])):e.tag_name==="optgroup"?t=t||this._tag_stack.try_pop("optgroup",["select"]):e.tag_name==="option"?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):e.tag_name==="colgroup"?t=t||this._tag_stack.try_pop("caption",["table"]):e.tag_name==="thead"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"])):e.tag_name==="tbody"||e.tag_name==="tfoot"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("thead",["table"]),t=t||this._tag_stack.try_pop("tbody",["table"])):e.tag_name==="tr"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(e.tag_name==="th"||e.tag_name==="td")&&(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),t=t||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}};beautifier.Beautifier=Beautifier$1;var Beautifier=beautifier.Beautifier,Options=options.Options;function style_html$1(e,t,r,o){var u=new Beautifier(e,t,r,o);return u.beautify()}html.exports=style_html$1;html.exports.defaultOptions=function(){return new Options};var htmlExports=html.exports,js_beautify=javascriptExports,css_beautify=cssExports,html_beautify=htmlExports;function style_html(e,t,r,o){return r=r||js_beautify,o=o||css_beautify,html_beautify(e,t,r,o)}style_html.defaultOptions=html_beautify.defaultOptions;src.js=js_beautify;src.css=css_beautify;src.html=style_html;(function(e){function t(r,o,u){var f=function(g,b){return r.js_beautify(g,b)};return f.js=r.js_beautify,f.css=o.css_beautify,f.html=u.html_beautify,f.js_beautify=r.js_beautify,f.css_beautify=o.css_beautify,f.html_beautify=u.html_beautify,f}(function(r){var o=src;o.js_beautify=o.js,o.css_beautify=o.css,o.html_beautify=o.html,r.exports=t(o,o,o)})(e)})(js);var jsExports=js.exports;let Editor$1=class extends EventEmitter$3{constructor(t){super(),console.log("*** Editor class created"),this.mutator=new Mutator(this);const r={};Object.entries(keymaps).forEach(([u,f])=>r[u]=()=>{f=="editor:evalBlock"?this.emit(f,this.getCurrentBlock().text):f=="editor:evalLine"?this.emit(f,this.getLine()):f=="editor:toggleComment"?(this.cm.toggleComment(),this.emit(f,this)):f==="editor:formatCode"?this.formatCode():this.emit(f,this)});const o={theme:"tomorrow-night-eighties",value:"hello",mode:{name:"javascript",globalVars:!0},lineWrapping:!0,styleSelectedText:!0,extraKeys:r};this.cm=CodeMirror.fromTextArea(t,o),window.cm=this.cm,this.cm.refresh()}clear(){this.cm.setValue(`
 
 // Type some code on a new line (such as "osc().out()"), and press CTRL+shift+enter`)}setValue(t){this.cm.setValue(t)}getValue(){return this.cm.getValue()}formatCode(){const t=jsExports.js_beautify(this.cm.getValue(),{indent_size:2,break_chained_methods:!0,indent_with_tabs:!0});this.cm.setValue(t)}toggle(){this.isShowing?this.hide():this.show()}getLine(){var t=this.cm.getCursor(),r=this.cm.getLine(t.line);return this.flashCode({line:t.line,ch:0},{line:t.line+1,ch:0}),r}flashCode(t,r){t||(t={line:this.cm.firstLine(),ch:0}),r||(r={line:this.cm.lastLine()+1,ch:0});var o=this.cm.markText(t,r,{className:"styled-background"});setTimeout(()=>o.clear(),300)}getCurrentBlock(){for(var t=this.cm,r=t.getCursor(),o=r.line,u=r.line;o>0&&t.getLine(o)!=="";)o--;for(;u<t.lineCount()&&t.getLine(u)!=="";)u++;var f={line:o,ch:0},g={line:u,ch:0},b=t.getRange(f,g);return this.flashCode(f,g),{start:f,end:g,text:b}}};class Editor extends Component{constructor(t,r,o){super(t),this.local=r.components[t]={},r.editor=this,this.emit=o}load(t){log$1.init(this.logElement),this.editor=new Editor$1(this.textEl),this.editor.on("*",(r,o)=>{this.emit(r,o)}),this.innerText=document.getElementsByClassName("CodeMirror")[0]}hide(){this.innerText.style.opacity=0}show(){this.innerText.style.opacity=1,this.innerText.style.pointerEvents="all"}update(t){return t.showInfo===!0||t.showUI===!1?this.hide():this.show(),!1}createElement({width:t=window.innerWidth,height:r=window.innerHeight}={}){return this.textEl=html$2` <textarea></textarea>`,this.logElement=html$2`<div class="console cm-s-tomorrow-night-eighties"></div>`,html$2`<div id="editor-container" style="display:flex;flex-direction:column;">
       <div style="position:relative;flex:auto;padding:15px">${this.textEl}</div>
       ${this.logElement}
       </div>`}}function mainView(e,t){return html$2`
  <body>
    <div id="hydra-ui">
      ${e.cache(Hydra,"hydra-canvas").render(e,t)}
      <!---<canvas id="audio-canvas">
      </canvas>--->
    </div>
  ${mainView$1(e,t)}
  ${e.cache(Editor,"editor").render(e,t)}
  </body>
 `}const app=choo$1();app.use(devtools());app.use(store$1);app.use(store);app.route("/",mainView);app.mount("body");const fontawesome="",codemirror="",tomorrowNightEighties="",showHint="",style="",modal="";
